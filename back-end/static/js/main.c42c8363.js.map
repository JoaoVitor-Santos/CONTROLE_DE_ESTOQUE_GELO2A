{"version":3,"file":"static/js/main.c42c8363.js","mappings":"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L,IAAK,aACL,IAAK,YACL,IAAK,cACL,IAAK,mBACL,IAAK,oBACL,IAAK,cACL,IAAK,cACL,IAAK,mBACL,IAAK,eACL,IAAK,aACL,IAAK,eACL,IAAK,gBACL,IAAK,aACL,IAAK,cACL,IAAK,cACL,IAAK,iBACL,IAAK,YACL,IAAK,cACL,IAAK,eACL,IAAK,aACL,IAAK,aACL,IAAK,gBACL,IAAK,eACL,IAAK,kBACL,IAAK,gBACL,IAAK,qBACL,IAAK,WACL,IAAK,OACL,IAAK,gBACL,IAAK,kBACL,IAAK,aACL,IAAK,aACL,IAAK,eACL,IAAK,iBACL,IAAK,cACL,IAAK,iBACL,IAAK,qBACL,IAAK,YACL,IAAK,oBACL,IAAK,WACL,IAAK,cACL,IAAK,iBACL,IAAK,WACL,IAAK,eACL,IAAK,gBACL,IAAK,gBACL,IAAK,mBACL,IAAK,iBACL,IAAK,eACL,IAAK,cACL,IAAK,YACL,IAAK,kBACL,IAAK,oBACL,IAAK,iBACL,IAAK,YACL,IAAK,aACL,IAAK,oBACL,IAAK,aACL,IAAK,eACL,IAAK,iBACL,IAAK,kBACL,IAAK,eACL,IAAK,gBACL,IAAK,gBACL,IAAK,qBACL,IAAK,mBACL,IAAK,qBACL,IAAK,yBACL,IAAK,cACL,IAAK,aACL,IAAK,mBACL,IAAK,sBACL,IAAK,eACL,IAAK,eACL,IAAK,gBACL,IAAK,cACL,IAAK,kBACL,IAAK,cACL,IAAK,gBACL,IAAK,kBACL,IAAK,2BACL,IAAK,eACL,IAAK,iBACL,IAAK,aACL,IAAK,iBACL,IAAK,YACL,IAAK,mBACL,IAAK,cACL,IAAK,wBACL,IAAK,kBACL,IAAK,qBACL,IAAK,kBACL,IAAK,kBACL,IAAK,kBACL,IAAK,qBACL,IAAK,aACL,IAAK,iBACL,IAAK,eACL,IAAK,mBACL,IAAK,aACL,IAAK,eACL,IAAK,kBACL,IAAK,gBACL,IAAK,gBACL,IAAK,kBACL,IAAK,kBACL,IAAK,gBACL,IAAK,iBACL,IAAK,uBACL,IAAK,0BACL,IAAK,iBACL,IAAK,eACL,IAAK,YACL,IAAK,cACL,IAAK,aACL,IAAK,iBACL,IAAK,kBACL,IAAK,kBACL,IAAK,gBACL,IAAK,kBACL,IAAK,gBACL,IAAK,gBACL,IAAK,qBACL,IAAK,cACL,IAAK,mBACL,IAAK,uBACL,IAAK,mBACL,IAAK,kBACL,IAAK,mBACL,IAAK,cACL,IAAK,iBACL,IAAK,kBACL,IAAK,eACL,IAAK,eACL,IAAK,oBACL,IAAK,sBACL,IAAK,sBACL,IAAK,mBACL,IAAK,qBACL,IAAK,qBACL,IAAK,gBACL,IAAK,aACL,IAAK,YACL,IAAK,cACL,IAAK,mBACL,IAAK,gBACL,IAAK,wBACL,IAAK,qBACL,IAAK,SACL,IAAK,kBACL,IAAK,gBACL,IAAK,kBACL,IAAK,gBACL,IAAK,gBACL,IAAK,mBACL,IAAK,mBACL,IAAK,oBACL,IAAK,eACL,IAAK,oBACL,IAAK,uBACL,IAAK,cACL,IAAK,WACL,IAAK,WACL,IAAK,aACL,IAAK,aACL,IAAK,eACL,IAAK,eACL,IAAK,cACL,IAAK,qBACL,IAAK,yBACL,IAAK,mBACL,IAAK,WACL,IAAK,iBACL,IAAK,iBACL,IAAK,eACL,IAAK,YACL,IAAK,mBACL,IAAK,mBACL,IAAK,iBACL,IAAK,kBACL,IAAK,oBACL,IAAK,mBACL,IAAK,cACL,IAAK,gBACL,IAAK,WACL,IAAK,YACL,IAAK,cACL,IAAK,cACL,IAAK,mBACL,IAAK,oBACL,IAAK,iBACL,IAAK,YACL,IAAK,SACL,IAAK,SACL,IAAK,gBACL,IAAK,mBACL,IAAK,iBACL,IAAK,WACL,IAAK,gBACL,IAAK,gBACL,IAAK,cACL,IAAK,iBACL,IAAK,iBACL,IAAK,oBACL,IAAK,sBACL,IAAK,aACL,IAAK,cACL,IAAK,cACL,IAAK,oBACL,IAAK,eACL,IAAK,gBACL,IAAK,qBAEHJ,GAAO,CACT,EAAG,QACH,EAAG,KACH,EAAG,OACH,EAAG,UACH,EAAG,MACH,EAAG,UACH,EAAG,MACH,EAAG,MACH,EAAG,MACH,EAAG,SACH,GAAI,KACJ,GAAI,MACJ,GAAI,QACJ,GAAI,SACJ,GAAI,QACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,OACJ,GAAI,KACJ,GAAI,OACJ,GAAI,MACJ,GAAI,KACJ,GAAI,QACJ,GAAI,MACJ,GAAI,MACJ,GAAI,OACJ,GAAI,QACJ,GAAI,SACJ,GAAI,QACJ,GAAI,OACJ,GAAI,MACJ,GAAI,MACJ,GAAI,QACJ,GAAI,OACJ,GAAI,QACJ,GAAI,MACJ,GAAI,KACJ,GAAI,MACJ,GAAI,MACJ,GAAI,SACJ,GAAI,OACJ,GAAI,WACJ,GAAI,OACJ,GAAI,OACJ,GAAI,SACJ,GAAI,MACJ,GAAI,OACJ,GAAI,OACJ,GAAI,SACJ,GAAI,QACJ,GAAI,SACJ,GAAI,SACJ,GAAI,OACJ,GAAI,OACJ,GAAI,SACJ,GAAI,KACJ,GAAI,KACJ,GAAI,OACJ,GAAI,MACJ,GAAI,OACJ,GAAI,OACJ,GAAI,MACJ,GAAI,OACJ,GAAI,QACJ,GAAI,OACJ,GAAI,OACJ,GAAI,MACJ,GAAI,QACJ,GAAI,OACJ,GAAI,UACJ,GAAI,OACJ,GAAI,SACJ,GAAI,SACJ,GAAI,MACJ,GAAI,QACJ,GAAI,OACJ,GAAI,UACJ,GAAI,SACJ,GAAI,SACJ,GAAI,SACJ,GAAI,WACJ,GAAI,SACJ,GAAI,YACJ,GAAI,QACJ,GAAI,OACJ,GAAI,OACJ,GAAI,OACJ,GAAI,WACJ,GAAI,SACJ,GAAI,QACJ,GAAI,UACJ,GAAI,SACJ,GAAI,YACJ,GAAI,cACJ,GAAI,YACJ,GAAI,SACJ,GAAI,QACJ,GAAI,OACJ,GAAI,OACJ,IAAK,SACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,cACL,IAAK,WACL,IAAK,YACL,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,UACL,IAAK,aACL,IAAK,OACL,IAAK,QACL,IAAK,YACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,SACL,IAAK,WACL,IAAK,UACL,IAAK,IACL,IAAK,IACL,IAAK,QACL,IAAK,SACL,IAAK,QACL,IAAK,UACL,IAAK,QACL,IAAK,WACL,IAAK,SACL,IAAK,OACL,IAAK,YACL,IAAK,YACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,WACL,IAAK,OACL,IAAK,UACL,IAAK,WACL,IAAK,cACL,IAAK,iBACL,IAAK,gBACL,IAAK,iBACL,IAAK,WACL,IAAK,cACL,IAAK,iBACL,IAAK,iBACL,IAAK,aACL,IAAK,QACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,aACL,IAAK,MACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,WACL,IAAK,UACL,IAAK,OACL,IAAK,UACL,IAAK,YACL,IAAK,UACL,IAAK,OACL,IAAK,UACL,IAAK,UACL,IAAK,OACL,IAAK,WACL,IAAK,gBACL,IAAK,aACL,IAAK,eACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,OACL,IAAK,SACL,IAAK,OACL,IAAK,UACL,IAAK,QACL,IAAK,QACL,IAAK,YACL,IAAK,UACL,IAAK,aACL,IAAK,aACL,IAAK,WACL,IAAK,QACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,SACL,IAAK,OACL,IAAK,OACL,IAAK,UACL,IAAK,YACL,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,MACL,IAAK,OACL,IAAK,UACL,IAAK,SACL,IAAK,WACL,IAAK,SACL,IAAK,aACL,IAAK,OACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,gBACL,IAAK,WACL,IAAK,aACL,IAAK,cACL,IAAK,gBACL,IAAK,kBACL,IAAK,gBACL,IAAK,WACL,IAAK,OACL,IAAK,QACL,IAAK,aACL,IAAK,KACL,IAAK,QACL,IAAK,SACL,IAAK,YACL,IAAK,cACL,IAAK,iBACL,IAAK,OACL,IAAK,gBACL,IAAK,WACL,IAAK,cACL,IAAK,WACL,IAAK,iBACL,IAAK,aACL,IAAK,YACL,IAAK,eACL,IAAK,eACL,IAAK,cACL,IAAK,aACL,IAAK,cACL,IAAK,eACL,IAAK,SACL,IAAK,WACL,IAAK,UACL,IAAK,UACL,IAAK,YACL,IAAK,UACL,IAAK,SACL,IAAK,SACL,IAAK,aACL,IAAK,YACL,IAAK,OACL,IAAK,YACL,IAAK,QACL,IAAK,OACL,IAAK,SACL,IAAK,YACL,IAAK,QACL,IAAK,YACL,IAAK,WACL,IAAK,UACL,IAAK,cACL,IAAK,cACL,IAAK,SACL,IAAK,eACL,IAAK,WACL,IAAK,YACL,IAAK,UACL,IAAK,WACL,IAAK,cACL,IAAK,MACL,IAAK,SACL,IAAK,UACL,IAAK,QACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,SACL,IAAK,QACL,IAAK,WACL,IAAK,QACL,IAAK,YACL,IAAK,UACL,IAAK,MACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,OACL,IAAK,QACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,WACL,IAAK,aACL,IAAK,cACL,IAAK,OACL,IAAK,WACL,IAAK,OACL,IAAK,gBACL,IAAK,YACL,IAAK,cACL,IAAK,QACL,IAAK,iBACL,IAAK,kBACL,IAAK,kBACL,IAAK,iBACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,UACL,IAAK,aACL,IAAK,eACL,IAAK,oBACL,IAAK,QACL,IAAK,UACL,IAAK,aACL,IAAK,eACL,IAAK,QACL,IAAK,cACL,IAAK,cACL,IAAK,WACL,IAAK,eACL,IAAK,YACL,IAAK,WACL,IAAK,WACL,IAAK,OACL,IAAK,OACL,IAAK,UACL,IAAK,QACL,IAAK,SACL,IAAK,OACL,IAAK,WACL,IAAK,gBACL,IAAK,YACL,IAAK,kBACL,IAAK,eACL,IAAK,gBACL,IAAK,mBACL,IAAK,cACL,IAAK,gBACL,IAAK,cACL,IAAK,WACL,IAAK,MACL,IAAK,YACL,IAAK,aACL,IAAK,qBACL,IAAK,mBACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,QACL,IAAK,UACL,IAAK,QACL,IAAK,SACL,IAAK,OACL,IAAK,SACL,IAAK,UACL,IAAK,QACL,IAAK,QACL,IAAK,QACL,IAAK,aACL,IAAK,cACL,IAAK,YACL,IAAK,SACL,IAAK,UACL,IAAK,QACL,IAAK,YACL,IAAK,YACL,IAAK,aACL,IAAK,SACL,IAAK,WACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,MACL,IAAK,OACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,OACL,IAAK,OACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,WACL,IAAK,OACL,IAAK,YACL,IAAK,YACL,IAAK,UACL,IAAK,aACL,IAAK,aACL,IAAK,QACL,IAAK,QACL,IAAK,WACL,IAAK,WACL,IAAK,UACL,IAAK,SACL,IAAK,WACL,IAAK,UACL,IAAK,QACL,IAAK,UACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,aACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,YACL,IAAK,YACL,IAAK,YACL,IAAK,YACL,IAAK,YACL,IAAK,cACL,IAAK,UACL,IAAK,YACL,IAAK,WACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,UACL,IAAK,cACL,IAAK,MACL,IAAK,cACL,IAAK,MACL,IAAK,aACL,IAAK,gBACL,IAAK,UACL,IAAK,eACL,IAAK,UACL,IAAK,WACL,IAAK,SACL,IAAK,YACL,IAAK,cAEHD,GAAW,CACb,EAAG,EACH,EAAG,EACH,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,GAAI,EACJ,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,MAAO,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","sources":["../node_modules/exenv/index.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/react-dom/cjs/react-dom-client.production.js","../node_modules/react-dom/cjs/react-dom.production.js","../node_modules/react-dom/client.js","../node_modules/react-dom/index.js","../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js","../node_modules/react-modal/lib/components/Modal.js","../node_modules/react-modal/lib/components/ModalPortal.js","../node_modules/react-modal/lib/helpers/ariaAppHider.js","../node_modules/react-modal/lib/helpers/bodyTrap.js","../node_modules/react-modal/lib/helpers/classList.js","../node_modules/react-modal/lib/helpers/focusManager.js","../node_modules/react-modal/lib/helpers/portalOpenInstances.js","../node_modules/react-modal/lib/helpers/safeHTMLElement.js","../node_modules/react-modal/lib/helpers/scopeTab.js","../node_modules/react-modal/lib/helpers/tabbable.js","../node_modules/react-modal/lib/index.js","../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/react/cjs/react.production.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/scheduler/cjs/scheduler.production.js","../node_modules/scheduler/index.js","../node_modules/warning/warning.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","components/TopBar/index.tsx","context/modalNewClientContext.tsx","context/modalNewProductContext.tsx","context/modalNewSaleContext.tsx","context/modalNewSpent.tsx","components/SideBar/index.tsx","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/core/AxiosError.js","../node_modules/axios/lib/helpers/toFormData.js","../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/defaults/transitional.js","../node_modules/axios/lib/platform/browser/index.js","../node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../node_modules/axios/lib/platform/browser/classes/FormData.js","../node_modules/axios/lib/platform/browser/classes/Blob.js","../node_modules/axios/lib/platform/common/utils.js","../node_modules/axios/lib/platform/index.js","../node_modules/axios/lib/helpers/formDataToJSON.js","../node_modules/axios/lib/defaults/index.js","../node_modules/axios/lib/helpers/toURLEncodedForm.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/core/AxiosHeaders.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/cancel/CanceledError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/speedometer.js","../node_modules/axios/lib/helpers/throttle.js","../node_modules/axios/lib/helpers/progressEventReducer.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/helpers/resolveConfig.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/helpers/parseProtocol.js","../node_modules/axios/lib/helpers/composeSignals.js","../node_modules/axios/lib/helpers/trackStream.js","../node_modules/axios/lib/adapters/fetch.js","../node_modules/axios/lib/adapters/adapters.js","../node_modules/axios/lib/helpers/null.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/env/data.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/HttpStatusCode.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","services/api.ts","context/tableSalesContext.tsx","components/TableSales/index.tsx","context/tableClientsContext.tsx","components/TableClients/index.tsx","context/tableProductsContext.tsx","components/TableProducts/index.tsx","../node_modules/@kurkle/color/dist/color.esm.js","../node_modules/chart.js/src/helpers/helpers.core.ts","../node_modules/chart.js/src/helpers/helpers.math.ts","../node_modules/chart.js/src/helpers/helpers.collection.ts","../node_modules/chart.js/src/helpers/helpers.extras.ts","../node_modules/chart.js/src/helpers/helpers.easing.ts","../node_modules/chart.js/src/helpers/helpers.color.ts","../node_modules/chart.js/src/core/core.animations.defaults.js","../node_modules/chart.js/src/helpers/helpers.intl.ts","../node_modules/chart.js/src/core/core.ticks.js","../node_modules/chart.js/src/core/core.defaults.js","../node_modules/chart.js/src/core/core.layouts.defaults.js","../node_modules/chart.js/src/core/core.scale.defaults.js","../node_modules/chart.js/src/helpers/helpers.canvas.ts","../node_modules/chart.js/src/helpers/helpers.options.ts","../node_modules/chart.js/src/helpers/helpers.config.ts","../node_modules/chart.js/src/helpers/helpers.curve.ts","../node_modules/chart.js/src/helpers/helpers.dom.ts","../node_modules/chart.js/src/helpers/helpers.interpolation.ts","../node_modules/chart.js/src/helpers/helpers.rtl.ts","../node_modules/chart.js/src/helpers/helpers.segment.js","../node_modules/chart.js/src/core/core.animator.js","../node_modules/chart.js/src/core/core.animation.js","../node_modules/chart.js/src/core/core.animations.js","../node_modules/chart.js/src/core/core.datasetController.js","../node_modules/chart.js/src/controllers/controller.line.js","../node_modules/chart.js/src/core/core.adapters.ts","../node_modules/chart.js/src/core/core.interaction.js","../node_modules/chart.js/src/core/core.layouts.js","../node_modules/chart.js/src/platform/platform.base.js","../node_modules/chart.js/src/platform/platform.basic.js","../node_modules/chart.js/src/platform/platform.dom.js","../node_modules/chart.js/src/core/core.element.ts","../node_modules/chart.js/src/core/core.scale.autoskip.js","../node_modules/chart.js/src/core/core.scale.js","../node_modules/chart.js/src/core/core.typedRegistry.js","../node_modules/chart.js/src/core/core.registry.js","../node_modules/chart.js/src/core/core.plugins.js","../node_modules/chart.js/src/core/core.config.js","../node_modules/chart.js/src/core/core.controller.js","../node_modules/chart.js/src/platform/index.js","../node_modules/chart.js/src/elements/element.line.js","../node_modules/chart.js/src/elements/element.point.ts","../node_modules/chart.js/src/plugins/plugin.legend.js","../node_modules/chart.js/src/plugins/plugin.title.js","../node_modules/chart.js/src/plugins/plugin.subtitle.js","../node_modules/chart.js/src/plugins/plugin.tooltip.js","../node_modules/chart.js/src/scales/scale.category.js","../node_modules/chart.js/src/scales/scale.linearbase.js","../node_modules/chart.js/src/scales/scale.linear.js","../node_modules/chart.js/src/scales/scale.logarithmic.js","../node_modules/chart.js/src/scales/scale.radialLinear.js","../node_modules/chart.js/src/scales/scale.time.js","../node_modules/react-chartjs-2/src/utils.ts","../node_modules/react-chartjs-2/src/chart.tsx","../node_modules/react-chartjs-2/src/typedCharts.tsx","context/FinanceControlContext.tsx","context/tableSpentContext.tsx","../node_modules/xlsx/xlsx.mjs","components/FinanceControl/index.tsx","components/ModalNewClient/index.tsx","components/ModalNewProduct/ModalNewProduct.tsx","components/ModalNewSale/index.tsx","components/ModalNewSpent/index.tsx","App.tsx","index.tsx"],"sourcesContent":["/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar canUseDOM = !!(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n\n\tvar ExecutionEnvironment = {\n\n\t\tcanUseDOM: canUseDOM,\n\n\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\n\t\tcanUseEventListeners:\n\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\n\t\tcanUseViewport: canUseDOM && !!window.screen\n\n\t};\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn ExecutionEnvironment;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = ExecutionEnvironment;\n\t} else {\n\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t}\n\n}());\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nvar REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nSymbol.for(\"react.debug_trace_mode\");\nvar REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PORTAL_TYPE:\n      return \"Portal\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        return (type.displayName || \"Context\") + \".Provider\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  assign = Object.assign,\n  prefix,\n  suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$0) {\n                control = x$0;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$1) {\n              control = x$1;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return (fiber = describeNativeComponentFrame(fiber.type, !1)), fiber;\n    case 11:\n      return (\n        (fiber = describeNativeComponentFrame(fiber.type.render, !1)), fiber\n      );\n    case 1:\n      return (fiber = describeNativeComponentFrame(fiber.type, !0)), fiber;\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\";\n    do\n      (info += describeFiber(workInProgress)),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$2 = parentA.child; child$2; ) {\n        if (child$2 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$2 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$2 = child$2.sibling;\n      }\n      if (!didFindChild) {\n        for (child$2 = parentB.child; child$2; ) {\n          if (child$2 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$2 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$2 = child$2.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  fiber = nextRootInstance.nodeType;\n  switch (fiber) {\n    case 9:\n    case 11:\n      nextRootInstance = (nextRootInstance = nextRootInstance.documentElement)\n        ? (nextRootInstance = nextRootInstance.namespaceURI)\n          ? getOwnHostContext(nextRootInstance)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = 8 === fiber ? nextRootInstance.parentNode : nextRootInstance),\n        (nextRootInstance = fiber.tagName),\n        (fiber = fiber.namespaceURI))\n      )\n        (fiber = getOwnHostContext(fiber)),\n          (nextRootInstance = getChildHostContextProd(fiber, nextRootInstance));\n      else\n        switch (nextRootInstance) {\n          case \"svg\":\n            nextRootInstance = 1;\n            break;\n          case \"math\":\n            nextRootInstance = 2;\n            break;\n          default:\n            nextRootInstance = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, nextRootInstance);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction onCommitRoot(root) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n    try {\n      injectedHook.onCommitFiberRoot(\n        rendererID,\n        root,\n        void 0,\n        128 === (root.current.flags & 128)\n      );\n    } catch (err) {}\n}\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionLane = 128,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 4194176;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes,\n    warmLanes = root.warmLanes;\n  root = 0 !== root.finishedLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : root ||\n              ((warmLanes = nonIdlePendingLanes & ~warmLanes),\n              0 !== warmLanes &&\n                (nextLanes = getHighestPriorityLanes(warmLanes)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : root ||\n            ((warmLanes = pendingLanes & ~warmLanes),\n            0 !== warmLanes &&\n              (nextLanes = getHighestPriorityLanes(warmLanes))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (warmLanes = wipLanes & -wipLanes),\n        suspendedLanes >= warmLanes ||\n          (32 === suspendedLanes && 0 !== (warmLanes & 4194176)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 64:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextTransitionLane() {\n  var lane = nextTransitionLane;\n  nextTransitionLane <<= 1;\n  0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);\n  return lane;\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$7 = 31 - clz32(remainingLanes),\n      lane = 1 << index$7;\n    entanglements[index$7] = 0;\n    expirationTimes[index$7] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$7];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$7] = null, index$7 = 0;\n        index$7 < hiddenUpdatesForLane.length;\n        index$7++\n      ) {\n        var update = hiddenUpdatesForLane[index$7];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 4194218);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$8 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$8;\n    (lane & entangledLanes) | (root[index$8] & entangledLanes) &&\n      (root[index$8] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentSuspenseInstance(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentSuspenseInstance(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$10 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$10 && \"aria-\" !== prefix$10) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node) {\n  var valueField = isCheckable(node) ? \"checked\" : \"value\",\n    descriptor = Object.getOwnPropertyDescriptor(\n      node.constructor.prototype,\n      valueField\n    ),\n    currentValue = \"\" + node[valueField];\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  node._valueTracker || (node._valueTracker = trackValueOnNode(node));\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    )\n      return;\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$283;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_418 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_418) {\n      var element$jscomp$inline_419 = document.createElement(\"div\");\n      element$jscomp$inline_419.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_418 =\n        \"function\" === typeof element$jscomp$inline_419.oninput;\n    }\n    JSCompiler_inline_result$jscomp$283 = isSupported$jscomp$inline_418;\n  } else JSCompiler_inline_result$jscomp$283 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$283 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nfunction restoreSelection(priorSelectionInformation, containerInfo) {\n  var curFocusedElem = getActiveElementDeep(containerInfo);\n  containerInfo = priorSelectionInformation.focusedElem;\n  var priorSelectionRange = priorSelectionInformation.selectionRange;\n  if (\n    curFocusedElem !== containerInfo &&\n    containerInfo &&\n    containerInfo.ownerDocument &&\n    containsNode(containerInfo.ownerDocument.documentElement, containerInfo)\n  ) {\n    if (null !== priorSelectionRange && hasSelectionCapabilities(containerInfo))\n      if (\n        ((priorSelectionInformation = priorSelectionRange.start),\n        (curFocusedElem = priorSelectionRange.end),\n        void 0 === curFocusedElem &&\n          (curFocusedElem = priorSelectionInformation),\n        \"selectionStart\" in containerInfo)\n      )\n        (containerInfo.selectionStart = priorSelectionInformation),\n          (containerInfo.selectionEnd = Math.min(\n            curFocusedElem,\n            containerInfo.value.length\n          ));\n      else if (\n        ((curFocusedElem =\n          ((priorSelectionInformation =\n            containerInfo.ownerDocument || document) &&\n            priorSelectionInformation.defaultView) ||\n          window),\n        curFocusedElem.getSelection)\n      ) {\n        curFocusedElem = curFocusedElem.getSelection();\n        var length = containerInfo.textContent.length,\n          start = Math.min(priorSelectionRange.start, length);\n        priorSelectionRange =\n          void 0 === priorSelectionRange.end\n            ? start\n            : Math.min(priorSelectionRange.end, length);\n        !curFocusedElem.extend &&\n          start > priorSelectionRange &&\n          ((length = priorSelectionRange),\n          (priorSelectionRange = start),\n          (start = length));\n        length = getNodeForCharacterOffset(containerInfo, start);\n        var endMarker = getNodeForCharacterOffset(\n          containerInfo,\n          priorSelectionRange\n        );\n        length &&\n          endMarker &&\n          (1 !== curFocusedElem.rangeCount ||\n            curFocusedElem.anchorNode !== length.node ||\n            curFocusedElem.anchorOffset !== length.offset ||\n            curFocusedElem.focusNode !== endMarker.node ||\n            curFocusedElem.focusOffset !== endMarker.offset) &&\n          ((priorSelectionInformation =\n            priorSelectionInformation.createRange()),\n          priorSelectionInformation.setStart(length.node, length.offset),\n          curFocusedElem.removeAllRanges(),\n          start > priorSelectionRange\n            ? (curFocusedElem.addRange(priorSelectionInformation),\n              curFocusedElem.extend(endMarker.node, endMarker.offset))\n            : (priorSelectionInformation.setEnd(\n                endMarker.node,\n                endMarker.offset\n              ),\n              curFocusedElem.addRange(priorSelectionInformation)));\n      }\n    priorSelectionInformation = [];\n    for (\n      curFocusedElem = containerInfo;\n      (curFocusedElem = curFocusedElem.parentNode);\n\n    )\n      1 === curFocusedElem.nodeType &&\n        priorSelectionInformation.push({\n          element: curFocusedElem,\n          left: curFocusedElem.scrollLeft,\n          top: curFocusedElem.scrollTop\n        });\n    \"function\" === typeof containerInfo.focus && containerInfo.focus();\n    for (\n      containerInfo = 0;\n      containerInfo < priorSelectionInformation.length;\n      containerInfo++\n    )\n      (curFocusedElem = priorSelectionInformation[containerInfo]),\n        (curFocusedElem.element.scrollLeft = curFocusedElem.left),\n        (curFocusedElem.element.scrollTop = curFocusedElem.top);\n  }\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  isHidden &&\n    null !== update &&\n    3 === sourceFiber.tag &&\n    ((parent = sourceFiber.stateNode),\n    (isHidden = 31 - clz32(lane)),\n    (parent = parent.hiddenUpdates),\n    (sourceFiber = parent[isHidden]),\n    null === sourceFiber\n      ? (parent[isHidden] = [update])\n      : sourceFiber.push(update),\n    (update.lane = lane | 536870912));\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {},\n  CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(formatProdErrorMessage(418, \"\"));\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      track(instance);\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children),\n        track(instance);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 3:\n      case 27:\n        rootOrSingletonContext = !0;\n        return;\n      case 5:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var shouldClear = !1,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {\n    if ((JSCompiler_temp = 5 === fiber.tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && (shouldClear = !0);\n  shouldClear && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === fiber.tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    a: {\n      fiber = fiber.nextSibling;\n      for (shouldClear = 0; fiber; ) {\n        if (8 === fiber.nodeType)\n          if (((JSCompiler_temp = fiber.data), \"/$\" === JSCompiler_temp)) {\n            if (0 === shouldClear) {\n              nextHydratableInstance = getNextHydratable(fiber.nextSibling);\n              break a;\n            }\n            shouldClear--;\n          } else\n            (\"$\" !== JSCompiler_temp &&\n              \"$!\" !== JSCompiler_temp &&\n              \"$?\" !== JSCompiler_temp) ||\n              shouldClear++;\n        fiber = fiber.nextSibling;\n      }\n      nextHydratableInstance = null;\n    }\n  } else\n    nextHydratableInstance = hydrationParentFiber\n      ? getNextHydratable(fiber.stateNode.nextSibling)\n      : null;\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction noop$3() {}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$3, noop$3), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      thenableState = thenable.reason;\n      if (thenableState === SuspenseException)\n        throw Error(formatProdErrorMessage(483));\n      throw thenableState;\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$3, noop$3);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          thenableState = thenable.reason;\n          if (thenableState === SuspenseException)\n            throw Error(formatProdErrorMessage(483));\n          throw thenableState;\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nvar thenableState$1 = null,\n  thenableIndexCounter$1 = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  return trackUsedThenable(thenableState$1, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectType(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction resolveLazy(lazyType) {\n  var init = lazyType._init;\n  return init(lazyType._payload);\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 33554434), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 33554434;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 33554434);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return createChild(returnFiber, newChild, lanes);\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return updateFromMap(\n            existingChildren,\n            returnFiber,\n            newIdx,\n            newChild,\n            lanes\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter$1 = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState$1 = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  if (22 === fiber.tag) {\n    if (\n      (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary)\n    ) {\n      var current = fiber.alternate;\n      null !== current &&\n        null !== current.memoizedState &&\n        (shellBoundary = fiber);\n    }\n  } else reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state || \"$?\" === state.data || \"$!\" === state.data)\n      )\n        return node;\n    } else if (19 === node.tag && void 0 !== node.memoizedProps.revealOrder) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber$1 = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter = 0,\n  thenableState = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber$1 = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter = 0;\n  thenableState = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber$1 = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState = null);\n    thenableIndexCounter = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber$1.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber$1 = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter = localIdCounter = 0;\n  thenableState = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber$1.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber$1.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber$1.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber$1.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nvar createFunctionComponentUpdateQueue;\ncreateFunctionComponentUpdateQueue = function () {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n};\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  thenable = trackUsedThenable(thenableState, thenable, index);\n  index = currentlyRenderingFiber$1;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber$1.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber$1.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$54 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$54 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$54 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber$1.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber$1.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$54 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber$1,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [\n    subscribe\n  ]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 60) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber$1.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber$1.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      ReactSharedInternals.T = prevTransition;\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$60) {\n      onActionError(actionQueue, node, error$60);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber$1;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  currentStateHook =\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n      ? useThenable(currentStateHook)\n      : currentStateHook;\n  var actionQueueHook = updateWorkInProgressHook(),\n    actionQueue = actionQueueHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== actionQueueHook.memoizedState &&\n    ((currentlyRenderingFiber$1.flags |= 2048),\n    pushEffect(\n      9,\n      actionStateActionEffect.bind(null, actionQueue, action),\n      { destroy: void 0 },\n      null\n    ));\n  return [currentStateHook, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushEffect(tag, create, inst, deps) {\n  tag = { tag: tag, create: create, inst: inst, deps: deps, next: null };\n  create = currentlyRenderingFiber$1.updateQueue;\n  null === create &&\n    ((create = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber$1.updateQueue = create));\n  inst = create.lastEffect;\n  null === inst\n    ? (create.lastEffect = tag.next = tag)\n    : ((deps = inst.next),\n      (inst.next = tag),\n      (tag.next = deps),\n      (create.lastEffect = tag));\n  return tag;\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = mountWorkInProgressHook();\n  currentlyRenderingFiber$1.flags |= fiberFlags;\n  hook.memoizedState = pushEffect(\n    1 | hookFlags,\n    create,\n    { destroy: void 0 },\n    void 0 === deps ? null : deps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushEffect(hookFlags, create, inst, deps))\n    : ((currentlyRenderingFiber$1.flags |= fiberFlags),\n      (hook.memoizedState = pushEffect(1 | hookFlags, create, inst, deps)));\n}\nfunction mountEffect(create, deps) {\n  mountEffectImpl(8390656, 8, create, deps);\n}\nfunction updateEffect(create, deps) {\n  updateEffectImpl(2048, 8, create, deps);\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (void 0 === initialValue || 0 !== (renderLanes & 1073741824))\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (0 === (renderLanes & 42))\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber$1.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop$2() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop$2\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var resetStateQueue = ensureFormComponentIsStateful(formFiber).next.queue;\n  dispatchSetStateInternal(formFiber, resetStateQueue, {}, requestUpdateLane());\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$63 = enqueueUpdate(provider, fiber, lane);\n        null !== root$63 &&\n          (scheduleUpdateOnFiber(root$63, provider, lane),\n          entangleTransitions(root$63, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber$1 ||\n    (null !== alternate && alternate === currentlyRenderingFiber$1)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194176)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n  readContext: readContext,\n  use: use,\n  useCallback: throwInvalidHookError,\n  useContext: throwInvalidHookError,\n  useEffect: throwInvalidHookError,\n  useImperativeHandle: throwInvalidHookError,\n  useLayoutEffect: throwInvalidHookError,\n  useInsertionEffect: throwInvalidHookError,\n  useMemo: throwInvalidHookError,\n  useReducer: throwInvalidHookError,\n  useRef: throwInvalidHookError,\n  useState: throwInvalidHookError,\n  useDebugValue: throwInvalidHookError,\n  useDeferredValue: throwInvalidHookError,\n  useTransition: throwInvalidHookError,\n  useSyncExternalStore: throwInvalidHookError,\n  useId: throwInvalidHookError\n};\nContextOnlyDispatcher.useCacheRefresh = throwInvalidHookError;\nContextOnlyDispatcher.useMemoCache = throwInvalidHookError;\nContextOnlyDispatcher.useHostTransitionStatus = throwInvalidHookError;\nContextOnlyDispatcher.useFormState = throwInvalidHookError;\nContextOnlyDispatcher.useActionState = throwInvalidHookError;\nContextOnlyDispatcher.useOptimistic = throwInvalidHookError;\nvar HooksDispatcherOnMount = {\n  readContext: readContext,\n  use: use,\n  useCallback: function (callback, deps) {\n    mountWorkInProgressHook().memoizedState = [\n      callback,\n      void 0 === deps ? null : deps\n    ];\n    return callback;\n  },\n  useContext: readContext,\n  useEffect: mountEffect,\n  useImperativeHandle: function (ref, create, deps) {\n    deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n    mountEffectImpl(\n      4194308,\n      4,\n      imperativeHandleEffect.bind(null, create, ref),\n      deps\n    );\n  },\n  useLayoutEffect: function (create, deps) {\n    return mountEffectImpl(4194308, 4, create, deps);\n  },\n  useInsertionEffect: function (create, deps) {\n    mountEffectImpl(4, 2, create, deps);\n  },\n  useMemo: function (nextCreate, deps) {\n    var hook = mountWorkInProgressHook();\n    deps = void 0 === deps ? null : deps;\n    var nextValue = nextCreate();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        nextCreate();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n    hook.memoizedState = [nextValue, deps];\n    return nextValue;\n  },\n  useReducer: function (reducer, initialArg, init) {\n    var hook = mountWorkInProgressHook();\n    if (void 0 !== init) {\n      var initialState = init(initialArg);\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          init(initialArg);\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n    } else initialState = initialArg;\n    hook.memoizedState = hook.baseState = initialState;\n    reducer = {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: reducer,\n      lastRenderedState: initialState\n    };\n    hook.queue = reducer;\n    reducer = reducer.dispatch = dispatchReducerAction.bind(\n      null,\n      currentlyRenderingFiber$1,\n      reducer\n    );\n    return [hook.memoizedState, reducer];\n  },\n  useRef: function (initialValue) {\n    var hook = mountWorkInProgressHook();\n    initialValue = { current: initialValue };\n    return (hook.memoizedState = initialValue);\n  },\n  useState: function (initialState) {\n    initialState = mountStateImpl(initialState);\n    var queue = initialState.queue,\n      dispatch = dispatchSetState.bind(null, currentlyRenderingFiber$1, queue);\n    queue.dispatch = dispatch;\n    return [initialState.memoizedState, dispatch];\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = mountWorkInProgressHook();\n    return mountDeferredValueImpl(hook, value, initialValue);\n  },\n  useTransition: function () {\n    var stateHook = mountStateImpl(!1);\n    stateHook = startTransition.bind(\n      null,\n      currentlyRenderingFiber$1,\n      stateHook.queue,\n      !0,\n      !1\n    );\n    mountWorkInProgressHook().memoizedState = stateHook;\n    return [!1, stateHook];\n  },\n  useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n    var fiber = currentlyRenderingFiber$1,\n      hook = mountWorkInProgressHook();\n    if (isHydrating) {\n      if (void 0 === getServerSnapshot)\n        throw Error(formatProdErrorMessage(407));\n      getServerSnapshot = getServerSnapshot();\n    } else {\n      getServerSnapshot = getSnapshot();\n      if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n      0 !== (workInProgressRootRenderLanes & 60) ||\n        pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n    }\n    hook.memoizedState = getServerSnapshot;\n    var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n    hook.queue = inst;\n    mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n      subscribe\n    ]);\n    fiber.flags |= 2048;\n    pushEffect(\n      9,\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        inst,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      { destroy: void 0 },\n      null\n    );\n    return getServerSnapshot;\n  },\n  useId: function () {\n    var hook = mountWorkInProgressHook(),\n      identifierPrefix = workInProgressRoot.identifierPrefix;\n    if (isHydrating) {\n      var JSCompiler_inline_result = treeContextOverflow;\n      var idWithLeadingBit = treeContextId;\n      JSCompiler_inline_result =\n        (\n          idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n        ).toString(32) + JSCompiler_inline_result;\n      identifierPrefix =\n        \":\" + identifierPrefix + \"R\" + JSCompiler_inline_result;\n      JSCompiler_inline_result = localIdCounter++;\n      0 < JSCompiler_inline_result &&\n        (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n      identifierPrefix += \":\";\n    } else\n      (JSCompiler_inline_result = globalClientIdCounter++),\n        (identifierPrefix =\n          \":\" +\n          identifierPrefix +\n          \"r\" +\n          JSCompiler_inline_result.toString(32) +\n          \":\");\n    return (hook.memoizedState = identifierPrefix);\n  },\n  useCacheRefresh: function () {\n    return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n      null,\n      currentlyRenderingFiber$1\n    ));\n  }\n};\nHooksDispatcherOnMount.useMemoCache = useMemoCache;\nHooksDispatcherOnMount.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnMount.useFormState = mountActionState;\nHooksDispatcherOnMount.useActionState = mountActionState;\nHooksDispatcherOnMount.useOptimistic = function (passthrough) {\n  var hook = mountWorkInProgressHook();\n  hook.memoizedState = hook.baseState = passthrough;\n  var queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: null,\n    lastRenderedState: null\n  };\n  hook.queue = queue;\n  hook = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber$1,\n    !0,\n    queue\n  );\n  queue.dispatch = hook;\n  return [passthrough, hook];\n};\nvar HooksDispatcherOnUpdate = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: updateReducer,\n  useRef: updateRef,\n  useState: function () {\n    return updateReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return updateDeferredValueImpl(\n      hook,\n      currentHook.memoizedState,\n      value,\n      initialValue\n    );\n  },\n  useTransition: function () {\n    var booleanOrThenable = updateReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnUpdate.useCacheRefresh = updateRefresh;\nHooksDispatcherOnUpdate.useMemoCache = useMemoCache;\nHooksDispatcherOnUpdate.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnUpdate.useFormState = updateActionState;\nHooksDispatcherOnUpdate.useActionState = updateActionState;\nHooksDispatcherOnUpdate.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n};\nvar HooksDispatcherOnRerender = {\n  readContext: readContext,\n  use: use,\n  useCallback: updateCallback,\n  useContext: readContext,\n  useEffect: updateEffect,\n  useImperativeHandle: updateImperativeHandle,\n  useInsertionEffect: updateInsertionEffect,\n  useLayoutEffect: updateLayoutEffect,\n  useMemo: updateMemo,\n  useReducer: rerenderReducer,\n  useRef: updateRef,\n  useState: function () {\n    return rerenderReducer(basicStateReducer);\n  },\n  useDebugValue: mountDebugValue,\n  useDeferredValue: function (value, initialValue) {\n    var hook = updateWorkInProgressHook();\n    return null === currentHook\n      ? mountDeferredValueImpl(hook, value, initialValue)\n      : updateDeferredValueImpl(\n          hook,\n          currentHook.memoizedState,\n          value,\n          initialValue\n        );\n  },\n  useTransition: function () {\n    var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n      start = updateWorkInProgressHook().memoizedState;\n    return [\n      \"boolean\" === typeof booleanOrThenable\n        ? booleanOrThenable\n        : useThenable(booleanOrThenable),\n      start\n    ];\n  },\n  useSyncExternalStore: updateSyncExternalStore,\n  useId: updateId\n};\nHooksDispatcherOnRerender.useCacheRefresh = updateRefresh;\nHooksDispatcherOnRerender.useMemoCache = useMemoCache;\nHooksDispatcherOnRerender.useHostTransitionStatus = useHostTransitionStatus;\nHooksDispatcherOnRerender.useFormState = rerenderActionState;\nHooksDispatcherOnRerender.useActionState = rerenderActionState;\nHooksDispatcherOnRerender.useOptimistic = function (passthrough, reducer) {\n  var hook = updateWorkInProgressHook();\n  if (null !== currentHook)\n    return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n  hook.baseState = passthrough;\n  return [passthrough, hook.queue.dispatch];\n};\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  isMounted: function (component) {\n    return (component = component._reactInternals)\n      ? getNearestMountedFiber(component) === component\n      : !1;\n  },\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$67 in Component)\n      void 0 === newProps[propName$67] &&\n        (newProps[propName$67] = Component[propName$67]);\n  }\n  return newProps;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$68) {\n    setTimeout(function () {\n      throw e$68;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$69) {\n    setTimeout(function () {\n      throw e$69;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    nextChildren = nextProps.children,\n    nextIsDetached = 0 !== (workInProgress.stateNode._pendingVisibility & 2),\n    prevState = null !== current ? current.memoizedState : null;\n  markRef(current, workInProgress);\n  if (\"hidden\" === nextProps.mode || nextIsDetached) {\n    if (0 !== (workInProgress.flags & 128)) {\n      nextProps =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextChildren = workInProgress.child = current.child;\n        for (nextIsDetached = 0; null !== nextChildren; )\n          (nextIsDetached =\n            nextIsDetached | nextChildren.lanes | nextChildren.childLanes),\n            (nextChildren = nextChildren.sibling);\n        workInProgress.childLanes = nextIsDetached & ~nextProps;\n      } else (workInProgress.childLanes = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        nextProps,\n        renderLanes\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (workInProgress.lanes = workInProgress.childLanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  return null;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 2097664);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 2097664;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = { dehydrated: null, treeContext: null, retryLane: 0 };\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      if (isHydrating) {\n        var nextInstance = nextHydratableInstance,\n          JSCompiler_temp$jscomp$0;\n        if ((JSCompiler_temp$jscomp$0 = nextInstance)) {\n          c: {\n            JSCompiler_temp$jscomp$0 = nextInstance;\n            for (\n              nextInstance = rootOrSingletonContext;\n              8 !== JSCompiler_temp$jscomp$0.nodeType;\n\n            ) {\n              if (!nextInstance) {\n                nextInstance = null;\n                break c;\n              }\n              JSCompiler_temp$jscomp$0 = getNextHydratable(\n                JSCompiler_temp$jscomp$0.nextSibling\n              );\n              if (null === JSCompiler_temp$jscomp$0) {\n                nextInstance = null;\n                break c;\n              }\n            }\n            nextInstance = JSCompiler_temp$jscomp$0;\n          }\n          null !== nextInstance\n            ? ((workInProgress.memoizedState = {\n                dehydrated: nextInstance,\n                treeContext:\n                  null !== treeContextProvider\n                    ? { id: treeContextId, overflow: treeContextOverflow }\n                    : null,\n                retryLane: 536870912\n              }),\n              (JSCompiler_temp$jscomp$0 = createFiberImplClass(\n                18,\n                null,\n                null,\n                0\n              )),\n              (JSCompiler_temp$jscomp$0.stateNode = nextInstance),\n              (JSCompiler_temp$jscomp$0.return = workInProgress),\n              (workInProgress.child = JSCompiler_temp$jscomp$0),\n              (hydrationParentFiber = workInProgress),\n              (nextHydratableInstance = null),\n              (JSCompiler_temp$jscomp$0 = !0))\n            : (JSCompiler_temp$jscomp$0 = !1);\n        }\n        JSCompiler_temp$jscomp$0 || throwOnHydrationMismatch(workInProgress);\n      }\n      nextInstance = workInProgress.memoizedState;\n      if (\n        null !== nextInstance &&\n        ((nextInstance = nextInstance.dehydrated), null !== nextInstance)\n      )\n        return (\n          \"$!\" === nextInstance.data\n            ? (workInProgress.lanes = 16)\n            : (workInProgress.lanes = 536870912),\n          null\n        );\n      popSuspenseHandler(workInProgress);\n    }\n    nextInstance = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextInstance = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextInstance },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextInstance.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextInstance.sibling = nextProps),\n        (workInProgress.child = nextInstance),\n        (showFallback = workInProgress.child),\n        (showFallback.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        nextProps\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextInstance);\n  }\n  JSCompiler_temp$jscomp$0 = current.memoizedState;\n  if (\n    null !== JSCompiler_temp$jscomp$0 &&\n    ((nextInstance = JSCompiler_temp$jscomp$0.dehydrated),\n    null !== nextInstance)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (showFallback = nextProps.fallback),\n            (nextInstance = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              nextInstance\n            )),\n            (showFallback = createFiberFromFragment(\n              showFallback,\n              nextInstance,\n              renderLanes,\n              null\n            )),\n            (showFallback.flags |= 2),\n            (nextProps.return = workInProgress),\n            (showFallback.return = workInProgress),\n            (nextProps.sibling = showFallback),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = showFallback));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      \"$!\" === nextInstance.data)\n    ) {\n      JSCompiler_temp =\n        nextInstance.nextSibling && nextInstance.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (null !== JSCompiler_temp) {\n        nextProps = renderLanes & -renderLanes;\n        if (0 !== (nextProps & 42)) nextProps = 1;\n        else\n          switch (nextProps) {\n            case 2:\n              nextProps = 1;\n              break;\n            case 8:\n              nextProps = 4;\n              break;\n            case 32:\n              nextProps = 16;\n              break;\n            case 128:\n            case 256:\n            case 512:\n            case 1024:\n            case 2048:\n            case 4096:\n            case 8192:\n            case 16384:\n            case 32768:\n            case 65536:\n            case 131072:\n            case 262144:\n            case 524288:\n            case 1048576:\n            case 2097152:\n            case 4194304:\n            case 8388608:\n            case 16777216:\n            case 33554432:\n              nextProps = 64;\n              break;\n            case 268435456:\n              nextProps = 134217728;\n              break;\n            default:\n              nextProps = 0;\n          }\n        nextProps =\n          0 !== (nextProps & (JSCompiler_temp.suspendedLanes | renderLanes))\n            ? 0\n            : nextProps;\n        if (0 !== nextProps && nextProps !== JSCompiler_temp$jscomp$0.retryLane)\n          throw (\n            ((JSCompiler_temp$jscomp$0.retryLane = nextProps),\n            enqueueConcurrentRenderForLane(current, nextProps),\n            scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n            SelectiveHydrationException)\n          );\n      }\n      \"$?\" === nextInstance.data || renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      \"$?\" === nextInstance.data\n        ? ((workInProgress.flags |= 128),\n          (workInProgress.child = current.child),\n          (workInProgress = retryDehydratedSuspenseBoundary.bind(\n            null,\n            current\n          )),\n          (nextInstance._reactRetry = workInProgress),\n          (workInProgress = null))\n        : ((current = JSCompiler_temp$jscomp$0.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextInstance.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            ((idStack[idStackIndex++] = treeContextId),\n            (idStack[idStackIndex++] = treeContextOverflow),\n            (idStack[idStackIndex++] = treeContextProvider),\n            (treeContextId = current.id),\n            (treeContextOverflow = current.overflow),\n            (treeContextProvider = workInProgress)),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (showFallback = nextProps.fallback),\n      (nextInstance = workInProgress.mode),\n      (JSCompiler_temp$jscomp$0 = current.child),\n      (digest = JSCompiler_temp$jscomp$0.sibling),\n      (nextProps = createWorkInProgress(JSCompiler_temp$jscomp$0, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags =\n        JSCompiler_temp$jscomp$0.subtreeFlags & 31457280),\n      null !== digest\n        ? (showFallback = createWorkInProgress(digest, showFallback))\n        : ((showFallback = createFiberFromFragment(\n            showFallback,\n            nextInstance,\n            renderLanes,\n            null\n          )),\n          (showFallback.flags |= 2)),\n      (showFallback.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = showFallback),\n      (workInProgress.child = nextProps),\n      (nextProps = showFallback),\n      (showFallback = workInProgress.child),\n      (nextInstance = current.child.memoizedState),\n      null === nextInstance\n        ? (nextInstance = mountSuspenseOffscreenState(renderLanes))\n        : ((JSCompiler_temp$jscomp$0 = nextInstance.cachePool),\n          null !== JSCompiler_temp$jscomp$0\n            ? ((digest = CacheContext._currentValue),\n              (JSCompiler_temp$jscomp$0 =\n                JSCompiler_temp$jscomp$0.parent !== digest\n                  ? { parent: digest, pool: digest }\n                  : JSCompiler_temp$jscomp$0))\n            : (JSCompiler_temp$jscomp$0 = getSuspendedCache()),\n          (nextInstance = {\n            baseLanes: nextInstance.baseLanes | renderLanes,\n            cachePool: JSCompiler_temp$jscomp$0\n          })),\n      (showFallback.memoizedState = nextInstance),\n      (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      nextProps\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  return createFiberFromOffscreen(offscreenProps, mode, 0, null);\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  reconcileChildren(current, workInProgress, nextProps.children, renderLanes);\n  nextProps = suspenseStackCursor.current;\n  if (0 !== (nextProps & 2))\n    (nextProps = (nextProps & 1) | 2), (workInProgress.flags |= 128);\n  else {\n    if (null !== current && 0 !== (current.flags & 128))\n      a: for (current = workInProgress.child; null !== current; ) {\n        if (13 === current.tag)\n          null !== current.memoizedState &&\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (19 === current.tag)\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (null !== current.child) {\n          current.child.return = current;\n          current = current.child;\n          continue;\n        }\n        if (current === workInProgress) break a;\n        for (; null === current.sibling; ) {\n          if (null === current.return || current.return === workInProgress)\n            break a;\n          current = current.return;\n        }\n        current.sibling.return = current.return;\n        current = current.sibling;\n      }\n    nextProps &= 1;\n  }\n  push(suspenseStackCursor, nextProps);\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode\n      );\n      break;\n    case \"backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(workInProgress, !1, null, null, void 0);\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 13:\n      var state = workInProgress.memoizedState;\n      if (null !== state) {\n        if (null !== state.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state = 0 !== (renderLanes & workInProgress.childLanes);\n      state ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state) break;\n      else return null;\n    case 22:\n    case 23:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(current, workInProgress, renderLanes)\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        current = workInProgress.pendingProps;\n        var lazyComponent = workInProgress.elementType,\n          init = lazyComponent._init;\n        lazyComponent = init(lazyComponent._payload);\n        workInProgress.type = lazyComponent;\n        if (\"function\" === typeof lazyComponent)\n          shouldConstruct(lazyComponent)\n            ? ((current = resolveClassComponentProps(lazyComponent, current)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== lazyComponent && null !== lazyComponent)\n            if (\n              ((init = lazyComponent.$$typeof), init === REACT_FORWARD_REF_TYPE)\n            ) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            } else if (init === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            }\n          workInProgress =\n            getComponentNameFromType(lazyComponent) || lazyComponent;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (lazyComponent = workInProgress.type),\n        (init = resolveClassComponentProps(\n          lazyComponent,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          lazyComponent,\n          init,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        var nextProps = workInProgress.pendingProps;\n        init = workInProgress.memoizedState;\n        lazyComponent = init.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, nextProps, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        nextProps = nextState.cache;\n        pushProvider(workInProgress, CacheContext, nextProps);\n        nextProps !== init.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        nextProps = nextState.element;\n        if (init.isDehydrated)\n          if (\n            ((init = {\n              element: nextProps,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = init),\n            (workInProgress.memoizedState = init),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else if (nextProps !== lazyComponent) {\n            lazyComponent = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError(lazyComponent);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              nextProps,\n              renderLanes\n            );\n            break a;\n          } else\n            for (\n              nextHydratableInstance = getNextHydratable(\n                workInProgress.stateNode.containerInfo.firstChild\n              ),\n                hydrationParentFiber = workInProgress,\n                isHydrating = !0,\n                hydrationErrors = null,\n                rootOrSingletonContext = !0,\n                renderLanes = mountChildFibers(\n                  workInProgress,\n                  null,\n                  nextProps,\n                  renderLanes\n                ),\n                workInProgress.child = renderLanes;\n              renderLanes;\n\n            )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n        else {\n          resetHydrationState();\n          if (nextProps === lazyComponent) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(current, workInProgress, nextProps, renderLanes);\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (lazyComponent = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (lazyComponent[internalInstanceKey] = workInProgress),\n              (lazyComponent[internalPropsKey] = current),\n              setInitialProperties(lazyComponent, renderLanes, current),\n              markNodeAsHoistable(lazyComponent),\n              (workInProgress.stateNode = lazyComponent))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((lazyComponent = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          (nextHydratableInstance = getNextHydratable(\n            lazyComponent.firstChild\n          ))),\n        (lazyComponent = workInProgress.pendingProps.children),\n        null !== current || isHydrating\n          ? reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            )\n          : (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            )),\n        markRef(current, workInProgress),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if ((init = lazyComponent = nextHydratableInstance))\n          (lazyComponent = canHydrateInstance(\n            lazyComponent,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== lazyComponent\n              ? ((workInProgress.stateNode = lazyComponent),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(\n                  lazyComponent.firstChild\n                )),\n                (rootOrSingletonContext = !1),\n                (init = !0))\n              : (init = !1);\n        init || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      init = workInProgress.type;\n      nextProps = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      lazyComponent = nextProps.children;\n      shouldSetTextContent(init, nextProps)\n        ? (lazyComponent = null)\n        : null !== nextState &&\n          shouldSetTextContent(init, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        ((init = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = init));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, lazyComponent, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (lazyComponent = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            ))\n          : reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            ),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, lazyComponent.value),\n        reconcileChildren(\n          current,\n          workInProgress,\n          lazyComponent.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        (init = workInProgress.type._context),\n        (lazyComponent = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        (init = readContext(init)),\n        (lazyComponent = lazyComponent(init)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, lazyComponent, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 22:\n      return updateOffscreenComponent(current, workInProgress, renderLanes);\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (lazyComponent = readContext(CacheContext)),\n        null === current\n          ? ((init = peekCacheFromPool()),\n            null === init &&\n              ((init = workInProgressRoot),\n              (nextProps = createCache()),\n              (init.pooledCache = nextProps),\n              nextProps.refCount++,\n              null !== nextProps && (init.pooledCacheLanes |= renderLanes),\n              (init = nextProps)),\n            (workInProgress.memoizedState = {\n              parent: lazyComponent,\n              cache: init\n            }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, init))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            (init = current.memoizedState),\n            (nextProps = workInProgress.memoizedState),\n            init.parent !== lazyComponent\n              ? ((init = { parent: lazyComponent, cache: lazyComponent }),\n                (workInProgress.memoizedState = init),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      init),\n                pushProvider(workInProgress, CacheContext, lazyComponent))\n              : ((lazyComponent = nextProps.cache),\n                pushProvider(workInProgress, CacheContext, lazyComponent),\n                lazyComponent !== init.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0;\n            try {\n              destroy();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      var instance = current.stateNode;\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = instance;\n          break;\n        default:\n          instanceToUse = instance;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$112) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$112);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    27 === fiber.tag ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag &&\n      6 !== fiber.tag &&\n      27 !== fiber.tag &&\n      18 !== fiber.tag;\n\n    ) {\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? 8 === parent.nodeType\n          ? parent.parentNode.insertBefore(node, before)\n          : parent.insertBefore(node, before)\n        : (8 === parent.nodeType\n            ? ((before = parent.parentNode), before.insertBefore(node, parent))\n            : ((before = parent), before.appendChild(node)),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null,\n  shouldFireAfterActiveInstanceBlur = !1;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1028) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset,\n                  JSCompiler_temp.elementType === JSCompiler_temp.type\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n  resolvedPrevProps = shouldFireAfterActiveInstanceBlur;\n  shouldFireAfterActiveInstanceBlur = !1;\n  return resolvedPrevProps;\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$111) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$111\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 64 && ((flags = finishedWork.updateQueue), null !== flags)) {\n        finishedRoot = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              finishedRoot = finishedWork.child.stateNode;\n              break;\n            case 1:\n              finishedRoot = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(flags, finishedRoot);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 26:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 27:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      break;\n    case 22:\n      prevProps =\n        null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!prevProps) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        var prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n          prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = prevProps;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      flags & 512 &&\n        (\"manual\" === finishedWork.memoizedProps.mode\n          ? safelyAttachRef(finishedWork, finishedWork.return)\n          : safelyDetachRef(finishedWork, finishedWork.return));\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber = deletedFiber.stateNode;\n      for (\n        nearestMountedAncestor = deletedFiber.attributes;\n        nearestMountedAncestor.length;\n\n      )\n        deletedFiber.removeAttributeNode(nearestMountedAncestor[0]);\n      detachDeletedInstance(deletedFiber);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParentIsContainer = hostParent;\n      var prevHostParentIsContainer$119 = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParentIsContainer;\n      hostParentIsContainer = prevHostParentIsContainer$119;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (finishedRoot = hostParent),\n              (prevHostParent = deletedFiber.stateNode),\n              8 === finishedRoot.nodeType\n                ? finishedRoot.parentNode.removeChild(prevHostParent)\n                : finishedRoot.removeChild(prevHostParent);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((nearestMountedAncestor = hostParent),\n            (deletedFiber = deletedFiber.stateNode),\n            8 === nearestMountedAncestor.nodeType\n              ? clearSuspenseBoundary(\n                  nearestMountedAncestor.parentNode,\n                  deletedFiber\n                )\n              : 1 === nearestMountedAncestor.nodeType &&\n                clearSuspenseBoundary(nearestMountedAncestor, deletedFiber),\n            retryIfBlockedOn(nearestMountedAncestor))\n          : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n    retryCache.has(wakeable) ||\n      (retryCache.add(wakeable), wakeable.then(retry, retry));\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13878)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href ? null : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      if (flags & 4 && null === finishedWork.alternate) {\n        hoistableRoot = finishedWork.stateNode;\n        currentResource = finishedWork.memoizedProps;\n        try {\n          for (var node = hoistableRoot.firstChild; node; ) {\n            var nextNode = node.nextSibling,\n              nodeName = node.nodeName;\n            node[internalHoistableMarker] ||\n              \"HEAD\" === nodeName ||\n              \"BODY\" === nodeName ||\n              \"SCRIPT\" === nodeName ||\n              \"STYLE\" === nodeName ||\n              (\"LINK\" === nodeName &&\n                \"stylesheet\" === node.rel.toLowerCase()) ||\n              hoistableRoot.removeChild(node);\n            node = nextNode;\n          }\n          for (\n            var type = finishedWork.type, attributes = hoistableRoot.attributes;\n            attributes.length;\n\n          )\n            hoistableRoot.removeAttributeNode(attributes[0]);\n          setInitialProperties(hoistableRoot, type, currentResource);\n          hoistableRoot[internalInstanceKey] = finishedWork;\n          hoistableRoot[internalPropsKey] = currentResource;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      node = null !== finishedWork.memoizedState;\n      nextNode = null !== current && null !== current.memoizedState;\n      nodeName = offscreenSubtreeIsHidden;\n      type = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = nodeName || node;\n      offscreenSubtreeWasHidden = type || nextNode;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = type;\n      offscreenSubtreeIsHidden = nodeName;\n      commitReconciliationEffects(finishedWork);\n      root = finishedWork.stateNode;\n      root._current = finishedWork;\n      root._visibility &= -3;\n      root._visibility |= root._pendingVisibility & 2;\n      if (\n        flags & 8192 &&\n        ((root._visibility = node\n          ? root._visibility & -2\n          : root._visibility | 1),\n        node &&\n          ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),\n          null === current ||\n            nextNode ||\n            root ||\n            recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n        null === finishedWork.memoizedProps ||\n          \"manual\" !== finishedWork.memoizedProps.mode)\n      )\n        a: for (current = null, root = finishedWork; ; ) {\n          if (5 === root.tag || 26 === root.tag || 27 === root.tag) {\n            if (null === current) {\n              nextNode = current = root;\n              try {\n                if (((hoistableRoot = nextNode.stateNode), node))\n                  (currentResource = hoistableRoot.style),\n                    \"function\" === typeof currentResource.setProperty\n                      ? currentResource.setProperty(\n                          \"display\",\n                          \"none\",\n                          \"important\"\n                        )\n                      : (currentResource.display = \"none\");\n                else {\n                  maybeNodes = nextNode.stateNode;\n                  i = nextNode.memoizedProps.style;\n                  var display =\n                    void 0 !== i && null !== i && i.hasOwnProperty(\"display\")\n                      ? i.display\n                      : null;\n                  maybeNodes.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              nextNode = root;\n              try {\n                nextNode.stateNode.nodeValue = node\n                  ? \"\"\n                  : nextNode.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(nextNode, nextNode.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      if (27 !== finishedWork.tag) {\n        a: {\n          for (var parent = finishedWork.return; null !== parent; ) {\n            if (isHostParent(parent)) {\n              var JSCompiler_inline_result = parent;\n              break a;\n            }\n            parent = parent.return;\n          }\n          throw Error(formatProdErrorMessage(160));\n        }\n        switch (JSCompiler_inline_result.tag) {\n          case 27:\n            var parent$jscomp$0 = JSCompiler_inline_result.stateNode,\n              before = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);\n            break;\n          case 5:\n            var parent$113 = JSCompiler_inline_result.stateNode;\n            JSCompiler_inline_result.flags & 32 &&\n              (setTextContent(parent$113, \"\"),\n              (JSCompiler_inline_result.flags &= -33));\n            var before$114 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNode(finishedWork, before$114, parent$113);\n            break;\n          case 3:\n          case 4:\n            var parent$115 = JSCompiler_inline_result.stateNode.containerInfo,\n              before$116 = getHostSibling(finishedWork);\n            insertOrAppendPlacementNodeIntoContainer(\n              finishedWork,\n              before$116,\n              parent$115\n            );\n            break;\n          default:\n            throw Error(formatProdErrorMessage(161));\n        }\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 26:\n      case 27:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 4\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256)\n            ));\n      flags & 2048 &&\n        commitOffscreenPassiveMountEffects(\n          finishedWork.alternate,\n          finishedWork\n        );\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 10256);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 4\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 4),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(parentFiber) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(fiber),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(fiber));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 4 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 4 &&\n          ((i._visibility &= -5),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 31457280;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 31457282;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_OFFSCREEN_TYPE:\n        return createFiberFromOffscreen(pendingProps, mode, lanes, key);\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromOffscreen(pendingProps, mode, lanes, key) {\n  pendingProps = createFiberImplClass(22, pendingProps, key, mode);\n  pendingProps.elementType = REACT_OFFSCREEN_TYPE;\n  pendingProps.lanes = lanes;\n  var primaryChildInstance = {\n    _visibility: 1,\n    _pendingVisibility: 1,\n    _pendingMarkers: null,\n    _retryCache: null,\n    _transitions: null,\n    _current: null,\n    detach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 === (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility |= 2),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    },\n    attach: function () {\n      var fiber = primaryChildInstance._current;\n      if (null === fiber) throw Error(formatProdErrorMessage(456));\n      if (0 !== (primaryChildInstance._pendingVisibility & 2)) {\n        var root = enqueueConcurrentRenderForLane(fiber, 2);\n        null !== root &&\n          ((primaryChildInstance._pendingVisibility &= -3),\n          scheduleUpdateOnFiber(root, fiber, 2));\n      }\n    }\n  };\n  pendingProps.stateNode = primaryChildInstance;\n  return pendingProps;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource))) {\n    resource = suspenseHandlerStackCursor.current;\n    if (\n      null !== resource &&\n      ((workInProgressRootRenderLanes & 4194176) ===\n      workInProgressRootRenderLanes\n        ? null !== shellBoundary\n        : ((workInProgressRootRenderLanes & 62914560) !==\n            workInProgressRootRenderLanes &&\n            0 === (workInProgressRootRenderLanes & 536870912)) ||\n          resource !== shellBoundary)\n    )\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n    workInProgress.flags |= 8192;\n  }\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$131 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$131 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$131\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$131.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags & 31457280),\n        (subtreeFlags |= child$132.flags & 31457280),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  else\n    for (child$132 = completedWork.child; null !== child$132; )\n      (newChildLanes |= child$132.lanes | child$132.childLanes),\n        (subtreeFlags |= child$132.subtreeFlags),\n        (subtreeFlags |= child$132.flags),\n        (child$132.return = completedWork),\n        (child$132 = child$132.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            null !== hydrationErrors &&\n              (queueRecoverableErrors(hydrationErrors),\n              (hydrationErrors = null)));\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      return (\n        (renderLanes = workInProgress.memoizedState),\n        null === current\n          ? (markUpdate(workInProgress),\n            null !== renderLanes\n              ? (bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217)))\n          : renderLanes\n            ? renderLanes !== current.memoizedState\n              ? (markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217))\n            : (current.memoizedProps !== newProps && markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217)),\n        null\n      );\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      var type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      renderLanes = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, current);\n        else {\n          type = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (current) {\n            case 1:\n              current = type.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                renderLanes\n              );\n              break;\n            case 2:\n              current = type.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                renderLanes\n              );\n              break;\n            default:\n              switch (renderLanes) {\n                case \"svg\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    renderLanes\n                  );\n                  break;\n                case \"math\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    renderLanes\n                  );\n                  break;\n                case \"script\":\n                  current = type.createElement(\"div\");\n                  current.innerHTML = \"<script>\\x3c/script>\";\n                  current = current.removeChild(current.firstChild);\n                  break;\n                case \"select\":\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(\"select\", { is: newProps.is })\n                      : type.createElement(\"select\");\n                  newProps.multiple\n                    ? (current.multiple = !0)\n                    : newProps.size && (current.size = newProps.size);\n                  break;\n                default:\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(renderLanes, { is: newProps.is })\n                      : type.createElement(renderLanes);\n              }\n          }\n          current[internalInstanceKey] = workInProgress;\n          current[internalPropsKey] = newProps;\n          a: for (type = workInProgress.child; null !== type; ) {\n            if (5 === type.tag || 6 === type.tag)\n              current.appendChild(type.stateNode);\n            else if (4 !== type.tag && 27 !== type.tag && null !== type.child) {\n              type.child.return = type;\n              type = type.child;\n              continue;\n            }\n            if (type === workInProgress) break a;\n            for (; null === type.sibling; ) {\n              if (null === type.return || type.return === workInProgress)\n                break a;\n              type = type.return;\n            }\n            type.sibling.return = type.return;\n            type = type.sibling;\n          }\n          workInProgress.stateNode = current;\n          a: switch (\n            (setInitialProperties(current, renderLanes, newProps), renderLanes)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              current = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              current = !0;\n              break a;\n            default:\n              current = !1;\n          }\n          current && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      workInProgress.flags &= -16777217;\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          null !== hydrationErrors &&\n            (queueRecoverableErrors(hydrationErrors), (hydrationErrors = null)),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      if (renderLanes) {\n        newProps = workInProgress.child;\n        type = null;\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool);\n        var cache$144 = null;\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (cache$144 = newProps.memoizedState.cachePool.pool);\n        cache$144 !== type && (newProps.flags |= 2048);\n      }\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      type = workInProgress.memoizedState;\n      if (null === type) return bubbleProperties(workInProgress), null;\n      newProps = 0 !== (workInProgress.flags & 128);\n      cache$144 = type.rendering;\n      if (null === cache$144)\n        if (newProps) cutOffTailIfNeeded(type, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              cache$144 = findFirstSuspended(current);\n              if (null !== cache$144) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(type, !1);\n                current = cache$144.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== type.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (newProps = !0),\n            cutOffTailIfNeeded(type, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!newProps)\n          if (((current = findFirstSuspended(cache$144)), null !== current)) {\n            if (\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(type, !0),\n              null === type.tail &&\n                \"hidden\" === type.tailMode &&\n                !cache$144.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - type.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              cutOffTailIfNeeded(type, !1),\n              (workInProgress.lanes = 4194304));\n        type.isBackwards\n          ? ((cache$144.sibling = workInProgress.child),\n            (workInProgress.child = cache$144))\n          : ((current = type.last),\n            null !== current\n              ? (current.sibling = cache$144)\n              : (workInProgress.child = cache$144),\n            (type.last = cache$144));\n      }\n      if (null !== type.tail)\n        return (\n          (workInProgress = type.tail),\n          (type.rendering = workInProgress),\n          (type.tail = workInProgress.sibling),\n          (type.renderingStartTime = now()),\n          (workInProgress.sibling = null),\n          (current = suspenseStackCursor.current),\n          push(suspenseStackCursor, newProps ? (current & 1) | 2 : current & 1),\n          workInProgress\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  rootDoesHavePassiveEffects = !1,\n  rootWithPendingPassiveEffects = null,\n  pendingPassiveEffectsLanes = 0,\n  pendingPassiveEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  if (0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes)\n    return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n  if (null !== ReactSharedInternals.T) {\n    var actionScopeLane = currentEntangledLane;\n    return 0 !== actionScopeLane ? actionScopeLane : requestTransitionLane();\n  }\n  return resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  0 === workInProgressDeferredLane &&\n    (workInProgressDeferredLane =\n      0 === (workInProgressRootRenderLanes & 536870912) || isHydrating\n        ? claimNextTransitionLane()\n        : 536870912);\n  var suspenseHandler = suspenseHandlerStackCursor.current;\n  null !== suspenseHandler && (suspenseHandler.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 60) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else if (6 === exitStatus)\n      markRootSuspended(\n        root$jscomp$0,\n        lanes,\n        0,\n        !workInProgressRootDidSkipSuspendedSiblings\n      );\n    else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                queueRecoverableErrors(renderWasConcurrent);\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        switch (exitStatus) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194176) === lanes) {\n              markRootSuspended(\n                shouldTimeSlice,\n                lanes,\n                workInProgressDeferredLane,\n                !workInProgressRootDidSkipSuspendedSiblings\n              );\n              break a;\n            }\n            break;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        shouldTimeSlice.finishedWork = forceSync;\n        shouldTimeSlice.finishedLanes = lanes;\n        if (\n          (lanes & 62914560) === lanes &&\n          ((renderWasConcurrent = globalMostRecentFallbackTime + 300 - now()),\n          10 < renderWasConcurrent)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0)) break a;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              2,\n              -0,\n              0\n            ),\n            renderWasConcurrent\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          0,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction queueRecoverableErrors(errors) {\n  null === workInProgressRootRecoverableErrors\n    ? (workInProgressRootRecoverableErrors = errors)\n    : workInProgressRootRecoverableErrors.push.apply(\n        workInProgressRootRecoverableErrors,\n        errors\n      );\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var subtreeFlags = finishedWork.subtreeFlags;\n  if (subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408))\n    if (\n      ((suspendedState = { stylesheets: null, count: 0, unsuspend: noop }),\n      accumulateSuspenseyCommitOnFiber(finishedWork),\n      (finishedWork = waitForCommitToBeReady()),\n      null !== finishedWork)\n    ) {\n      root.cancelPendingCommit = finishedWork(\n        commitRoot.bind(\n          null,\n          root,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          1,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  commitRoot(\n    root,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes,\n    suspendedCommitReason,\n    completedRenderStartTime,\n    completedRenderEndTime\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$6 = 31 - clz32(lanes),\n      lane = 1 << index$6;\n    didAttemptEntireTree[index$6] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState$1 = null),\n        (thenableIndexCounter$1 = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$4 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$4;\n      lanes |= root[index$4];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194176) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$164) {\n      handleThrow(root, thrownValue$164);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              2 === workInProgressSuspendedReason &&\n                workInProgressRoot === root &&\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (resource ? preloadResource(resource) : 1) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrent();\n      break;\n    } catch (thrownValue$166) {\n      handleThrow(root, thrownValue$166);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrent() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState$1 = null;\n  thenableIndexCounter$1 = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason || 3 === suspendedReason || 6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  var prevTransition = ReactSharedInternals.T,\n    previousUpdateLanePriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      (ReactSharedInternals.T = null),\n      commitRootImpl(\n        root,\n        recoverableErrors,\n        transitions,\n        didIncludeRenderPhaseUpdate,\n        previousUpdateLanePriority,\n        spawnedLane,\n        updatedLanes,\n        suspendedRetryLanes,\n        suspendedCommitReason,\n        completedRenderStartTime,\n        completedRenderEndTime\n      );\n  } finally {\n    (ReactSharedInternals.T = prevTransition),\n      (ReactDOMSharedInternals.p = previousUpdateLanePriority);\n  }\n}\nfunction commitRootImpl(\n  root,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  renderPriorityLevel,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  do flushPassiveEffects();\n  while (null !== rootWithPendingPassiveEffects);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var finishedWork = root.finishedWork;\n  didIncludeRenderPhaseUpdate = root.finishedLanes;\n  if (null === finishedWork) return null;\n  root.finishedWork = null;\n  root.finishedLanes = 0;\n  if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n  root.callbackNode = null;\n  root.callbackPriority = 0;\n  root.cancelPendingCommit = null;\n  var remainingLanes = finishedWork.lanes | finishedWork.childLanes;\n  remainingLanes |= concurrentlyUpdatedLanes;\n  markRootFinished(\n    root,\n    didIncludeRenderPhaseUpdate,\n    remainingLanes,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n  root === workInProgressRoot &&\n    ((workInProgress = workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0));\n  (0 === (finishedWork.subtreeFlags & 10256) &&\n    0 === (finishedWork.flags & 10256)) ||\n    rootDoesHavePassiveEffects ||\n    ((rootDoesHavePassiveEffects = !0),\n    (pendingPassiveEffectsRemainingLanes = remainingLanes),\n    (pendingPassiveTransitions = transitions),\n    scheduleCallback$1(NormalPriority$1, function () {\n      flushPassiveEffects(!0);\n      return null;\n    }));\n  transitions = 0 !== (finishedWork.flags & 15990);\n  0 !== (finishedWork.subtreeFlags & 15990) || transitions\n    ? ((transitions = ReactSharedInternals.T),\n      (ReactSharedInternals.T = null),\n      (spawnedLane = ReactDOMSharedInternals.p),\n      (ReactDOMSharedInternals.p = 2),\n      (updatedLanes = executionContext),\n      (executionContext |= 4),\n      commitBeforeMutationEffects(root, finishedWork),\n      commitMutationEffectsOnFiber(finishedWork, root),\n      restoreSelection(selectionInformation, root.containerInfo),\n      (_enabled = !!eventsEnabled),\n      (selectionInformation = eventsEnabled = null),\n      (root.current = finishedWork),\n      commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork),\n      requestPaint(),\n      (executionContext = updatedLanes),\n      (ReactDOMSharedInternals.p = spawnedLane),\n      (ReactSharedInternals.T = transitions))\n    : (root.current = finishedWork);\n  rootDoesHavePassiveEffects\n    ? ((rootDoesHavePassiveEffects = !1),\n      (rootWithPendingPassiveEffects = root),\n      (pendingPassiveEffectsLanes = didIncludeRenderPhaseUpdate))\n    : releaseRootPooledCache(root, remainingLanes);\n  remainingLanes = root.pendingLanes;\n  0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n  onCommitRoot(finishedWork.stateNode, renderPriorityLevel);\n  ensureRootIsScheduled(root);\n  if (null !== recoverableErrors)\n    for (\n      renderPriorityLevel = root.onRecoverableError, finishedWork = 0;\n      finishedWork < recoverableErrors.length;\n      finishedWork++\n    )\n      (remainingLanes = recoverableErrors[finishedWork]),\n        renderPriorityLevel(remainingLanes.value, {\n          componentStack: remainingLanes.stack\n        });\n  0 !== (pendingPassiveEffectsLanes & 3) && flushPassiveEffects();\n  remainingLanes = root.pendingLanes;\n  0 !== (didIncludeRenderPhaseUpdate & 4194218) && 0 !== (remainingLanes & 42)\n    ? root === rootWithNestedUpdates\n      ? nestedUpdateCount++\n      : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n    : (nestedUpdateCount = 0);\n  flushSyncWorkAcrossRoots_impl(0, !1);\n  return null;\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPassiveEffects() {\n  if (null !== rootWithPendingPassiveEffects) {\n    var root$170 = rootWithPendingPassiveEffects,\n      remainingLanes = pendingPassiveEffectsRemainingLanes;\n    pendingPassiveEffectsRemainingLanes = 0;\n    var renderPriority = lanesToEventPriority(pendingPassiveEffectsLanes),\n      prevTransition = ReactSharedInternals.T,\n      previousPriority = ReactDOMSharedInternals.p;\n    try {\n      ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n      ReactSharedInternals.T = null;\n      if (null === rootWithPendingPassiveEffects)\n        var JSCompiler_inline_result = !1;\n      else {\n        renderPriority = pendingPassiveTransitions;\n        pendingPassiveTransitions = null;\n        var root = rootWithPendingPassiveEffects,\n          lanes = pendingPassiveEffectsLanes;\n        rootWithPendingPassiveEffects = null;\n        pendingPassiveEffectsLanes = 0;\n        if (0 !== (executionContext & 6))\n          throw Error(formatProdErrorMessage(331));\n        var prevExecutionContext = executionContext;\n        executionContext |= 4;\n        commitPassiveUnmountOnFiber(root.current);\n        commitPassiveMountOnFiber(root, root.current, lanes, renderPriority);\n        executionContext = prevExecutionContext;\n        flushSyncWorkAcrossRoots_impl(0, !1);\n        if (\n          injectedHook &&\n          \"function\" === typeof injectedHook.onPostCommitFiberRoot\n        )\n          try {\n            injectedHook.onPostCommitFiberRoot(rendererID, root);\n          } catch (err) {}\n        JSCompiler_inline_result = !0;\n      }\n      return JSCompiler_inline_result;\n    } finally {\n      (ReactDOMSharedInternals.p = previousPriority),\n        (ReactSharedInternals.T = prevTransition),\n        releaseRootPooledCache(root$170, remainingLanes);\n    }\n  }\n  return !1;\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0),\n    scheduleImmediateTask(processRootScheduleInMicrotask));\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$172 = firstScheduledRoot; null !== root$172; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$172.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$172.suspendedLanes,\n                pingedLanes = root$172.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326677\n                  ? (JSCompiler_inline_result & 201326677) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$172,\n                root$172 === workInProgressRoot ? JSCompiler_inline_result : 0\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$172, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$172, JSCompiler_inline_result));\n        root$172 = root$172.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    (shouldAttemptEagerTransition() &&\n      (syncTransitionLanes = currentEventTransitionLane),\n    (currentEventTransitionLane = 0));\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$5 = 31 - clz32(lanes),\n      lane = 1 << index$5,\n      expirationTime = expirationTimes[index$5];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$5] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime && 2 === workInProgressSuspendedReason) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  var originalCallbackNode = root.callbackNode;\n  if (flushPassiveEffects() && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPassiveEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateTask(cb) {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(ImmediatePriority, cb)\n      : cb();\n  });\n}\nfunction requestTransitionLane() {\n  0 === currentEventTransitionLane &&\n    (currentEventTransitionLane = claimNextTransitionLane());\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1439 = 0;\n  i$jscomp$inline_1439 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1439++\n) {\n  var eventName$jscomp$inline_1440 =\n      simpleEventPluginEvents[i$jscomp$inline_1439],\n    domEventName$jscomp$inline_1441 =\n      eventName$jscomp$inline_1440.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1442 =\n      eventName$jscomp$inline_1440[0].toUpperCase() +\n      eventName$jscomp$inline_1440.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1441,\n    \"on\" + capitalizedEvent$jscomp$inline_1442\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (\n          container === targetContainer ||\n          (8 === container.nodeType && container.parentNode === targetContainer)\n        )\n          break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (3 === grandTag || 4 === grandTag)\n              if (\n                ((grandTag = nodeTag.stateNode.containerInfo),\n                grandTag === targetContainer ||\n                  (8 === grandTag.nodeType &&\n                    grandTag.parentNode === targetContainer))\n              )\n                return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = SyntheticEventCtor;\n                reactEventName = reactEventType;\n                instance = 0;\n                for (\n                  lastHostComponent = inCapturePhase;\n                  lastHostComponent;\n                  lastHostComponent = getParent(lastHostComponent)\n                )\n                  instance++;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = getParent(_instance)\n                )\n                  lastHostComponent++;\n                for (; 0 < instance - lastHostComponent; )\n                  (inCapturePhase = getParent(inCapturePhase)), instance--;\n                for (; 0 < lastHostComponent - instance; )\n                  (reactEventName = getParent(reactEventName)),\n                    lastHostComponent--;\n                for (; instance--; ) {\n                  if (\n                    inCapturePhase === reactEventName ||\n                    (null !== reactEventName &&\n                      inCapturePhase === reactEventName.alternate)\n                  )\n                    break b;\n                  inCapturePhase = getParent(inCapturePhase);\n                  reactEventName = getParent(reactEventName);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    targetFiber = targetFiber.return;\n  }\n  return listeners;\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction noop$1() {}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$186 = props[hasSrc];\n          if (null != propValue$186)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$186;\n                break;\n              case \"type\":\n                propValue = propValue$186;\n                break;\n              case \"checked\":\n                checked = propValue$186;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$186;\n                break;\n              case \"value\":\n                propKey = propValue$186;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$186;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$186)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$186, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      track(domElement);\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      track(domElement);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$186 in props)\n          props.hasOwnProperty(propValue$186) &&\n            ((hasSrc = props[propValue$186]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$186,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$203 in nextProps) {\n        var propKey = nextProps[propKey$203];\n        lastProp = lastProps[propKey$203];\n        if (\n          nextProps.hasOwnProperty(propKey$203) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$203) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$203,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$203 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$203 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$203\n        ? updateOptions(domElement, !!lastProps, propKey$203, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$203 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$203 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$203, propKey);\n      return;\n    case \"option\":\n      for (var propKey$219 in lastProps)\n        if (\n          ((propKey$203 = lastProps[propKey$219]),\n          lastProps.hasOwnProperty(propKey$219) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$219))\n        )\n          switch (propKey$219) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$219,\n                null,\n                nextProps,\n                propKey$203\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$203 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$203 &&\n                \"function\" !== typeof propKey$203 &&\n                \"symbol\" !== typeof propKey$203;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$224 in lastProps)\n        (propKey$203 = lastProps[propKey$224]),\n          lastProps.hasOwnProperty(propKey$224) &&\n            null != propKey$203 &&\n            !nextProps.hasOwnProperty(propKey$224) &&\n            setProp(domElement, tag, propKey$224, null, nextProps, propKey$203);\n      for (checked in nextProps)\n        if (\n          ((propKey$203 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$203 !== propKey &&\n            (null != propKey$203 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$203)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$229 in lastProps)\n          (propKey$203 = lastProps[propKey$229]),\n            lastProps.hasOwnProperty(propKey$229) &&\n              void 0 !== propKey$203 &&\n              !nextProps.hasOwnProperty(propKey$229) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$229,\n                void 0,\n                nextProps,\n                propKey$203\n              );\n        for (defaultChecked in nextProps)\n          (propKey$203 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$203 === propKey ||\n              (void 0 === propKey$203 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$203,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$234 in lastProps)\n    (propKey$203 = lastProps[propKey$234]),\n      lastProps.hasOwnProperty(propKey$234) &&\n        null != propKey$203 &&\n        !nextProps.hasOwnProperty(propKey$234) &&\n        setProp(domElement, tag, propKey$234, null, nextProps, propKey$203);\n  for (lastProp in nextProps)\n    (propKey$203 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$203 === propKey ||\n        (null == propKey$203 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$203, nextProps, propKey);\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction clearSuspenseBoundary(parentInstance, suspenseInstance) {\n  var node = suspenseInstance,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node)) {\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(suspenseInstance);\n          return;\n        }\n        depth--;\n      } else (\"$\" !== node && \"$?\" !== node && \"$!\" !== node) || depth++;\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(suspenseInstance);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href ? null : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nfunction getParentSuspenseInstance(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\"$\" === data || \"$!\" === data || \"$?\" === data) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else \"/$\" === data && depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$242 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$243 = styles$242.get(type);\n        resource$243 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$243 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$242.set(type, resource$243),\n          (styles$242 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$242._p &&\n            ((resource$243.instance = styles$242),\n            (resource$243.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$242 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$243.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$243;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$248 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$248)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$248),\n            markNodeAsHoistable(instance$248),\n            instance$248\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$248 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$248);\n        var linkInstance = instance$248;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$248, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$248, props.precedence, hoistableRoot);\n        return (resource.instance = instance$248);\n      case \"script\":\n        instance$248 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$248)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$248)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nvar suspendedState = null;\nfunction noop() {}\nfunction suspendResource(hoistableRoot, resource, props) {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nfunction waitForCommitToBeReady() {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4);\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count)\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.finishedWork =\n    this.pingCache =\n    this.current =\n    this.pendingChildren =\n      null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.finishedLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  transitionCallbacks,\n  formState\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            if (13 === nearestMounted.tag) {\n              var lane = requestUpdateLane(),\n                root = enqueueConcurrentRenderForLane(nearestMounted, lane);\n              null !== root &&\n                scheduleUpdateOnFiber(root, nearestMounted, lane);\n              markRetryLaneIfNotHydrated(nearestMounted, lane);\n            }\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      0 === root.tag && flushPassiveEffects();\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1686 = React.version;\nif (\n  \"19.0.0\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1686\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1686,\n      \"19.0.0\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2165 = {\n  bundleType: 0,\n  version: \"19.0.0\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  findFiberByHostInstance: getClosestInstanceFromNode,\n  reconcilerVersion: \"19.0.0\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2166 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2166.isDisabled &&\n    hook$jscomp$inline_2166.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2166.inject(\n        internals$jscomp$inline_2165\n      )),\n        (injectedHook = hook$jscomp$inline_2166);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    null\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(\n    8 === container.nodeType ? container.parentNode : container\n  );\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    formState\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  initialChildren.current.lanes = isStrictMode;\n  markRootUpdated$1(initialChildren, isStrictMode);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.0.0\";\n","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.0.0\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\nexport { polyfill };\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bodyOpenClassName = exports.portalClassName = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _ModalPortal = require(\"./ModalPortal\");\n\nvar _ModalPortal2 = _interopRequireDefault(_ModalPortal);\n\nvar _ariaAppHider = require(\"../helpers/ariaAppHider\");\n\nvar ariaAppHider = _interopRequireWildcard(_ariaAppHider);\n\nvar _safeHTMLElement = require(\"../helpers/safeHTMLElement\");\n\nvar _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar portalClassName = exports.portalClassName = \"ReactModalPortal\";\nvar bodyOpenClassName = exports.bodyOpenClassName = \"ReactModal__Body--open\";\n\nvar isReact16 = _safeHTMLElement.canUseDOM && _reactDom2.default.createPortal !== undefined;\n\nvar createHTMLElement = function createHTMLElement(name) {\n  return document.createElement(name);\n};\n\nvar getCreatePortal = function getCreatePortal() {\n  return isReact16 ? _reactDom2.default.createPortal : _reactDom2.default.unstable_renderSubtreeIntoContainer;\n};\n\nfunction getParentElement(parentSelector) {\n  return parentSelector();\n}\n\nvar Modal = function (_Component) {\n  _inherits(Modal, _Component);\n\n  function Modal() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Modal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Modal.__proto__ || Object.getPrototypeOf(Modal)).call.apply(_ref, [this].concat(args))), _this), _this.removePortal = function () {\n      !isReact16 && _reactDom2.default.unmountComponentAtNode(_this.node);\n      var parent = getParentElement(_this.props.parentSelector);\n      if (parent && parent.contains(_this.node)) {\n        parent.removeChild(_this.node);\n      } else {\n        // eslint-disable-next-line no-console\n        console.warn('React-Modal: \"parentSelector\" prop did not returned any DOM ' + \"element. Make sure that the parent element is unmounted to \" + \"avoid any memory leaks.\");\n      }\n    }, _this.portalRef = function (ref) {\n      _this.portal = ref;\n    }, _this.renderPortal = function (props) {\n      var createPortal = getCreatePortal();\n      var portal = createPortal(_this, _react2.default.createElement(_ModalPortal2.default, _extends({ defaultStyles: Modal.defaultStyles }, props)), _this.node);\n      _this.portalRef(portal);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Modal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!_safeHTMLElement.canUseDOM) return;\n\n      if (!isReact16) {\n        this.node = createHTMLElement(\"div\");\n      }\n      this.node.className = this.props.portalClassName;\n\n      var parent = getParentElement(this.props.parentSelector);\n      parent.appendChild(this.node);\n\n      !isReact16 && this.renderPortal(this.props);\n    }\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate(prevProps) {\n      var prevParent = getParentElement(prevProps.parentSelector);\n      var nextParent = getParentElement(this.props.parentSelector);\n      return { prevParent: prevParent, nextParent: nextParent };\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, _, snapshot) {\n      if (!_safeHTMLElement.canUseDOM) return;\n      var _props = this.props,\n          isOpen = _props.isOpen,\n          portalClassName = _props.portalClassName;\n\n\n      if (prevProps.portalClassName !== portalClassName) {\n        this.node.className = portalClassName;\n      }\n\n      var prevParent = snapshot.prevParent,\n          nextParent = snapshot.nextParent;\n\n      if (nextParent !== prevParent) {\n        prevParent.removeChild(this.node);\n        nextParent.appendChild(this.node);\n      }\n\n      // Stop unnecessary renders if modal is remaining closed\n      if (!prevProps.isOpen && !isOpen) return;\n\n      !isReact16 && this.renderPortal(this.props);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (!_safeHTMLElement.canUseDOM || !this.node || !this.portal) return;\n\n      var state = this.portal.state;\n      var now = Date.now();\n      var closesAt = state.isOpen && this.props.closeTimeoutMS && (state.closesAt || now + this.props.closeTimeoutMS);\n\n      if (closesAt) {\n        if (!state.beforeClose) {\n          this.portal.closeWithTimeout();\n        }\n\n        setTimeout(this.removePortal, closesAt - now);\n      } else {\n        this.removePortal();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!_safeHTMLElement.canUseDOM || !isReact16) {\n        return null;\n      }\n\n      if (!this.node && isReact16) {\n        this.node = createHTMLElement(\"div\");\n      }\n\n      var createPortal = getCreatePortal();\n      return createPortal(_react2.default.createElement(_ModalPortal2.default, _extends({\n        ref: this.portalRef,\n        defaultStyles: Modal.defaultStyles\n      }, this.props)), this.node);\n    }\n  }], [{\n    key: \"setAppElement\",\n    value: function setAppElement(element) {\n      ariaAppHider.setElement(element);\n    }\n\n    /* eslint-disable react/no-unused-prop-types */\n\n    /* eslint-enable react/no-unused-prop-types */\n\n  }]);\n\n  return Modal;\n}(_react.Component);\n\nModal.propTypes = {\n  isOpen: _propTypes2.default.bool.isRequired,\n  style: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  portalClassName: _propTypes2.default.string,\n  bodyOpenClassName: _propTypes2.default.string,\n  htmlOpenClassName: _propTypes2.default.string,\n  className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\n    base: _propTypes2.default.string.isRequired,\n    afterOpen: _propTypes2.default.string.isRequired,\n    beforeClose: _propTypes2.default.string.isRequired\n  })]),\n  overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\n    base: _propTypes2.default.string.isRequired,\n    afterOpen: _propTypes2.default.string.isRequired,\n    beforeClose: _propTypes2.default.string.isRequired\n  })]),\n  appElement: _propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default), _propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection), _propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList), _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),\n  onAfterOpen: _propTypes2.default.func,\n  onRequestClose: _propTypes2.default.func,\n  closeTimeoutMS: _propTypes2.default.number,\n  ariaHideApp: _propTypes2.default.bool,\n  shouldFocusAfterRender: _propTypes2.default.bool,\n  shouldCloseOnOverlayClick: _propTypes2.default.bool,\n  shouldReturnFocusAfterClose: _propTypes2.default.bool,\n  preventScroll: _propTypes2.default.bool,\n  parentSelector: _propTypes2.default.func,\n  aria: _propTypes2.default.object,\n  data: _propTypes2.default.object,\n  role: _propTypes2.default.string,\n  contentLabel: _propTypes2.default.string,\n  shouldCloseOnEsc: _propTypes2.default.bool,\n  overlayRef: _propTypes2.default.func,\n  contentRef: _propTypes2.default.func,\n  id: _propTypes2.default.string,\n  overlayElement: _propTypes2.default.func,\n  contentElement: _propTypes2.default.func\n};\nModal.defaultProps = {\n  isOpen: false,\n  portalClassName: portalClassName,\n  bodyOpenClassName: bodyOpenClassName,\n  role: \"dialog\",\n  ariaHideApp: true,\n  closeTimeoutMS: 0,\n  shouldFocusAfterRender: true,\n  shouldCloseOnEsc: true,\n  shouldCloseOnOverlayClick: true,\n  shouldReturnFocusAfterClose: true,\n  preventScroll: false,\n  parentSelector: function parentSelector() {\n    return document.body;\n  },\n  overlayElement: function overlayElement(props, contentEl) {\n    return _react2.default.createElement(\n      \"div\",\n      props,\n      contentEl\n    );\n  },\n  contentElement: function contentElement(props, children) {\n    return _react2.default.createElement(\n      \"div\",\n      props,\n      children\n    );\n  }\n};\nModal.defaultStyles = {\n  overlay: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: \"rgba(255, 255, 255, 0.75)\"\n  },\n  content: {\n    position: \"absolute\",\n    top: \"40px\",\n    left: \"40px\",\n    right: \"40px\",\n    bottom: \"40px\",\n    border: \"1px solid #ccc\",\n    background: \"#fff\",\n    overflow: \"auto\",\n    WebkitOverflowScrolling: \"touch\",\n    borderRadius: \"4px\",\n    outline: \"none\",\n    padding: \"20px\"\n  }\n};\n\n\n(0, _reactLifecyclesCompat.polyfill)(Modal);\n\nif (process.env.NODE_ENV !== \"production\") {\n  Modal.setCreateHTMLElement = function (fn) {\n    return createHTMLElement = fn;\n  };\n}\n\nexports.default = Modal;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _focusManager = require(\"../helpers/focusManager\");\n\nvar focusManager = _interopRequireWildcard(_focusManager);\n\nvar _scopeTab = require(\"../helpers/scopeTab\");\n\nvar _scopeTab2 = _interopRequireDefault(_scopeTab);\n\nvar _ariaAppHider = require(\"../helpers/ariaAppHider\");\n\nvar ariaAppHider = _interopRequireWildcard(_ariaAppHider);\n\nvar _classList = require(\"../helpers/classList\");\n\nvar classList = _interopRequireWildcard(_classList);\n\nvar _safeHTMLElement = require(\"../helpers/safeHTMLElement\");\n\nvar _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);\n\nvar _portalOpenInstances = require(\"../helpers/portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nrequire(\"../helpers/bodyTrap\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// so that our CSS is statically analyzable\nvar CLASS_NAMES = {\n  overlay: \"ReactModal__Overlay\",\n  content: \"ReactModal__Content\"\n};\n\n/**\n * We need to support the deprecated `KeyboardEvent.keyCode` in addition to\n * `KeyboardEvent.code` for apps that still support IE11. Can be removed when\n * `react-modal` only supports React >18 (which dropped IE support).\n */\nvar isTabKey = function isTabKey(event) {\n  return event.code === \"Tab\" || event.keyCode === 9;\n};\nvar isEscKey = function isEscKey(event) {\n  return event.code === \"Escape\" || event.keyCode === 27;\n};\n\nvar ariaHiddenInstances = 0;\n\nvar ModalPortal = function (_Component) {\n  _inherits(ModalPortal, _Component);\n\n  function ModalPortal(props) {\n    _classCallCheck(this, ModalPortal);\n\n    var _this = _possibleConstructorReturn(this, (ModalPortal.__proto__ || Object.getPrototypeOf(ModalPortal)).call(this, props));\n\n    _this.setOverlayRef = function (overlay) {\n      _this.overlay = overlay;\n      _this.props.overlayRef && _this.props.overlayRef(overlay);\n    };\n\n    _this.setContentRef = function (content) {\n      _this.content = content;\n      _this.props.contentRef && _this.props.contentRef(content);\n    };\n\n    _this.afterClose = function () {\n      var _this$props = _this.props,\n          appElement = _this$props.appElement,\n          ariaHideApp = _this$props.ariaHideApp,\n          htmlOpenClassName = _this$props.htmlOpenClassName,\n          bodyOpenClassName = _this$props.bodyOpenClassName,\n          parentSelector = _this$props.parentSelector;\n\n\n      var parentDocument = parentSelector && parentSelector().ownerDocument || document;\n\n      // Remove classes.\n      bodyOpenClassName && classList.remove(parentDocument.body, bodyOpenClassName);\n\n      htmlOpenClassName && classList.remove(parentDocument.getElementsByTagName(\"html\")[0], htmlOpenClassName);\n\n      // Reset aria-hidden attribute if all modals have been removed\n      if (ariaHideApp && ariaHiddenInstances > 0) {\n        ariaHiddenInstances -= 1;\n\n        if (ariaHiddenInstances === 0) {\n          ariaAppHider.show(appElement);\n        }\n      }\n\n      if (_this.props.shouldFocusAfterRender) {\n        if (_this.props.shouldReturnFocusAfterClose) {\n          focusManager.returnFocus(_this.props.preventScroll);\n          focusManager.teardownScopedFocus();\n        } else {\n          focusManager.popWithoutFocus();\n        }\n      }\n\n      if (_this.props.onAfterClose) {\n        _this.props.onAfterClose();\n      }\n\n      _portalOpenInstances2.default.deregister(_this);\n    };\n\n    _this.open = function () {\n      _this.beforeOpen();\n      if (_this.state.afterOpen && _this.state.beforeClose) {\n        clearTimeout(_this.closeTimer);\n        _this.setState({ beforeClose: false });\n      } else {\n        if (_this.props.shouldFocusAfterRender) {\n          focusManager.setupScopedFocus(_this.node);\n          focusManager.markForFocusLater();\n        }\n\n        _this.setState({ isOpen: true }, function () {\n          _this.openAnimationFrame = requestAnimationFrame(function () {\n            _this.setState({ afterOpen: true });\n\n            if (_this.props.isOpen && _this.props.onAfterOpen) {\n              _this.props.onAfterOpen({\n                overlayEl: _this.overlay,\n                contentEl: _this.content\n              });\n            }\n          });\n        });\n      }\n    };\n\n    _this.close = function () {\n      if (_this.props.closeTimeoutMS > 0) {\n        _this.closeWithTimeout();\n      } else {\n        _this.closeWithoutTimeout();\n      }\n    };\n\n    _this.focusContent = function () {\n      return _this.content && !_this.contentHasFocus() && _this.content.focus({ preventScroll: true });\n    };\n\n    _this.closeWithTimeout = function () {\n      var closesAt = Date.now() + _this.props.closeTimeoutMS;\n      _this.setState({ beforeClose: true, closesAt: closesAt }, function () {\n        _this.closeTimer = setTimeout(_this.closeWithoutTimeout, _this.state.closesAt - Date.now());\n      });\n    };\n\n    _this.closeWithoutTimeout = function () {\n      _this.setState({\n        beforeClose: false,\n        isOpen: false,\n        afterOpen: false,\n        closesAt: null\n      }, _this.afterClose);\n    };\n\n    _this.handleKeyDown = function (event) {\n      if (isTabKey(event)) {\n        (0, _scopeTab2.default)(_this.content, event);\n      }\n\n      if (_this.props.shouldCloseOnEsc && isEscKey(event)) {\n        event.stopPropagation();\n        _this.requestClose(event);\n      }\n    };\n\n    _this.handleOverlayOnClick = function (event) {\n      if (_this.shouldClose === null) {\n        _this.shouldClose = true;\n      }\n\n      if (_this.shouldClose && _this.props.shouldCloseOnOverlayClick) {\n        if (_this.ownerHandlesClose()) {\n          _this.requestClose(event);\n        } else {\n          _this.focusContent();\n        }\n      }\n      _this.shouldClose = null;\n    };\n\n    _this.handleContentOnMouseUp = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.handleOverlayOnMouseDown = function (event) {\n      if (!_this.props.shouldCloseOnOverlayClick && event.target == _this.overlay) {\n        event.preventDefault();\n      }\n    };\n\n    _this.handleContentOnClick = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.handleContentOnMouseDown = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.requestClose = function (event) {\n      return _this.ownerHandlesClose() && _this.props.onRequestClose(event);\n    };\n\n    _this.ownerHandlesClose = function () {\n      return _this.props.onRequestClose;\n    };\n\n    _this.shouldBeClosed = function () {\n      return !_this.state.isOpen && !_this.state.beforeClose;\n    };\n\n    _this.contentHasFocus = function () {\n      return document.activeElement === _this.content || _this.content.contains(document.activeElement);\n    };\n\n    _this.buildClassName = function (which, additional) {\n      var classNames = (typeof additional === \"undefined\" ? \"undefined\" : _typeof(additional)) === \"object\" ? additional : {\n        base: CLASS_NAMES[which],\n        afterOpen: CLASS_NAMES[which] + \"--after-open\",\n        beforeClose: CLASS_NAMES[which] + \"--before-close\"\n      };\n      var className = classNames.base;\n      if (_this.state.afterOpen) {\n        className = className + \" \" + classNames.afterOpen;\n      }\n      if (_this.state.beforeClose) {\n        className = className + \" \" + classNames.beforeClose;\n      }\n      return typeof additional === \"string\" && additional ? className + \" \" + additional : className;\n    };\n\n    _this.attributesFromObject = function (prefix, items) {\n      return Object.keys(items).reduce(function (acc, name) {\n        acc[prefix + \"-\" + name] = items[name];\n        return acc;\n      }, {});\n    };\n\n    _this.state = {\n      afterOpen: false,\n      beforeClose: false\n    };\n\n    _this.shouldClose = null;\n    _this.moveFromContentToOverlay = null;\n    return _this;\n  }\n\n  _createClass(ModalPortal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.isOpen) {\n        this.open();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (prevProps.bodyOpenClassName !== this.props.bodyOpenClassName) {\n          // eslint-disable-next-line no-console\n          console.warn('React-Modal: \"bodyOpenClassName\" prop has been modified. ' + \"This may cause unexpected behavior when multiple modals are open.\");\n        }\n        if (prevProps.htmlOpenClassName !== this.props.htmlOpenClassName) {\n          // eslint-disable-next-line no-console\n          console.warn('React-Modal: \"htmlOpenClassName\" prop has been modified. ' + \"This may cause unexpected behavior when multiple modals are open.\");\n        }\n      }\n\n      if (this.props.isOpen && !prevProps.isOpen) {\n        this.open();\n      } else if (!this.props.isOpen && prevProps.isOpen) {\n        this.close();\n      }\n\n      // Focus only needs to be set once when the modal is being opened\n      if (this.props.shouldFocusAfterRender && this.state.isOpen && !prevState.isOpen) {\n        this.focusContent();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.state.isOpen) {\n        this.afterClose();\n      }\n      clearTimeout(this.closeTimer);\n      cancelAnimationFrame(this.openAnimationFrame);\n    }\n  }, {\n    key: \"beforeOpen\",\n    value: function beforeOpen() {\n      var _props = this.props,\n          appElement = _props.appElement,\n          ariaHideApp = _props.ariaHideApp,\n          htmlOpenClassName = _props.htmlOpenClassName,\n          bodyOpenClassName = _props.bodyOpenClassName,\n          parentSelector = _props.parentSelector;\n\n\n      var parentDocument = parentSelector && parentSelector().ownerDocument || document;\n\n      // Add classes.\n      bodyOpenClassName && classList.add(parentDocument.body, bodyOpenClassName);\n\n      htmlOpenClassName && classList.add(parentDocument.getElementsByTagName(\"html\")[0], htmlOpenClassName);\n\n      if (ariaHideApp) {\n        ariaHiddenInstances += 1;\n        ariaAppHider.hide(appElement);\n      }\n\n      _portalOpenInstances2.default.register(this);\n    }\n\n    // Don't steal focus from inner elements\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props2 = this.props,\n          id = _props2.id,\n          className = _props2.className,\n          overlayClassName = _props2.overlayClassName,\n          defaultStyles = _props2.defaultStyles,\n          children = _props2.children;\n\n      var contentStyles = className ? {} : defaultStyles.content;\n      var overlayStyles = overlayClassName ? {} : defaultStyles.overlay;\n\n      if (this.shouldBeClosed()) {\n        return null;\n      }\n\n      var overlayProps = {\n        ref: this.setOverlayRef,\n        className: this.buildClassName(\"overlay\", overlayClassName),\n        style: _extends({}, overlayStyles, this.props.style.overlay),\n        onClick: this.handleOverlayOnClick,\n        onMouseDown: this.handleOverlayOnMouseDown\n      };\n\n      var contentProps = _extends({\n        id: id,\n        ref: this.setContentRef,\n        style: _extends({}, contentStyles, this.props.style.content),\n        className: this.buildClassName(\"content\", className),\n        tabIndex: \"-1\",\n        onKeyDown: this.handleKeyDown,\n        onMouseDown: this.handleContentOnMouseDown,\n        onMouseUp: this.handleContentOnMouseUp,\n        onClick: this.handleContentOnClick,\n        role: this.props.role,\n        \"aria-label\": this.props.contentLabel\n      }, this.attributesFromObject(\"aria\", _extends({ modal: true }, this.props.aria)), this.attributesFromObject(\"data\", this.props.data || {}), {\n        \"data-testid\": this.props.testId\n      });\n\n      var contentElement = this.props.contentElement(contentProps, children);\n      return this.props.overlayElement(overlayProps, contentElement);\n    }\n  }]);\n\n  return ModalPortal;\n}(_react.Component);\n\nModalPortal.defaultProps = {\n  style: {\n    overlay: {},\n    content: {}\n  },\n  defaultStyles: {}\n};\nModalPortal.propTypes = {\n  isOpen: _propTypes2.default.bool.isRequired,\n  defaultStyles: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  style: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),\n  overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),\n  parentSelector: _propTypes2.default.func,\n  bodyOpenClassName: _propTypes2.default.string,\n  htmlOpenClassName: _propTypes2.default.string,\n  ariaHideApp: _propTypes2.default.bool,\n  appElement: _propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default), _propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection), _propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList), _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),\n  onAfterOpen: _propTypes2.default.func,\n  onAfterClose: _propTypes2.default.func,\n  onRequestClose: _propTypes2.default.func,\n  closeTimeoutMS: _propTypes2.default.number,\n  shouldFocusAfterRender: _propTypes2.default.bool,\n  shouldCloseOnOverlayClick: _propTypes2.default.bool,\n  shouldReturnFocusAfterClose: _propTypes2.default.bool,\n  preventScroll: _propTypes2.default.bool,\n  role: _propTypes2.default.string,\n  contentLabel: _propTypes2.default.string,\n  aria: _propTypes2.default.object,\n  data: _propTypes2.default.object,\n  children: _propTypes2.default.node,\n  shouldCloseOnEsc: _propTypes2.default.bool,\n  overlayRef: _propTypes2.default.func,\n  contentRef: _propTypes2.default.func,\n  id: _propTypes2.default.string,\n  overlayElement: _propTypes2.default.func,\n  contentElement: _propTypes2.default.func,\n  testId: _propTypes2.default.string\n};\nexports.default = ModalPortal;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nexports.assertNodeList = assertNodeList;\nexports.setElement = setElement;\nexports.validateElement = validateElement;\nexports.hide = hide;\nexports.show = show;\nexports.documentNotReadyOrSSRTesting = documentNotReadyOrSSRTesting;\n\nvar _warning = require(\"warning\");\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _safeHTMLElement = require(\"./safeHTMLElement\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar globalElement = null;\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  if (globalElement) {\n    if (globalElement.removeAttribute) {\n      globalElement.removeAttribute(\"aria-hidden\");\n    } else if (globalElement.length != null) {\n      globalElement.forEach(function (element) {\n        return element.removeAttribute(\"aria-hidden\");\n      });\n    } else {\n      document.querySelectorAll(globalElement).forEach(function (element) {\n        return element.removeAttribute(\"aria-hidden\");\n      });\n    }\n  }\n  globalElement = null;\n}\n\n/* istanbul ignore next */\nfunction log() {\n  if (process.env.NODE_ENV !== \"production\") {\n    var check = globalElement || {};\n    console.log(\"ariaAppHider ----------\");\n    console.log(check.nodeName, check.className, check.id);\n    console.log(\"end ariaAppHider ----------\");\n  }\n}\n/* eslint-enable no-console */\n\nfunction assertNodeList(nodeList, selector) {\n  if (!nodeList || !nodeList.length) {\n    throw new Error(\"react-modal: No elements were found for selector \" + selector + \".\");\n  }\n}\n\nfunction setElement(element) {\n  var useElement = element;\n  if (typeof useElement === \"string\" && _safeHTMLElement.canUseDOM) {\n    var el = document.querySelectorAll(useElement);\n    assertNodeList(el, useElement);\n    useElement = el;\n  }\n  globalElement = useElement || globalElement;\n  return globalElement;\n}\n\nfunction validateElement(appElement) {\n  var el = appElement || globalElement;\n  if (el) {\n    return Array.isArray(el) || el instanceof HTMLCollection || el instanceof NodeList ? el : [el];\n  } else {\n    (0, _warning2.default)(false, [\"react-modal: App element is not defined.\", \"Please use `Modal.setAppElement(el)` or set `appElement={el}`.\", \"This is needed so screen readers don't see main content\", \"when modal is opened. It is not recommended, but you can opt-out\", \"by setting `ariaHideApp={false}`.\"].join(\" \"));\n\n    return [];\n  }\n}\n\nfunction hide(appElement) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = validateElement(appElement)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var el = _step.value;\n\n      el.setAttribute(\"aria-hidden\", \"true\");\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nfunction show(appElement) {\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = validateElement(appElement)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var el = _step2.value;\n\n      el.removeAttribute(\"aria-hidden\");\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n}\n\nfunction documentNotReadyOrSSRTesting() {\n  globalElement = null;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\n\nvar _portalOpenInstances = require(\"./portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Body focus trap see Issue #742\n\nvar before = void 0,\n    after = void 0,\n    instances = [];\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  var _arr = [before, after];\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var item = _arr[_i];\n    if (!item) continue;\n    item.parentNode && item.parentNode.removeChild(item);\n  }\n  before = after = null;\n  instances = [];\n}\n\n/* istanbul ignore next */\nfunction log() {\n  console.log(\"bodyTrap ----------\");\n  console.log(instances.length);\n  var _arr2 = [before, after];\n  for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n    var item = _arr2[_i2];\n    var check = item || {};\n    console.log(check.nodeName, check.className, check.id);\n  }\n  console.log(\"edn bodyTrap ----------\");\n}\n/* eslint-enable no-console */\n\nfunction focusContent() {\n  if (instances.length === 0) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // eslint-disable-next-line no-console\n      console.warn(\"React-Modal: Open instances > 0 expected\");\n    }\n    return;\n  }\n  instances[instances.length - 1].focusContent();\n}\n\nfunction bodyTrap(eventType, openInstances) {\n  if (!before && !after) {\n    before = document.createElement(\"div\");\n    before.setAttribute(\"data-react-modal-body-trap\", \"\");\n    before.style.position = \"absolute\";\n    before.style.opacity = \"0\";\n    before.setAttribute(\"tabindex\", \"0\");\n    before.addEventListener(\"focus\", focusContent);\n    after = before.cloneNode();\n    after.addEventListener(\"focus\", focusContent);\n  }\n\n  instances = openInstances;\n\n  if (instances.length > 0) {\n    // Add focus trap\n    if (document.body.firstChild !== before) {\n      document.body.insertBefore(before, document.body.firstChild);\n    }\n    if (document.body.lastChild !== after) {\n      document.body.appendChild(after);\n    }\n  } else {\n    // Remove focus trap\n    if (before.parentElement) {\n      before.parentElement.removeChild(before);\n    }\n    if (after.parentElement) {\n      after.parentElement.removeChild(after);\n    }\n  }\n}\n\n_portalOpenInstances2.default.subscribe(bodyTrap);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nvar htmlClassList = {};\nvar docBodyClassList = {};\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction removeClass(at, cls) {\n  at.classList.remove(cls);\n}\n\n/* istanbul ignore next */\nfunction resetState() {\n  var htmlElement = document.getElementsByTagName(\"html\")[0];\n  for (var cls in htmlClassList) {\n    removeClass(htmlElement, htmlClassList[cls]);\n  }\n\n  var body = document.body;\n  for (var _cls in docBodyClassList) {\n    removeClass(body, docBodyClassList[_cls]);\n  }\n\n  htmlClassList = {};\n  docBodyClassList = {};\n}\n\n/* istanbul ignore next */\nfunction log() {\n  if (process.env.NODE_ENV !== \"production\") {\n    var classes = document.getElementsByTagName(\"html\")[0].className;\n    var buffer = \"Show tracked classes:\\n\\n\";\n\n    buffer += \"<html /> (\" + classes + \"):\\n  \";\n    for (var x in htmlClassList) {\n      buffer += \"  \" + x + \" \" + htmlClassList[x] + \"\\n  \";\n    }\n\n    classes = document.body.className;\n\n    buffer += \"\\n\\ndoc.body (\" + classes + \"):\\n  \";\n    for (var _x in docBodyClassList) {\n      buffer += \"  \" + _x + \" \" + docBodyClassList[_x] + \"\\n  \";\n    }\n\n    buffer += \"\\n\";\n\n    console.log(buffer);\n  }\n}\n/* eslint-enable no-console */\n\n/**\n * Track the number of reference of a class.\n * @param {object} poll The poll to receive the reference.\n * @param {string} className The class name.\n * @return {string}\n */\nvar incrementReference = function incrementReference(poll, className) {\n  if (!poll[className]) {\n    poll[className] = 0;\n  }\n  poll[className] += 1;\n  return className;\n};\n\n/**\n * Drop the reference of a class.\n * @param {object} poll The poll to receive the reference.\n * @param {string} className The class name.\n * @return {string}\n */\nvar decrementReference = function decrementReference(poll, className) {\n  if (poll[className]) {\n    poll[className] -= 1;\n  }\n  return className;\n};\n\n/**\n * Track a class and add to the given class list.\n * @param {Object} classListRef A class list of an element.\n * @param {Object} poll         The poll to be used.\n * @param {Array}  classes      The list of classes to be tracked.\n */\nvar trackClass = function trackClass(classListRef, poll, classes) {\n  classes.forEach(function (className) {\n    incrementReference(poll, className);\n    classListRef.add(className);\n  });\n};\n\n/**\n * Untrack a class and remove from the given class list if the reference\n * reaches 0.\n * @param {Object} classListRef A class list of an element.\n * @param {Object} poll         The poll to be used.\n * @param {Array}  classes      The list of classes to be untracked.\n */\nvar untrackClass = function untrackClass(classListRef, poll, classes) {\n  classes.forEach(function (className) {\n    decrementReference(poll, className);\n    poll[className] === 0 && classListRef.remove(className);\n  });\n};\n\n/**\n * Public inferface to add classes to the document.body.\n * @param {string} bodyClass The class string to be added.\n *                           It may contain more then one class\n *                           with ' ' as separator.\n */\nvar add = exports.add = function add(element, classString) {\n  return trackClass(element.classList, element.nodeName.toLowerCase() == \"html\" ? htmlClassList : docBodyClassList, classString.split(\" \"));\n};\n\n/**\n * Public inferface to remove classes from the document.body.\n * @param {string} bodyClass The class string to be added.\n *                           It may contain more then one class\n *                           with ' ' as separator.\n */\nvar remove = exports.remove = function remove(element, classString) {\n  return untrackClass(element.classList, element.nodeName.toLowerCase() == \"html\" ? htmlClassList : docBodyClassList, classString.split(\" \"));\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  focusLaterElements = [];\n}\n\n/* istanbul ignore next */\nfunction log() {\n  if (process.env.NODE_ENV !== \"production\") {\n    console.log(\"focusManager ----------\");\n    focusLaterElements.forEach(function (f) {\n      var check = f || {};\n      console.log(check.nodeName, check.className, check.id);\n    });\n    console.log(\"end focusManager ----------\");\n  }\n}\n/* eslint-enable no-console */\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n    if (!modalElement) {\n      return;\n    }\n    // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n\n/* eslint-disable no-console */\nfunction returnFocus() {\n  var preventScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var toFocus = null;\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus({ preventScroll: preventScroll });\n    }\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.log = log;\nexports.resetState = resetState;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Tracks portals that are open and emits events to subscribers\n\nvar PortalOpenInstances = function PortalOpenInstances() {\n  var _this = this;\n\n  _classCallCheck(this, PortalOpenInstances);\n\n  this.register = function (openInstance) {\n    if (_this.openInstances.indexOf(openInstance) !== -1) {\n      if (process.env.NODE_ENV !== \"production\") {\n        // eslint-disable-next-line no-console\n        console.warn(\"React-Modal: Cannot register modal instance that's already open\");\n      }\n      return;\n    }\n    _this.openInstances.push(openInstance);\n    _this.emit(\"register\");\n  };\n\n  this.deregister = function (openInstance) {\n    var index = _this.openInstances.indexOf(openInstance);\n    if (index === -1) {\n      if (process.env.NODE_ENV !== \"production\") {\n        // eslint-disable-next-line no-console\n        console.warn(\"React-Modal: Unable to deregister \" + openInstance + \" as \" + \"it was never registered\");\n      }\n      return;\n    }\n    _this.openInstances.splice(index, 1);\n    _this.emit(\"deregister\");\n  };\n\n  this.subscribe = function (callback) {\n    _this.subscribers.push(callback);\n  };\n\n  this.emit = function (eventType) {\n    _this.subscribers.forEach(function (subscriber) {\n      return subscriber(eventType,\n      // shallow copy to avoid accidental mutation\n      _this.openInstances.slice());\n    });\n  };\n\n  this.openInstances = [];\n  this.subscribers = [];\n};\n\nvar portalOpenInstances = new PortalOpenInstances();\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction log() {\n  console.log(\"portalOpenInstances ----------\");\n  console.log(portalOpenInstances.openInstances.length);\n  portalOpenInstances.openInstances.forEach(function (p) {\n    return console.log(p);\n  });\n  console.log(\"end portalOpenInstances ----------\");\n}\n\n/* istanbul ignore next */\nfunction resetState() {\n  portalOpenInstances = new PortalOpenInstances();\n}\n/* eslint-enable no-console */\n\nexports.default = portalOpenInstances;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canUseDOM = exports.SafeNodeList = exports.SafeHTMLCollection = undefined;\n\nvar _exenv = require(\"exenv\");\n\nvar _exenv2 = _interopRequireDefault(_exenv);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EE = _exenv2.default;\n\nvar SafeHTMLElement = EE.canUseDOM ? window.HTMLElement : {};\n\nvar SafeHTMLCollection = exports.SafeHTMLCollection = EE.canUseDOM ? window.HTMLCollection : {};\n\nvar SafeNodeList = exports.SafeNodeList = EE.canUseDOM ? window.NodeList : {};\n\nvar canUseDOM = exports.canUseDOM = EE.canUseDOM;\n\nexports.default = SafeHTMLElement;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = scopeTab;\n\nvar _tabbable = require(\"./tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getActiveElement() {\n  var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\n  return el.activeElement.shadowRoot ? getActiveElement(el.activeElement.shadowRoot) : el.activeElement;\n}\n\nfunction scopeTab(node, event) {\n  var tabbable = (0, _tabbable2.default)(node);\n\n  if (!tabbable.length) {\n    // Do nothing, since there are no elements that can receive focus.\n    event.preventDefault();\n    return;\n  }\n\n  var target = void 0;\n\n  var shiftKey = event.shiftKey;\n  var head = tabbable[0];\n  var tail = tabbable[tabbable.length - 1];\n  var activeElement = getActiveElement();\n\n  // proceed with default browser behavior on tab.\n  // Focus on last element on shift + tab.\n  if (node === activeElement) {\n    if (!shiftKey) return;\n    target = tail;\n  }\n\n  if (tail === activeElement && !shiftKey) {\n    target = head;\n  }\n\n  if (head === activeElement && shiftKey) {\n    target = tail;\n  }\n\n  if (target) {\n    event.preventDefault();\n    target.focus();\n    return;\n  }\n\n  // Safari radio issue.\n  //\n  // Safari does not move the focus to the radio button,\n  // so we need to force it to really walk through all elements.\n  //\n  // This is very error prone, since we are trying to guess\n  // if it is a safari browser from the first occurence between\n  // chrome or safari.\n  //\n  // The chrome user agent contains the first ocurrence\n  // as the 'chrome/version' and later the 'safari/version'.\n  var checkSafari = /(\\bChrome\\b|\\bSafari\\b)\\//.exec(navigator.userAgent);\n  var isSafariDesktop = checkSafari != null && checkSafari[1] != \"Chrome\" && /\\biPod\\b|\\biPad\\b/g.exec(navigator.userAgent) == null;\n\n  // If we are not in safari desktop, let the browser control\n  // the focus\n  if (!isSafariDesktop) return;\n\n  var x = tabbable.indexOf(activeElement);\n\n  if (x > -1) {\n    x += shiftKey ? -1 : 1;\n  }\n\n  target = tabbable[x];\n\n  // If the tabbable element does not exist,\n  // focus head/tail based on shiftKey\n  if (typeof target === \"undefined\") {\n    event.preventDefault();\n    target = shiftKey ? tail : head;\n    target.focus();\n    return;\n  }\n\n  event.preventDefault();\n\n  target.focus();\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = findTabbableDescendants;\n/*!\n * Adapted from jQuery UI core\n *\n * http://jqueryui.com\n *\n * Copyright 2014 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/ui-core/\n */\n\nvar DISPLAY_NONE = \"none\";\nvar DISPLAY_CONTENTS = \"contents\";\n\n// match the whole word to prevent fuzzy searching\nvar tabbableNode = /^(input|select|textarea|button|object|iframe)$/;\n\nfunction isNotOverflowing(element, style) {\n  return style.getPropertyValue(\"overflow\") !== \"visible\" ||\n  // if 'overflow: visible' set, check if there is actually any overflow\n  element.scrollWidth <= 0 && element.scrollHeight <= 0;\n}\n\nfunction hidesContents(element) {\n  var zeroSize = element.offsetWidth <= 0 && element.offsetHeight <= 0;\n\n  // If the node is empty, this is good enough\n  if (zeroSize && !element.innerHTML) return true;\n\n  try {\n    // Otherwise we need to check some styles\n    var style = window.getComputedStyle(element);\n    var displayValue = style.getPropertyValue(\"display\");\n    return zeroSize ? displayValue !== DISPLAY_CONTENTS && isNotOverflowing(element, style) : displayValue === DISPLAY_NONE;\n  } catch (exception) {\n    // eslint-disable-next-line no-console\n    console.warn(\"Failed to inspect element style\");\n    return false;\n  }\n}\n\nfunction visible(element) {\n  var parentElement = element;\n  var rootNode = element.getRootNode && element.getRootNode();\n  while (parentElement) {\n    if (parentElement === document.body) break;\n\n    // if we are not hidden yet, skip to checking outside the Web Component\n    if (rootNode && parentElement === rootNode) parentElement = rootNode.host.parentNode;\n\n    if (hidesContents(parentElement)) return false;\n    parentElement = parentElement.parentNode;\n  }\n  return true;\n}\n\nfunction focusable(element, isTabIndexNotNaN) {\n  var nodeName = element.nodeName.toLowerCase();\n  var res = tabbableNode.test(nodeName) && !element.disabled || (nodeName === \"a\" ? element.href || isTabIndexNotNaN : isTabIndexNotNaN);\n  return res && visible(element);\n}\n\nfunction tabbable(element) {\n  var tabIndex = element.getAttribute(\"tabindex\");\n  if (tabIndex === null) tabIndex = undefined;\n  var isTabIndexNaN = isNaN(tabIndex);\n  return (isTabIndexNaN || tabIndex >= 0) && focusable(element, !isTabIndexNaN);\n}\n\nfunction findTabbableDescendants(element) {\n  var descendants = [].slice.call(element.querySelectorAll(\"*\"), 0).reduce(function (finished, el) {\n    return finished.concat(!el.shadowRoot ? [el] : findTabbableDescendants(el.shadowRoot));\n  }, []);\n  return descendants.filter(tabbable);\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Modal = require(\"./components/Modal\");\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Modal2.default;\nmodule.exports = exports[\"default\"];","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.act = function () {\n  throw Error(\"act(...) is not supported in production builds of React.\");\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.0.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0), requestHostCallback();\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return exports.unstable_now() - startTime < frameInterval ? !1 : !0;\n}\nfunction performWorkUntilDeadline() {\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostCallback() {\n  isMessageLoopRunning ||\n    ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n}\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_continueExecution = function () {\n  isHostCallbackScheduled ||\n    isPerformingWork ||\n    ((isHostCallbackScheduled = !0), requestHostCallback());\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_getFirstCallbackNode = function () {\n  return peek(taskQueue);\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_pauseExecution = function () {};\nexports.unstable_requestPaint = function () {};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0), requestHostCallback()));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","import './styles.css';\r\nimport '../../assets/logo.jpeg';\r\nimport logo from '../../assets/logo.jpeg';\r\n\r\n\r\ninterface TopBarProps {\r\n    title: string;\r\n}\r\n\r\nexport function TopBar({ title }: TopBarProps) {\r\n    return (\r\n        <div id=\"top-bar\">\r\n            <img src={logo} alt=\"logo\" />\r\n            <h1>{title}</h1>\r\n        </div>\r\n    );\r\n}","// src/context/ModalContext.tsx\r\nimport React, { createContext, useState, useContext } from \"react\";\r\n\r\ninterface ModalNewClientContextType {\r\n    isOpen: boolean;\r\n    openModalNewClient: () => void;\r\n    closeModalNewClient: () => void;\r\n}\r\n\r\nconst ModalNewClientContext = createContext<ModalNewClientContextType | undefined>(undefined);\r\n\r\nexport const ModalNewClientProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const openModalNewClient = () => setIsOpen(true);\r\n    const closeModalNewClient = () => setIsOpen(false);\r\n\r\n\r\n\r\n    return (\r\n        <ModalNewClientContext.Provider value={{ isOpen, openModalNewClient, closeModalNewClient }}>\r\n            {children}\r\n        </ModalNewClientContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useModalNewClient = () => {\r\n    const context = useContext(ModalNewClientContext);\r\n    if (!context) {\r\n        throw new Error(\"useModal must be used within a ModalProvider\");\r\n    }\r\n    return context;\r\n};","import React, { createContext, useState, useContext } from \"react\";\r\n\r\ninterface ModalNewProductContextType {\r\n    isOpen: boolean;\r\n    openModalNewProduct: () => void;\r\n    closeModalNewProduct: () => void;\r\n}\r\n\r\nconst ModalNewProductContext = createContext<ModalNewProductContextType>({\r\n    isOpen: false,\r\n    openModalNewProduct: () => {},\r\n    closeModalNewProduct: () => {},\r\n})\r\n\r\nexport const ModalNewProductProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const openModalNewProduct = () => setIsOpen(true);\r\n    const closeModalNewProduct = () => setIsOpen(false);\r\n\r\n    return (\r\n        <ModalNewProductContext.Provider value={{ isOpen, openModalNewProduct, closeModalNewProduct }}>\r\n            {children}\r\n        </ModalNewProductContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useModalNewProduct = () => {\r\n    const context = useContext(ModalNewProductContext);\r\n    if (!context) {\r\n        throw new Error(\"useModal must be used within a ModalProvider\");\r\n    }\r\n    return context;\r\n}","import React, { createContext, useState, useContext } from \"react\";\r\n\r\ninterface ModalNewSaleContexType {\r\n    isOpen: boolean;\r\n    openModalNewSale: () => void;\r\n    closeModalNewSale: () => void;\r\n}\r\n\r\nconst ModalNewSaleContext = createContext<ModalNewSaleContexType>({\r\n    isOpen: false,\r\n    openModalNewSale: () => {},\r\n    closeModalNewSale: () => {},\r\n})\r\n\r\nexport const ModalNewSaleProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const openModalNewSale = () => setIsOpen(true);\r\n    const closeModalNewSale = () => setIsOpen(false);\r\n\r\n    return (\r\n        <ModalNewSaleContext.Provider value={{ isOpen, openModalNewSale, closeModalNewSale }}>\r\n            {children}\r\n        </ModalNewSaleContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useModalNewSale = () => {\r\n    const context = useContext(ModalNewSaleContext);\r\n    if (!context) {\r\n        throw new Error(\"useModal must be used within a ModalProvider\");\r\n    }\r\n    return context;\r\n}","import React, { createContext, useState, useContext } from \"react\";\r\n\r\ninterface ModalNewSpentContextType {\r\n    isOpen: boolean;\r\n    openModalNewSpent: () => void;\r\n    closeModalNewSpent: () => void;\r\n}\r\n\r\nconst ModalNewSpentContext = createContext<ModalNewSpentContextType>({\r\n    isOpen: false,\r\n    openModalNewSpent: () => {},\r\n    closeModalNewSpent: () => {},\r\n})\r\n\r\nexport const ModalNewSpentProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const openModalNewSpent = () => setIsOpen(true);\r\n    const closeModalNewSpent = () => setIsOpen(false);\r\n\r\n    return (\r\n        <ModalNewSpentContext.Provider value={{ isOpen, openModalNewSpent, closeModalNewSpent }}>\r\n            {children}\r\n        </ModalNewSpentContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useModalNewSpent = () => {\r\n    const context = useContext(ModalNewSpentContext);\r\n    if (!context) {\r\n        throw new Error('useModalNewSpent must be used within a ModalNewSpentProvider');\r\n    }\r\n    return context;\r\n}","import React, { useState } from \"react\";\r\nimport { useModalNewClient } from \"../../context/modalNewClientContext\";\r\nimport { useModalNewProduct } from \"../../context/modalNewProductContext\";\r\nimport { useModalNewSale } from \"../../context/modalNewSaleContext\";\r\nimport { useModalNewSpent } from \"../../context/modalNewSpent\";\r\nimport './styles.css';\r\n\r\ninterface SideBarProps {\r\n    title: string;\r\n    setIsOpenSales: React.Dispatch<React.SetStateAction<boolean>>;\r\n    setIsOpenClients: React.Dispatch<React.SetStateAction<boolean>>;\r\n    setIsOpenProducts: React.Dispatch<React.SetStateAction<boolean>>;\r\n    setIsOpenFinanceControl: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport function SideBar({ title, setIsOpenSales, setIsOpenClients, setIsOpenProducts, setIsOpenFinanceControl }: SideBarProps) {\r\n    // Estado para rastrear o botão ativo\r\n    const [activeButton, setActiveButton] = useState<string | null>(null);\r\n    const { openModalNewClient } = useModalNewClient();\r\n    const { openModalNewProduct } = useModalNewProduct();\r\n    const { openModalNewSale } = useModalNewSale();\r\n    const { openModalNewSpent } = useModalNewSpent();\r\n\r\n    const handleListClients = () => {\r\n        console.log(\"Listando clientes...\");\r\n        setIsOpenSales(false);\r\n        setIsOpenProducts(false);\r\n        setIsOpenFinanceControl(false);\r\n        setIsOpenClients(true);\r\n        setActiveButton(\"listClients\");\r\n    };\r\n\r\n    const handleListProducts = () => {\r\n        console.log(\"Listando produtos...\");\r\n        setIsOpenSales(false);\r\n        setIsOpenClients(false);\r\n        setIsOpenFinanceControl(false);\r\n        setIsOpenProducts(true);\r\n        setActiveButton(\"listProducts\");\r\n    };\r\n\r\n    const handleListSales = () => {\r\n        console.log(\"Listando vendas...\");\r\n        setIsOpenClients(false);\r\n        setIsOpenProducts(false);\r\n        setIsOpenFinanceControl(false);\r\n        setIsOpenSales(true);\r\n        setActiveButton(\"listSales\");\r\n    };\r\n\r\n    const handleFinanceControl = () => {\r\n        setIsOpenClients(false);\r\n        setIsOpenProducts(false);\r\n        setIsOpenSales(false);  \r\n        setIsOpenFinanceControl(true);\r\n        setActiveButton(\"financeControl\");\r\n    };\r\n\r\n    return (\r\n        <div id=\"side-bar\">\r\n            <h1>{title}</h1>\r\n\r\n            {/* Botões de Cadastro */}\r\n            <button\r\n                id=\"registerClient\"\r\n                onClick={() => openModalNewClient()}\r\n                className={activeButton === \"registerClient\" ? \"active\" : \"\"}\r\n            >\r\n                <svg className=\"icon\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v5h-2zm-1 8h2v2h-2z\" />\r\n                </svg>\r\n                Cadastrar Cliente\r\n            </button>\r\n            <button\r\n                id=\"registerProduct\"\r\n                onClick={() => openModalNewProduct()}\r\n                className={activeButton === \"registerProduct\" ? \"active\" : \"\"}\r\n            >\r\n                <svg className=\"icon\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v5h-2zm-1 8h2v2h-2z\" />\r\n                </svg>\r\n                Cadastrar Produto\r\n            </button>\r\n            <button\r\n                id=\"registerSale\"\r\n                onClick={() => openModalNewSale()}\r\n                className={activeButton === \"registerSale\" ? \"active\" : \"\"}\r\n            >\r\n                <svg className=\"icon\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v5h-2zm-1 8h2v2h-2z\" />\r\n                </svg>\r\n                Cadastrar Venda\r\n            </button>\r\n            <button\r\n                id=\"registerSpent\"\r\n                onClick={() => openModalNewSpent()}\r\n                className={activeButton === \"registerSpent\" ? \"active\" : \"\"}\r\n            >\r\n                <svg className=\"icon\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v5h-2zm-1 8h2v2h-2z\" />\r\n                </svg>\r\n                Cadastrar Despesa\r\n            </button>\r\n\r\n            {/* Botões de Listagem */}\r\n            <button\r\n                id=\"listClients\"\r\n                onClick={handleListClients}\r\n                className={activeButton === \"listClients\" ? \"active\" : \"\"}\r\n            >\r\n                <svg className=\"icon\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M4 12c0-4.41 3.59-8 8-8 1.85 0 3.55.63 4.9 1.69L21 4v16H7c-1.1 0-2-.9-2-2V12zm9 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z\" />\r\n                </svg>\r\n                Listar Clientes\r\n            </button>\r\n            <button\r\n                id=\"listProducts\"\r\n                onClick={handleListProducts}\r\n                className={activeButton === \"listProducts\" ? \"active\" : \"\"}\r\n            >\r\n                <svg className=\"icon\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M4 12c0-4.41 3.59-8 8-8 1.85 0 3.55.63 4.9 1.69L21 4v16H7c-1.1 0-2-.9-2-2V12zm9 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z\" />\r\n                </svg>\r\n                Listar Produtos\r\n            </button>\r\n            <button\r\n                id=\"listSales\"\r\n                onClick={handleListSales}\r\n                className={activeButton === \"listSales\" ? \"active\" : \"\"}\r\n            >\r\n                <svg className=\"icon\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v5h-2zm-1 8h2v2h-2z\" />\r\n                </svg>\r\n                Listar Vendas\r\n            </button>\r\n\r\n            {/* Botão de Controle Financeiro */}\r\n            <button\r\n                id=\"financeControl\"\r\n                onClick={handleFinanceControl}\r\n                className={activeButton === \"financeControl\" ? \"active\" : \"\"}\r\n            >\r\n                <svg className=\"icon\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v5h-2zm-1 8h2v2h-2z\" />\r\n                </svg>\r\n                Controle Financeiro\r\n            </button>\r\n\r\n            <footer>\r\n                © 2023 Controle de Estoque\r\n            </footer>\r\n        </div>\r\n    );\r\n}","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0]\n  }\n\n  return str;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n}\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n}\n\nexport default isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader)\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      })\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\n\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.7.9\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","import axios from 'axios';\r\n\r\nexport const api = axios.create({\r\n    baseURL: 'http://127.0.0.1:5000',  // Endereço do Flask\r\n});","import React, { createContext, useState, useContext, useEffect } from \"react\";\r\nimport { api } from \"../services/api\";\r\n\r\ninterface Sale {\r\n  CO_ID: number;\r\n  DT_DATE: string;\r\n  CO_CLIENT: string;\r\n  CG_CITY: string;\r\n  CO_PRODUCT: string;\r\n  CD_QUANTITY: number;\r\n  VL_VALUE: number;\r\n  CO_SELLER: string;\r\n}\r\n\r\ntype SaleEntry = Omit<Sale, \"CO_ID\">;\r\n\r\ninterface SalesContextData {\r\n  tbSales: Sale[];\r\n  createSale: (sale: SaleEntry) => Promise<void>;\r\n  isOpenSales: boolean;\r\n  setIsOpenSales: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\ninterface ProviderSalesProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst TableContext = createContext<SalesContextData>({} as SalesContextData);\r\n\r\nexport const TableSalesProvider: React.FC<ProviderSalesProps> = ({ children }) => {\r\n  const [tbSales, setTbSales] = useState<Sale[]>([]);\r\n  const [isOpenSales, setIsOpenSales] = useState(false);\r\n\r\n  useEffect(() => {\r\n    api.get(\"/sales\").then((response) => {\r\n      const data = response.data.tbSales || [];\r\n      setTbSales(data);\r\n    });\r\n  }, []);\r\n\r\n  async function createSale(sale: SaleEntry) {\r\n    const response = await api.post(\"/sales\", sale);\r\n    const data = response.data.sale;\r\n    setTbSales([...tbSales, data]);\r\n  }\r\n\r\n  return (\r\n    <TableContext.Provider value={{ tbSales, createSale, isOpenSales, setIsOpenSales }}>\r\n      {children}\r\n    </TableContext.Provider>\r\n  );\r\n};\r\n\r\nexport function useTableSales(): SalesContextData {\r\n  const context = useContext(TableContext);\r\n  if (!context) {\r\n    throw new Error(\"useTableSales must be used within a TableSalesProvider\");\r\n  }\r\n  return context;\r\n}","import React, { useState } from \"react\";\r\nimport './styles.css';\r\nimport { useTableSales } from \"../../context/tableSalesContext\";\r\n\r\nexport function TableSales() {\r\n    const { tbSales, isOpenSales } = useTableSales();\r\n\r\n    const [CG_CITY_FILTER, setCG_CITY_FILTER] = useState<string>(\"\");\r\n    const [CO_PRODUCT_FILTER, setCO_PRODUCT_FILTER] = useState<string>(\"\");\r\n    const [MONTH_FILTER, setMONTH_FILTER] = useState<string>(\"\");\r\n    const [CO_CLIENT_FILTER, setCO_CLIENT_FILTER] = useState<string>(\"\");\r\n\r\n    // Função para extrair o mês\r\n    const extractMonth = (DT_DATE: string): string => {\r\n        return DT_DATE.split(\"/\")[1];\r\n    };\r\n\r\n    // Função para formatar a data no padrão DD/MM/YYYY usando UTC\r\n    const formatDate = (dateValue: string): string => {\r\n        console.log(\"Data antes de formatar:\", dateValue);\r\n\r\n        // Verifica se já está no formato DD/MM/YYYY\r\n        if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateValue)) {\r\n            console.log(\"Data depois de formatar (já formatada):\", dateValue);\r\n            return dateValue;\r\n        }\r\n\r\n        // Tenta converter a string para um objeto Date\r\n        const date = new Date(dateValue);\r\n\r\n        if (isNaN(date.getTime())) {\r\n            console.log(\"Data depois de formatar (inválida):\", \"Data inválida\");\r\n            return \"Data inválida\";\r\n        }\r\n\r\n        // Extrai dia, mês e ano usando métodos UTC para evitar deslocamento de fuso\r\n        const day = String(date.getUTCDate()).padStart(2, \"0\");\r\n        const month = String(date.getUTCMonth() + 1).padStart(2, \"0\"); // +1 porque meses começam em 0\r\n        const year = date.getUTCFullYear();\r\n        const formattedDate = `${day}/${month}/${year}`;\r\n        console.log(\"Data depois de formatar:\", formattedDate);\r\n        return formattedDate;\r\n    };\r\n\r\n    const filteredSales = tbSales.filter((sale) => {\r\n        const matchesCity = CG_CITY_FILTER ? sale.CG_CITY === CG_CITY_FILTER : true;\r\n        const matchesProduct = CO_PRODUCT_FILTER ? sale.CO_PRODUCT === CO_PRODUCT_FILTER : true;\r\n        const matchesMonth = MONTH_FILTER ? extractMonth(sale.DT_DATE) === MONTH_FILTER : true;\r\n        const matchesClient = CO_CLIENT_FILTER ? sale.CO_CLIENT === CO_CLIENT_FILTER : true;\r\n\r\n        return matchesCity && matchesProduct && matchesMonth && matchesClient;\r\n    });\r\n\r\n    const uniqueCities = Array.from(new Set(tbSales.map((s) => s.CG_CITY)));\r\n    const uniqueProducts = Array.from(new Set(tbSales.map((s) => s.CO_PRODUCT)));\r\n    const uniqueMonths = Array.from(new Set(tbSales.map((s) => extractMonth(s.DT_DATE))));\r\n    const uniqueClients = Array.from(new Set(tbSales.map((s) => s.CO_CLIENT)));\r\n\r\n    if (!isOpenSales) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"table-container\">\r\n            <div className=\"filters\">\r\n                <div className=\"filter-item\">\r\n                    <label htmlFor=\"CG_CITY\">Filtrar por Cidade:</label>\r\n                    <select\r\n                        id=\"CG_CITY\"\r\n                        className=\"DropdownFiltersTable\"\r\n                        value={CG_CITY_FILTER}\r\n                        onChange={(e) => setCG_CITY_FILTER(e.target.value)}\r\n                    >\r\n                        <option value=\"\">Todas as cidades</option>\r\n                        {uniqueCities.map((city) => (\r\n                            <option key={city} value={city}>\r\n                                {city}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"filter-item\">\r\n                    <label htmlFor=\"CO_PRODUCT\">Filtrar por Produto:</label>\r\n                    <select\r\n                        id=\"CO_PRODUCT\"\r\n                        className=\"DropdownFiltersTable\"\r\n                        value={CO_PRODUCT_FILTER}\r\n                        onChange={(e) => setCO_PRODUCT_FILTER(e.target.value)}\r\n                    >\r\n                        <option value=\"\">Todos os produtos</option>\r\n                        {uniqueProducts.map((product) => (\r\n                            <option key={product} value={product}>\r\n                                {product}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"filter-item\">\r\n                    <label htmlFor=\"MONTH\">Filtrar por Mês:</label>\r\n                    <select\r\n                        id=\"MONTH\"\r\n                        className=\"DropdownFiltersTable\"\r\n                        value={MONTH_FILTER}\r\n                        onChange={(e) => setMONTH_FILTER(e.target.value)}\r\n                    >\r\n                        <option value=\"\">Todos os meses</option>\r\n                        {uniqueMonths.map((month) => (\r\n                            <option key={month} value={month}>\r\n                                {month}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"filter-item\">\r\n                    <label htmlFor=\"CO_CLIENT\">Filtrar por Cliente:</label>\r\n                    <select\r\n                        id=\"CO_CLIENT\"\r\n                        className=\"DropdownFiltersTable\"\r\n                        value={CO_CLIENT_FILTER}\r\n                        onChange={(e) => setCO_CLIENT_FILTER(e.target.value)}\r\n                    >\r\n                        <option value=\"\">Todos os clientes</option>\r\n                        {uniqueClients.map((client) => (\r\n                            <option key={client} value={client}>\r\n                                {client}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Data</th>\r\n                        <th>Cliente</th>\r\n                        <th>Cidade</th>\r\n                        <th>Produto</th>\r\n                        <th>Quantidade</th>\r\n                        <th>Valor</th>\r\n                        <th>Vendedor</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {filteredSales.length > 0 ? (\r\n                        filteredSales.map((sale) => (\r\n                            <tr key={sale.CO_ID}>\r\n                                <td>{formatDate(sale.DT_DATE)}</td>\r\n                                <td>{sale.CO_CLIENT}</td>\r\n                                <td>{sale.CG_CITY}</td>\r\n                                <td>{sale.CO_PRODUCT}</td>\r\n                                <td>{sale.CD_QUANTITY}</td>\r\n                                <td>R$ {sale.VL_VALUE}</td>\r\n                                <td>{sale.CO_SELLER}</td>\r\n                            </tr>\r\n                        ))\r\n                    ) : (\r\n                        <tr>\r\n                            <td colSpan={7}>Nenhuma venda encontrada</td>\r\n                        </tr>\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}","import React, { createContext, useState, useContext, useEffect } from \"react\";\r\nimport { api } from \"../services/api\";\r\n\r\ninterface Client {\r\n    CO_ID: number;\r\n    CO_NAME: string;\r\n    VL_BALANCE: number;\r\n    CO_PHONE: string;\r\n    CG_ADDRESS: string;\r\n    CG_CITY: string;\r\n}\r\n\r\ntype ClientEntry = Omit<Client, \"CO_ID\">;\r\n\r\ninterface ClientsContextData {\r\n    tbClients: Client[];\r\n    createClient: (client: ClientEntry) => Promise<void>;\r\n    isOpenClients: boolean;\r\n    setIsOpenClients: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\ninterface ProviderClientsProps {\r\n    children: React.ReactNode;\r\n}\r\n\r\nconst ClientsContext = createContext<ClientsContextData>({} as ClientsContextData);\r\n\r\nexport const TableClientsProvider: React.FC<ProviderClientsProps> = ({ children }) => {\r\n    const [tbClients, setTbClients] = useState<Client[]>([]);\r\n    const [isOpenClients, setIsOpenClients] = useState(false);\r\n\r\n    useEffect(() => {\r\n        api.get(\"/clients\").then((response) => {\r\n            const data = response.data.tbClients || [];\r\n            console.log(\"resposta da api\", data);\r\n            setTbClients(data);\r\n        });\r\n    }, []);\r\n\r\n    async function createClient(client: ClientEntry) {\r\n        const response = await api.post(\"/clients\", client);\r\n        const data = response.data.client;\r\n        setTbClients([...tbClients, data]);\r\n    }\r\n\r\n    return (\r\n        <ClientsContext.Provider value={{ tbClients, createClient, isOpenClients, setIsOpenClients }}>\r\n            {children}\r\n        </ClientsContext.Provider>\r\n    );\r\n};\r\n\r\nexport function useTableClients(): ClientsContextData {\r\n    const context = useContext(ClientsContext);\r\n    if (!context) {\r\n        throw new Error(\"useTableClients must be used within a TableClientsProvider\");\r\n    }\r\n    return context;\r\n}","import React, { useState } from \"react\";\r\nimport './styles.css';\r\nimport { useTableClients } from \"../../context/tableClientsContext\";\r\n\r\nexport function TableClients() {\r\n    const { tbClients, isOpenClients } = useTableClients();\r\n    const [CG_CITY_FILTER, setCG_CITY_FILTER] = useState(\"\");\r\n    const [BALANCE_TYPE_FILTER, setBALANCE_TYPE_FILTER] = useState(\"\");\r\n\r\n    if (!isOpenClients) {\r\n        return null;\r\n    }\r\n\r\n    // Função para formatar o saldo\r\n    const formatBalance = (VL_BALANCE: number | string): string => {\r\n        const balanceNumber = typeof VL_BALANCE === \"string\" ? parseFloat(VL_BALANCE) : VL_BALANCE;\r\n\r\n        if (isNaN(balanceNumber)) {\r\n            return \"R$ 0.00\";\r\n        }\r\n\r\n        if (balanceNumber > 0) {\r\n            return `+ R$ ${balanceNumber.toFixed(2)}`;\r\n        } else if (balanceNumber < 0) {\r\n            return `- R$ ${Math.abs(balanceNumber).toFixed(2)}`;\r\n        } else {\r\n            return `R$ 0.00`;\r\n        }\r\n    };\r\n\r\n    // Função para formatar o telefone\r\n    const formatPhone = (phone: string | number): string => {\r\n        // Converte para string e remove caracteres não numéricos\r\n        const phoneStr = String(phone).replace(/\\D/g, \"\");\r\n\r\n        // Verifica o tamanho do número para aplicar a máscara correta\r\n        if (phoneStr.length === 11) {\r\n            // Formato para celular com DDD: (XX) XXXXX-XXXX\r\n            return phoneStr.replace(/(\\d{2})(\\d{5})(\\d{4})/, \"($1) $2-$3\");\r\n        } else if (phoneStr.length === 10) {\r\n            // Formato para telefone fixo com DDD: (XX) XXXX-XXXX\r\n            return phoneStr.replace(/(\\d{2})(\\d{4})(\\d{4})/, \"($1) $2-$3\");\r\n        } else {\r\n            // Retorna o número sem formatação se não tiver o tamanho esperado\r\n            return phoneStr || \"Telefone inválido\";\r\n        }\r\n    };\r\n\r\n    const filteredClients = tbClients.filter((client) => {\r\n        const matchesCity = CG_CITY_FILTER ? client.CG_CITY === CG_CITY_FILTER : true;\r\n        const balanceNumber = typeof client.VL_BALANCE === \"string\" ? parseFloat(client.VL_BALANCE) : client.VL_BALANCE;\r\n        const matchesBalanceType =\r\n            BALANCE_TYPE_FILTER === \"positive\"\r\n                ? balanceNumber > 0\r\n                : BALANCE_TYPE_FILTER === \"negative\"\r\n                ? balanceNumber < 0\r\n                : true;\r\n\r\n        return matchesCity && matchesBalanceType;\r\n    });\r\n\r\n    const uniqueCities = Array.from(new Set(tbClients.map((client) => client.CG_CITY)));\r\n\r\n    return (\r\n        <div className=\"table-container\">\r\n            <div className=\"filters\">\r\n                <div className=\"filter-item\">\r\n                    <label htmlFor=\"CG_CITY\">Filtrar por Cidade:</label>\r\n                    <select\r\n                        id=\"CG_CITY\"\r\n                        className=\"DropdownFiltersTable\"\r\n                        value={CG_CITY_FILTER}\r\n                        onChange={(e) => setCG_CITY_FILTER(e.target.value)}\r\n                    >\r\n                        <option value=\"\">Todas as cidades</option>\r\n                        {uniqueCities.map((city) => (\r\n                            <option key={city} value={city}>\r\n                                {city}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"filter-item\">\r\n                    <label htmlFor=\"BALANCE_TYPE\">Filtrar por Saldo:</label>\r\n                    <select\r\n                        id=\"BALANCE_TYPE\"\r\n                        className=\"DropdownFiltersTable\"\r\n                        value={BALANCE_TYPE_FILTER}\r\n                        onChange={(e) => setBALANCE_TYPE_FILTER(e.target.value)}\r\n                    >\r\n                        <option value=\"\">Todos os saldos</option>\r\n                        <option value=\"positive\">Saldo Positivo</option>\r\n                        <option value=\"negative\">Saldo Negativo</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Nome</th>\r\n                        <th>Telefone</th>\r\n                        <th>Endereço</th>\r\n                        <th>Cidade</th>\r\n                        <th>Saldo</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {filteredClients.length > 0 ? (\r\n                        filteredClients.map((client) => (\r\n                            <tr key={client.CO_ID}>\r\n                                <td>{client.CO_NAME}</td>\r\n                                <td>{formatPhone(client.CO_PHONE)}</td> {/* Aplicando a máscara de telefone */}\r\n                                <td>{client.CG_ADDRESS}</td>\r\n                                <td>{client.CG_CITY}</td>\r\n                                <td>{formatBalance(client.VL_BALANCE)}</td>\r\n                            </tr>\r\n                        ))\r\n                    ) : (\r\n                        <tr>\r\n                            <td colSpan={5}>Nenhum cliente encontrado</td>\r\n                        </tr>\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}","import React, { createContext, useState, useContext, useEffect } from \"react\";\r\nimport { api } from \"../services/api\";\r\n\r\ninterface Product {\r\n    CO_ID: number;\r\n    CO_NAME: string;\r\n    VL_VALUE: number;\r\n    CD_QUANTITY: number;\r\n    CO_DESCRIPTION: string;\r\n}\r\n\r\ntype ProductEntry = Omit<Product, \"CO_ID\">;\r\n\r\ninterface ProductContextData {\r\n    tbProducts: Product[];\r\n    createProduct: (product: ProductEntry) => Promise<void>;\r\n    isOpenProducts: boolean;\r\n    setIsOpenProducts: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\ninterface ProviderProductsProps {\r\n    children: React.ReactNode;\r\n}\r\n\r\nconst ProductsContext = createContext<ProductContextData>({} as ProductContextData);\r\n\r\nexport const TableProductsProvider: React.FC<ProviderProductsProps> = ({ children }) => {\r\n    const [tbProducts, setTbProducts] = useState<Product[]>([]);\r\n    const [isOpenProducts, setIsOpenProducts] = useState(false);\r\n\r\n    useEffect(() => {\r\n        console.log(\"Carregando produtos da API...\");\r\n        api.get(\"/products\")\r\n            .then((response) => {\r\n                const data = response.data.tbProducts || [];\r\n                const parsedData = data.map((product: any) => ({\r\n                    ...product,\r\n                    VL_VALUE: typeof product.VL_VALUE === \"string\" ? parseFloat(product.VL_VALUE) : product.VL_VALUE,\r\n                    CD_QUANTITY: typeof product.CD_QUANTITY === \"string\" ? parseInt(product.CD_QUANTITY, 10) : product.CD_QUANTITY,\r\n                }));\r\n                console.log(\"Produtos recebidos:\", parsedData);\r\n                setTbProducts(parsedData);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Erro ao buscar produtos:\", error);\r\n            });\r\n    }, []);\r\n\r\n    async function createProduct(product: ProductEntry) {\r\n        try {\r\n            const response = await api.post(\"/products\", product);\r\n            const data = response.data.product;\r\n            const parsedProduct = {\r\n                ...data,\r\n                VL_VALUE: typeof data.VL_VALUE === \"string\" ? parseFloat(data.VL_VALUE) : data.VL_VALUE,\r\n                CD_QUANTITY: typeof data.CD_QUANTITY === \"string\" ? parseInt(data.CD_QUANTITY, 10) : data.CD_QUANTITY,\r\n            };\r\n            setTbProducts([...tbProducts, parsedProduct]);\r\n            console.log(\"Produto criado:\", parsedProduct);\r\n        } catch (error) {\r\n            console.error(\"Erro ao criar produto:\", error);\r\n        }\r\n    }\r\n\r\n    // Log para verificar alterações no estado isOpenProducts\r\n    useEffect(() => {\r\n        console.log(\"Estado isOpenProducts alterado para:\", isOpenProducts);\r\n    }, [isOpenProducts]);\r\n\r\n    return (\r\n        <ProductsContext.Provider value={{ tbProducts, createProduct, isOpenProducts, setIsOpenProducts }}>\r\n            {children}\r\n        </ProductsContext.Provider>\r\n    );\r\n};\r\n\r\nexport function useTableProducts(): ProductContextData {\r\n    const context = useContext(ProductsContext);\r\n    if (!context) {\r\n        throw new Error(\"useTableProducts must be used within a TableProductsProvider\");\r\n    }\r\n    return context;\r\n}","import React from \"react\";\r\nimport './styles.css';\r\nimport { useTableProducts } from \"../../context/tableProductsContext\";\r\n\r\nexport function TableProducts() {\r\n    const { tbProducts, isOpenProducts } = useTableProducts();\r\n\r\n    if (!isOpenProducts) {\r\n        return null;\r\n    }\r\n\r\n    // Função para formatar o valor monetário\r\n    const formatValue = (value: number | string): string => {\r\n        const valueNumber = typeof value === \"string\" ? parseFloat(value) : value;\r\n        return isNaN(valueNumber) ? \"R$ 0.00\" : `R$ ${valueNumber.toFixed(2)}`;\r\n    };\r\n\r\n    return (\r\n        <div className=\"table-container\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Nome</th>\r\n                        <th>Preço</th>\r\n                        <th>Quantidade</th>\r\n                        <th>Descrição</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {tbProducts.length > 0 ? (\r\n                        tbProducts.map((product) => (\r\n                            <tr key={product.CO_ID}>\r\n                                <td>{product.CO_NAME}</td>\r\n                                <td>{formatValue(product.VL_VALUE)}</td>\r\n                                <td>{product.CD_QUANTITY}</td>\r\n                                <td>{product.CO_DESCRIPTION}</td>\r\n                            </tr>\r\n                        ))\r\n                    ) : (\r\n                        <tr>\r\n                            <td colSpan={4}>Nenhum produto encontrado</td>\r\n                        </tr>\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}","/*!\n * @kurkle/color v0.3.4\n * https://github.com/kurkle/color#readme\n * (c) 2024 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names$1 = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","/**\n * @namespace Chart.helpers\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ActiveDataPoint, ChartEvent} from '../types/index.js';\n\n/**\n * An empty function that can be used, for example, for optional callback.\n */\nexport function noop() {\n  /* noop */\n}\n\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */\nexport const uid = (() => {\n  let id = 0;\n  return () => id++;\n})();\n\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isNullOrUndef(value: unknown): value is null | undefined {\n  return value === null || value === undefined;\n}\n\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */\nexport function isArray<T = unknown>(value: unknown): value is T[] {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isObject(value: unknown): value is AnyObject {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */\nfunction isNumberFinite(value: unknown): value is number {\n  return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\nexport {\n  isNumberFinite as isFinite,\n};\n\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */\nexport function finiteOrDefault(value: unknown, defaultValue: number) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\n\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */\nexport function valueOrDefault<T>(value: T | undefined, defaultValue: T) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\n\nexport const toPercentage = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : +value / dimension;\n\nexport const toDimension = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\n\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */\nexport function callback<T extends (this: TA, ...restArgs: unknown[]) => R, TA, R>(\n  fn: T | undefined,\n  args: unknown[],\n  thisArg?: TA\n): R | undefined {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\n\n/**\n * Note(SB) for performance sake, this method should only be used when loopable type\n * is unknown or in none intensive code (not called often and small loopable). Else\n * it's preferable to use a regular for() loop and save extra function calls.\n * @param loopable - The object or array to be iterated.\n * @param fn - The function to call for each item.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n * @param [reverse] - If true, iterates backward on the loopable.\n */\nexport function each<T, TA>(\n  loopable: Record<string, T>,\n  fn: (this: TA, v: T, i: string) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[],\n  fn: (this: TA, v: T, i: number) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[] | Record<string, T>,\n  fn: (this: TA, v: T, i: any) => void,\n  thisArg?: TA,\n  reverse?: boolean\n) {\n  let i: number, len: number, keys: string[];\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\n\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */\nexport function _elementsEqual(a0: ActiveDataPoint[], a1: ActiveDataPoint[]) {\n  let i: number, ilen: number, v0: ActiveDataPoint, v1: ActiveDataPoint;\n\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */\nexport function clone<T>(source: T): T {\n  if (isArray(source)) {\n    return source.map(clone) as unknown as T;\n  }\n\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone(source[keys[k]]);\n    }\n\n    return target;\n  }\n\n  return source;\n}\n\nfunction isValidKey(key: string) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\n\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */\nexport function _merger(key: string, target: AnyObject, source: AnyObject, options: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone(sval);\n  }\n}\n\nexport interface MergeOptions {\n  merger?: (key: string, target: AnyObject, source: AnyObject, options?: AnyObject) => void;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` with the given `options`.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @param [options] - Merging options:\n * @param [options.merger] - The merge method (key, target, source, options)\n * @returns The `target` object.\n */\nexport function merge<T>(target: T, source: [], options?: MergeOptions): T;\nexport function merge<T, S1>(target: T, source: S1, options?: MergeOptions): T & S1;\nexport function merge<T, S1>(target: T, source: [S1], options?: MergeOptions): T & S1;\nexport function merge<T, S1, S2>(target: T, source: [S1, S2], options?: MergeOptions): T & S1 & S2;\nexport function merge<T, S1, S2, S3>(target: T, source: [S1, S2, S3], options?: MergeOptions): T & S1 & S2 & S3;\nexport function merge<T, S1, S2, S3, S4>(\n  target: T,\n  source: [S1, S2, S3, S4],\n  options?: MergeOptions\n): T & S1 & S2 & S3 & S4;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n\n  if (!isObject(target)) {\n    return target as AnyObject;\n  }\n\n  options = options || {};\n  const merger = options.merger || _merger;\n  let current: AnyObject;\n\n  for (let i = 0; i < ilen; ++i) {\n    current = sources[i];\n    if (!isObject(current)) {\n      continue;\n    }\n\n    const keys = Object.keys(current);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, current, options as AnyObject);\n    }\n  }\n\n  return target;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` *only* if not defined in target.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @returns The `target` object.\n */\nexport function mergeIf<T>(target: T, source: []): T;\nexport function mergeIf<T, S1>(target: T, source: S1): T & S1;\nexport function mergeIf<T, S1>(target: T, source: [S1]): T & S1;\nexport function mergeIf<T, S1, S2>(target: T, source: [S1, S2]): T & S1 & S2;\nexport function mergeIf<T, S1, S2, S3>(target: T, source: [S1, S2, S3]): T & S1 & S2 & S3;\nexport function mergeIf<T, S1, S2, S3, S4>(target: T, source: [S1, S2, S3, S4]): T & S1 & S2 & S3 & S4;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return merge<T>(target, source, {merger: _mergerIf});\n}\n\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */\nexport function _mergerIf(key: string, target: AnyObject, source: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone(sval);\n  }\n}\n\n/**\n * @private\n */\nexport function _deprecated(scope: string, value: unknown, previous: string, current: string) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n      '\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\n\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n  // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n  '': v => v,\n  // default resolvers\n  x: o => o.x,\n  y: o => o.y\n};\n\n/**\n * @private\n */\nexport function _splitKey(key: string) {\n  const parts = key.split('.');\n  const keys: string[] = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\n\nfunction _getKeyResolver(key: string) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        // For backward compatibility:\n        // Chart.helpers.core resolveObjectKey should break at empty key\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\n\nexport function resolveObjectKey(obj: AnyObject, key: string): any {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\n\n/**\n * @private\n */\nexport function _capitalize(str: string) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\nexport const defined = (value: unknown) => typeof value !== 'undefined';\n\nexport const isFunction = (value: unknown): value is (...args: any[]) => any => typeof value === 'function';\n\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nexport const setsEqual = <T>(a: Set<T>, b: Set<T>) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @param e - The event\n * @private\n */\nexport function _isClickEvent(e: ChartEvent) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n","import type {Point} from '../types/geometric.js';\nimport {isFinite as isFiniteNumber} from './helpers.core.js';\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */\n\nexport const PI = Math.PI;\nexport const TAU = 2 * PI;\nexport const PITAU = TAU + PI;\nexport const INFINITY = Number.POSITIVE_INFINITY;\nexport const RAD_PER_DEG = PI / 180;\nexport const HALF_PI = PI / 2;\nexport const QUARTER_PI = PI / 4;\nexport const TWO_THIRDS_PI = PI * 2 / 3;\n\nexport const log10 = Math.log10;\nexport const sign = Math.sign;\n\nexport function almostEquals(x: number, y: number, epsilon: number) {\n  return Math.abs(x - y) < epsilon;\n}\n\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */\nexport function niceNum(range: number) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\n\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */\nexport function _factorize(value: number) {\n  const result: number[] = [];\n  const sqrt = Math.sqrt(value);\n  let i: number;\n\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) { // if value is a square number\n    result.push(sqrt);\n  }\n\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\n\n/**\n * Verifies that attempting to coerce n to string or number won't throw a TypeError.\n */\nfunction isNonPrimitive(n: unknown) {\n  return typeof n === 'symbol' || (typeof n === 'object' && n !== null && !(Symbol.toPrimitive in n || 'toString' in n || 'valueOf' in n));\n}\n\nexport function isNumber(n: unknown): n is number {\n  return !isNonPrimitive(n) && !isNaN(parseFloat(n as string)) && isFinite(n as number);\n}\n\nexport function almostWhole(x: number, epsilon: number) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\n\n/**\n * @private\n */\nexport function _setMinAndMaxByKey(\n  array: Record<string, number>[],\n  target: { min: number, max: number },\n  property: string\n) {\n  let i: number, ilen: number, value: number;\n\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\n\nexport function toRadians(degrees: number) {\n  return degrees * (PI / 180);\n}\n\nexport function toDegrees(radians: number) {\n  return radians * (180 / PI);\n}\n\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */\nexport function _decimalPlaces(x: number) {\n  if (!isFiniteNumber(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\n\n// Gets the angle from vertical upright to the point about a centre.\nexport function getAngleFromPoint(\n  centrePoint: Point,\n  anglePoint: Point\n) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n  if (angle < (-0.5 * PI)) {\n    angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n  }\n\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\n\nexport function distanceBetweenPoints(pt1: Point, pt2: Point) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */\nexport function _angleDiff(a: number, b: number) {\n  return (a - b + PITAU) % TAU - PI;\n}\n\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */\nexport function _normalizeAngle(a: number) {\n  return (a % TAU + TAU) % TAU;\n}\n\n/**\n * @private\n */\nexport function _angleBetween(angle: number, start: number, end: number, sameAngleIsFullCircle?: boolean) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\n\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */\nexport function _limitValue(value: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * @param {number} value\n * @private\n */\nexport function _int16Range(value: number) {\n  return _limitValue(value, -32768, 32767);\n}\n\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */\nexport function _isBetween(value: number, start: number, end: number, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n","import {_capitalize} from './helpers.core.js';\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param value - value to find\n * @param cmp\n * @private\n */\nexport function _lookup(\n  table: number[],\n  value: number,\n  cmp?: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup<T>(\n  table: T[],\n  value: number,\n  cmp: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup(\n  table: unknown[],\n  value: number,\n  cmp?: (value: number) => boolean\n) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid: number;\n\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return {lo, hi};\n}\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */\nexport const _lookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number,\n  last?: boolean\n) =>\n  _lookup(table, value, last\n    ? index => {\n      const ti = table[index][key];\n      return ti < value || ti === value && table[index + 1][key] === value;\n    }\n    : index => table[index][key] < value);\n\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */\nexport const _rlookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number\n) =>\n  _lookup(table, value, index => table[index][key] >= value);\n\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */\nexport function _filterBetween(values: number[], min: number, max: number) {\n  let start = 0;\n  let end = values.length;\n\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\n\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'] as const;\n\nexport interface ArrayListener<T> {\n  _onDataPush?(...item: T[]): void;\n  _onDataPop?(): void;\n  _onDataShift?(): void;\n  _onDataSplice?(index: number, deleteCount: number, ...items: T[]): void;\n  _onDataUnshift?(...item: T[]): void;\n}\n\n/**\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n * called on the '_onData*' callbacks (e.g. _onDataPush, etc.) with same arguments.\n */\nexport function listenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n\n        return res;\n      }\n    });\n  });\n}\n\n\n/**\n * Removes the given array event listener and cleanup extra attached properties (such as\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n */\nexport function unlistenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n\n  if (listeners.length > 0) {\n    return;\n  }\n\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n\n  delete array._chartjs;\n}\n\n/**\n * @param items\n */\nexport function _arrayUnique<T>(items: T[]) {\n  const set = new Set<T>(items);\n\n  if (set.size === items.length) {\n    return items;\n  }\n\n  return Array.from(set);\n}\n","import type {ChartMeta, PointElement} from '../types/index.js';\n\nimport {_limitValue} from './helpers.math.js';\nimport {_lookupByKey} from './helpers.collection.js';\nimport {isNullOrUndef} from './helpers.core.js';\n\nexport function fontString(pixelSize: number, fontStyle: string, fontFamily: string) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n\n/**\n* Request animation polyfill\n*/\nexport const requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\n\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */\nexport function throttled<TArgs extends Array<any>>(\n  fn: (...args: TArgs) => void,\n  thisArg: any,\n) {\n  let argsToUse = [] as TArgs;\n  let ticking = false;\n\n  return function(...args: TArgs) {\n    // Save the args for use later\n    argsToUse = args;\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, argsToUse);\n      });\n    }\n  };\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n */\nexport function debounce<TArgs extends Array<any>>(fn: (...args: TArgs) => void, delay: number) {\n  let timeout;\n  return function(...args: TArgs) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\n\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */\nexport const _toLeftRightCenter = (align: 'start' | 'end' | 'center') => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */\nexport const _alignStartEnd = (align: 'start' | 'end' | 'center', start: number, end: number) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */\nexport const _textX = (align: 'left' | 'right' | 'center', left: number, right: number, rtl: boolean) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\n/**\n * Return start and count of visible points.\n * @private\n */\nexport function _getStartAndCountOfVisiblePoints(meta: ChartMeta<'line' | 'scatter'>, points: PointElement[], animationsDisabled: boolean) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count = pointCount;\n\n  if (meta._sorted) {\n    const {iScale, vScale, _parsed} = meta;\n    const spanGaps = meta.dataset ? meta.dataset.options ? meta.dataset.options.spanGaps : null : null;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n    if (minDefined) {\n      start = Math.min(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, axis, min).lo,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo);\n      if (spanGaps) {\n        const distanceToDefinedLo = (_parsed\n          .slice(0, start + 1)\n          .reverse()\n          .findIndex(\n            point => !isNullOrUndef(point[vScale.axis])));\n        start -= Math.max(0, distanceToDefinedLo);\n      }\n      start = _limitValue(start, 0, pointCount - 1);\n    }\n    if (maxDefined) {\n      let end = Math.max(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1);\n      if (spanGaps) {\n        const distanceToDefinedHi = (_parsed\n          .slice(end - 1)\n          .findIndex(\n            point => !isNullOrUndef(point[vScale.axis])));\n        end += Math.max(0, distanceToDefinedHi);\n      }\n      count = _limitValue(end, start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {start, count};\n}\n\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */\nexport function _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n","import {PI, TAU, HALF_PI} from './helpers.math.js';\n\nconst atEdge = (t: number) => t === 0 || t === 1;\nconst elasticIn = (t: number, s: number, p: number) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t: number, s: number, p: number) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */\nconst effects = {\n  linear: (t: number) => t,\n\n  easeInQuad: (t: number) => t * t,\n\n  easeOutQuad: (t: number) => -t * (t - 2),\n\n  easeInOutQuad: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n\n  easeInCubic: (t: number) => t * t * t,\n\n  easeOutCubic: (t: number) => (t -= 1) * t * t + 1,\n\n  easeInOutCubic: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n\n  easeInQuart: (t: number) => t * t * t * t,\n\n  easeOutQuart: (t: number) => -((t -= 1) * t * t * t - 1),\n\n  easeInOutQuart: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n\n  easeInQuint: (t: number) => t * t * t * t * t,\n\n  easeOutQuint: (t: number) => (t -= 1) * t * t * t * t + 1,\n\n  easeInOutQuint: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n\n  easeInSine: (t: number) => -Math.cos(t * HALF_PI) + 1,\n\n  easeOutSine: (t: number) => Math.sin(t * HALF_PI),\n\n  easeInOutSine: (t: number) => -0.5 * (Math.cos(PI * t) - 1),\n\n  easeInExpo: (t: number) => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n\n  easeOutExpo: (t: number) => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n\n  easeInOutExpo: (t: number) => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n\n  easeInCirc: (t: number) => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n\n  easeOutCirc: (t: number) => Math.sqrt(1 - (t -= 1) * t),\n\n  easeInOutCirc: (t: number) => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n\n  easeInElastic: (t: number) => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n\n  easeOutElastic: (t: number) => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n\n  easeInOutElastic(t: number) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n\n  easeInBack(t: number) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n\n  easeOutBack(t: number) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n\n  easeInOutBack(t: number) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n\n  easeInBounce: (t: number) => 1 - effects.easeOutBounce(1 - t),\n\n  easeOutBounce(t: number) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n\n  easeInOutBounce: (t: number) => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n} as const;\n\nexport type EasingFunction = keyof typeof effects\n\nexport default effects;\n","import {Color} from '@kurkle/color';\n\nexport function isPatternOrGradient(value: unknown): value is CanvasPattern | CanvasGradient {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n\n  return false;\n}\n\nexport function color(value: CanvasGradient): CanvasGradient;\nexport function color(value: CanvasPattern): CanvasPattern;\nexport function color(\n  value:\n  | string\n  | { r: number; g: number; b: number; a: number }\n  | [number, number, number]\n  | [number, number, number, number]\n): Color;\nexport function color(value) {\n  return isPatternOrGradient(value) ? value : new Color(value);\n}\n\nexport function getHoverColor(value: CanvasGradient): CanvasGradient;\nexport function getHoverColor(value: CanvasPattern): CanvasPattern;\nexport function getHoverColor(value: string): string;\nexport function getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n","const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\n\nexport function applyAnimationsDefaults(defaults) {\n  defaults.set('animation', {\n    delay: undefined,\n    duration: 1000,\n    easing: 'easeOutQuart',\n    fn: undefined,\n    from: undefined,\n    loop: undefined,\n    to: undefined,\n    type: undefined,\n  });\n\n  defaults.describe('animation', {\n    _fallback: false,\n    _indexable: false,\n    _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n  });\n\n  defaults.set('animations', {\n    colors: {\n      type: 'color',\n      properties: colors\n    },\n    numbers: {\n      type: 'number',\n      properties: numbers\n    },\n  });\n\n  defaults.describe('animations', {\n    _fallback: 'animation',\n  });\n\n  defaults.set('transitions', {\n    active: {\n      animation: {\n        duration: 400\n      }\n    },\n    resize: {\n      animation: {\n        duration: 0\n      }\n    },\n    show: {\n      animations: {\n        colors: {\n          from: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          duration: 0 // show immediately\n        },\n      }\n    },\n    hide: {\n      animations: {\n        colors: {\n          to: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          easing: 'linear',\n          fn: v => v | 0 // for keeping the dataset visible all the way through the animation\n        },\n      }\n    }\n  });\n}\n","\nconst intlCache = new Map<string, Intl.NumberFormat>();\n\nfunction getNumberFormat(locale: string, options?: Intl.NumberFormatOptions) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\n\nexport function formatNumber(num: number, locale: string, options?: Intl.NumberFormatOptions) {\n  return getNumberFormat(locale, options).format(num);\n}\n","import {isArray} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {log10} from '../helpers/helpers.math.js';\n\n/**\n * Namespace to hold formatters for different types of ticks\n * @namespace Chart.Ticks.formatters\n */\nconst formatters = {\n  /**\n   * Formatter for value labels\n   * @method Chart.Ticks.formatters.values\n   * @param value the value to display\n   * @return {string|string[]} the label to display\n   */\n  values(value) {\n    return isArray(value) ? /** @type {string[]} */ (value) : '' + value;\n  },\n\n  /**\n   * Formatter for numeric ticks\n   * @method Chart.Ticks.formatters.numeric\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0'; // never show decimal places for 0\n    }\n\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue; // This is used when there are less than 2 ticks as the tick interval.\n\n    if (ticks.length > 1) {\n      // all ticks are small or there huge numbers; use scientific notation\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    const logDelta = log10(Math.abs(delta));\n\n    // When datasets have values approaching Number.MAX_VALUE, the tick calculations might result in\n    // infinity and eventually NaN. Passing NaN for minimumFractionDigits or maximumFractionDigits\n    // will make the number formatter throw. So instead we check for isNaN and use a fallback value.\n    //\n    // toFixed has a max of 20 decimal places\n    const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n\n    return formatNumber(tickValue, locale, options);\n  },\n\n\n  /**\n   * Formatter for logarithmic ticks\n   * @method Chart.Ticks.formatters.logarithmic\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = ticks[index].significand || (tickValue / (Math.pow(10, Math.floor(log10(tickValue)))));\n    if ([1, 2, 3, 5, 10, 15].includes(remain) || index > 0.8 * ticks.length) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n\n};\n\n\nfunction calculateDelta(tickValue, ticks) {\n  // Figure out how many digits to show\n  // The space between the first two ticks might be smaller than normal spacing\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  // If we have a number like 2.5 as the delta, figure out how many decimal places we need\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    // not an integer\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\n\n/**\n * Namespace to hold static tick generation functions\n * @namespace Chart.Ticks\n */\nexport default {formatters};\n","import {getHoverColor} from '../helpers/helpers.color.js';\nimport {isObject, merge, valueOrDefault} from '../helpers/helpers.core.js';\nimport {applyAnimationsDefaults} from './core.animations.defaults.js';\nimport {applyLayoutsDefaults} from './core.layouts.defaults.js';\nimport {applyScaleDefaults} from './core.scale.defaults.js';\n\nexport const overrides = Object.create(null);\nexport const descriptors = Object.create(null);\n\n/**\n * @param {object} node\n * @param {string} key\n * @return {object}\n */\nfunction getScope(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\n\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope(root, scope), values);\n  }\n  return merge(getScope(root, ''), scope);\n}\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Defaults {\n  constructor(_descriptors, _appliers) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n\n    this.describe(_descriptors);\n    this.apply(_appliers);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n\n  /**\n\t * @param {string} scope\n\t */\n  get(scope) {\n    return getScope(this, scope);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n\n  /**\n\t * Routes the named defaults to fallback to another scope/name.\n\t * This routing is useful when those target values, like defaults.color, are changed runtime.\n\t * If the values would be copied, the runtime change would not take effect. By routing, the\n\t * fallback is evaluated at each access, so its always up to date.\n\t *\n\t * Example:\n\t *\n\t * \tdefaults.route('elements.arc', 'backgroundColor', '', 'color')\n\t *   - reads the backgroundColor from defaults.color when undefined locally\n\t *\n\t * @param {string} scope Scope this route applies to.\n\t * @param {string} name Property name that should be routed to different namespace when not defined here.\n\t * @param {string} targetScope The namespace where those properties should be routed to.\n\t * Empty string ('') is the root of defaults.\n\t * @param {string} targetName The target name in the target scope the property should be routed to.\n\t */\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope(this, scope);\n    const targetScopeObject = getScope(this, targetScope);\n    const privateName = '_' + name;\n\n    Object.defineProperties(scopeObject, {\n      // A private property is defined to hold the actual value, when this property is set in its scope (set in the setter)\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      // The actual property is defined as getter/setter so we can do the routing when value is not locally set.\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n\n  apply(appliers) {\n    appliers.forEach((apply) => apply(this));\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n}, [applyAnimationsDefaults, applyLayoutsDefaults, applyScaleDefaults]);\n","export function applyLayoutsDefaults(defaults) {\n  defaults.set('layout', {\n    autoPadding: true,\n    padding: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }\n  });\n}\n","import Ticks from './core.ticks.js';\n\nexport function applyScaleDefaults(defaults) {\n  defaults.set('scale', {\n    display: true,\n    offset: false,\n    reverse: false,\n    beginAtZero: false,\n\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 3.0.0\n     */\n    bounds: 'ticks',\n\n    clip: true,\n\n    /**\n     * Addition grace added to max and reduced from min data value.\n     * @since 3.0.0\n     */\n    grace: 0,\n\n    // grid line settings\n    grid: {\n      display: true,\n      lineWidth: 1,\n      drawOnChartArea: true,\n      drawTicks: true,\n      tickLength: 8,\n      tickWidth: (_ctx, options) => options.lineWidth,\n      tickColor: (_ctx, options) => options.color,\n      offset: false,\n    },\n\n    border: {\n      display: true,\n      dash: [],\n      dashOffset: 0.0,\n      width: 1\n    },\n\n    // scale title\n    title: {\n      // display property\n      display: false,\n\n      // actual label\n      text: '',\n\n      // top/bottom padding\n      padding: {\n        top: 4,\n        bottom: 4\n      }\n    },\n\n    // label settings\n    ticks: {\n      minRotation: 0,\n      maxRotation: 50,\n      mirror: false,\n      textStrokeWidth: 0,\n      textStrokeColor: '',\n      padding: 3,\n      display: true,\n      autoSkip: true,\n      autoSkipPadding: 3,\n      labelOffset: 0,\n      // We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n      callback: Ticks.formatters.values,\n      minor: {},\n      major: {},\n      align: 'center',\n      crossAlign: 'near',\n\n      showLabelBackdrop: false,\n      backdropColor: 'rgba(255, 255, 255, 0.75)',\n      backdropPadding: 2,\n    }\n  });\n\n  defaults.route('scale.ticks', 'color', '', 'color');\n  defaults.route('scale.grid', 'color', '', 'borderColor');\n  defaults.route('scale.border', 'color', '', 'borderColor');\n  defaults.route('scale.title', 'color', '', 'color');\n\n  defaults.describe('scale', {\n    _fallback: false,\n    _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n    _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash',\n  });\n\n  defaults.describe('scales', {\n    _fallback: 'scale',\n  });\n\n  defaults.describe('scale.ticks', {\n    _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n    _indexable: (name) => name !== 'backdropPadding',\n  });\n}\n","import type {\n  Chart,\n  Point,\n  FontSpec,\n  CanvasFontSpec,\n  PointStyle,\n  RenderTextOpts,\n  BackdropOptions\n} from '../types/index.js';\nimport type {\n  TRBL,\n  SplinePoint,\n  RoundedRect,\n  TRBLCorners\n} from '../types/geometric.js';\nimport {isArray, isNullOrUndef} from './helpers.core.js';\nimport {PI, TAU, HALF_PI, QUARTER_PI, TWO_THIRDS_PI, RAD_PER_DEG} from './helpers.math.js';\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */\nexport function toFontString(font: FontSpec) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\n\n/**\n * @private\n */\nexport function _measureText(\n  ctx: CanvasRenderingContext2D,\n  data: Record<string, number>,\n  gc: string[],\n  longest: number,\n  string: string\n) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\n\ntype Thing = string | undefined | null\ntype Things = (Thing | Thing[])[]\n\n/**\n * @private\n */\n// eslint-disable-next-line complexity\nexport function _longestText(\n  ctx: CanvasRenderingContext2D,\n  font: string,\n  arrayOfThings: Things,\n  cache?: {data?: Record<string, number>, garbageCollect?: string[], font?: string}\n) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n\n  ctx.save();\n\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i: number, j: number, jlen: number, thing: Thing | Thing[], nestedThing: Thing | Thing[];\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n\n    // Undefined strings and arrays should not be measured\n    if (thing !== undefined && thing !== null && !isArray(thing)) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      // if it is an array lets measure each element\n      // to do maybe simplify this function a bit so we can do this more recursively?\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        // Undefined strings and arrays should not be measured\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n\n  ctx.restore();\n\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\n\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */\nexport function _alignPixel(chart: Chart, pixel: number, width: number) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n\n/**\n * Clears the entire canvas.\n */\nexport function clearCanvas(canvas?: HTMLCanvasElement, ctx?: CanvasRenderingContext2D) {\n  if (!ctx && !canvas) {\n    return;\n  }\n\n  ctx = ctx || canvas.getContext('2d');\n\n  ctx.save();\n  // canvas.width and canvas.height do not consider the canvas transform,\n  // while clearRect does\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\n\nexport interface DrawPointOptions {\n  pointStyle: PointStyle;\n  rotation?: number;\n  radius: number;\n  borderWidth: number;\n}\n\nexport function drawPoint(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number\n) {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  drawPointLegend(ctx, options, x, y, null);\n}\n\n// eslint-disable-next-line complexity\nexport function drawPointLegend(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number,\n  w: number\n) {\n  let type: string, xOffset: number, yOffset: number, size: number, cornerRadius: number, width: number, xOffsetW: number, yOffsetW: number;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n    default:\n      if (w) {\n        ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n      } else {\n        ctx.arc(x, y, radius, 0, TAU);\n      }\n      ctx.closePath();\n      break;\n    case 'triangle':\n      width = w ? w / 2 : radius;\n      ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      ctx.closePath();\n      break;\n    case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n      cornerRadius = radius * 0.516;\n      size = radius - cornerRadius;\n      xOffset = Math.cos(rad + QUARTER_PI) * size;\n      xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      yOffset = Math.sin(rad + QUARTER_PI) * size;\n      yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n      ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n      ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n      ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n      ctx.closePath();\n      break;\n    case 'rect':\n      if (!rotation) {\n        size = Math.SQRT1_2 * radius;\n        width = w ? w / 2 : size;\n        ctx.rect(x - width, y - size, 2 * width, 2 * size);\n        break;\n      }\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'rectRot':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      ctx.closePath();\n      break;\n    case 'crossRot':\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'cross':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'star':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      rad += QUARTER_PI;\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'line':\n      xOffset = w ? w / 2 : Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      break;\n    case 'dash':\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n      break;\n    case false:\n      ctx.closePath();\n      break;\n  }\n\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\n\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */\nexport function _isPointInArea(\n  point: Point,\n  area: TRBL,\n  margin?: number\n) {\n  margin = margin || 0.5; // margin - default is to match rounded decimals\n\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\n\nexport function clipArea(ctx: CanvasRenderingContext2D, area: TRBL) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\n\nexport function unclipArea(ctx: CanvasRenderingContext2D) {\n  ctx.restore();\n}\n\n/**\n * @private\n */\nexport function _steppedLineTo(\n  ctx: CanvasRenderingContext2D,\n  previous: Point,\n  target: Point,\n  flip?: boolean,\n  mode?: string\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @private\n */\nexport function _bezierCurveTo(\n  ctx: CanvasRenderingContext2D,\n  previous: SplinePoint,\n  target: SplinePoint,\n  flip?: boolean\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\n\nfunction setRenderOpts(ctx: CanvasRenderingContext2D, opts: RenderTextOpts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\n\nfunction decorateText(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  line: string,\n  opts: RenderTextOpts\n) {\n  if (opts.strikethrough || opts.underline) {\n    /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\n\nfunction drawBackdrop(ctx: CanvasRenderingContext2D, opts: BackdropOptions) {\n  const oldColor = ctx.fillStyle;\n\n  ctx.fillStyle = opts.color as string;\n  ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n  ctx.fillStyle = oldColor;\n}\n\n/**\n * Render text onto the canvas\n */\nexport function renderText(\n  ctx: CanvasRenderingContext2D,\n  text: string | string[],\n  x: number,\n  y: number,\n  font: CanvasFontSpec,\n  opts: RenderTextOpts = {}\n) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i: number, line: string;\n\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n\n    if (opts.backdrop) {\n      drawBackdrop(ctx, opts.backdrop);\n    }\n\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n\n    y += Number(font.lineHeight);\n  }\n\n  ctx.restore();\n}\n\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */\nexport function addRoundedRectPath(\n  ctx: CanvasRenderingContext2D,\n  rect: RoundedRect & { radius: TRBLCorners }\n) {\n  const {x, y, w, h, radius} = rect;\n\n  // top left arc\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n\n  // line from top left to bottom left\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n\n  // bottom left arc\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n\n  // line from bottom left to bottom right\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n\n  // bottom right arc\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n\n  // line from bottom right to top right\n  ctx.lineTo(x + w, y + radius.topRight);\n\n  // top right arc\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n\n  // line from top right to top left\n  ctx.lineTo(x + radius.topLeft, y);\n}\n","import defaults from '../core/core.defaults.js';\nimport {isArray, isObject, toDimension, valueOrDefault} from './helpers.core.js';\nimport {toFontString} from './helpers.canvas.js';\nimport type {ChartArea, FontSpec, Point} from '../types/index.js';\nimport type {TRBL, TRBLCorners} from '../types/geometric.js';\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n\n/**\n * @alias Chart.helpers.options\n * @namespace\n */\n/**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */\nexport function toLineHeight(value: number | string, size: number): number {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n\n  value = +matches[2];\n\n  switch (matches[3]) {\n    case 'px':\n      return value;\n    case '%':\n      value /= 100;\n      break;\n    default:\n      break;\n  }\n\n  return size * value;\n}\n\nconst numberOrZero = (v: unknown) => +v || 0;\n\n/**\n * @param value\n * @param props\n */\nexport function _readValueToProps<K extends string>(value: number | Record<K, number>, props: K[]): Record<K, number>;\nexport function _readValueToProps<K extends string, T extends string>(value: number | Record<K & T, number>, props: Record<T, K>): Record<T, number>;\nexport function _readValueToProps(value: number | Record<string, number>, props: string[] | Record<string, string>) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\n\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */\nexport function toTRBL(value: number | TRBL | Point) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\n\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */\nexport function toTRBLCorners(value: number | TRBLCorners) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\n\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */\nexport function toPadding(value?: number | TRBL): ChartArea {\n  const obj = toTRBL(value) as ChartArea;\n\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n\n  return obj;\n}\n\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */\n\nexport function toFont(options: Partial<FontSpec>, fallback?: Partial<FontSpec>) {\n  options = options || {};\n  fallback = fallback || defaults.font as FontSpec;\n\n  let size = valueOrDefault(options.size, fallback.size);\n\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = undefined;\n  }\n\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n\n  font.string = toFontString(font);\n  return font;\n}\n\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */\nexport function resolve(inputs: Array<unknown>, context?: object, index?: number, info?: { cacheable: boolean }) {\n  let cacheable = true;\n  let i: number, ilen: number, value: unknown;\n\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\n\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */\nexport function _addGrace(minmax: { min: number; max: number; }, grace: number | string, beginAtZero: boolean) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value: number, add: number) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\n\n/**\n * Create a context inheriting parentContext\n * @param parentContext\n * @param context\n * @returns\n */\nexport function createContext<T extends object>(parentContext: null, context: T): T;\nexport function createContext<T extends object, P extends T>(parentContext: P, context: T): P & T;\nexport function createContext(parentContext: object, context: object) {\n  return Object.assign(Object.create(parentContext), context);\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartMeta} from '../types/index.js';\nimport type {\n  ResolverObjectKey,\n  ResolverCache,\n  ResolverProxy,\n  DescriptorDefaults,\n  Descriptor,\n  ContextCache,\n  ContextProxy\n} from './helpers.config.types.js';\nimport {isArray, isFunction, isObject, resolveObjectKey, _capitalize} from './helpers.core.js';\n\nexport * from './helpers.config.types.js';\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */\nexport function _createResolver<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  scopes: T,\n  prefixes = [''],\n  rootScopes?: R,\n  fallback?: ResolverObjectKey,\n  getTarget = () => scopes[0]\n) {\n  const finalRootScopes = rootScopes || scopes;\n  if (typeof fallback === 'undefined') {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache: ResolverCache<T, R> = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: finalRootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope: AnyObject) => _createResolver([scope, ...scopes], prefixes, finalRootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop: string) {\n      delete target[prop]; // remove from cache\n      delete target._keys; // remove cached keys\n      delete scopes[0][prop]; // remove from top level scope\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop: string) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop: string, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value; // set to top level scope + cache\n      delete target._keys; // remove cached keys\n      return true;\n    }\n  }) as ResolverProxy<T, R>;\n}\n\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */\nexport function _attachContext<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  proxy: ResolverProxy<T, R>,\n  context: AnyObject,\n  subProxy?: ResolverProxy<T, R>,\n  descriptorDefaults?: DescriptorDefaults\n) {\n  const cache: ContextCache<T, R> = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx: AnyObject) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope: AnyObject) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop) {\n      delete target[prop]; // remove from cache\n      delete proxy[prop]; // remove from proxy\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop, value) {\n      proxy[prop] = value; // set to proxy\n      delete target[prop]; // remove from cache\n      return true;\n    }\n  }) as ContextProxy<T, R>;\n}\n\n/**\n * @private\n */\nexport function _descriptors(\n  proxy: ResolverCache,\n  defaults: DescriptorDefaults = {scriptable: true, indexable: true}\n): Descriptor {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\n\nconst readKey = (prefix: string, name: string) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop: string, value: unknown) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\n\nfunction _cached(\n  target: AnyObject,\n  prop: string,\n  resolve: () => unknown\n) {\n  if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n    return target[prop];\n  }\n\n  const value = resolve();\n  // cache the resolved value\n  target[prop] = value;\n  return value;\n}\n\nfunction _resolveWithContext(\n  target: ContextCache,\n  prop: string,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop]; // resolve from proxy\n\n  // resolve with context\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    // if the resolved value is an object, create a sub resolver for it\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\n\nfunction _resolveScriptable(\n  prop: string,\n  getValue: (ctx: AnyObject, sub: AnyObject) => unknown,\n  target: ContextCache,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  let value = getValue(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    // When scriptable option returns an object, create a resolver on that.\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\n\nfunction _resolveArray(\n  prop: string,\n  value: unknown[],\n  target: ContextCache,\n  isIndexable: (key: string) => boolean\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n\n  if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n    return value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    // Array of objects, return array or resolvers\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\n\nfunction resolveFallback(\n  fallback: ResolverObjectKey | ((prop: ResolverObjectKey, value: unknown) => ResolverObjectKey),\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\n\nconst getScope = (key: ResolverObjectKey, parent: AnyObject) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\n\nfunction addScopes(\n  set: Set<AnyObject>,\n  parentScopes: AnyObject[],\n  key: ResolverObjectKey,\n  parentFallback: ResolverObjectKey,\n  value: unknown\n) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n        // When we reach the descriptor that defines a new _fallback, return that.\n        // The fallback will resume to that new scope.\n        return fallback;\n      }\n    } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n      // Fallback to `false` results to `false`, when falling back to different key.\n      // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n      return null;\n    }\n  }\n  return false;\n}\n\nfunction createSubResolver(\n  parentScopes: AnyObject[],\n  resolver: ResolverCache,\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set<AnyObject>();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (typeof fallback !== 'undefined' && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop as string, value));\n}\n\nfunction addScopesFromKey(\n  set: Set<AnyObject>,\n  allScopes: AnyObject[],\n  key: ResolverObjectKey,\n  fallback: ResolverObjectKey,\n  item: unknown\n) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\n\nfunction subGetTarget(\n  resolver: ResolverCache,\n  prop: string,\n  value: unknown\n) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    // For array of objects, the object is used to store updated values\n    return value;\n  }\n  return target || {};\n}\n\nfunction _resolveWithPrefixes(\n  prop: string,\n  prefixes: string[],\n  scopes: AnyObject[],\n  proxy: ResolverProxy\n) {\n  let value: unknown;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (typeof value !== 'undefined') {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\n\nfunction _resolve(key: string, scopes: AnyObject[]) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (typeof value !== 'undefined') {\n      return value;\n    }\n  }\n}\n\nfunction getKeysFromAllScopes(target: ResolverCache) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\n\nfunction resolveKeysFromAllScopes(scopes: AnyObject[]) {\n  const set = new Set<string>();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nexport function _parseObjectDataRadialScale(\n  meta: ChartMeta<'line' | 'scatter'>,\n  data: AnyObject[],\n  start: number,\n  count: number\n) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array<{r: unknown}>(count);\n  let i: number, ilen: number, index: number, item: AnyObject;\n\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n","import {almostEquals, distanceBetweenPoints, sign} from './helpers.math.js';\nimport {_isPointInArea} from './helpers.canvas.js';\nimport type {ChartArea} from '../types/index.js';\nimport type {SplinePoint} from '../types/geometric.js';\n\nconst EPSILON = Number.EPSILON || 1e-14;\n\ntype OptionalSplinePoint = SplinePoint | false\nconst getPoint = (points: SplinePoint[], i: number): OptionalSplinePoint => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis: 'x' | 'y') => indexAxis === 'x' ? 'y' : 'x';\n\nexport function splineCurve(\n  firstPoint: SplinePoint,\n  middlePoint: SplinePoint,\n  afterPoint: SplinePoint,\n  t: number\n): {\n    previous: SplinePoint\n    next: SplinePoint\n  } {\n  // Props to Rob Spencer at scaled innovation for his post on splining between points\n  // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n  // This function must also respect \"skipped\" points\n\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n\n  // If all points are the same, s01 & s02 will be inf\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n\n  const fa = t * s01; // scaling factor for triangle Ta\n  const fb = t * s12;\n\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\n\n/**\n * Adjust tangents to ensure monotonic properties\n */\nfunction monotoneAdjust(points: SplinePoint[], deltaK: number[], mK: number[]) {\n  const pointsLen = points.length;\n\n  let alphaK: number, betaK: number, tauK: number, squaredMagnitude: number, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\n\nfunction monotoneCompute(points: SplinePoint[], mK: number[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta: number, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\n\n/**\n * This function calculates Bézier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */\nexport function splineCurveMonotone(points: SplinePoint[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK: number[] = Array(pointsLen).fill(0);\n  const mK: number[] = Array(pointsLen);\n\n  // Calculate slopes (deltaK) and initialize tangents (mK)\n  let i, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n\n      // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n        : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n          : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n\n  monotoneAdjust(points, deltaK, mK);\n\n  monotoneCompute(points, mK, indexAxis);\n}\n\nfunction capControlPoint(pt: number, min: number, max: number) {\n  return Math.max(Math.min(pt, max), min);\n}\n\nfunction capBezierPoints(points: SplinePoint[], area: ChartArea) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\n\n/**\n * @private\n */\nexport function _updateBezierControlPoints(\n  points: SplinePoint[],\n  options,\n  area: ChartArea,\n  loop: boolean,\n  indexAxis: 'x' | 'y'\n) {\n  let i: number, ilen: number, point: SplinePoint, controlPoints: ReturnType<typeof splineCurve>;\n\n  // Only consider points that are drawn in case the spanGaps option is used\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n","import type {ChartArea, Scale} from '../types/index.js';\nimport type PrivateChart from '../core/core.controller.js';\nimport type {Chart, ChartEvent} from '../types.js';\nimport {INFINITY} from './helpers.math.js';\n\n/**\n * @private\n */\nexport function _isDomSupported(): boolean {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\n/**\n * @private\n */\nexport function _getParentNode(domNode: HTMLCanvasElement): HTMLCanvasElement {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = (parent as ShadowRoot).host;\n  }\n  return parent as HTMLCanvasElement;\n}\n\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */\n\nfunction parseMaxStyle(styleValue: string | number, node: HTMLElement, parentProperty: string) {\n  let valueInPixels: number;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n\n    if (styleValue.indexOf('%') !== -1) {\n      // percentage * size in dimension\n      valueInPixels = (valueInPixels / 100) * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n\n  return valueInPixels;\n}\n\nconst getComputedStyle = (element: HTMLElement): CSSStyleDeclaration =>\n  element.ownerDocument.defaultView.getComputedStyle(element, null);\n\nexport function getStyle(el: HTMLElement, property: string): string {\n  return getComputedStyle(el).getPropertyValue(property);\n}\n\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles: CSSStyleDeclaration, style: string, suffix?: string): ChartArea {\n  const result = {} as ChartArea;\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\n\nconst useOffsetPos = (x: number, y: number, target: HTMLElement | EventTarget) =>\n  (x > 0 || y > 0) && (!target || !(target as HTMLElement).shadowRoot);\n\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */\nfunction getCanvasPosition(\n  e: Event | TouchEvent | MouseEvent,\n  canvas: HTMLCanvasElement\n): {\n    x: number;\n    y: number;\n    box: boolean;\n  } {\n  const touches = (e as TouchEvent).touches;\n  const source = (touches && touches.length ? touches[0] : e) as MouseEvent;\n  const {offsetX, offsetY} = source as MouseEvent;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\n\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */\n\nexport function getRelativePosition(\n  event: Event | ChartEvent | TouchEvent | MouseEvent,\n  chart: Chart | PrivateChart\n): { x: number; y: number } {\n  if ('native' in event) {\n    return event;\n  }\n\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(event, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\n\nfunction getContainerSize(canvas: HTMLCanvasElement, width: number, height: number): Partial<Scale> {\n  let maxWidth: number, maxHeight: number;\n\n  if (width === undefined || height === undefined) {\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect(); // this is the border box of the container\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\n\nconst round1 = (v: number) => Math.round(v * 10) / 10;\n\n// eslint-disable-next-line complexity\nexport function getMaximumSize(\n  canvas: HTMLCanvasElement,\n  bbWidth?: number,\n  bbHeight?: number,\n  aspectRatio?: number\n): { width: number; height: number } {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    // https://github.com/chartjs/Chart.js/issues/4659\n    // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n    height = round1(width / 2);\n  }\n\n  const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n\n  if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n    height = containerSize.height;\n    width = round1(Math.floor(height * aspectRatio));\n  }\n\n  return {width, height};\n}\n\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */\nexport function retinaScale(\n  chart: Chart | PrivateChart,\n  forceRatio: number,\n  forceStyle?: boolean\n): boolean | void {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n\n  (chart as PrivateChart).height = Math.floor(chart.height);\n  (chart as PrivateChart).width = Math.floor(chart.width);\n\n  const canvas = chart.canvas;\n\n  // If no style has been set on the canvas, the render size is used as display size,\n  // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n  // See https://github.com/chartjs/Chart.js/issues/3575\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    (chart as PrivateChart).currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */\nexport const supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() { // This function will be called when the browser attempts to access the passive property.\n        passiveSupported = true;\n        return false;\n      }\n    } as EventListenerOptions;\n\n    if (_isDomSupported()) {\n      window.addEventListener('test', null, options);\n      window.removeEventListener('test', null, options);\n    }\n  } catch (e) {\n    // continue regardless of error\n  }\n  return passiveSupported;\n}());\n\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */\n\nexport function readUsedSize(\n  element: HTMLElement,\n  property: 'width' | 'height'\n): number | undefined {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n","import type {Point, SplinePoint} from '../types/geometric.js';\n\n/**\n * @private\n */\nexport function _pointInLine(p1: Point, p2: Point, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\n\n/**\n * @private\n */\nexport function _steppedInterpolation(\n  p1: Point,\n  p2: Point,\n  t: number, mode: 'middle' | 'after' | unknown\n) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n      : mode === 'after' ? t < 1 ? p1.y : p2.y\n        : t > 0 ? p2.y : p1.y\n  };\n}\n\n/**\n * @private\n */\nexport function _bezierInterpolation(p1: SplinePoint, p2: SplinePoint, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n","export interface RTLAdapter {\n  x(x: number): number;\n  setWidth(w: number): void;\n  textAlign(align: 'center' | 'left' | 'right'): 'center' | 'left' | 'right';\n  xPlus(x: number, value: number): number;\n  leftForLtr(x: number, itemWidth: number): number;\n}\n\nconst getRightToLeftAdapter = function(rectX: number, width: number): RTLAdapter {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\n\nconst getLeftToRightAdapter = function(): RTLAdapter {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) { // eslint-disable-line no-unused-vars\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) { // eslint-disable-line @typescript-eslint/no-unused-vars\n      return x;\n    },\n  };\n};\n\nexport function getRtlAdapter(rtl: boolean, rectX: number, width: number) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\n\nexport function overrideTextDirection(ctx: CanvasRenderingContext2D, direction: 'ltr' | 'rtl') {\n  let style: CSSStyleDeclaration, original: [string, string];\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n\n    style.setProperty('direction', direction, 'important');\n    (ctx as { prevTextDirection?: [string, string] }).prevTextDirection = original;\n  }\n}\n\nexport function restoreTextDirection(ctx: CanvasRenderingContext2D, original?: [string, string]) {\n  if (original !== undefined) {\n    delete (ctx as { prevTextDirection?: [string, string] }).prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n","import {_angleBetween, _angleDiff, _isBetween, _normalizeAngle} from './helpers.math.js';\nimport {createContext} from './helpers.options.js';\nimport {isPatternOrGradient} from './helpers.color.js';\n\n/**\n * @typedef { import('../elements/element.line.js').default } LineElement\n * @typedef { import('../elements/element.point.js').default } PointElement\n * @typedef {{start: number, end: number, loop: boolean, style?: any}} Segment\n */\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\n\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\n\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  // eslint-disable-next-line prefer-const\n  let {start, end, loop} = segment;\n  let i, ilen;\n\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\n\n/**\n * Returns the sub-segment(s) of a line segment that fall in the given bounds\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} [segment.style] - segment style\n * @param {PointElement[]} points - the points that this segment refers to\n * @param {object} [bounds]\n * @param {string} bounds.property - the property of a `PointElement` we are bounding. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the property\n * @param {number} bounds.end - end value of the property\n * @private\n **/\nexport function _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n\n    if (point.skip) {\n      continue;\n    }\n\n    value = normalize(point[property]);\n\n    if (value === prevValue) {\n      continue;\n    }\n\n    inside = between(value, startBound, endBound);\n\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n\n  return result;\n}\n\n\n/**\n * Returns the segments of the line that are inside given bounds\n * @param {LineElement} line\n * @param {object} [bounds]\n * @param {string} bounds.property - the property we are bounding with. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the `property`\n * @param {number} bounds.end - end value of the `property`\n * @private\n */\nexport function _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\n\n/**\n * Find start and end index of a line.\n */\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n\n  if (loop && !spanGaps) {\n    // loop and not spanning gaps, first find a gap to start from\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n\n  // find first non skipped point (after the first gap possibly)\n  while (start < count && points[start].skip) {\n    start++;\n  }\n\n  // if we looped to count, start needs to be 0\n  start %= count;\n\n  if (loop) {\n    // loop will go past count, if start > 0\n    end += start;\n  }\n\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n\n  // end could be more than count, normalize\n  end %= count;\n\n  return {start, end};\n}\n\n/**\n * Compute solid segments from Points, when spanGaps === false\n * @param {PointElement[]} points - the points\n * @param {number} start - start index\n * @param {number} max - max index (can go past count on a loop)\n * @param {boolean} loop - boolean indicating that this would be a loop if no gaps are found\n */\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        // @ts-ignore\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n\n  return result;\n}\n\n/**\n * Compute the continuous segments that define the whole line\n * There can be skipped points within a segment, if spanGaps is true.\n * @param {LineElement} line\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n * @private\n */\nexport function _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n\n  if (!count) {\n    return [];\n  }\n\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n\n/**\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\n\n/**\n * @param {LineElement} line\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    // Style can not start/end on a skipped point, adjust indices accordingly\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n\n  return result;\n}\n\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\n\nfunction styleChanged(style, prevStyle) {\n  if (!prevStyle) {\n    return false;\n  }\n  const cache = [];\n  const replacer = function(key, value) {\n    if (!isPatternOrGradient(value)) {\n      return value;\n    }\n    if (!cache.includes(value)) {\n      cache.push(value);\n    }\n    return cache.indexOf(value);\n  };\n  return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n","import {requestAnimFrame} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('./core.animation.js').default } Animation\n * @typedef { import('./core.controller.js').default } Chart\n */\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is export for typedoc\n */\nexport class Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n\n  /**\n\t * @private\n\t */\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _update(date = Date.now()) {\n    let remaining = 0;\n\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n\n      for (; i >= 0; --i) {\n        item = items[i];\n\n        if (item._active) {\n          if (item._total > anims.duration) {\n            // if the animation has been updated and its duration prolonged,\n            // update to total duration of current animations run (for progress event)\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          // Remove the item by replacing it with last item and removing the last\n          // A lot faster than splice.\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n\n      remaining += items.length;\n    });\n\n    this._lastDate = date;\n\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} event - event name\n\t * @param {Function} cb - callback\n\t */\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n\n  /**\n\t * Add animations\n\t * @param {Chart} chart\n\t * @param {Animation[]} items - animations\n\t */\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n\n  /**\n\t * Counts number of active animations for the chart\n\t * @param {Chart} chart\n\t */\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n\n  /**\n\t * Start animating (all charts)\n\t * @param {Chart} chart\n\t */\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n\t * Stop all animations for the chart\n\t * @param {Chart} chart\n\t */\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n\n  /**\n\t * Remove chart from Animator\n\t * @param {Chart} chart\n\t */\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Animator();\n","import effects from '../helpers/helpers.easing.js';\nimport {resolve} from '../helpers/helpers.options.js';\nimport {color as helpersColor} from '../helpers/helpers.color.js';\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  /**\n   * @param {string} from\n   * @param {string} to\n   * @param {number} factor\n   */\n  color(from, to, factor) {\n    const c0 = helpersColor(from || transparent);\n    const c1 = c0.valid && helpersColor(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nexport default class Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  active() {\n    return this._active;\n  }\n\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n\n  cancel() {\n    if (this._active) {\n      // update current evaluated value, for smoother animations\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n\n    this._active = from !== to && (loop || (elapsed < duration));\n\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n\n    this._target[prop] = this._fn(from, to, factor);\n  }\n\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n","import animator from './core.animator.js';\nimport Animation from './core.animation.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isObject} from '../helpers/helpers.core.js';\n\nexport default class Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n\n    const animationOptions = Object.keys(defaults.animation);\n    const animatedProps = this._properties;\n\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n\n  /**\n\t * Utility to handle animation of `options`.\n\t * @private\n\t */\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      // Going to shared options:\n      // After all animations are done, assign the shared options object to the element\n      // So any new updates to the shared options are observed\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n        // rejected, noop\n      });\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @private\n\t */\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n\n      if (animation) {\n        if (cfg && animation.active()) {\n          // There is an existing active animation, let's update that\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        // not animated, set directly to new value\n        target[prop] = value;\n        continue;\n      }\n\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n\n\n  /**\n\t * Update `target` properties to new values, using configured animations\n\t * @param {object} target - object to update\n\t * @param {object} values - new target properties\n\t * @returns {boolean|undefined} - `true` if animations were started\n\t **/\n  update(target, values) {\n    if (this._properties.size === 0) {\n      // Nothing is animated, just apply the new values.\n      Object.assign(target, values);\n      return;\n    }\n\n    const animations = this._createAnimations(target, values);\n\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\n\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  // @ts-ignore\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    // Going from shared options to distinct one:\n    // Create new options object containing the old shared values and start updating that.\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n","import Animations from './core.animations.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isFinite, isObject, valueOrDefault, resolveObjectKey, defined} from '../helpers/helpers.core.js';\nimport {listenArrayEvents, unlistenArrayEvents} from '../helpers/helpers.collection.js';\nimport {createContext, sign} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('./core.scale.js').default } Scale\n */\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  let t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\n\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  let found = false;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      found = true;\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n\n  if (!found && !options.all) {\n    return 0;\n  }\n\n  return value;\n}\n\nfunction convertObjectDataToArray(data, meta) {\n  const {iScale, vScale} = meta;\n  const iAxisKey = iScale.axis === 'x' ? 'x' : 'y';\n  const vAxisKey = vScale.axis === 'x' ? 'x' : 'y';\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      [iAxisKey]: key,\n      [vAxisKey]: data[key]\n    };\n  }\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\n\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n\n  return null;\n}\n\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {}); // map structure is {stackKey: {datasetIndex: value}}\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n\n    const visualValues = stack._visualValues || (stack._visualValues = {});\n    visualValues[datasetIndex] = value;\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\n\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  // Not using meta.index here, because it might be already updated if the dataset changed location\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n    if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n      delete stacks[axis]._visualValues[datasetIndex];\n    }\n  }\n}\n\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\n\nexport default class DatasetController {\n\n  /**\n   * @type {any}\n   */\n  static defaults = {};\n\n  /**\n   * Element type used to generate a meta dataset (e.g. Chart.element.LineElement).\n   */\n  static datasetElementType = null;\n\n  /**\n   * Element type used to generate a meta data (e.g. Chart.element.PointElement).\n   */\n  static dataElementType = null;\n\n  /**\n\t * @param {Chart} chart\n\t * @param {number} datasetIndex\n\t */\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    /** @type {boolean | object} */\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.datasetElementType = new.target.datasetElementType;\n    this.dataElementType = new.target.dataElementType;\n\n    this.initialize();\n  }\n\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n\n    if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n      console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n    }\n  }\n\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n\n  /**\n\t * @param {string} scaleID\n\t * @return {Scale}\n\t */\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n\n  /**\n\t * @private\n\t */\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n\n  reset() {\n    this._update('reset');\n  }\n\n  /**\n\t * @private\n\t */\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n\n    // In order to correctly handle data addition/deletion animation (and thus simulate\n    // real-time charts), we need to monitor these data modifications and synchronize\n    // the internal metadata accordingly.\n\n    if (isObject(data)) {\n      const meta = this._cachedMeta;\n      this._data = convertObjectDataToArray(data, meta);\n    } else if (_data !== data) {\n      if (_data) {\n        // This case happens when the user replaced the data array instance.\n        unlistenArrayEvents(_data, this);\n        // Discard old parsed data and stacks\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n\n  addElements() {\n    const meta = this._cachedMeta;\n\n    this._dataCheck();\n\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n\n    this._dataCheck();\n\n    // make sure cached _stacked status is current\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n\n    // detect change in stack option\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      // remove values from old stack\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n\n    // Re-sync meta data in case the user replaced the data array or if we missed\n    // any updates and so make sure that we handle number of datapoints changing.\n    this._resyncElements(resetNewElements);\n\n    // if stack changed, update stack values for the whole dataset\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n      meta._stacked = isStacked(meta.vScale, meta);\n    }\n  }\n\n  /**\n\t * Merges user-supplied and default dataset-level options\n\t * @private\n\t */\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n\n  /**\n\t * @param {number} start\n\t * @param {number} count\n\t */\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [1,3,4]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {xScale0: 0, yScale0: 1}\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [[1,2],[3,4]]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {x: 0, y: 1}\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [{x:1, y:5}, {x:2, y:10}]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id. _custom is optional\n\t * Example: {xScale0: 0, yScale0: 1, _custom: {r: 10, foo: 'bar'}}\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]._visualValues\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        // if the data is sorted, we don't need to check further from this end of array\n        break;\n      }\n    }\n    if (sorted) {\n      // in the sorted case, find first non-skipped value from other end of array\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return false;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {} // eslint-disable-line no-unused-vars\n\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n\n  /**\n\t * Returns a set of predefined style properties that should be used to represent the dataset\n\t * or the data if the index is specified\n\t * @param {number} index - data index\n\t * @param {boolean} [active] - true if hover\n\t * @return {object} style object\n\t */\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n\n  /**\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    // context is provided as a function, and is called only if needed,\n    // so we don't create a context for each element if not needed.\n    const context = () => this.getContext(index, active, mode);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n    if (values.$shared) {\n      // `$shared` indicates this set of options can be shared between multiple elements.\n      // Sharing is used to reduce number of properties to change during animation.\n      values.$shared = sharing;\n\n      // We cache options by `mode`, which can be 'active' for example. This enables us\n      // to have the 'active' element options and 'default' options to switch between\n      // when interacting.\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n\n    return values;\n  }\n\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n\n  /**\n\t * Utility for getting the options object shared between elements\n\t * @protected\n\t */\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n\n  /**\n\t * Utility for determining if `options` should be included in the updated properties\n\t * @protected\n\t */\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n\n  /**\n   * @todo v4, rename to getSharedOptions and remove excess functions\n   */\n  _getSharedOptions(start, mode) {\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const previouslySharedOptions = this._sharedOptions;\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    return {sharedOptions, includeOptions};\n  }\n\n  /**\n\t * Utility for updating an element with new properties, using animations when appropriate.\n\t * @protected\n\t */\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n\n  /**\n\t * Utility to animate the shared options, that are potentially affecting multiple elements.\n\t * @protected\n\t */\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      // When going from active to inactive, we need to update to the shared options.\n      // This way the once hovered element will end up with the same original shared options instance, after animation.\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n\n  /**\n\t * @private\n\t */\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n\n    // Apply changes detected through array listeners\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n\n    if (count) {\n      // TODO: It is not optimal to always parse the old data\n      // This is done because we are not detecting direct assignments:\n      // chart.data.datasets[0].data[5] = 10;\n      // chart.data.datasets[0].data[5].y = 10;\n      this.parse(0, count);\n    }\n\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n\n  updateElements(element, start, count, mode) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @private\n\t */\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n\n  /**\n\t * @private\n   */\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class LineController extends DatasetController {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n\n    showLine: true,\n    spanGaps: false,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n      },\n      _value_: {\n        type: 'linear',\n      },\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    // Update Line\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    const end = start + count;\n    const pointsCount = points.length;\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = 0; i < pointsCount; ++i) {\n      const point = points[i];\n      const properties = directUpdate ? point : {};\n\n      if (i < start || i >= end) {\n        properties.skip = true;\n        continue;\n      }\n\n      const parsed = this.getParsed(i);\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\n","/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartOptions} from '../types/index.js';\n\nexport type TimeUnit = 'millisecond' | 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'quarter' | 'year';\n\nexport interface DateAdapter<T extends AnyObject = AnyObject> {\n  readonly options: T;\n  /**\n   * Will called with chart options after adapter creation.\n   */\n  init(this: DateAdapter<T>, chartOptions: ChartOptions): void;\n  /**\n   * Returns a map of time formats for the supported formatting units defined\n   * in Unit as well as 'datetime' representing a detailed date/time string.\n   */\n  formats(this: DateAdapter<T>): Record<TimeUnit | 'datetime', string>;\n  /**\n   * Parses the given `value` and return the associated timestamp.\n   * @param value - the value to parse (usually comes from the data)\n   * @param [format] - the expected data format\n   */\n  parse(this: DateAdapter<T>, value: unknown, format?: string): number | null;\n  /**\n   * Returns the formatted date in the specified `format` for a given `timestamp`.\n   * @param timestamp - the timestamp to format\n   * @param format - the date/time token\n   */\n  format(this: DateAdapter<T>, timestamp: number, format: string): string;\n  /**\n   * Adds the specified `amount` of `unit` to the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param amount - the amount to add\n   * @param unit - the unit as string\n   */\n  add(this: DateAdapter<T>, timestamp: number, amount: number, unit: TimeUnit): number;\n  /**\n   * Returns the number of `unit` between the given timestamps.\n   * @param a - the input timestamp (reference)\n   * @param b - the timestamp to subtract\n   * @param unit - the unit as string\n   */\n  diff(this: DateAdapter<T>, a: number, b: number, unit: TimeUnit): number;\n  /**\n   * Returns start of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   * @param [weekday] - the ISO day of the week with 1 being Monday\n   * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\n   */\n  startOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek', weekday?: number | boolean): number;\n  /**\n   * Returns end of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   */\n  endOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit): number;\n}\n\nfunction abstract<T = void>(): T {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */\nclass DateAdapterBase implements DateAdapter {\n\n  /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */\n  static override<T extends AnyObject = AnyObject>(\n    members: Partial<Omit<DateAdapter<T>, 'options'>>\n  ) {\n    Object.assign(DateAdapterBase.prototype, members);\n  }\n\n  readonly options: AnyObject;\n\n  constructor(options?: AnyObject) {\n    this.options = options || {};\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  init() {}\n\n  formats(): Record<TimeUnit | 'datetime', string> {\n    return abstract();\n  }\n\n  parse(): number | null {\n    return abstract();\n  }\n\n  format(): string {\n    return abstract();\n  }\n\n  add(): number {\n    return abstract();\n  }\n\n  diff(): number {\n    return abstract();\n  }\n\n  startOf(): number {\n    return abstract();\n  }\n\n  endOf(): number {\n    return abstract();\n  }\n}\n\nexport default {\n  _date: DateAdapterBase as {\n    new (options?: AnyObject): DateAdapter;\n    override<T extends AnyObject = AnyObject>(\n      members: Partial<Omit<DateAdapter<T>, 'options'>>\n    ): void;\n  }\n};\n","import {_lookupByKey, _rlookupByKey} from '../helpers/helpers.collection.js';\nimport {getRelativePosition} from '../helpers/helpers.dom.js';\nimport {_angleBetween, getAngleFromPoint} from '../helpers/helpers.math.js';\nimport {_isPointInArea, isNullOrUndef} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef {{axis?: string, intersect?: boolean, includeInvisible?: boolean}} InteractionOptions\n * @typedef {{datasetIndex: number, index: number, element: import('./core.element.js').default}} InteractionItem\n * @typedef { import('../types/index.js').Point } Point\n */\n\n/**\n * Helper function to do binary search when possible\n * @param {object} metaset - the dataset meta\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {number} value - the value to find\n * @param {boolean} [intersect] - should the element intersect\n * @returns {{lo:number, hi:number}} indices to search data array between\n */\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  const spanGaps = metaset.dataset ? metaset.dataset.options ? metaset.dataset.options.spanGaps : null : null;\n\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      const result = lookupMethod(data, axis, value);\n      if (spanGaps) {\n        const {vScale} = controller._cachedMeta;\n        const {_parsed} = metaset;\n\n        const distanceToDefinedLo = (_parsed\n          .slice(0, result.lo + 1)\n          .reverse()\n          .findIndex(\n            point => !isNullOrUndef(point[vScale.axis])));\n        result.lo -= Math.max(0, distanceToDefinedLo);\n\n        const distanceToDefinedHi = (_parsed\n          .slice(result.hi)\n          .findIndex(\n            point => !isNullOrUndef(point[vScale.axis])));\n        result.hi += Math.max(0, distanceToDefinedHi);\n      }\n      return result;\n    } else if (controller._sharedOptions) {\n      // _sharedOptions indicates that each element has equal options -> equal proportions\n      // So we can do a ranged binary search based on the range of first element and\n      // be confident to get the full range of indices that can intersect with the value.\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  // Default to all elements, when binary search can not be used.\n  return {lo: 0, hi: data.length - 1};\n}\n\n/**\n * Helper function to select candidate elements for interaction\n * @param {Chart} chart - the chart\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {function} handler - the callback to execute for each visible item\n * @param {boolean} [intersect] - consider intersecting items\n */\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\n/**\n * Get a distance metric function for two points based on the\n * axis mode setting\n * @param {string} axis - the axis mode. x|y|xy|r\n */\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\n/**\n * Helper function to get the items that intersect the event position\n * @param {Chart} chart - the chart\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a radial chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a cartesian chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      // Can have multiple items at the same distance in which case we sort by size\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position considering all visible items in the chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n\n/**\n * Helper function to get the items matching along the given X or Y axis\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis to match\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod] && element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n\n  // If we want to trigger on an intersect and we don't have any items\n  // that intersect the position, return nothing\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\n\n/**\n * Contains interaction related functions\n * @namespace Chart.Interaction\n */\nexport default {\n  // Part of the public API to facilitate developers creating their own modes\n  evaluateInteractionItems,\n\n  // Helper function for different modes\n  modes: {\n    /**\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\n\t\t * @function Chart.Interaction.modes.index\n\t\t * @since v2.4.0\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      // Default axis for index mode is 'x' to match old behaviour\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n\n        // don't count items that are skipped (null data)\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n\n      return elements;\n    },\n\n    /**\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\n\t\t * @function Chart.Interaction.modes.dataset\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n\n      return items;\n    },\n\n    /**\n\t\t * Point mode returns all elements that hit test based on the event position\n\t\t * of the event\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * nearest mode returns the element closest to the point\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * x mode returns the elements that hit-test at the current x coordinate\n\t\t * @function Chart.Interaction.modes.x\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n\n    /**\n\t\t * y mode returns the elements that hit-test at the current y coordinate\n\t\t * @function Chart.Interaction.modes.y\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n","import {defined, each, isObject} from '../helpers/helpers.core.js';\nimport {toPadding} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n */\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\n\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\n\n/**\n * store dimensions used instead of available chartArea in fitBoxes\n **/\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\n\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n\n  // dynamically placed boxes size is not considered\n  if (!isObject(pos)) {\n    if (layout.size) {\n      // this layout was already counted for, lets first reduce old size\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n\n  // return booleans on the changes per direction\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\n\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n\n    // Dimensions changed and there were non full width boxes before this\n    // -> we have to refit those\n    refit |= same && refitBoxes.length;\n\n    // Chart area changed in the opposite direction\n    changed = changed || other;\n\n    if (!box.fullSize) { // fullSize boxes don't need to be re-fitted in any case\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\n\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\n\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\n/**\n * @interface LayoutItem\n * @typedef {object} LayoutItem\n * @prop {string} position - The position of the item in the chart layout. Possible values are\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\n * @prop {boolean} fullSize - if true, and the item is horizontal, then push vertical boxes down\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\n * @prop {function} draw - Draws the element\n * @prop {function} [getPadding] -  Returns an object with padding on the edges\n * @prop {number} width - Width of item. Must be valid after update()\n * @prop {number} height - Height of item. Must be valid after update()\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\n */\n\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n// It is this service's responsibility of carrying out that layout.\nexport default {\n\n  /**\n\t * Register a box to a chart.\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\n\t * @param {Chart} chart - the chart to use\n\t * @param {LayoutItem} item - the item to add to be laid out\n\t */\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    // initialize item with default values\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    // @ts-ignore\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n\n  /**\n\t * Remove a layoutItem from a chart\n\t * @param {Chart} chart - the chart to remove the box from\n\t * @param {LayoutItem} layoutItem - the item to remove from the layout\n\t */\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n\n  /**\n\t * Sets (or updates) options on the given `item`.\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\n\t * @param {LayoutItem} item - the item to configure with the given options\n\t * @param {object} options - the new item options.\n\t */\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n\n  /**\n\t * Fits boxes of the given chart into the given size by having each box measure itself\n\t * then running a fitting algorithm\n\t * @param {Chart} chart - the chart\n\t * @param {number} width - the width to fit into\n\t * @param {number} height - the height to fit into\n   * @param {number} minPadding - minimum padding required for each side of chart area\n\t */\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n\n    // Before any changes are made, notify boxes that an update is about to being\n    // This is used to clear any cached data (e.g. scale limits)\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n\n    // Essentially we now have any number of boxes on each of the 4 sides.\n    // Our canvas looks like the following.\n    // The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n    // B1 is the bottom axis\n    // There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n    // These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n    // an error will be thrown.\n    //\n    // |----------------------------------------------------|\n    // |                  T1 (Full Width)                   |\n    // |----------------------------------------------------|\n    // |    |    |                 T2                  |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    | C1 |                           | C2 |    |\n    // |    |    |----|                           |----|    |\n    // |    |    |                                     |    |\n    // | L1 | L2 |           ChartArea (C0)            | R1 |\n    // |    |    |                                     |    |\n    // |    |    |----|                           |----|    |\n    // |    |    | C3 |                           | C4 |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    |                 B1                  |    |\n    // |----------------------------------------------------|\n    // |                  B2 (Full Width)                   |\n    // |----------------------------------------------------|\n    //\n\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n\n    // First fit the fullSize boxes, to reduce probability of re-fitting.\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n\n    // Then fit vertical boxes\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n\n    // Then fit horizontal boxes\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      // if the area changed, re-fit vertical boxes\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n\n    handleMaxPadding(chartArea);\n\n    // Finally place the boxes to correct coordinates\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n\n    // Move to opposite side of chart\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n\n    // Finally update boxes in chartArea (radial scale for example)\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n","\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\n/**\n * Abstract class that allows abstracting platform dependencies away from the chart.\n */\nexport default class BasePlatform {\n  /**\n\t * Called at chart construction time, returns a context2d instance implementing\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\n\t * @param {HTMLCanvasElement} canvas - The canvas from which to acquire context (platform specific)\n\t * @param {number} [aspectRatio] - The chart options\n\t */\n  acquireContext(canvas, aspectRatio) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Called at chart destruction time, releases any resources associated to the context\n\t * previously returned by the acquireContext() method.\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\n\t * @returns {boolean} true if the method succeeded, else false\n\t */\n  releaseContext(context) { // eslint-disable-line no-unused-vars\n    return false;\n  }\n\n  /**\n\t * Registers the specified listener on the given chart.\n\t * @param {Chart} chart - Chart from which to listen for event\n\t * @param {string} type - The ({@link ChartEvent}) type to listen for\n\t * @param {function} listener - Receives a notification (an object that implements\n\t * the {@link ChartEvent} interface) when an event of the specified type occurs.\n\t */\n  addEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Removes the specified listener previously registered with addEventListener.\n\t * @param {Chart} chart - Chart from which to remove the listener\n\t * @param {string} type - The ({@link ChartEvent}) type to remove\n\t * @param {function} listener - The listener function to remove from the event target.\n\t */\n  removeEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @returns {number} the current devicePixelRatio of the device this platform is connected to.\n\t */\n  getDevicePixelRatio() {\n    return 1;\n  }\n\n  /**\n\t * Returns the maximum size in pixels of given canvas element.\n\t * @param {HTMLCanvasElement} element\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @returns {boolean} true if the canvas is attached to the platform, false if not.\n\t */\n  isAttached(canvas) { // eslint-disable-line no-unused-vars\n    return true;\n  }\n\n  /**\n   * Updates config with platform specific requirements\n   * @param {import('../core/core.config.js').default} config\n   */\n  updateConfig(config) { // eslint-disable-line no-unused-vars\n    // no-op\n  }\n}\n","/**\n * Platform fallback implementation (minimal).\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\n */\n\nimport BasePlatform from './platform.base.js';\n\n/**\n * Platform class for charts without access to the DOM or to many element properties\n * This platform is used by default for any chart passed an OffscreenCanvas.\n * @extends BasePlatform\n */\nexport default class BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n","/**\n * Chart.Platform implementation for targeting a web browser\n */\n\nimport BasePlatform from './platform.base.js';\nimport {_getParentNode, getRelativePosition, supportsEventListenerOptions, readUsedSize, getMaximumSize} from '../helpers/helpers.dom.js';\nimport {throttled} from '../helpers/helpers.extras.js';\nimport {isNullOrUndef} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nconst EXPANDO_KEY = '$chartjs';\n\n/**\n * DOM event types -> Chart.js event types.\n * Note: only events with different types are mapped.\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\n */\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nconst isNullOrEmpty = value => value === null || value === '';\n/**\n * Initializes the canvas style and render size without modifying the canvas display size,\n * since responsiveness is handled by the controller.resize() method. The config is used\n * to determine the aspect ratio to apply in case no explicit height has been specified.\n * @param {HTMLCanvasElement} canvas\n * @param {number} [aspectRatio]\n */\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n\n  // NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\n  // returns null or '' if no explicit value has been set to the canvas attribute.\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n\n  // Chart.js modifies some canvas values that we want to restore on destroy\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n\n  // Force canvas to display as block to avoid extra space caused by inline\n  // elements, which would interfere with the responsive resize process.\n  // https://github.com/chartjs/Chart.js/issues/2538\n  style.display = style.display || 'block';\n  // Include possible borders in the size\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      // If no explicit render height and style height, let's apply the aspect ratio,\n      // which one can be specified by the user but also by charts as default option\n      // (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n// https://github.com/chartjs/Chart.js/issues/4287\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\n\nfunction addListener(node, type, listener) {\n  if (node) {\n    node.addEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction removeListener(chart, type, listener) {\n  if (chart && chart.canvas) {\n    chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n  }\n}\n\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\n\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      // If the container size shrank during chart resize, let's assume\n      // scrollbar appeared. So we resize again with the scrollbar visible -\n      // effectively making chart smaller and the scrollbar hidden again.\n      // Because we are inside `throttled`, and currently `ticking`, scroll\n      // events are ignored during this whole 2 resize process.\n      // If we assumed wrong and something else happened, we are resizing\n      // twice in a frame (potential performance issue)\n      listener();\n    }\n  }, window);\n\n  // @ts-ignore until https://github.com/microsoft/TypeScript/issues/37861 implemented\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    // When its container's display is set to 'none' the callback will be called with a\n    // size of (0, 0), which will cause the chart to lose its original height, so skip\n    // resizing in such case.\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    // This case can occur if the chart is destroyed while waiting\n    // for the throttled function to occur. We prevent crashes by checking\n    // for a destroyed chart\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart);\n\n  addListener(canvas, type, proxy);\n\n  return proxy;\n}\n\n/**\n * Platform class for charts that can access the DOM and global window/document properties\n * @extends BasePlatform\n */\nexport default class DomPlatform extends BasePlatform {\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [aspectRatio]\n\t * @return {CanvasRenderingContext2D|null}\n\t */\n  acquireContext(canvas, aspectRatio) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n\n    // `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the canvas is\n    // inside an iframe or when running in a protected environment. We could guess the\n    // types from their toString() value but let's keep things flexible and assume it's\n    // a sufficient condition if the canvas has a context2D which has canvas as `canvas`.\n    // https://github.com/chartjs/Chart.js/issues/3887\n    // https://github.com/chartjs/Chart.js/issues/4102\n    // https://github.com/chartjs/Chart.js/issues/4152\n    if (context && context.canvas === canvas) {\n      // Load platform resources on first chart creation, to make it possible to\n      // import the library before setting platform options.\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n\n    return null;\n  }\n\n  /**\n\t * @param {CanvasRenderingContext2D} context\n\t */\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n\n    // The canvas render size might have been changed (and thus the state stack discarded),\n    // we can't use save() and restore() to restore the initial state. So make sure that at\n    // least the canvas context is reset to the default state by setting the canvas width.\n    // https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\n    // eslint-disable-next-line no-self-assign\n    canvas.width = canvas.width;\n\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n\n  /**\n\t *\n\t * @param {Chart} chart\n\t * @param {string} type\n\t * @param {function} listener\n\t */\n  addEventListener(chart, type, listener) {\n    // Can have only one listener per type, so make sure previous is removed\n    this.removeEventListener(chart, type);\n\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} type\n\t */\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n\n    if (!proxy) {\n      return;\n    }\n\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t */\n  isAttached(canvas) {\n    const container = canvas && _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n","import type {AnyObject} from '../types/basic.js';\nimport type {Point} from '../types/geometric.js';\nimport type {Animation} from '../types/animation.js';\nimport {isNumber} from '../helpers/helpers.math.js';\n\nexport default class Element<T = AnyObject, O = AnyObject> {\n\n  static defaults = {};\n  static defaultRoutes = undefined;\n\n  x: number;\n  y: number;\n  active = false;\n  options: O;\n  $animations: Record<keyof T, Animation>;\n\n  tooltipPosition(useFinalPosition: boolean): Point {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y} as Point;\n  }\n\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n\n  /**\n   * Gets the current or final value of each prop. Can return extra properties (whole object).\n   * @param props - properties to get\n   * @param [final] - get the final value (animation target)\n   */\n  getProps<P extends (keyof T)[]>(props: P, final?: boolean): Pick<T, P[number]>;\n  getProps<P extends string>(props: P[], final?: boolean): Partial<Record<P, unknown>>;\n  getProps(props: string[], final?: boolean): Partial<Record<string, unknown>> {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      // let's not create an object, if not needed\n      return this as Record<string, unknown>;\n    }\n    const ret: Record<string, unknown> = {};\n    props.forEach((prop) => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop as string];\n    });\n    return ret;\n  }\n}\n","import {isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\nimport {_factorize} from '../helpers/helpers.math.js';\n\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a subset of ticks to be plotted to avoid overlapping labels.\n * @param {import('./core.scale.js').default} scale\n * @param {Tick[]} ticks\n * @return {Tick[]}\n * @private\n */\nexport function autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const determinedMaxTicks = determineMaxTicks(scale);\n  const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n\n  // If there are too many major ticks to display them all\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\n/**\n * @param {number[]} majorIndices\n * @param {Tick[]} ticks\n * @param {number} ticksLimit\n */\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n\n  // If the major ticks are evenly spaced apart, place the minor ticks\n  // so that they divide the major ticks into even chunks\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\n\n/**\n * @param {Tick[]} ticks\n */\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number[]} majorIndices\n * @param {number} spacing\n */\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number} spacing\n * @param {number} [majorStart]\n * @param {number} [majorEnd]\n */\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\n\n/**\n * @param {number[]} arr\n */\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n","import Element from './core.element.js';\nimport {_alignPixel, _measureText, renderText, clipArea, unclipArea} from '../helpers/helpers.canvas.js';\nimport {callback as call, each, finiteOrDefault, isArray, isFinite, isNullOrUndef, isObject, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toDegrees, toRadians, _int16Range, _limitValue, HALF_PI} from '../helpers/helpers.math.js';\nimport {_alignStartEnd, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {createContext, toFont, toPadding, _addGrace} from '../helpers/helpers.options.js';\nimport {autoSkip} from './core.scale.autoskip.js';\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit) => Math.min(maxTicksLimit || ticksLength, ticksLength);\n\n/**\n * @typedef { import('../types/index.js').Chart } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a new array containing numItems from arr\n * @param {any[]} arr\n * @param {number} numItems\n */\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @param {boolean} offsetGridLines\n */\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n\n    // Return undefined if the pixel is out of the range\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\n\n/**\n * @param {object} caches\n * @param {number} length\n */\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\n/**\n * @param {object} options\n */\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\n/**\n * @param {object} options\n */\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n\n  return (lines * font.lineHeight) + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  /** @type {CanvasTextAlign} */\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\n\nexport default class Scale extends Element {\n\n  // eslint-disable-next-line max-statements\n  constructor(cfg) {\n    super();\n\n    /** @type {string} */\n    this.id = cfg.id;\n    /** @type {string} */\n    this.type = cfg.type;\n    /** @type {any} */\n    this.options = undefined;\n    /** @type {CanvasRenderingContext2D} */\n    this.ctx = cfg.ctx;\n    /** @type {Chart} */\n    this.chart = cfg.chart;\n\n    // implements box\n    /** @type {number} */\n    this.top = undefined;\n    /** @type {number} */\n    this.bottom = undefined;\n    /** @type {number} */\n    this.left = undefined;\n    /** @type {number} */\n    this.right = undefined;\n    /** @type {number} */\n    this.width = undefined;\n    /** @type {number} */\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    /** @type {number} */\n    this.maxWidth = undefined;\n    /** @type {number} */\n    this.maxHeight = undefined;\n    /** @type {number} */\n    this.paddingTop = undefined;\n    /** @type {number} */\n    this.paddingBottom = undefined;\n    /** @type {number} */\n    this.paddingLeft = undefined;\n    /** @type {number} */\n    this.paddingRight = undefined;\n\n    // scale-specific properties\n    /** @type {string=} */\n    this.axis = undefined;\n    /** @type {number=} */\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    /** @type {Tick[]} */\n    this.ticks = [];\n    /** @type {object[]|null} */\n    this._gridLineItems = null;\n    /** @type {object[]|null} */\n    this._labelItems = null;\n    /** @type {object|null} */\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    /** @type {number} */\n    this._startPixel = undefined;\n    /** @type {number} */\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @param {any} options\n\t * @since 3.0\n\t */\n  init(options) {\n    this.options = options.setContext(this.getContext());\n\n    this.axis = options.axis;\n\n    // parse min/max value, so we can properly determine min/max for other scales\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n\n  /**\n\t * Parse a supported input value to internal representation.\n\t * @param {*} raw\n\t * @param {number} [index]\n\t * @since 3.0\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    return raw;\n  }\n\n  /**\n\t * @return {{min: number, max: number, minDefined: boolean, maxDefined: boolean}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isFinite(_userMin),\n      maxDefined: isFinite(_userMax)\n    };\n  }\n\n  /**\n\t * @param {boolean} canStack\n\t * @return {{min: number, max: number}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n\n    // Make sure min <= max when only min or max is defined by user and the data is outside that range\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n\n  /**\n\t * Get the padding needed for the scale\n\t * @return {{top: number, left: number, bottom: number, right: number}} the necessary padding\n\t * @private\n\t */\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n\n  /**\n\t * Returns the scale tick objects\n\t * @return {Tick[]}\n\t * @since 2.7\n\t */\n  getTicks() {\n    return this.ticks;\n  }\n\n  /**\n\t * @return {string[]}\n\t */\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n\n  /**\n   * @return {import('../types.js').LabelItem[]}\n   */\n  getLabelItems(chartArea = this.chart.chartArea) {\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    return items;\n  }\n\n  // When a new layout is created, reset the data limits cache\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n\n  // These methods are ordered by lifecycle. Utilities then follow.\n  // Any function defined here is inherited by all scale types.\n  // Any function can be extended by the scale type\n\n  beforeUpdate() {\n    call(this.options.beforeUpdate, [this]);\n  }\n\n  /**\n\t * @param {number} maxWidth - the max width in pixels\n\t * @param {number} maxHeight - the max height in pixels\n\t * @param {{top: number, left: number, bottom: number, right: number}} margins - the space between the edge of the other scales and edge of the chart\n\t *   This space comes from two sources:\n\t *     - padding - space that's required to show the labels at the edges of the scale\n\t *     - thickness of scales or legends in another orientation\n\t */\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n\n    // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n    this.beforeUpdate();\n\n    // Absorb the master measurements\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n\n    // Dimensions\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n\n    // Data min/max\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n\n    this.beforeBuildTicks();\n\n    this.ticks = this.buildTicks() || [];\n\n    // Allow modification of ticks in callback.\n    this.afterBuildTicks();\n\n    // Compute tick rotation and fit using a sampled subset of labels\n    // We generally don't need to compute the size of every single label for determining scale size\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n\n    // configure is called twice, once here, once from core.controller.updateLayout.\n    // Here we haven't been positioned yet, but dimensions are correct.\n    // Variables set in configure are needed for calculateLabelRotation, and\n    // it's ok that coordinates are not correct there, only dimensions matter.\n    this.configure();\n\n    // Tick Rotation\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation(); // Preconditions: number of ticks and sizes of largest labels must be calculated beforehand\n    this.afterCalculateLabelRotation();\n\n    // Auto-skip\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n\n    if (samplingEnabled) {\n      // Generate labels using all non-skipped ticks\n      this._convertTicksToLabels(this.ticks);\n    }\n\n    this.beforeFit();\n    this.fit(); // Preconditions: label rotation and label sizes must be calculated beforehand\n    this.afterFit();\n\n    // IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\n\n    this.afterUpdate();\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      // by default vertical scales are from bottom to top, so pixels are reversed\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n\n  afterUpdate() {\n    call(this.options.afterUpdate, [this]);\n  }\n\n  //\n\n  beforeSetDimensions() {\n    call(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    if (this.isHorizontal()) {\n      // Reset position before calculating rotation\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n\n      // Reset position before calculating rotation\n      this.top = 0;\n      this.bottom = this.height;\n    }\n\n    // Reset padding\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    call(this.options.afterSetDimensions, [this]);\n  }\n\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    call(this.options[name], [this]);\n  }\n\n  // Data limits\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n\n  //\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  /**\n\t * @return {object[]} the ticks\n\t */\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n\n  beforeTickToLabelConversion() {\n    call(this.options.beforeTickToLabelConversion, [this]);\n  }\n  /**\n\t * Convert ticks to label strings\n\t * @param {Tick[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = call(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    call(this.options.afterTickToLabelConversion, [this]);\n  }\n\n  //\n\n  beforeCalculateLabelRotation() {\n    call(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n\n    // Estimate the width of each grid based on the canvas width, the maximum\n    // label width and the number of tick intervals\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n    // Allow 3 pixels x2 padding either side for label readability\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    call(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n\n  //\n\n  beforeFit() {\n    call(this.options.beforeFit, [this]);\n  }\n  fit() {\n    // Reset\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight; // fill all the height\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n\n      // Don't bother fitting the ticks if we are not showing the labels\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n\n        if (isHorizontal) {\n        // A horizontal axis is more constrained by the height.\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n        // A vertical axis is more constrained by the width. Labels are the\n        // dominant factor here, so get that length first and account for padding\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n\n    this._handleMargins();\n\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n\n      // Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\n      // which means that the right padding is dominated by the font height\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n\n      // Adjust padding taking into account changes in offsets\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n\n  /**\n\t * Handle margins and padding interactions\n\t * @private\n\t */\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n\n  afterFit() {\n    call(this.options.afterFit, [this]);\n  }\n\n  // Shared Methods\n  /**\n\t * @return {boolean}\n\t */\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  /**\n\t * @return {boolean}\n\t */\n  isFullSize() {\n    return this.options.fullSize;\n  }\n\n  /**\n\t * @param {Tick[]} ticks\n\t * @private\n\t */\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n\n    this.generateTickLabels(ticks);\n\n    // Ticks should be skipped when callback returns null or undef, so lets remove those.\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n\n    this.afterTickToLabelConversion();\n  }\n\n  /**\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n    }\n\n    return labelSizes;\n  }\n\n  /**\n\t * Returns {width, height, offset} objects for the first, last, widest, highest tick\n\t * labels where offset indicates the anchor point offset from the top in pixels.\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _computeLabelSizes(ticks, length, maxTicksLimit) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n    for (i = 0; i < length; i += increment) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      // Undefined labels and arrays should not be measured\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        // if it is an array let's measure each element\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = /** @type {string} */ (label[j]);\n          // Undefined labels and arrays should not be measured\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n\n  /**\n\t * Used to get the label to display in the tooltip for the given value\n\t * @param {*} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value;\n  }\n\n  /**\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {*} value\n\t * @param {number} [index]\n\t * @return {number}\n\t */\n  getPixelForValue(value, index) { // eslint-disable-line no-unused-vars\n    return NaN;\n  }\n\n  /**\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} pixel\n\t * @return {*}\n\t */\n  getValueForPixel(pixel) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Returns the location of the tick at the given index\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} index\n\t * @return {number}\n\t */\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  /**\n\t * Utility for getting the pixel location of a percentage of scale\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} decimal\n\t * @return {number}\n\t */\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n\n  /**\n\t * Returns the pixel for the minimum chart value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @return {number}\n\t */\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n\n  /**\n\t * @return {number}\n\t */\n  getBaseValue() {\n    const {min, max} = this;\n\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index) {\n    const ticks = this.ticks || [];\n\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n\n  /**\n\t * @return {number}\n\t * @private\n\t */\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n\n    // Calculate space needed by label in axis direction.\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n\n    // Calculate space needed for 1 tick in axis direction.\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n\n  /**\n\t * @return {boolean}\n\t * @private\n\t */\n  _isVisible() {\n    const display = this.options.display;\n\n    if (display !== 'auto') {\n      return !!display;\n    }\n\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position, border} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = borderOpts.display ? borderOpts.width : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const context = this.getContext(i);\n      const optsAtIndex = grid.setContext(context);\n      const optsAtIndexBorder = border.setContext(context);\n\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = optsAtIndexBorder.dash || [];\n      const borderDashOffset = optsAtIndexBorder.dashOffset;\n\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n\n      lineValue = getPixelForGridLine(this, i, offset);\n\n      // Skip if the pixel is out of the range\n      if (lineValue === undefined) {\n        continue;\n      }\n\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n\n    return items;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n\n      if (isHorizontal) {\n        x = pixel;\n\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          // eslint-disable-next-line no-lonely-if\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n        if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n          x += (lineHeight / 2) * Math.sin(rotation);\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n\n      let backdrop;\n\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n\n        let top = textOffset - labelPadding.top;\n        let left = 0 - labelPadding.left;\n\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        default:\n          break;\n        }\n\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        case 'inner':\n          if (i === ilen - 1) {\n            left -= width;\n          } else if (i > 0) {\n            left -= width / 2;\n          }\n          break;\n        default:\n          break;\n        }\n\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n\n          color: optsAtIndex.backdropColor,\n        };\n      }\n\n      items.push({\n        label,\n        font,\n        textOffset,\n        options: {\n          rotation,\n          color,\n          strokeColor,\n          strokeWidth,\n          textAlign: tickTextAlign,\n          textBaseline,\n          translation: [x, y],\n          backdrop,\n        }\n      });\n    }\n\n    return items;\n  }\n\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n\n    let align = 'center';\n\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n\n    return align;\n  }\n\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n\n    let textAlign;\n    let x;\n\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n\n    return {textAlign, x};\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n\n    const chart = this.chart;\n    const position = this.options.position;\n\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n\n  /**\n   * @protected\n   */\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {\n    const {chart, ctx, options: {border, grid}} = this;\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = border.display ? borderOpts.width : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.width;\n    ctx.strokeStyle = borderOpts.color;\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n\n    if (!optionTicks.display) {\n      return;\n    }\n\n    const ctx = this.ctx;\n\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n\n    const items = this.getLabelItems(chartArea);\n    for (const item of items) {\n      const renderTextOptions = item.options;\n      const tickFont = item.font;\n      const label = item.label;\n      const y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n    }\n\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n\n    if (!title.display) {\n      return;\n    }\n\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n\n  /**\n\t * @return {object[]}\n\t * @private\n\t */\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    const bz = valueOrDefault(opts.border && opts.border.z, 0);\n\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      // backward compatibility: draw has been overridden by custom scale\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: bz,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n\n  /**\n\t * Returns visible dataset metas that are attached to this scale\n\t * @param {string} [type] - if specified, also filter by dataset type\n\t * @return {object[]}\n\t */\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n\n  /**\n\t * @param {number} index\n\t * @return {object}\n\t * @protected\n \t */\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n\n  /**\n   * @protected\n   */\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n","import {merge} from '../helpers/index.js';\nimport defaults, {overrides} from './core.defaults.js';\n\n/**\n * @typedef {{id: string, defaults: any, overrides?: any, defaultRoutes: any}} IChartComponent\n */\n\nexport default class TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t * @returns {string} The scope where items defaults were registered to.\n\t */\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n\n    if (isIChartComponent(proto)) {\n      // Make sure the parent is registered and note the scope where its defaults are.\n      parentScope = this.register(proto);\n    }\n\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n\n    if (id in items) {\n      // already registered\n      return scope;\n    }\n\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n\n    return scope;\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object?}\n\t */\n  get(id) {\n    return this.items[id];\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t */\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n\n    if (id in items) {\n      delete items[id];\n    }\n\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\n\nfunction registerDefaults(item, scope, parentScope) {\n  // Inherit the parent's defaults and keep existing defaults\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n","import DatasetController from './core.datasetController.js';\nimport Element from './core.element.js';\nimport Scale from './core.scale.js';\nimport TypedRegistry from './core.typedRegistry.js';\nimport {each, callback as call, _capitalize} from '../helpers/helpers.core.js';\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    // Order is important, Scale has Element in prototype chain,\n    // so Scales must be before Elements. Plugins are a fallback, so not listed here.\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  add(...args) {\n    this._each('register', args);\n  }\n\n  remove(...args) {\n    this._each('unregister', args);\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof DatasetController}\n\t */\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Element}\n\t */\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object}\n\t */\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Scale}\n\t */\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n\n  /**\n\t * @private\n\t */\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        // Handle loopable args\n        // Use case:\n        //  import * as plugins from './plugins.js';\n        //  Chart.register(plugins);\n        each(arg, item => {\n          // If there are mixed types in the loopable, make sure those are\n          // registered in correct registry\n          // Use case: (treemap exporting controller, elements etc)\n          //  import * as treemap from 'chartjs-chart-treemap.js';\n          //  Chart.register(treemap);\n\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    call(component['before' + camelMethod], [], component); // beforeRegister / beforeUnregister\n    registry[method](component);\n    call(component['after' + camelMethod], [], component); // afterRegister / afterUnregister\n  }\n\n  /**\n\t * @private\n\t */\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    // plugins is the fallback registry\n    return this.plugins;\n  }\n\n  /**\n\t * @private\n\t */\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Registry();\n","import registry from './core.registry.js';\nimport {callback as callCallback, isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../plugins/plugin.tooltip.js').default } Tooltip\n */\n\n/**\n * @callback filterCallback\n * @param {{plugin: object, options: object}} value\n * @param {number} [index]\n * @param {array} [array]\n * @param {object} [thisArg]\n * @return {boolean}\n */\n\n\nexport default class PluginService {\n  constructor() {\n    this._init = [];\n  }\n\n  /**\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {object} [args] - Extra arguments to apply to the hook call.\n   * @param {filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callCallback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  invalidate() {\n    // When plugins are registered, there is the possibility of a double\n    // invalidate situation. In this case, we only want to invalidate once.\n    // If we invalidate multiple times, the `_oldCache` is lost and all of the\n    // plugins are restarted without being correctly stopped.\n    // See https://github.com/chartjs/Chart.js/issues/8147\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n\n    const descriptors = this._cache = this._createDescriptors(chart);\n\n    this._notifyStateChanges(chart);\n\n    return descriptors;\n  }\n\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    // options === false => all plugins are disabled\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\n\n/**\n * @param {import('./core.config.js').default} config\n */\nfunction allPlugins(config) {\n  const localIds = {};\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n      localIds[plugin.id] = true;\n    }\n  }\n\n  return {plugins, localIds};\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\n\nfunction createDescriptors(chart, {plugins, localIds}, options, all) {\n  const result = [];\n  const context = chart.getContext();\n\n  for (const plugin of plugins) {\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, {plugin, local}, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  if (local && plugin.defaults) {\n    // make sure plugin defaults are in scopes for local (not registered) plugins\n    scopes.push(plugin.defaults);\n  }\n  return config.createResolver(scopes, context, [''], {\n    // These are just defaults that plugins can override\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n","import defaults, {overrides, descriptors} from './core.defaults.js';\nimport {mergeIf, resolveObjectKey, isArray, isFunction, valueOrDefault, isObject} from '../helpers/helpers.core.js';\nimport {_attachContext, _createResolver, _descriptors} from '../helpers/helpers.config.js';\n\nexport function getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction idMatchesAxis(id) {\n  if (id === 'x' || id === 'y' || id === 'r') {\n    return id;\n  }\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nexport function determineAxis(id, ...scaleOptions) {\n  if (idMatchesAxis(id)) {\n    return id;\n  }\n  for (const opts of scaleOptions) {\n    const axis = opts.axis\n      || axisFromPosition(opts.position)\n      || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n    if (axis) {\n      return axis;\n    }\n  }\n  throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\n\nfunction getAxisFromDataset(id, axis, dataset) {\n  if (dataset[axis + 'AxisID'] === id) {\n    return {axis};\n  }\n}\n\nfunction retrieveAxisFromDatasets(id, config) {\n  if (config.data && config.data.datasets) {\n    const boundDs = config.data.datasets.filter((d) => d.xAxisID === id || d.yAxisID === id);\n    if (boundDs.length) {\n      return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n    }\n  }\n  return {};\n}\n\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const scales = Object.create(null);\n\n  // First figure out first scale id's per axis.\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n\n  // Then merge dataset defaults to scale configs\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n\n  // apply scale defaults, if not overridden by dataset defaults\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n\n  return scales;\n}\n\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n\n  initOptions(config);\n\n  return config;\n}\n\nconst keyCache = new Map();\nconst keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\n\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nexport default class Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  get platform() {\n    return this._config.platform;\n  }\n\n  get type() {\n    return this._config.type;\n  }\n\n  set type(type) {\n    this._config.type = type;\n  }\n\n  get data() {\n    return this._config.data;\n  }\n\n  set data(data) {\n    this._config.data = initData(data);\n  }\n\n  get options() {\n    return this._config.options;\n  }\n\n  set options(options) {\n    this._config.options = options;\n  }\n\n  get plugins() {\n    return this._config.plugins;\n  }\n\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @return {string[][]}\n   */\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset animation options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @param {string} transition\n   * @return {string[][]}\n   */\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        // The following are used for looking up the `animations` and `animation` keys\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving element options that belong\n   * to an dataset. These keys do not include the dataset itself, because it\n   * is not under options.\n   * @param {string} datasetType\n   * @param {string} elementType\n   * @return {string[][]}\n   */\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving plugin options.\n   * @param {{id: string, additionalOptionScopes?: string[]}} plugin\n   * @return {string[][]}\n   */\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n\n  /**\n   * @private\n   */\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n\n  /**\n   * Resolves the objects from options and defaults for option value resolution.\n   * @param {object} mainScope - The main scope object for options\n   * @param {string[][]} keyLists - The arrays of keys in resolution order\n   * @param {boolean} [resetCache] - reset the cache for this mainScope\n   */\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n\n    const scopes = new Set();\n\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n\n  /**\n   * Returns the option scopes for resolving chart options\n   * @return {object[]}\n   */\n  chartOptionScopes() {\n    const {options, type} = this;\n\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {}, // https://github.com/chartjs/Chart.js/issues/8531\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {string[]} names\n   * @param {function|object} context\n   * @param {string[]} [prefixes]\n   * @return {object}\n   */\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      // subResolver is passed to scriptable options. It should not resolve to hover options.\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {object} [context]\n   * @param {string[]} [prefixes]\n   * @param {{scriptable: boolean, indexable: boolean, allKeys?: boolean}} [descriptorDefaults]\n   */\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\n\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).some((key) => isFunction(value[key]));\n\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n","import animator from './core.animator.js';\nimport defaults, {overrides} from './core.defaults.js';\nimport Interaction from './core.interaction.js';\nimport layouts from './core.layouts.js';\nimport {_detectPlatform} from '../platform/index.js';\nimport PluginService from './core.plugins.js';\nimport registry from './core.registry.js';\nimport Config, {determineAxis, getIndexAxis} from './core.config.js';\nimport {retinaScale, _isDomSupported} from '../helpers/helpers.dom.js';\nimport {each, callback as callCallback, uid, valueOrDefault, _elementsEqual, isNullOrUndef, setsEqual, defined, isFunction, _isClickEvent} from '../helpers/helpers.core.js';\nimport {clearCanvas, clipArea, createContext, unclipArea, _isPointInArea} from '../helpers/index.js';\n// @ts-ignore\nimport {version} from '../../package.json';\nimport {debounce} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').Point } Point\n */\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\n\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n\n  chart.notifyPlugins('afterRender');\n  callCallback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callCallback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\n/**\n * Chart.js can take a string id of a canvas element, a 2d context, or a canvas element itself.\n * Attempt to unwrap the item passed into the chart constructor so that it is a canvas element (if possible).\n */\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    // Support for array based queries (such as jQuery)\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    // Support for any object associated to a canvas (including a context2d)\n    item = item.canvas;\n  }\n  return item;\n}\n\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\n\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\n\n/**\n * @param {ChartEvent} e\n * @param {ChartEvent|null} lastEvent\n * @param {boolean} inChartArea\n * @param {boolean} isClick\n * @returns {ChartEvent|null}\n */\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\n\nfunction getSizeForArea(scale, chartArea, field) {\n  return scale.options.clip ? scale[field] : chartArea[field];\n}\n\nfunction getDatasetArea(meta, chartArea) {\n  const {xScale, yScale} = meta;\n  if (xScale && yScale) {\n    return {\n      left: getSizeForArea(xScale, chartArea, 'left'),\n      right: getSizeForArea(xScale, chartArea, 'right'),\n      top: getSizeForArea(yScale, chartArea, 'top'),\n      bottom: getSizeForArea(yScale, chartArea, 'bottom')\n    };\n  }\n  return chartArea;\n}\n\nclass Chart {\n\n  static defaults = defaults;\n  static instances = instances;\n  static overrides = overrides;\n  static registry = registry;\n  static version = version;\n  static getChart = getChart;\n\n  static register(...items) {\n    registry.add(...items);\n    invalidatePlugins();\n  }\n\n  static unregister(...items) {\n    registry.remove(...items);\n    invalidatePlugins();\n  }\n\n  // eslint-disable-next-line max-statements\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.'\n      );\n    }\n\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    // Store the previously used aspect ratio to determine if a resize\n    // is needed during updates. Do this after _options is set since\n    // aspectRatio uses a getter\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    /** @type {?{attach?: function, detach?: function, resize?: function}} */\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n\n    // Add the chart instance to the global namespace\n    instances[this.id] = this;\n\n    if (!context || !canvas) {\n      // The given item is not a compatible context2d element, let's return before finalizing\n      // the chart initialization but after setting basic chart / controller properties that\n      // can help to figure out that the chart is not valid (e.g chart.canvas !== null);\n      // https://github.com/chartjs/Chart.js/issues/2807\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      // If aspectRatio is defined in options, use that.\n      return aspectRatio;\n    }\n\n    if (maintainAspectRatio && _aspectRatio) {\n      // If maintainAspectRatio is truthly and we had previously determined _aspectRatio, use that\n      return _aspectRatio;\n    }\n\n    // Calculate\n    return height ? width / height : null;\n  }\n\n  get data() {\n    return this.config.data;\n  }\n\n  set data(data) {\n    this.config.data = data;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(options) {\n    this.config.options = options;\n  }\n\n  get registry() {\n    return registry;\n  }\n\n  /**\n\t * @private\n\t */\n  _initialize() {\n    // Before init plugin notification\n    this.notifyPlugins('beforeInit');\n\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n\n    this.bindEvents();\n\n    // After init plugin notification\n    this.notifyPlugins('afterInit');\n\n    return this;\n  }\n\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n\n  /**\n\t * Resize the chart to its container or to explicit dimensions.\n\t * @param {number} [width]\n\t * @param {number} [height]\n\t */\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n\n    this.notifyPlugins('resize', {size: newSize});\n\n    callCallback(options.onResize, [this, newSize], this);\n\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        // The resize update is delayed, only draw without updating.\n        this.render();\n      }\n    }\n  }\n\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n\n  /**\n\t * Builds a map of scale ID to scale object for future lookup.\n\t */\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n\n      scale.init(scaleOptions, options);\n    });\n    // clear up discarded scales\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n\n  /**\n\t * @private\n\t */\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n\n    this._removeUnreferencedMetasets();\n\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n\n    this._updateMetasets();\n    return newControllers;\n  }\n\n  /**\n\t * Reset the elements of all datasets\n\t * @private\n\t */\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n\n  /**\n\t* Resets the chart back to its state before the initial animation\n\t*/\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n\n  update(mode) {\n    const config = this.config;\n\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n\n    // plugins options references might have change, let's invalidate the cache\n    // https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\n    this._plugins.invalidate();\n\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    // Make sure dataset controllers are updated and new controllers are reset\n    const newControllers = this.buildOrUpdateControllers();\n\n    this.notifyPlugins('beforeElementsUpdate');\n\n    // Make sure all dataset controllers have correct meta data counts\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      // New controllers will be reset after the layout pass, so we only want to modify\n      // elements added to new datasets\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n\n    // Only reset the controllers if we have animations\n    if (!animsDisabled) {\n      // Can only reset the new controllers after the scales have been updated\n      // Reset is done to get the starting point for the initial animation\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n\n    this._updateDatasets(mode);\n\n    // Do this before render so that any plugins that need final scale updates can use it\n    this.notifyPlugins('afterUpdate', {mode});\n\n    this._layers.sort(compare2Level('z', '_idx'));\n\n    // Replay last event from before update, or set hover styles on active elements\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n\n    this.render();\n  }\n\n  /**\n   * @private\n   */\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n\n  /**\n   * @private\n   */\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      // The configured events have changed. Rebind.\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n\n  /**\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\n\t * hook, in which case, plugins will not be called on `afterLayout`.\n\t * @private\n\t */\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n\n    layouts.update(this, this.width, this.height, minPadding);\n\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        // Skip drawing and configuring chartArea boxes when chartArea is zero or negative\n        return;\n      }\n\n      // configure is called twice, once in core.scale.update and once here.\n      // Here the boxes are fully updated and at their final positions.\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n\n    this.notifyPlugins('afterLayout');\n  }\n\n  /**\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\n\t * @private\n\t */\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n\n  /**\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\n\t * @private\n\t */\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n\n    meta.controller._update(mode);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      // Unset pending resize request now to avoid possible recursion within _resize\n      this._resizeBeforeDraw = null;\n      this._resize(width, height);\n    }\n    this.clear();\n\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    // Because of plugin hooks (before/afterDatasetsDraw), datasets can't\n    // currently be part of layers. Instead, we draw\n    // layers <= 0 before(default, backward compat), and the rest after\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this._drawDatasets();\n\n    // Rest of layers\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this.notifyPlugins('afterDraw');\n  }\n\n  /**\n\t * @private\n\t */\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n\t * Gets the visible dataset metas in drawing order\n\t * @return {object[]}\n\t */\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n\n  /**\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\n\t * @private\n\t */\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n\n  /**\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\n\t * @private\n\t */\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = getDatasetArea(meta, this.chartArea);\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n\n    meta.controller.draw();\n\n    if (useClip) {\n      unclipArea(ctx);\n    }\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n\n  /**\n   * Checks whether the given point is in the chart area.\n   * @param {Point} point - in relative coordinates (see, e.g., getRelativePosition)\n   * @returns {boolean}\n   */\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n\n    return [];\n  }\n\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\t\t\t// See isDatasetVisible() comment\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n\n    return meta;\n  }\n\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n\n    const meta = this.getDatasetMeta(datasetIndex);\n\n    // meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n    // the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n\n  /**\n\t * @private\n\t */\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      // Animate visible state, so hide animation can be seen. This could be handled better if update / updateDataset returned a Promise.\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n\n  /**\n\t * @private\n\t */\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n\n    this._stop();\n    this.config.clearCache();\n\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n\n    delete instances[this.id];\n\n    this.notifyPlugins('afterDestroy');\n  }\n\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n\n  /**\n\t * @private\n\t */\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n\n  /**\n   * @private\n   */\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n\n    each(this.options.events, (type) => _add(type, listener));\n  }\n\n  /**\n   * @private\n   */\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n\n    let detached; // eslint-disable-line prefer-const\n    const attached = () => {\n      _remove('attach', attached);\n\n      this.attached = true;\n      this.resize();\n\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n\n    detached = () => {\n      this.attached = false;\n\n      _remove('resize', listener);\n\n      // Stop animating and remove metasets, so when re-attached, the animations start from beginning.\n      this._stop();\n      this._resize(0, 0);\n\n      _add('attach', attached);\n    };\n\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n\n  /**\n\t * Get active (hovered) elements\n\t * @returns array\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active (hovered) elements\n\t * @param {array} activeElements New active data points\n\t */\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n\n    if (changed) {\n      this._active = active;\n      // Make sure we don't use the previous mouse event to override the active elements in update.\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n\n  /**\n\t * Calls enabled plugins on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {Object} [args] - Extra arguments to apply to the hook call.\n   * @param {import('./core.plugins.js').filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n\n  /**\n   * Check if a plugin with the specific ID is registered and enabled\n   * @param {string} pluginId - The ID of the plugin of which to check if it is enabled\n   * @returns {boolean}\n   */\n  isPluginEnabled(pluginId) {\n    return this._plugins._cache.filter(p => p.plugin.id === pluginId).length === 1;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n\n    if (changed || args.changed) {\n      this.render();\n    }\n\n    return this;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e the event to handle\n\t * @param {boolean} [replay] - true if the event was replayed by `update`\n   * @param {boolean} [inChartArea] - true if the event is inside chartArea\n\t * @return {boolean} true if the chart needs to re-render\n\t * @private\n\t */\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n\n    // If the event is replayed from `update`, we should evaluate with the final positions.\n    //\n    // The `replay`:\n    // It's the last event (excluding click) that has occurred before `update`.\n    // So mouse has not moved. It's also over the chart, because there is a `replay`.\n    //\n    // The why:\n    // If animations are active, the elements haven't moved yet compared to state before update.\n    // But if they will, we are activating the elements that would be active, if this check\n    // was done after the animations have completed. => \"final positions\".\n    // If there is no animations, the \"final\" and \"current\" positions are equal.\n    // This is done so we do not have to evaluate the active elements each animation frame\n    // - it would be expensive.\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n\n    if (inChartArea) {\n      // Set _lastEvent to null while we are processing the event handlers.\n      // This prevents recursion if the handler calls chart.update()\n      this._lastEvent = null;\n\n      // Invoke onHover hook\n      callCallback(options.onHover, [e, active, this], this);\n\n      if (isClick) {\n        callCallback(options.onClick, [e, active, this], this);\n      }\n    }\n\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n\n    this._lastEvent = lastEvent;\n\n    return changed;\n  }\n\n  /**\n   * @param {ChartEvent} e - The event\n   * @param {import('../types/index.js').ActiveElement[]} lastActive - Previously active elements\n   * @param {boolean} inChartArea - Is the event inside chartArea\n   * @param {boolean} useFinalPosition - Should the evaluation be done with current or final (after animation) element positions\n   * @returns {import('../types/index.js').ActiveElement[]} - The active elements\n   * @pravate\n   */\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      return lastActive;\n    }\n\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\n\n// @ts-ignore\nfunction invalidatePlugins() {\n  return each(Chart.instances, (chart) => chart._plugins.invalidate());\n}\n\nexport default Chart;\n","import {_isDomSupported} from '../helpers/index.js';\nimport BasePlatform from './platform.base.js';\nimport BasicPlatform from './platform.basic.js';\nimport DomPlatform from './platform.dom.js';\n\nexport function _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nexport {BasePlatform, BasicPlatform, DomPlatform};\n","import Element from '../core/core.element.js';\nimport {_bezierInterpolation, _pointInLine, _steppedInterpolation} from '../helpers/helpers.interpolation.js';\nimport {_computeSegments, _boundSegments} from '../helpers/helpers.segment.js';\nimport {_steppedLineTo, _bezierCurveTo} from '../helpers/helpers.canvas.js';\nimport {_updateBezierControlPoints} from '../helpers/helpers.curve.js';\nimport {valueOrDefault} from '../helpers/index.js';\n\n/**\n * @typedef { import('./element.point.js').default } PointElement\n */\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @returns {any}\n */\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  // eslint-disable-next-line prefer-const\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      // Draw line to maxY and minY, using the average x-coordinate\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      // Line to y-value of last point in group. So the line continues\n      // from correct position. Not using move, to have solid path.\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    }\n\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0; // truncated x-coordinate\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      // Draw line to next x-position, using the first (or only)\n      // y-value in that group\n      ctx.lineTo(x, y);\n\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    // Keep track of the last y-value in group\n    lastY = y;\n  }\n  drawX();\n}\n\n/**\n * @param {LineElement} line - the line\n * @returns {function}\n * @private\n */\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\n/**\n * @private\n */\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\n\nconst usePath2D = typeof Path2D === 'function';\n\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nexport default class LineElement extends Element {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderCapStyle: 'butt',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderWidth: 3,\n    capBezierPoints: true,\n    cubicInterpolationMode: 'default',\n    fill: false,\n    spanGaps: false,\n    stepped: false,\n    tension: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n  };\n\n\n  constructor(cfg) {\n    super();\n\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n\n  get points() {\n    return this._points;\n  }\n\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n\n  /**\n\t * First non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n\n  /**\n\t * Last non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n\n  /**\n\t * Interpolate a point in this line at the same value on `property` as\n\t * the reference `point` provided\n\t * @param {PointElement} point - the reference point\n\t * @param {string} property - the property to match on\n\t * @returns {PointElement|undefined}\n\t */\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n\n    if (!segments.length) {\n      return;\n    }\n\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n\n  /**\n\t * Append a segment of this line to current path.\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} segment\n\t * @param {number} segment.start - start index of the segment, referring the points array\n \t * @param {number} segment.end - end index of the segment, referring the points array\n \t * @param {boolean} segment.loop - indicates that the segment is a loop\n\t * @param {object} params\n\t * @param {boolean} params.move - move to starting point (vs line to it)\n\t * @param {boolean} params.reverse - path the segment from end to start\n\t * @param {number} params.start - limit segment to points starting from `start` index\n\t * @param {number} params.end - limit segment to points ending at `start` + `count` index\n\t * @returns {undefined|boolean} - true if the segment is a full loop (path should be closed)\n\t */\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n\n  /**\n\t * Append all segments of this line to current path.\n\t * @param {CanvasRenderingContext2D|Path2D} ctx\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t * @returns {undefined|boolean} - true if line is a full loop (path should be closed)\n\t */\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n\n    start = start || 0;\n    count = count || (this.points.length - start);\n\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n\n  /**\n\t * Draw\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} chartArea\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t */\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n\n    if (points.length && options.borderWidth) {\n      ctx.save();\n\n      draw(ctx, this, start, count);\n\n      ctx.restore();\n    }\n\n    if (this.animated) {\n      // When line is animated, the control points and path are not cached.\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\n","import Element from '../core/core.element.js';\nimport {drawPoint, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport type {\n  CartesianParsedData,\n  ChartArea,\n  Point,\n  PointHoverOptions,\n  PointOptions,\n} from '../types/index.js';\n\nfunction inRange(el: PointElement, pos: number, axis: 'x' | 'y', useFinalPosition?: boolean) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\n\nexport type PointProps = Point\n\nexport default class PointElement extends Element<PointProps, PointOptions & PointHoverOptions> {\n\n  static id = 'point';\n\n  parsed: CartesianParsedData;\n  skip?: boolean;\n  stop?: boolean;\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderWidth: 1,\n    hitRadius: 1,\n    hoverBorderWidth: 1,\n    hoverRadius: 4,\n    pointStyle: 'circle',\n    radius: 3,\n    rotation: 0\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(mouseX: number, mouseY: number, useFinalPosition?: boolean) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n\n  inXRange(mouseX: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseX, 'x', useFinalPosition);\n  }\n\n  inYRange(mouseY: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseY, 'y', useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition?: boolean) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n\n  size(options?: Partial<PointOptions & PointHoverOptions>) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n\n  draw(ctx: CanvasRenderingContext2D, area: ChartArea) {\n    const options = this.options;\n\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n\n  getRange() {\n    const options = this.options || {};\n    // @ts-expect-error Fallbacks should never be hit in practice\n    return options.radius + options.hitRadius;\n  }\n}\n","import defaults from '../core/core.defaults.js';\nimport Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {addRoundedRectPath, drawPointLegend, renderText} from '../helpers/helpers.canvas.js';\nimport {\n  _isBetween,\n  callback as call,\n  clipArea,\n  getRtlAdapter,\n  overrideTextDirection,\n  restoreTextDirection,\n  toFont,\n  toPadding,\n  unclipArea,\n  valueOrDefault,\n} from '../helpers/index.js';\nimport {_alignStartEnd, _textX, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {toTRBLCorners} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n */\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n\nexport class Legend extends Element {\n\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this._added = false;\n\n    // Contains hit boxes for each dataset (in dataset order)\n    this.legendHitBoxes = [];\n\n    /**\n \t\t * @private\n \t\t */\n    this._hoveredItem = null;\n\n    // Are we in doughnut mode which has a different data type\n    this.doughnutMode = false;\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = call(labelOpts.generateLabels, [this.chart], this) || [];\n\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n\n    this.legendItems = legendItems;\n  }\n\n  fit() {\n    const {options, ctx} = this;\n\n    // The legend may not be displayed for a variety of reasons including\n    // the fact that the defaults got set to `false`.\n    // When the legend is not displayed, there are no guarantees that the options\n    // are correctly formatted so we need to bail out as early as possible.\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    let width, height;\n\n    ctx.font = labelFont.string;\n\n    if (this.isHorizontal()) {\n      width = this.maxWidth; // fill all the width\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight; // fill all the height\n      width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n    }\n\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n\n  /**\n\t * @private\n\t */\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n\n    return totalHeight;\n  }\n\n  _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n\n    let left = 0;\n    let col = 0;\n\n    this.legendItems.forEach((legendItem, i) => {\n      const {itemWidth, itemHeight} = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n\n      // If too tall, go to new column\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n\n      // Store the hitbox width and height here. Final position will be updated in `draw`\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n\n      // Get max width\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n\n    return totalWidth;\n  }\n\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n\n      this._draw();\n\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n\n    this.drawTitle();\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    // current position\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n\n      // Set the ctx for the box\n      ctx.save();\n\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n      if (labelOpts.usePointStyle) {\n        // Recalculate x and y for drawPoint() because its expecting\n        // x and y to be center of figure (instead of top left)\n        const drawOptions = {\n          radius: boxHeight * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n\n        // Draw pointStyle as legend symbol\n        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n      } else {\n        // Draw box as legend symbol\n        // Adjust position when boxHeight < fontSize (want it centered)\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n\n        ctx.beginPath();\n\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n\n      ctx.restore();\n    };\n\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n\n    // Horizontal\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n\n    overrideTextDirection(this.ctx, opts.textDirection);\n\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor; // for strikethrough effect\n      ctx.fillStyle = legendItem.fontColor; // render in correct colour\n\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n\n      rtlHelper.setWidth(this.width);\n\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n\n      const realX = rtlHelper.x(x);\n\n      drawLegendBox(realX, y, legendItem);\n\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n\n      // Fill the actual label\n      fillText(rtlHelper.x(x), y, legendItem);\n\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else if (typeof legendItem.text !== 'string') {\n        const fontLineHeight = labelFont.lineHeight;\n        cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n\n    if (!titleOpts.display) {\n      return;\n    }\n\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n\n    // These defaults are used when the legend is vertical.\n    // When horizontal, they are computed below.\n    let left = this.left;\n    let maxWidth = this.width;\n\n    if (this.isHorizontal()) {\n      // Move left / right so that the title is above the legend lines\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      // Move down so that the title is above the legend stack in every alignment\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n\n    // Now that we know the left edge of the inner legend box, compute the correct\n    // X coordinate from the title alignment\n    const x = _alignStartEnd(position, left, left + maxWidth);\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n\n  /**\n\t * @private\n\t */\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      // See if we are touching one of the dataset boxes\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          // Touching an element\n          return this.legendItems[i];\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t */\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n\n    // Chart event already has relative position in it\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        call(opts.onLeave, [e, previous, this], this);\n      }\n\n      this._hoveredItem = hoveredItem;\n\n      if (hoveredItem && !sameItem) {\n        call(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      call(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\n\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n  const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n  const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n  return {itemWidth, itemHeight};\n}\n\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n  let legendItemText = legendItem.text;\n  if (legendItemText && typeof legendItemText !== 'string') {\n    legendItemText = legendItemText.reduce((a, b) => a.length > b.length ? a : b);\n  }\n  return boxWidth + (labelFont.size / 2) + ctx.measureText(legendItemText).width;\n}\n\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n  let itemHeight = _itemHeight;\n  if (typeof legendItem.text !== 'string') {\n    itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n  }\n  return itemHeight;\n}\n\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n  const labelHeight = legendItem.text ? legendItem.text.length : 0;\n  return fontLineHeight * labelHeight;\n}\n\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\n\nexport default {\n  id: 'legend',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Legend,\n\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n\n  // During the beforeUpdate step, the layout configuration needs to run\n  // This ensures that if the legend position changes (via an option update)\n  // the layout system respects the change. See https://github.com/chartjs/Chart.js/issues/7527\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n\n  // The labels need to be built after datasets are updated to ensure that colors\n  // and other styling are correct. See https://github.com/chartjs/Chart.js/issues/6968\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n\n\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n\n    // a callback that will handle\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n\n    onHover: null,\n    onLeave: null,\n\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      // Generates labels shown in the legend\n      // Valid properties to return:\n      // text : text to display\n      // fillStyle : fill of coloured box\n      // strokeStyle: stroke of coloured box\n      // hidden : if this legend item refers to a hidden item\n      // lineCap : cap style for line\n      // lineDash\n      // lineDashOffset :\n      // lineJoin :\n      // lineWidth :\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color, useBorderRadius, borderRadius}} = chart.legend.options;\n\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n\n            // Below is extra data used for toggling the datasets\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n","import Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {PI, isArray, toPadding, toFont} from '../helpers/index.js';\nimport {_toLeftRightCenter, _alignStartEnd} from '../helpers/helpers.extras.js';\nimport {renderText} from '../helpers/helpers.canvas.js';\n\nexport class Title extends Element {\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n\n    this.left = 0;\n    this.top = 0;\n\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n\n    if (!opts.display) {\n      return;\n    }\n\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\n\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\n\nexport default {\n  id: 'title',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Title,\n\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000         // by default greater than legend (1000) to be above\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n","import {Title} from './plugin.title.js';\nimport layouts from '../core/core.layouts.js';\n\nconst map = new WeakMap();\n\nexport default {\n  id: 'subtitle',\n\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500         // by default greater than legend (1000) and smaller than title (2000)\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n","import Animations from '../core/core.animations.js';\nimport Element from '../core/core.element.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {each, noop, isNullOrUndef, isArray, _elementsEqual, isObject} from '../helpers/helpers.core.js';\nimport {toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\nimport {getRtlAdapter, overrideTextDirection, restoreTextDirection} from '../helpers/helpers.rtl.js';\nimport {distanceBetweenPoints, _limitValue} from '../helpers/helpers.math.js';\nimport {createContext, drawPoint} from '../helpers/index.js';\n\n/**\n * @typedef { import('../platform/platform.base.js').Chart } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').ActiveElement } ActiveElement\n * @typedef { import('../core/core.interaction.js').InteractionItem } InteractionItem\n */\n\nconst positioners = {\n  /**\n\t * Average mode places the tooltip at the average position of the elements shown\n\t */\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    let i, len;\n    let xSet = new Set();\n    let y = 0;\n    let count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        xSet.add(pos.x);\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    // No visible items where found, return false so we don't have to divide by 0 which reduces in NaN\n    if (count === 0 || xSet.size === 0) {\n      return false;\n    }\n\n    const xAverage = [...xSet].reduce((a, b) => a + b) / xSet.size;\n\n    return {\n      x: xAverage,\n      y: y / count\n    };\n  },\n\n  /**\n\t * Gets the tooltip position nearest of the item nearest to the event position\n\t */\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x,\n      y\n    };\n  }\n};\n\n// Helper to push or concat based on if the 2nd parameter is an array or not\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      // base = base.concat(toPush);\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\n/**\n * Returns array of strings split by newline\n * @param {*} str - The value to split by newline.\n * @returns {string|string[]} value if newline present - Returned from String split() method\n * @function\n */\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\n\n\n/**\n * Private helper to create a tooltip item model\n * @param {Chart} chart\n * @param {ActiveElement} item - {element, index, datasetIndex} to create the tooltip item for\n * @return new tooltip item\n */\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\n\n/**\n * Get the size of the tooltip\n */\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n\n  // Count of all lines in the body\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    // Body lines may include some extra height depending on boxHeight\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  // Title width\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n\n  // Body width\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n\n  // Body lines may include some extra width due to the color box\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n\n  // Reset back to 0\n  widthPadding = 0;\n\n  // Footer width\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n\n  ctx.restore();\n\n  // Add padding\n  width += padding.width;\n\n  return {width, height};\n}\n\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\n/**\n * Helper to get the alignment of a tooltip given the size\n */\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  // eslint-disable-next-line prefer-const\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\n\n/**\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\n */\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\n\n/**\n * Helper to build before and after body lines\n */\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nconst defaultCallbacks = {\n  // Args are: (tooltipItems, data)\n  beforeTitle: noop,\n  title(tooltipItems) {\n    if (tooltipItems.length > 0) {\n      const item = tooltipItems[0];\n      const labels = item.chart.data.labels;\n      const labelCount = labels ? labels.length : 0;\n\n      if (this && this.options && this.options.mode === 'dataset') {\n        return item.dataset.label || '';\n      } else if (item.label) {\n        return item.label;\n      } else if (labelCount > 0 && item.dataIndex < labelCount) {\n        return labels[item.dataIndex];\n      }\n    }\n\n    return '';\n  },\n  afterTitle: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeBody: noop,\n\n  // Args are: (tooltipItem, data)\n  beforeLabel: noop,\n  label(tooltipItem) {\n    if (this && this.options && this.options.mode === 'dataset') {\n      return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n    }\n\n    let label = tooltipItem.dataset.label || '';\n\n    if (label) {\n      label += ': ';\n    }\n    const value = tooltipItem.formattedValue;\n    if (!isNullOrUndef(value)) {\n      label += value;\n    }\n    return label;\n  },\n  labelColor(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      borderColor: options.borderColor,\n      backgroundColor: options.backgroundColor,\n      borderWidth: options.borderWidth,\n      borderDash: options.borderDash,\n      borderDashOffset: options.borderDashOffset,\n      borderRadius: 0,\n    };\n  },\n  labelTextColor() {\n    return this.options.bodyColor;\n  },\n  labelPointStyle(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      pointStyle: options.pointStyle,\n      rotation: options.rotation,\n    };\n  },\n  afterLabel: noop,\n\n  // Args are: (tooltipItems, data)\n  afterBody: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeFooter: noop,\n  footer: noop,\n  afterFooter: noop\n};\n\n/**\n * Invoke callback from object with context and arguments.\n * If callback returns `undefined`, then will be invoked default callback.\n * @param {Record<keyof typeof defaultCallbacks, Function>} callbacks\n * @param {keyof typeof defaultCallbacks} name\n * @param {*} ctx\n * @param {*} arg\n * @returns {any}\n */\nfunction invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n  const result = callbacks[name].call(ctx, arg);\n\n  if (typeof result === 'undefined') {\n    return defaultCallbacks[name].call(ctx, arg);\n  }\n\n  return result;\n}\n\nexport class Tooltip extends Element {\n\n  /**\n   * @namespace Chart.Tooltip.positioners\n   */\n  static positioners = positioners;\n\n  constructor(config) {\n    super();\n\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    // TODO: V4, make this private, rename to `_labelStyles`, and combine with `labelPointStyles`\n    // and `labelTextColors` to create a single variable\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n\n    if (cached) {\n      return cached;\n    }\n\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n\n  getTitle(context, options) {\n    const {callbacks} = options;\n\n    const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n    const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n    const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n\n    return lines;\n  }\n\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems)\n    );\n  }\n\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n      pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n\n      bodyItems.push(bodyItem);\n    });\n\n    return bodyItems;\n  }\n\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems)\n    );\n  }\n\n  // Get the footer and beforeFooter and afterFooter lines\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n\n    const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n    const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n    const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n\n    return lines;\n  }\n\n  /**\n\t * @private\n\t */\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n\n    // If the user provided a filter function, use it to modify the tooltip items\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n\n    // If the user provided a sorting function, use it to modify the tooltip items\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n\n    // Determine colors for boxes\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n      labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n      labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n    });\n\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n\n        // Left draws bottom -> top, this y1 is on the bottom\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n\n        // Right draws top -> bottom, thus y1 is on the top\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n\n        // Top draws left -> right, thus x1 is on the left\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n\n        // Bottom draws right -> left, thus x1 is on the right\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.titleAlign, options);\n\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing; // Line Height and spacing\n\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n        }\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColor = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2, // fit the circle in the box\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      // Recalculate x and y for drawPoint() because its expecting\n      // x and y to be center of figure (instead of top left)\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n\n      // Fill the point with white so that colours merge nicely if the opacity is < 1\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n\n      // Draw the point\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.fillStyle = labelColor.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      // Border\n      ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : (labelColor.borderWidth || 1); // TODO, v4 remove fallback\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.setLineDash(labelColor.borderDash || []);\n      ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n\n      // Fill a white rect so that colours merge nicely if the opacity is < 1\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n      const borderRadius = toTRBLCorners(labelColor.borderRadius);\n\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        // Normal rect\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n\n    // restore fillStyle\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n\n    // Before body lines\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n\n    // Draw body lines now\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n\n      lines = bodyItem.lines;\n      // Draw Legend-like boxes if needed\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        // Reset for any lines that don't include colorbox\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n\n      each(bodyItem.after, fillLineOfText);\n    }\n\n    // Reset back to 0 for after body\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n\n    // After body lines\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing; // Remove last body spacing\n  }\n\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n\n      footerFont = toFont(options.footerFont);\n\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n\n    ctx.fill();\n\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n\n  /**\n\t * Update x/y animation targets when _active elements are animating too\n\t * @private\n\t */\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n\n  /**\n   * Determine if the tooltip will draw anything\n   * @returns {boolean} True if the tooltip will render\n   */\n  _willRender() {\n    return !!this.opacity;\n  }\n\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n\n    if (!opacity) {\n      return;\n    }\n\n    this._updateAnimationTarget(options);\n\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n\n    // IE11/Edge does not like very small opacities, so snap to 0\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n\n    const padding = toPadding(options.padding);\n\n    // Truthy/falsey value for empty tooltip\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n\n      // Draw Background\n      this.drawBackground(pt, ctx, tooltipSize, options);\n\n      overrideTextDirection(ctx, options.textDirection);\n\n      pt.y += padding.top;\n\n      // Titles\n      this.drawTitle(pt, ctx, options);\n\n      // Body\n      this.drawBody(pt, ctx, options);\n\n      // Footer\n      this.drawFooter(pt, ctx, options);\n\n      restoreTextDirection(ctx, options.textDirection);\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * Get active elements in the tooltip\n\t * @returns {Array} Array of elements that are active in the tooltip\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active elements in the tooltip\n\t * @param {array} activeElements Array of active datasetIndex/index pairs.\n\t * @param {object} eventPosition Synthetic event position used in positioning\n\t */\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {boolean} true if the tooltip changed\n\t */\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n\n    // When there are multiple items shown, but the tooltip position is nearest mode\n    // an update may need to be made because our position may have changed even though\n    // the items are the same as before.\n    const positionChanged = this._positionChanged(active, e);\n\n    // Remember Last Actives\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n    // Only handle target event on tooltip change\n    if (changed) {\n      this._active = active;\n\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n\n        this.update(true, replay);\n      }\n    }\n\n    return changed;\n  }\n\n  /**\n\t * Helper for determining the active elements for event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {InteractionItem[]} lastActive - Previously active elements\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {InteractionItem[]} - Active elements\n\t * @private\n\t */\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      // But make sure that active elements are still valid.\n      return lastActive.filter(i =>\n        this.chart.data.datasets[i.datasetIndex] &&\n        this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined\n      );\n    }\n\n    // Find Active Elements for tooltips\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n    if (options.reverse) {\n      active.reverse();\n    }\n\n    return active;\n  }\n\n  /**\n\t * Determine if the active elements + event combination changes the\n\t * tooltip position\n\t * @param {array} active - Active elements\n\t * @param {ChartEvent} e - Event that triggered the position change\n\t * @returns {boolean} True if the position has changed\n\t */\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\n\nexport default {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n\n      if (chart.notifyPlugins('beforeTooltipDraw', {...args, cancelable: true}) === false) {\n        return;\n      }\n\n      tooltip.draw(chart.ctx);\n\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      // If the event is replayed from `update`, we should evaluate with the final positions.\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        // notify chart about the change, so it will render\n        args.changed = true;\n      }\n    }\n  },\n\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: defaultCallbacks\n  },\n\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n\n  // Resolve additionally from `interaction` options and defaults.\n  additionalOptionScopes: ['interaction']\n};\n","import Scale from '../core/core.scale.js';\nimport {isNullOrUndef, valueOrDefault, _limitValue} from '../helpers/index.js';\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\n\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\n\nfunction _getLabelForValue(value) {\n  const labels = this.getLabels();\n\n  if (value >= 0 && value < labels.length) {\n    return labels[value];\n  }\n  return value;\n}\n\nexport default class CategoryScale extends Scale {\n\n  static id = 'category';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: _getLabelForValue\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n\n    // If we are viewing some subset of labels, slice the original array\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n\n  getLabelForValue(value) {\n    return _getLabelForValue.call(this, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    super.configure();\n\n    if (!this.isHorizontal()) {\n      // For backward compatibility, vertical category scale reverse is inverted.\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n\n  // Used to get data value locations. Value can either be an index or a numerical value\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  // Must override base implementation because it calls getPixelForValue\n  // and category scale can have duplicate values\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n\n  getBasePixel() {\n    return this.bottom;\n  }\n}\n","import {isNullOrUndef} from '../helpers/helpers.core.js';\nimport {almostEquals, almostWhole, niceNum, _decimalPlaces, _setMinAndMaxByKey, sign, toRadians} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\n\n/**\n * Generate a set of linear ticks for an axis\n * 1. If generationOptions.min, generationOptions.max, and generationOptions.step are defined:\n *    if (max - min) / step is an integer, ticks are generated as [min, min + step, ..., max]\n *    Note that the generationOptions.maxCount setting is respected in this scenario\n *\n * 2. If generationOptions.min, generationOptions.max, and generationOptions.count is defined\n *    spacing = (max - min) / count\n *    Ticks are generated as [min, min + spacing, ..., max]\n *\n * 3. If generationOptions.count is defined\n *    spacing = (niceMax - niceMin) / count\n *\n * 4. Compute optimal spacing of ticks using niceNum algorithm\n *\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, dataRange) {\n  const ticks = [];\n  // To get a \"nice\" value for the tick spacing, we will use the appropriately named\n  // \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n  // for details.\n\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n\n  // Beyond MIN_SPACING floating point numbers being to lose precision\n  // such that we can't do the math necessary to generate ticks\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    // If the calculated num of spaces exceeds maxNumSpaces, recalculate it\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    // If the user specified a precision, round to that number of decimal places\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    // Case 1: If min, max and stepSize are set and they make an evenly spaced scale use it.\n    // spacing = step;\n    // numSpaces = (max - min) / spacing;\n    // Note that we round here to handle the case where almostWhole translated an FP error\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    // Cases 2 & 3, we have a count specified. Handle optional user defined edges to the range.\n    // Sometimes these are no-ops, but it makes the code a lot clearer\n    // and when a user defined range is specified, we want the correct ticks\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    // Case 4\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    // If very close to our rounded value, use it.\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  // The spacing will have changed in cases 1, 2, and 3 so the factor cannot be computed\n  // until this point\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n\n      if (niceMin < min) {\n        j++; // Skip niceMin\n      }\n      // If the next nice tick is close to min, skip it\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n    if (maxDefined && tickValue > max) {\n      break;\n    }\n    ticks.push({value: tickValue});\n  }\n\n  if (maxDefined && includeBounds && niceMax !== max) {\n    // If the previous tick is too close to max, replace it with max, else add max\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n\n  return ticks;\n}\n\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\n\nexport default class LinearScaleBase extends Scale {\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    /** @type {number} */\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n\n    return +raw;\n  }\n\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n\n    if (min === max) {\n      let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n\n      setMax(max + offset);\n\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    // eslint-disable-next-line prefer-const\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n\n    return maxTicks;\n  }\n\n  /**\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    // Figure out what the max number of ticks we can support it is based on the size of\n    // the axis area. For now, we say that the minimum tick spacing in pixels must be 40\n    // We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n    // the graph. Make sure we always have at least 2 ticks\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks(numericGeneratorOptions, dataRange);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n\n    super.configure();\n\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n","import {isFinite} from '../helpers/helpers.core.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {toRadians} from '../helpers/index.js';\n\nexport default class LinearScale extends LinearScaleBase {\n\n  static id = 'linear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.numeric\n    }\n  };\n\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? min : 0;\n    this.max = isFinite(max) ? max : 1;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n \t */\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n\n  // Utils\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\n","import {finiteOrDefault, isFinite} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {_setMinAndMaxByKey, log10} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\n\nconst log10Floor = v => Math.floor(log10(v));\nconst changeExponent = (v, m) => Math.pow(10, log10Floor(v) + m);\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, log10Floor(tickVal)));\n  return remain === 1;\n}\n\nfunction steps(min, max, rangeExp) {\n  const rangeStep = Math.pow(10, rangeExp);\n  const start = Math.floor(min / rangeStep);\n  const end = Math.ceil(max / rangeStep);\n  return end - start;\n}\n\nfunction startExp(min, max) {\n  const range = max - min;\n  let rangeExp = log10Floor(range);\n  while (steps(min, max, rangeExp) > 10) {\n    rangeExp++;\n  }\n  while (steps(min, max, rangeExp) < 10) {\n    rangeExp--;\n  }\n  return Math.min(rangeExp, log10Floor(min));\n}\n\n\n/**\n * Generate a set of logarithmic ticks\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, {min, max}) {\n  min = finiteOrDefault(generationOptions.min, min);\n  const ticks = [];\n  const minExp = log10Floor(min);\n  let exp = startExp(min, max);\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  const stepSize = Math.pow(10, exp);\n  const base = minExp > exp ? Math.pow(10, minExp) : 0;\n  const start = Math.round((min - base) * precision) / precision;\n  const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n  let significand = Math.floor((start - offset) / Math.pow(10, exp));\n  let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n  while (value < max) {\n    ticks.push({value, major: isMajor(value), significand});\n    if (significand >= 10) {\n      significand = significand < 15 ? 15 : 20;\n    } else {\n      significand++;\n    }\n    if (significand >= 20) {\n      exp++;\n      significand = 2;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n  }\n  const lastTick = finiteOrDefault(generationOptions.max, value);\n  ticks.push({value: lastTick, major: isMajor(lastTick), significand});\n\n  return ticks;\n}\n\nexport default class LogarithmicScale extends Scale {\n\n  static id = 'logarithmic';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.logarithmic,\n      major: {\n        enabled: true\n      }\n    }\n  };\n\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isFinite(value) && value > 0 ? value : null;\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? Math.max(0, min) : null;\n    this.max = isFinite(max) ? Math.max(0, max) : null;\n\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n\n    // if data has `0` in it or `beginAtZero` is true, min (non zero) value is at bottom\n    // of scale, and it does not equal suggestedMin, lower the min bound by one exp.\n    if (this._zero && this.min !== this._suggestedMin && !isFinite(this._userMin)) {\n      this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n    }\n\n    this.handleTickRangeOptions();\n  }\n\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (min === max) {\n      if (min <= 0) { // includes null\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(changeExponent(min, -1));\n        setMax(changeExponent(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(changeExponent(max, -1));\n    }\n    if (max <= 0) {\n\n      setMax(changeExponent(min, +1));\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const start = this.min;\n\n    super.configure();\n\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\n","import defaults from '../core/core.defaults.js';\nimport {_longestText, addRoundedRectPath, renderText, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport {HALF_PI, TAU, toDegrees, toRadians, _normalizeAngle, PI} from '../helpers/helpers.math.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {valueOrDefault, isArray, isFinite, callback as callCallback, isNullOrUndef} from '../helpers/helpers.core.js';\nimport {createContext, toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\n\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\n/**\n * Helper function to fit a radial linear scale with point labels\n */\nfunction fitWithPointLabels(scale) {\n\n  // Right, this is really confusing and there is a lot of maths going on here\n  // The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n  //\n  // Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n  //\n  // Solution:\n  //\n  // We assume the radius of the polygon is half the size of the canvas at first\n  // at each index we check if the text overlaps.\n  //\n  // Where it does, we store that angle and that index.\n  //\n  // After finding the largest index and angle we calculate how much we need to remove\n  // from the shape radius to move the point inwards by that x.\n  //\n  // We average the left and right distances to get the maximum shape radius that can fit in the box\n  // along with labels.\n  //\n  // Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n  // on each side, removing that from the size, halving it and adding the left x protrusion width.\n  //\n  // This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n  // and position it in the most space efficient manner\n  //\n  // https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\n  // Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n  // Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n\n  // Now that text size is determined, compute the full positions\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\n\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\n\nfunction createPointLabelItem(scale, index, itemOpts) {\n  const outerDistance = scale.drawingArea;\n  const {extra, additionalAngle, padding, size} = itemOpts;\n  const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n  const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n  const y = yForAngle(pointLabelPosition.y, size.h, angle);\n  const textAlign = getTextAlignForAngle(angle);\n  const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n  return {\n    // if to draw or overlapped\n    visible: true,\n\n    // Text position\n    x: pointLabelPosition.x,\n    y,\n\n    // Text rendering data\n    textAlign,\n\n    // Bounding box\n    left,\n    top: y,\n    right: left + size.w,\n    bottom: y + size.h\n  };\n}\n\nfunction isNotOverlapped(item, area) {\n  if (!area) {\n    return true;\n  }\n  const {left, top, right, bottom} = item;\n  const apexesInArea = _isPointInArea({x: left, y: top}, area) || _isPointInArea({x: left, y: bottom}, area) ||\n    _isPointInArea({x: right, y: top}, area) || _isPointInArea({x: right, y: bottom}, area);\n  return !apexesInArea;\n}\n\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const {centerPointLabels, display} = opts.pointLabels;\n  const itemOpts = {\n    extra: getTickBackdropHeight(opts) / 2,\n    additionalAngle: centerPointLabels ? PI / valueCount : 0\n  };\n  let area;\n\n  for (let i = 0; i < valueCount; i++) {\n    itemOpts.padding = padding[i];\n    itemOpts.size = labelSizes[i];\n\n    const item = createPointLabelItem(scale, i, itemOpts);\n    items.push(item);\n    if (display === 'auto') {\n      item.visible = isNotOverlapped(item, area);\n      if (item.visible) {\n        area = item;\n      }\n    }\n  }\n  return items;\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\n\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\n\nfunction drawPointLabelBox(ctx, opts, item) {\n  const {left, top, right, bottom} = item;\n  const {backdropColor} = opts;\n\n  if (!isNullOrUndef(backdropColor)) {\n    const borderRadius = toTRBLCorners(opts.borderRadius);\n    const padding = toPadding(opts.backdropPadding);\n    ctx.fillStyle = backdropColor;\n\n    const backdropLeft = left - padding.left;\n    const backdropTop = top - padding.top;\n    const backdropWidth = right - left + padding.width;\n    const backdropHeight = bottom - top + padding.height;\n\n    if (Object.values(borderRadius).some(v => v !== 0)) {\n      ctx.beginPath();\n      addRoundedRectPath(ctx, {\n        x: backdropLeft,\n        y: backdropTop,\n        w: backdropWidth,\n        h: backdropHeight,\n        radius: borderRadius,\n      });\n      ctx.fill();\n    } else {\n      ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n    }\n  }\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const item = scale._pointLabelItems[i];\n    if (!item.visible) {\n      // overlapping\n      continue;\n    }\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    drawPointLabelBox(ctx, optsAtIndex, item);\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign} = item;\n\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    // Draw circular arcs between the points\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    // Draw straight lines connecting each index\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n\n  const {color, lineWidth} = gridLineOpts;\n\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(borderOpts.dash || []);\n  ctx.lineDashOffset = borderOpts.dashOffset;\n\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\n\nexport default class RadialLinearScale extends LinearScaleBase {\n\n  static id = 'radialLinear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    display: true,\n\n    // Boolean - Whether to animate scaling the chart from the centre\n    animate: true,\n    position: 'chartArea',\n\n    angleLines: {\n      display: true,\n      lineWidth: 1,\n      borderDash: [],\n      borderDashOffset: 0.0\n    },\n\n    grid: {\n      circular: false\n    },\n\n    startAngle: 0,\n\n    // label settings\n    ticks: {\n      // Boolean - Show a backdrop to the scale label\n      showLabelBackdrop: true,\n\n      callback: Ticks.formatters.numeric\n    },\n\n    pointLabels: {\n      backdropColor: undefined,\n\n      // Number - The backdrop padding above & below the label in pixels\n      backdropPadding: 2,\n\n      // Boolean - if true, show point labels\n      display: true,\n\n      // Number - Point label font size in pixels\n      font: {\n        size: 10\n      },\n\n      // Function - Used to convert point labels\n      callback(label) {\n        return label;\n      },\n\n      // Number - Additionl padding between scale and pointLabel\n      padding: 5,\n\n      // Boolean - if true, center point labels to slices in polar chart\n      centerPointLabels: false\n    }\n  };\n\n  static defaultRoutes = {\n    'angleLines.color': 'borderColor',\n    'pointLabels.color': 'color',\n    'ticks.color': 'color'\n  };\n\n  static descriptors = {\n    angleLines: {\n      _fallback: 'grid'\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.xCenter = undefined;\n    /** @type {number} */\n    this.yCenter = undefined;\n    /** @type {number} */\n    this.drawingArea = undefined;\n    /** @type {string[]} */\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n\n    this.min = isFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isFinite(max) && !isNaN(max) ? max : 0;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n\n    // Point labels\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callCallback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n\n  fit() {\n    const opts = this.options;\n\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n\n    // Take into account half font size + the yPadding of the top value\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid, border} = opts;\n    const labelCount = this._pointLabels.length;\n\n    let i, offset, position;\n\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0 || (index === 0 && this.min < 0)) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const context = this.getContext(index);\n          const optsAtIndex = grid.setContext(context);\n          const optsAtIndexBorder = border.setContext(context);\n\n          drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n        }\n      });\n    }\n\n    if (angleLines.display) {\n      ctx.save();\n\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n\n        if (!lineWidth || !color) {\n          continue;\n        }\n\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n\n        offset = this.getDistanceFromCenterForValue(opts.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {}\n\n  /**\n\t * @protected\n\t */\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    if (!tickOpts.display) {\n      return;\n    }\n\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    this.ticks.forEach((tick, index) => {\n      if ((index === 0 && this.min >= 0) && !opts.reverse) {\n        return;\n      }\n\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n        strokeColor: optsAtIndex.textStrokeColor,\n        strokeWidth: optsAtIndex.textStrokeWidth,\n      });\n    });\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {}\n}\n","import adapters from '../core/core.adapters.js';\nimport {callback as call, isFinite, isNullOrUndef, mergeIf, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toRadians, isNumber, _limitValue} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {_arrayUnique, _filterBetween, _lookup} from '../helpers/helpers.collection.js';\n\n/**\n * @typedef { import('../core/core.adapters.js').TimeUnit } Unit\n * @typedef {{common: boolean, size: number, steps?: number}} Interval\n * @typedef { import('../core/core.adapters.js').DateAdapter } DateAdapter\n */\n\n/**\n * @type {Object<Unit, Interval>}\n */\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\n\n/**\n * @type {Unit[]}\n */\nconst UNITS = /** @type Unit[] */ /* #__PURE__ */ (Object.keys(INTERVALS));\n\n/**\n * @param {number} a\n * @param {number} b\n */\nfunction sorter(a, b) {\n  return a - b;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {*} input\n * @return {number}\n */\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  // Only parse if it's not a timestamp already\n  if (!isFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\n/**\n * Figures out what unit results in an appropriate number of auto-generated ticks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @param {number} capacity\n * @return {object}\n */\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\n/**\n * Figures out what unit to format a set of ticks with\n * @param {TimeScale} scale\n * @param {number} numTicks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @return {Unit}\n */\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\n/**\n * @param {Unit} unit\n * @return {object}\n */\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\n/**\n * @param {object} ticks\n * @param {number} time\n * @param {number[]} [timestamps] - if defined, snap to these timestamps\n */\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\n/**\n * @param {TimeScale} scale\n * @param {object[]} ticks\n * @param {object} map\n * @param {Unit} majorUnit\n * @return {object[]}\n */\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {number[]} values\n * @param {Unit|undefined} [majorUnit]\n * @return {object[]}\n */\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  /** @type {Object<number,object>} */\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n\n  // We set the major ticks separately from the above loop because calling startOf for every tick\n  // is expensive when there is a large number of ticks\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nexport default class TimeScale extends Scale {\n\n  static id = 'time';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 2.7.0\n     */\n    bounds: 'data',\n\n    adapters: {},\n    time: {\n      parser: false, // false == a pattern string from or a custom callback that converts its argument to a timestamp\n      unit: false, // false == automatic or override with week, month, year, etc.\n      round: false, // none, or override with week, month, year, etc.\n      isoWeekday: false, // override week start day\n      minUnit: 'millisecond',\n      displayFormats: {}\n    },\n    ticks: {\n      /**\n       * Ticks generation input values:\n       * - 'auto': generates \"optimal\" ticks based on scale size and time options.\n       * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\n       * - 'labels': generates ticks from user given `data.labels` values ONLY.\n       * @see https://github.com/chartjs/Chart.js/pull/4507\n       * @since 2.7.0\n       */\n      source: 'auto',\n\n      callback: false,\n\n      major: {\n        enabled: false\n      }\n    }\n  };\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {{data: number[], labels: number[], all: number[]}} */\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n\n    /** @type {Unit} */\n    this._unit = 'day';\n    /** @type {Unit=} */\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n\n  init(scaleOpts, opts = {}) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    /** @type {DateAdapter} */\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n\n    adapter.init(opts);\n\n    // Backward compatibility: before introducing adapter, `displayFormats` was\n    // supposed to contain *all* unit/string pairs but this can't be resolved\n    // when loading the scale (adapters are loaded afterward), so let's populate\n    // missing formats on update\n    mergeIf(time.displayFormats, adapter.formats());\n\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n\n    super.init(scaleOpts);\n\n    this._normalized = opts.normalized;\n  }\n\n  /**\n\t * @param {*} raw\n\t * @param {number?} [index]\n\t * @return {number}\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    // eslint-disable-next-line prefer-const\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n\n    /**\n\t\t * @param {object} bounds\n\t\t */\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n\n    // If we have user provided `min` and `max` labels / data bounds can be ignored\n    if (!minDefined || !maxDefined) {\n      // Labels are always considered, when user did not force bounds\n      _applyBounds(this._getLabelBounds());\n\n      // If `bounds` is `'ticks'` and `ticks.source` is `'labels'`,\n      // data bounds are ignored (and don't need to be determined)\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n\n    min = isFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n\n    // Make sure that max is strictly higher than min (required by the timeseries lookup table)\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n\n  /**\n\t * @private\n\t */\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n\n  /**\n\t * @return {object[]}\n\t */\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n\n    const min = this.min;\n    const max = this.max;\n\n    const ticks = _filterBetween(timestamps, min, max);\n\n    // PRIVATE\n    // determineUnitForFormatting relies on the number of ticks so we don't use it when\n    // autoSkip is enabled because we don't yet know what the final number of ticks will be\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n\n    if (options.reverse) {\n      ticks.reverse();\n    }\n\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n\n  afterAutoSkip() {\n    // Offsets for bar charts need to be handled with the auto skipped\n    // ticks. Once ticks have been skipped, we re-compute the offsets.\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n\n  /**\n\t * Returns the start and end offsets from edges in the form of {start, end}\n\t * where each value is a relative width to the scale and ranges between 0 and 1.\n\t * They add extra margins on the both sides by scaling down the original scale.\n\t * Offsets are added when the `offset` option is true.\n\t * @param {number[]} timestamps\n\t * @protected\n\t */\n  initOffsets(timestamps = []) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n\n  /**\n\t * Generates a maximum of `capacity` timestamps between min and max, rounded to the\n\t * `minor` unit using the given scale time `options`.\n\t * Important: this method can return ticks outside the min and max range, it's the\n\t * responsibility of the calling code to clamp values if needed.\n\t * @protected\n\t */\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    // @ts-ignore\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n\n    // For 'week' unit, handle the first day of week option\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n\n    // Align first ticks on unit\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n    // Prevent browser from freezing in case user options request millions of milliseconds\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n\n    // @ts-ignore\n    return Object.keys(ticks).sort(sorter).map(x => +x);\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n\n  /**\n\t * @param {number} value\n\t * @param {string|undefined} format\n\t * @return {string}\n\t */\n  format(value, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const fmt = format || formats[unit];\n    return this._adapter.format(value, fmt);\n  }\n\n  /**\n\t * Function to format an individual tick mark\n\t * @param {number} time\n\t * @param {number} index\n\t * @param {object[]} ticks\n\t * @param {string|undefined} [format]\n\t * @return {string}\n\t * @private\n\t */\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formatter = options.ticks.callback;\n\n    if (formatter) {\n      return call(formatter, [time, index, ticks], this);\n    }\n\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n\n    return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n  }\n\n  /**\n\t * @param {object[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n\n  /**\n\t * @param {string} label\n\t * @return {{w:number, h:number}}\n\t * @private\n\t */\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n\n  /**\n\t * @param {number} exampleTime\n\t * @return {number}\n\t * @private\n\t */\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n\n    // pick the longest format (milliseconds) for guesstimation\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    // subtract 1 - if offset then there's one less label than tick\n    // if not offset then one half label padding is added to each end leaving room for one less label\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n\n    return (this._cache.data = this.normalize(timestamps));\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n\n  /**\n\t * @param {number[]} values\n\t * @protected\n\t */\n  normalize(values) {\n    // It seems to be somewhat faster to do sorting first\n    return _arrayUnique(values.sort(sorter));\n  }\n}\n","import type { MouseEvent } from 'react';\nimport type {\n  ChartType,\n  ChartData,\n  DefaultDataPoint,\n  ChartDataset,\n  ChartOptions,\n  Chart,\n} from 'chart.js';\n\nimport type { ForwardedRef } from './types.js';\n\nconst defaultDatasetIdKey = 'label';\n\nexport function reforwardRef<T>(ref: ForwardedRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\n\nexport function setOptions<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(chart: Chart<TType, TData, TLabel>, nextOptions: ChartOptions<TType>) {\n  const options = chart.options;\n\n  if (options && nextOptions) {\n    Object.assign(options, nextOptions);\n  }\n}\n\nexport function setLabels<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextLabels: TLabel[] | undefined\n) {\n  currentData.labels = nextLabels;\n}\n\nexport function setDatasets<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextDatasets: ChartDataset<TType, TData>[],\n  datasetIdKey = defaultDatasetIdKey\n) {\n  const addedDatasets: ChartDataset<TType, TData>[] = [];\n\n  currentData.datasets = nextDatasets.map(\n    (nextDataset: Record<string, unknown>) => {\n      // given the new set, find it's current match\n      const currentDataset = currentData.datasets.find(\n        (dataset: Record<string, unknown>) =>\n          dataset[datasetIdKey] === nextDataset[datasetIdKey]\n      );\n\n      // There is no original to update, so simply add new one\n      if (\n        !currentDataset ||\n        !nextDataset.data ||\n        addedDatasets.includes(currentDataset)\n      ) {\n        return { ...nextDataset } as ChartDataset<TType, TData>;\n      }\n\n      addedDatasets.push(currentDataset);\n\n      Object.assign(currentDataset, nextDataset);\n\n      return currentDataset;\n    }\n  );\n}\n\nexport function cloneData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(data: ChartData<TType, TData, TLabel>, datasetIdKey = defaultDatasetIdKey) {\n  const nextData: ChartData<TType, TData, TLabel> = {\n    labels: [],\n    datasets: [],\n  };\n\n  setLabels(nextData, data.labels);\n  setDatasets(nextData, data.datasets, datasetIdKey);\n\n  return nextData;\n}\n\n/**\n * Get dataset from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getDatasetAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'dataset',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get single dataset element from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'nearest',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get all dataset elements from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementsAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'index',\n    { intersect: true },\n    false\n  );\n}\n","import React, { useEffect, useRef, forwardRef } from 'react';\nimport { Chart as ChartJS } from 'chart.js';\nimport type { ChartType, DefaultDataPoint } from 'chart.js';\n\nimport type { ForwardedRef, ChartProps, BaseChartComponent } from './types.js';\nimport {\n  reforwardRef,\n  cloneData,\n  setOptions,\n  setLabels,\n  setDatasets,\n} from './utils.js';\n\nfunction ChartComponent<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  props: ChartProps<TType, TData, TLabel>,\n  ref: ForwardedRef<ChartJS<TType, TData, TLabel>>\n) {\n  const {\n    height = 150,\n    width = 300,\n    redraw = false,\n    datasetIdKey,\n    type,\n    data,\n    options,\n    plugins = [],\n    fallbackContent,\n    updateMode,\n    ...canvasProps\n  } = props;\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const chartRef = useRef<ChartJS<TType, TData, TLabel> | null>(null);\n\n  const renderChart = () => {\n    if (!canvasRef.current) return;\n\n    chartRef.current = new ChartJS(canvasRef.current, {\n      type,\n      data: cloneData(data, datasetIdKey),\n      options: options && { ...options },\n      plugins,\n    });\n\n    reforwardRef(ref, chartRef.current);\n  };\n\n  const destroyChart = () => {\n    reforwardRef(ref, null);\n\n    if (chartRef.current) {\n      chartRef.current.destroy();\n      chartRef.current = null;\n    }\n  };\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && options) {\n      setOptions(chartRef.current, options);\n    }\n  }, [redraw, options]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current) {\n      setLabels(chartRef.current.config.data, data.labels);\n    }\n  }, [redraw, data.labels]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && data.datasets) {\n      setDatasets(chartRef.current.config.data, data.datasets, datasetIdKey);\n    }\n  }, [redraw, data.datasets]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    if (redraw) {\n      destroyChart();\n      setTimeout(renderChart);\n    } else {\n      chartRef.current.update(updateMode);\n    }\n  }, [redraw, options, data.labels, data.datasets, updateMode]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    destroyChart();\n    setTimeout(renderChart);\n  }, [type]);\n\n  useEffect(() => {\n    renderChart();\n\n    return () => destroyChart();\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      role='img'\n      height={height}\n      width={width}\n      {...canvasProps}\n    >\n      {fallbackContent}\n    </canvas>\n  );\n}\n\nexport const Chart = forwardRef(ChartComponent) as BaseChartComponent;\n","import React, { forwardRef } from 'react';\nimport {\n  Chart as ChartJS,\n  LineController,\n  BarController,\n  RadarController,\n  DoughnutController,\n  PolarAreaController,\n  BubbleController,\n  PieController,\n  ScatterController,\n} from 'chart.js';\nimport type { ChartType, ChartComponentLike } from 'chart.js';\n\nimport type {\n  ChartProps,\n  ChartJSOrUndefined,\n  TypedChartComponent,\n} from './types.js';\nimport { Chart } from './chart.js';\n\nfunction createTypedChart<T extends ChartType>(\n  type: T,\n  registerables: ChartComponentLike\n) {\n  ChartJS.register(registerables);\n\n  return forwardRef<ChartJSOrUndefined<T>, Omit<ChartProps<T>, 'type'>>(\n    (props, ref) => <Chart {...props} ref={ref} type={type} />\n  ) as TypedChartComponent<T>;\n}\n\nexport const Line = /* #__PURE__ */ createTypedChart('line', LineController);\n\nexport const Bar = /* #__PURE__ */ createTypedChart('bar', BarController);\n\nexport const Radar = /* #__PURE__ */ createTypedChart('radar', RadarController);\n\nexport const Doughnut = /* #__PURE__ */ createTypedChart(\n  'doughnut',\n  DoughnutController\n);\n\nexport const PolarArea = /* #__PURE__ */ createTypedChart(\n  'polarArea',\n  PolarAreaController\n);\n\nexport const Bubble = /* #__PURE__ */ createTypedChart(\n  'bubble',\n  BubbleController\n);\n\nexport const Pie = /* #__PURE__ */ createTypedChart('pie', PieController);\n\nexport const Scatter = /* #__PURE__ */ createTypedChart(\n  'scatter',\n  ScatterController\n);\n","import React, { createContext, useState, useContext } from \"react\";\r\n\r\ninterface FinanceControlContextData{\r\n    isOpenFinanceControl: boolean;\r\n    setIsOpenFinanceControl: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst FinanceControlContext = createContext<FinanceControlContextData>({} as FinanceControlContextData);\r\n\r\nexport const FinanceControlProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const [isOpenFinanceControl, setIsOpenFinanceControl] = useState(false);\r\n\r\n    return (\r\n        <FinanceControlContext.Provider value={{ isOpenFinanceControl, setIsOpenFinanceControl }}>\r\n            {children}\r\n        </FinanceControlContext.Provider>\r\n    );\r\n};\r\n\r\nexport function useFinanceControl(): FinanceControlContextData {\r\n    const context = useContext(FinanceControlContext);\r\n    if (!context) {\r\n        throw new Error(\"useFinanceControl must be used within a FinanceControlProvider\");\r\n    }\r\n    return context;\r\n}","import React, { createContext, useState, useContext, useEffect } from \"react\";\r\nimport { api } from \"../services/api\";\r\n\r\ninterface Spent {\r\n    CO_ID: number;\r\n    DT_DATE: string;\r\n    VL_VALUE: number;\r\n    CO_DESCRIPTION: string;\r\n    CO_TYPE: string;\r\n}\r\n\r\ntype SpentEntry = Omit<Spent, \"CO_ID\">;\r\n\r\ninterface SpentContextData {\r\n    tbSpents: Spent[];\r\n    createSpent: (spent: SpentEntry) => Promise<void>;\r\n    isOpenSpents: boolean;\r\n    setIsOpenSpents: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\ninterface ProviderSpentsProps {\r\n    children: React.ReactNode;\r\n}\r\n\r\nconst SpentContext = createContext<SpentContextData>({} as SpentContextData);\r\n\r\nexport const TableSpentsProvider: React.FC<ProviderSpentsProps> = ({ children }) => {\r\n    const [tbSpents, setTbSpents] = useState<Spent[]>([]);\r\n    const [isOpenSpents, setIsOpenSpents] = useState(false);\r\n\r\n    useEffect(() => {\r\n        api.get(\"/spents\").then((response) => {\r\n            const data = response.data.tbSpents || [];\r\n            setTbSpents(data);\r\n        });\r\n    }, []);\r\n\r\n    async function createSpent(spent: SpentEntry) {\r\n        const response = await api.post(\"/spents\", spent);\r\n        const data = response.data.spent;\r\n        setTbSpents([...tbSpents, data]);\r\n    }\r\n\r\n    return (\r\n        <SpentContext.Provider value={{ tbSpents, createSpent, isOpenSpents, setIsOpenSpents }}>\r\n            {children}\r\n        </SpentContext.Provider>\r\n    );\r\n};\r\n\r\nexport function useTableSpents(): SpentContextData {\r\n    const context = useContext(SpentContext);\r\n    if (!context) {\r\n        throw new Error(\"useTableSpents must be used within a TableSpentsProvider\");\r\n    }\r\n    return context;\r\n}","/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*exported XLSX */\n/*global process:false, Buffer:false, ArrayBuffer:false, DataView:false, Deno:false */\nvar XLSX = {};\nXLSX.version = '0.18.5';\nvar current_codepage = 1200, current_ansi = 1252;\n\nvar VALID_ANSI = [ 874, 932, 936, 949, 950, 1250, 1251, 1252, 1253, 1254, 1255, 1256, 1257, 1258, 10000 ];\n/* ECMA-376 Part I 18.4.1 charset to codepage mapping */\nvar CS2CP = ({\n\t/*::[*/0/*::]*/:    1252, /* ANSI */\n\t/*::[*/1/*::]*/:   65001, /* DEFAULT */\n\t/*::[*/2/*::]*/:   65001, /* SYMBOL */\n\t/*::[*/77/*::]*/:  10000, /* MAC */\n\t/*::[*/128/*::]*/:   932, /* SHIFTJIS */\n\t/*::[*/129/*::]*/:   949, /* HANGUL */\n\t/*::[*/130/*::]*/:  1361, /* JOHAB */\n\t/*::[*/134/*::]*/:   936, /* GB2312 */\n\t/*::[*/136/*::]*/:   950, /* CHINESEBIG5 */\n\t/*::[*/161/*::]*/:  1253, /* GREEK */\n\t/*::[*/162/*::]*/:  1254, /* TURKISH */\n\t/*::[*/163/*::]*/:  1258, /* VIETNAMESE */\n\t/*::[*/177/*::]*/:  1255, /* HEBREW */\n\t/*::[*/178/*::]*/:  1256, /* ARABIC */\n\t/*::[*/186/*::]*/:  1257, /* BALTIC */\n\t/*::[*/204/*::]*/:  1251, /* RUSSIAN */\n\t/*::[*/222/*::]*/:   874, /* THAI */\n\t/*::[*/238/*::]*/:  1250, /* EASTEUROPE */\n\t/*::[*/255/*::]*/:  1252, /* OEM */\n\t/*::[*/69/*::]*/:   6969  /* MISC */\n}/*:any*/);\n\nvar set_ansi = function(cp/*:number*/) { if(VALID_ANSI.indexOf(cp) == -1) return; current_ansi = CS2CP[0] = cp; };\nfunction reset_ansi() { set_ansi(1252); }\n\nvar set_cp = function(cp/*:number*/) { current_codepage = cp; set_ansi(cp); };\nfunction reset_cp() { set_cp(1200); reset_ansi(); }\n\nfunction char_codes(data/*:string*/)/*:Array<number>*/ { var o/*:Array<number>*/ = []; for(var i = 0, len = data.length; i < len; ++i) o[i] = data.charCodeAt(i); return o; }\n\nfunction utf16leread(data/*:string*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tfor(var i = 0; i < (data.length>>1); ++i) o[i] = String.fromCharCode(data.charCodeAt(2*i) + (data.charCodeAt(2*i+1)<<8));\n\treturn o.join(\"\");\n}\nfunction utf16beread(data/*:string*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tfor(var i = 0; i < (data.length>>1); ++i) o[i] = String.fromCharCode(data.charCodeAt(2*i+1) + (data.charCodeAt(2*i)<<8));\n\treturn o.join(\"\");\n}\n\nvar debom = function(data/*:string*/)/*:string*/ {\n\tvar c1 = data.charCodeAt(0), c2 = data.charCodeAt(1);\n\tif(c1 == 0xFF && c2 == 0xFE) return utf16leread(data.slice(2));\n\tif(c1 == 0xFE && c2 == 0xFF) return utf16beread(data.slice(2));\n\tif(c1 == 0xFEFF) return data.slice(1);\n\treturn data;\n};\n\nvar _getchar = function _gc1(x/*:number*/)/*:string*/ { return String.fromCharCode(x); };\nvar _getansi = function _ga1(x/*:number*/)/*:string*/ { return String.fromCharCode(x); };\n\nvar $cptable;\nfunction set_cptable(cptable) {\n\t$cptable = cptable;\n\tset_cp = function(cp/*:number*/) { current_codepage = cp; set_ansi(cp); };\n\tdebom = function(data/*:string*/) {\n\t\tif(data.charCodeAt(0) === 0xFF && data.charCodeAt(1) === 0xFE) { return $cptable.utils.decode(1200, char_codes(data.slice(2))); }\n\t\treturn data;\n\t};\n\t_getchar = function _gc2(x/*:number*/)/*:string*/ {\n\t\tif(current_codepage === 1200) return String.fromCharCode(x);\n\t\treturn $cptable.utils.decode(current_codepage, [x&255,x>>8])[0];\n\t};\n\t_getansi = function _ga2(x/*:number*/)/*:string*/ {\n\t\treturn $cptable.utils.decode(current_ansi, [x])[0];\n\t};\n\tcpdoit();\n}\nexport { set_cptable };\nvar DENSE = null;\nvar DIF_XL = true;\nvar Base64_map = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nfunction Base64_encode(input) {\n  var o = \"\";\n  var c1 = 0, c2 = 0, c3 = 0, e1 = 0, e2 = 0, e3 = 0, e4 = 0;\n  for (var i = 0; i < input.length; ) {\n    c1 = input.charCodeAt(i++);\n    e1 = c1 >> 2;\n    c2 = input.charCodeAt(i++);\n    e2 = (c1 & 3) << 4 | c2 >> 4;\n    c3 = input.charCodeAt(i++);\n    e3 = (c2 & 15) << 2 | c3 >> 6;\n    e4 = c3 & 63;\n    if (isNaN(c2)) {\n      e3 = e4 = 64;\n    } else if (isNaN(c3)) {\n      e4 = 64;\n    }\n    o += Base64_map.charAt(e1) + Base64_map.charAt(e2) + Base64_map.charAt(e3) + Base64_map.charAt(e4);\n  }\n  return o;\n}\nfunction Base64_decode(input) {\n  var o = \"\";\n  var c1 = 0, c2 = 0, c3 = 0, e1 = 0, e2 = 0, e3 = 0, e4 = 0;\n  input = input.replace(/[^\\w\\+\\/\\=]/g, \"\");\n  for (var i = 0; i < input.length; ) {\n    e1 = Base64_map.indexOf(input.charAt(i++));\n    e2 = Base64_map.indexOf(input.charAt(i++));\n    c1 = e1 << 2 | e2 >> 4;\n    o += String.fromCharCode(c1);\n    e3 = Base64_map.indexOf(input.charAt(i++));\n    c2 = (e2 & 15) << 4 | e3 >> 2;\n    if (e3 !== 64) {\n      o += String.fromCharCode(c2);\n    }\n    e4 = Base64_map.indexOf(input.charAt(i++));\n    c3 = (e3 & 3) << 6 | e4;\n    if (e4 !== 64) {\n      o += String.fromCharCode(c3);\n    }\n  }\n  return o;\n}\nvar has_buf = /*#__PURE__*/(function() { return typeof Buffer !== 'undefined' && typeof process !== 'undefined' && typeof process.versions !== 'undefined' && !!process.versions.node; })();\n\nvar Buffer_from = /*#__PURE__*/(function() {\n\tif(typeof Buffer !== 'undefined') {\n\t\tvar nbfs = !Buffer.from;\n\t\tif(!nbfs) try { Buffer.from(\"foo\", \"utf8\"); } catch(e) { nbfs = true; }\n\t\treturn nbfs ? function(buf, enc) { return (enc) ? new Buffer(buf, enc) : new Buffer(buf); } : Buffer.from.bind(Buffer);\n\t}\n\treturn function() {};\n})();\n\n\nfunction new_raw_buf(len/*:number*/) {\n\t/* jshint -W056 */\n\tif(has_buf) return Buffer.alloc ? Buffer.alloc(len) : new Buffer(len);\n\treturn typeof Uint8Array != \"undefined\" ? new Uint8Array(len) : new Array(len);\n\t/* jshint +W056 */\n}\n\nfunction new_unsafe_buf(len/*:number*/) {\n\t/* jshint -W056 */\n\tif(has_buf) return Buffer.allocUnsafe ? Buffer.allocUnsafe(len) : new Buffer(len);\n\treturn typeof Uint8Array != \"undefined\" ? new Uint8Array(len) : new Array(len);\n\t/* jshint +W056 */\n}\n\nvar s2a = function s2a(s/*:string*/)/*:any*/ {\n\tif(has_buf) return Buffer_from(s, \"binary\");\n\treturn s.split(\"\").map(function(x/*:string*/)/*:number*/{ return x.charCodeAt(0) & 0xff; });\n};\n\nfunction s2ab(s/*:string*/)/*:any*/ {\n\tif(typeof ArrayBuffer === 'undefined') return s2a(s);\n\tvar buf = new ArrayBuffer(s.length), view = new Uint8Array(buf);\n\tfor (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n\treturn buf;\n}\n\nfunction a2s(data/*:any*/)/*:string*/ {\n\tif(Array.isArray(data)) return data.map(function(c) { return String.fromCharCode(c); }).join(\"\");\n\tvar o/*:Array<string>*/ = []; for(var i = 0; i < data.length; ++i) o[i] = String.fromCharCode(data[i]); return o.join(\"\");\n}\n\nfunction a2u(data/*:Array<number>*/)/*:Uint8Array*/ {\n\tif(typeof Uint8Array === 'undefined') throw new Error(\"Unsupported\");\n\treturn new Uint8Array(data);\n}\n\nfunction ab2a(data/*:ArrayBuffer|Uint8Array*/)/*:Array<number>*/ {\n\tif(typeof ArrayBuffer == 'undefined') throw new Error(\"Unsupported\");\n\tif(data instanceof ArrayBuffer) return ab2a(new Uint8Array(data));\n\t/*:: if(data instanceof ArrayBuffer) throw new Error(\"unreachable\"); */\n\tvar o = new Array(data.length);\n\tfor(var i = 0; i < data.length; ++i) o[i] = data[i];\n\treturn o;\n}\n\nvar bconcat = has_buf ? function(bufs) { return Buffer.concat(bufs.map(function(buf) { return Buffer.isBuffer(buf) ? buf : Buffer_from(buf); })); } : function(bufs) {\n\tif(typeof Uint8Array !== \"undefined\") {\n\t\tvar i = 0, maxlen = 0;\n\t\tfor(i = 0; i < bufs.length; ++i) maxlen += bufs[i].length;\n\t\tvar o = new Uint8Array(maxlen);\n\t\tvar len = 0;\n\t\tfor(i = 0, maxlen = 0; i < bufs.length; maxlen += len, ++i) {\n\t\t\tlen = bufs[i].length;\n\t\t\tif(bufs[i] instanceof Uint8Array) o.set(bufs[i], maxlen);\n\t\t\telse if(typeof bufs[i] == \"string\") { throw \"wtf\"; }\n\t\t\telse o.set(new Uint8Array(bufs[i]), maxlen);\n\t\t}\n\t\treturn o;\n\t}\n\treturn [].concat.apply([], bufs.map(function(buf) { return Array.isArray(buf) ? buf : [].slice.call(buf); }));\n};\n\nfunction utf8decode(content/*:string*/) {\n\tvar out = [], widx = 0, L = content.length + 250;\n\tvar o = new_raw_buf(content.length + 255);\n\tfor(var ridx = 0; ridx < content.length; ++ridx) {\n\t\tvar c = content.charCodeAt(ridx);\n\t\tif(c < 0x80) o[widx++] = c;\n\t\telse if(c < 0x800) {\n\t\t\to[widx++] = (192|((c>>6)&31));\n\t\t\to[widx++] = (128|(c&63));\n\t\t} else if(c >= 0xD800 && c < 0xE000) {\n\t\t\tc = (c&1023)+64;\n\t\t\tvar d = content.charCodeAt(++ridx)&1023;\n\t\t\to[widx++] = (240|((c>>8)&7));\n\t\t\to[widx++] = (128|((c>>2)&63));\n\t\t\to[widx++] = (128|((d>>6)&15)|((c&3)<<4));\n\t\t\to[widx++] = (128|(d&63));\n\t\t} else {\n\t\t\to[widx++] = (224|((c>>12)&15));\n\t\t\to[widx++] = (128|((c>>6)&63));\n\t\t\to[widx++] = (128|(c&63));\n\t\t}\n\t\tif(widx > L) {\n\t\t\tout.push(o.slice(0, widx));\n\t\t\twidx = 0;\n\t\t\to = new_raw_buf(65535);\n\t\t\tL = 65530;\n\t\t}\n\t}\n\tout.push(o.slice(0, widx));\n\treturn bconcat(out);\n}\n\nvar chr0 = /\\u0000/g, chr1 = /[\\u0001-\\u0006]/g;\n/*::\ndeclare type Block = any;\ndeclare type BufArray = {\n\tnewblk(sz:number):Block;\n\tnext(sz:number):Block;\n\tend():any;\n\tpush(buf:Block):void;\n};\n\ntype RecordHopperCB = {(d:any, Rn:string, RT:number):?boolean;};\n\ntype EvertType = {[string]:string};\ntype EvertNumType = {[string]:number};\ntype EvertArrType = {[string]:Array<string>};\n\ntype StringConv = {(string):string};\n\n*/\n/* ssf.js (C) 2013-present SheetJS -- http://sheetjs.com */\n/*jshint -W041 */\nfunction _strrev(x/*:string*/)/*:string*/ { var o = \"\", i = x.length-1; while(i>=0) o += x.charAt(i--); return o; }\nfunction pad0(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v; return t.length>=d?t:fill('0',d-t.length)+t;}\nfunction pad_(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v;return t.length>=d?t:fill(' ',d-t.length)+t;}\nfunction rpad_(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v; return t.length>=d?t:t+fill(' ',d-t.length);}\nfunction pad0r1(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+Math.round(v); return t.length>=d?t:fill('0',d-t.length)+t;}\nfunction pad0r2(v/*:any*/,d/*:number*/)/*:string*/{var t=\"\"+v; return t.length>=d?t:fill('0',d-t.length)+t;}\nvar p2_32 = /*#__PURE__*/Math.pow(2,32);\nfunction pad0r(v/*:any*/,d/*:number*/)/*:string*/{if(v>p2_32||v<-p2_32) return pad0r1(v,d); var i = Math.round(v); return pad0r2(i,d); }\n/* yes, in 2022 this is still faster than string compare */\nfunction SSF_isgeneral(s/*:string*/, i/*:?number*/)/*:boolean*/ { i = i || 0; return s.length >= 7 + i && (s.charCodeAt(i)|32) === 103 && (s.charCodeAt(i+1)|32) === 101 && (s.charCodeAt(i+2)|32) === 110 && (s.charCodeAt(i+3)|32) === 101 && (s.charCodeAt(i+4)|32) === 114 && (s.charCodeAt(i+5)|32) === 97 && (s.charCodeAt(i+6)|32) === 108; }\nvar days/*:Array<Array<string> >*/ = [\n\t['Sun', 'Sunday'],\n\t['Mon', 'Monday'],\n\t['Tue', 'Tuesday'],\n\t['Wed', 'Wednesday'],\n\t['Thu', 'Thursday'],\n\t['Fri', 'Friday'],\n\t['Sat', 'Saturday']\n];\nvar months/*:Array<Array<string> >*/ = [\n\t['J', 'Jan', 'January'],\n\t['F', 'Feb', 'February'],\n\t['M', 'Mar', 'March'],\n\t['A', 'Apr', 'April'],\n\t['M', 'May', 'May'],\n\t['J', 'Jun', 'June'],\n\t['J', 'Jul', 'July'],\n\t['A', 'Aug', 'August'],\n\t['S', 'Sep', 'September'],\n\t['O', 'Oct', 'October'],\n\t['N', 'Nov', 'November'],\n\t['D', 'Dec', 'December']\n];\nfunction SSF_init_table(t/*:any*/) {\n\tif(!t) t = {};\n\tt[0]=  'General';\n\tt[1]=  '0';\n\tt[2]=  '0.00';\n\tt[3]=  '#,##0';\n\tt[4]=  '#,##0.00';\n\tt[9]=  '0%';\n\tt[10]= '0.00%';\n\tt[11]= '0.00E+00';\n\tt[12]= '# ?/?';\n\tt[13]= '# ??/??';\n\tt[14]= 'm/d/yy';\n\tt[15]= 'd-mmm-yy';\n\tt[16]= 'd-mmm';\n\tt[17]= 'mmm-yy';\n\tt[18]= 'h:mm AM/PM';\n\tt[19]= 'h:mm:ss AM/PM';\n\tt[20]= 'h:mm';\n\tt[21]= 'h:mm:ss';\n\tt[22]= 'm/d/yy h:mm';\n\tt[37]= '#,##0 ;(#,##0)';\n\tt[38]= '#,##0 ;[Red](#,##0)';\n\tt[39]= '#,##0.00;(#,##0.00)';\n\tt[40]= '#,##0.00;[Red](#,##0.00)';\n\tt[45]= 'mm:ss';\n\tt[46]= '[h]:mm:ss';\n\tt[47]= 'mmss.0';\n\tt[48]= '##0.0E+0';\n\tt[49]= '@';\n\tt[56]= '\"上午/下午 \"hh\"時\"mm\"分\"ss\"秒 \"';\n\treturn t;\n}\n/* repeated to satiate webpack */\nvar table_fmt = {\n\t0:  'General',\n\t1:  '0',\n\t2:  '0.00',\n\t3:  '#,##0',\n\t4:  '#,##0.00',\n\t9:  '0%',\n\t10: '0.00%',\n\t11: '0.00E+00',\n\t12: '# ?/?',\n\t13: '# ??/??',\n\t14: 'm/d/yy',\n\t15: 'd-mmm-yy',\n\t16: 'd-mmm',\n\t17: 'mmm-yy',\n\t18: 'h:mm AM/PM',\n\t19: 'h:mm:ss AM/PM',\n\t20: 'h:mm',\n\t21: 'h:mm:ss',\n\t22: 'm/d/yy h:mm',\n\t37: '#,##0 ;(#,##0)',\n\t38: '#,##0 ;[Red](#,##0)',\n\t39: '#,##0.00;(#,##0.00)',\n\t40: '#,##0.00;[Red](#,##0.00)',\n\t45: 'mm:ss',\n\t46: '[h]:mm:ss',\n\t47: 'mmss.0',\n\t48: '##0.0E+0',\n\t49: '@',\n\t56: '\"上午/下午 \"hh\"時\"mm\"分\"ss\"秒 \"'\n};\n\n/* Defaults determined by systematically testing in Excel 2019 */\n\n/* These formats appear to default to other formats in the table */\nvar SSF_default_map = {\n\t5:  37, 6:  38, 7:  39, 8:  40,         //  5 -> 37 ...  8 -> 40\n\n\t23:  0, 24:  0, 25:  0, 26:  0,         // 23 ->  0 ... 26 ->  0\n\n\t27: 14, 28: 14, 29: 14, 30: 14, 31: 14, // 27 -> 14 ... 31 -> 14\n\n\t50: 14, 51: 14, 52: 14, 53: 14, 54: 14, // 50 -> 14 ... 58 -> 14\n\t55: 14, 56: 14, 57: 14, 58: 14,\n\t59:  1, 60:  2, 61:  3, 62:  4,         // 59 ->  1 ... 62 ->  4\n\n\t67:  9, 68: 10,                         // 67 ->  9 ... 68 -> 10\n\t69: 12, 70: 13, 71: 14,                 // 69 -> 12 ... 71 -> 14\n\t72: 14, 73: 15, 74: 16, 75: 17,         // 72 -> 14 ... 75 -> 17\n\t76: 20, 77: 21, 78: 22,                 // 76 -> 20 ... 78 -> 22\n\t79: 45, 80: 46, 81: 47,                 // 79 -> 45 ... 81 -> 47\n\t82: 0                                   // 82 ->  0 ... 65536 -> 0 (omitted)\n};\n\n\n/* These formats technically refer to Accounting formats with no equivalent */\nvar SSF_default_str = {\n\t//  5 -- Currency,   0 decimal, black negative\n\t5:  '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\t63: '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\n\t//  6 -- Currency,   0 decimal, red   negative\n\t6:  '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\t64: '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\n\t//  7 -- Currency,   2 decimal, black negative\n\t7:  '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\t65: '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\n\t//  8 -- Currency,   2 decimal, red   negative\n\t8:  '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t66: '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\n\t// 41 -- Accounting, 0 decimal, No Symbol\n\t41: '_(* #,##0_);_(* \\\\(#,##0\\\\);_(* \"-\"_);_(@_)',\n\n\t// 42 -- Accounting, 0 decimal, $  Symbol\n\t42: '_(\"$\"* #,##0_);_(\"$\"* \\\\(#,##0\\\\);_(\"$\"* \"-\"_);_(@_)',\n\n\t// 43 -- Accounting, 2 decimal, No Symbol\n\t43: '_(* #,##0.00_);_(* \\\\(#,##0.00\\\\);_(* \"-\"??_);_(@_)',\n\n\t// 44 -- Accounting, 2 decimal, $  Symbol\n\t44: '_(\"$\"* #,##0.00_);_(\"$\"* \\\\(#,##0.00\\\\);_(\"$\"* \"-\"??_);_(@_)'\n};\n\nfunction SSF_frac(x/*:number*/, D/*:number*/, mixed/*:?boolean*/)/*:Array<number>*/ {\n\tvar sgn = x < 0 ? -1 : 1;\n\tvar B = x * sgn;\n\tvar P_2 = 0, P_1 = 1, P = 0;\n\tvar Q_2 = 1, Q_1 = 0, Q = 0;\n\tvar A = Math.floor(B);\n\twhile(Q_1 < D) {\n\t\tA = Math.floor(B);\n\t\tP = A * P_1 + P_2;\n\t\tQ = A * Q_1 + Q_2;\n\t\tif((B - A) < 0.00000005) break;\n\t\tB = 1 / (B - A);\n\t\tP_2 = P_1; P_1 = P;\n\t\tQ_2 = Q_1; Q_1 = Q;\n\t}\n\tif(Q > D) { if(Q_1 > D) { Q = Q_2; P = P_2; } else { Q = Q_1; P = P_1; } }\n\tif(!mixed) return [0, sgn * P, Q];\n\tvar q = Math.floor(sgn * P/Q);\n\treturn [q, sgn*P - q*Q, Q];\n}\nfunction SSF_parse_date_code(v/*:number*/,opts/*:?any*/,b2/*:?boolean*/) {\n\tif(v > 2958465 || v < 0) return null;\n\tvar date = (v|0), time = Math.floor(86400 * (v - date)), dow=0;\n\tvar dout=[];\n\tvar out={D:date, T:time, u:86400*(v-date)-time,y:0,m:0,d:0,H:0,M:0,S:0,q:0};\n\tif(Math.abs(out.u) < 1e-6) out.u = 0;\n\tif(opts && opts.date1904) date += 1462;\n\tif(out.u > 0.9999) {\n\t\tout.u = 0;\n\t\tif(++time == 86400) { out.T = time = 0; ++date; ++out.D; }\n\t}\n\tif(date === 60) {dout = b2 ? [1317,10,29] : [1900,2,29]; dow=3;}\n\telse if(date === 0) {dout = b2 ? [1317,8,29] : [1900,1,0]; dow=6;}\n\telse {\n\t\tif(date > 60) --date;\n\t\t/* 1 = Jan 1 1900 in Gregorian */\n\t\tvar d = new Date(1900, 0, 1);\n\t\td.setDate(d.getDate() + date - 1);\n\t\tdout = [d.getFullYear(), d.getMonth()+1,d.getDate()];\n\t\tdow = d.getDay();\n\t\tif(date < 60) dow = (dow + 6) % 7;\n\t\tif(b2) dow = SSF_fix_hijri(d, dout);\n\t}\n\tout.y = dout[0]; out.m = dout[1]; out.d = dout[2];\n\tout.S = time % 60; time = Math.floor(time / 60);\n\tout.M = time % 60; time = Math.floor(time / 60);\n\tout.H = time;\n\tout.q = dow;\n\treturn out;\n}\nvar SSFbasedate = /*#__PURE__*/new Date(1899, 11, 31, 0, 0, 0);\nvar SSFdnthresh = /*#__PURE__*/SSFbasedate.getTime();\nvar SSFbase1904 = /*#__PURE__*/new Date(1900, 2, 1, 0, 0, 0);\nfunction datenum_local(v/*:Date*/, date1904/*:?boolean*/)/*:number*/ {\n\tvar epoch = /*#__PURE__*/v.getTime();\n\tif(date1904) epoch -= 1461*24*60*60*1000;\n\telse if(v >= SSFbase1904) epoch += 24*60*60*1000;\n\treturn (epoch - (SSFdnthresh + (/*#__PURE__*/v.getTimezoneOffset() - /*#__PURE__*/SSFbasedate.getTimezoneOffset()) * 60000)) / (24 * 60 * 60 * 1000);\n}\n/* ECMA-376 18.8.30 numFmt*/\n/* Note: `toPrecision` uses standard form when prec > E and E >= -6 */\n/* exponent >= -9 and <= 9 */\nfunction SSF_strip_decimal(o/*:string*/)/*:string*/ {\n\treturn (o.indexOf(\".\") == -1) ? o : o.replace(/(?:\\.0*|(\\.\\d*[1-9])0+)$/, \"$1\");\n}\n\n/* General Exponential always shows 2 digits exp and trims the mantissa */\nfunction SSF_normalize_exp(o/*:string*/)/*:string*/ {\n\tif(o.indexOf(\"E\") == -1) return o;\n\treturn o.replace(/(?:\\.0*|(\\.\\d*[1-9])0+)[Ee]/,\"$1E\").replace(/(E[+-])(\\d)$/,\"$10$2\");\n}\n\n/* exponent >= -9 and <= 9 */\nfunction SSF_small_exp(v/*:number*/)/*:string*/ {\n\tvar w = (v<0?12:11);\n\tvar o = SSF_strip_decimal(v.toFixed(12)); if(o.length <= w) return o;\n\to = v.toPrecision(10); if(o.length <= w) return o;\n\treturn v.toExponential(5);\n}\n\n/* exponent >= 11 or <= -10 likely exponential */\nfunction SSF_large_exp(v/*:number*/)/*:string*/ {\n\tvar o = SSF_strip_decimal(v.toFixed(11));\n\treturn (o.length > (v<0?12:11) || o === \"0\" || o === \"-0\") ? v.toPrecision(6) : o;\n}\n\nfunction SSF_general_num(v/*:number*/)/*:string*/ {\n\tvar V = Math.floor(Math.log(Math.abs(v))*Math.LOG10E), o;\n\n\tif(V >= -4 && V <= -1) o = v.toPrecision(10+V);\n\telse if(Math.abs(V) <= 9) o = SSF_small_exp(v);\n\telse if(V === 10) o = v.toFixed(10).substr(0,12);\n\telse o = SSF_large_exp(v);\n\n\treturn SSF_strip_decimal(SSF_normalize_exp(o.toUpperCase()));\n}\n\n\n/*\n\t\"General\" rules:\n\t- text is passed through (\"@\")\n\t- booleans are rendered as TRUE/FALSE\n\t- \"up to 11 characters\" displayed for numbers\n\t- Default date format (code 14) used for Dates\n\n\tThe longest 32-bit integer text is \"-2147483648\", exactly 11 chars\n\tTODO: technically the display depends on the width of the cell\n*/\nfunction SSF_general(v/*:any*/, opts/*:any*/) {\n\tswitch(typeof v) {\n\t\tcase 'string': return v;\n\t\tcase 'boolean': return v ? \"TRUE\" : \"FALSE\";\n\t\tcase 'number': return (v|0) === v ? v.toString(10) : SSF_general_num(v);\n\t\tcase 'undefined': return \"\";\n\t\tcase 'object':\n\t\t\tif(v == null) return \"\";\n\t\t\tif(v instanceof Date) return SSF_format(14, datenum_local(v, opts && opts.date1904), opts);\n\t}\n\tthrow new Error(\"unsupported value in General format: \" + v);\n}\n\nfunction SSF_fix_hijri(date/*:Date*/, o/*:[number, number, number]*/) {\n  /* TODO: properly adjust y/m/d and  */\n  o[0] -= 581;\n  var dow = date.getDay();\n  if(date < 60) dow = (dow + 6) % 7;\n  return dow;\n}\n//var THAI_DIGITS = \"\\u0E50\\u0E51\\u0E52\\u0E53\\u0E54\\u0E55\\u0E56\\u0E57\\u0E58\\u0E59\".split(\"\");\nfunction SSF_write_date(type/*:number*/, fmt/*:string*/, val, ss0/*:?number*/)/*:string*/ {\n\tvar o=\"\", ss=0, tt=0, y = val.y, out, outl = 0;\n\tswitch(type) {\n\t\tcase 98: /* 'b' buddhist year */\n\t\t\ty = val.y + 543;\n\t\t\t/* falls through */\n\t\tcase 121: /* 'y' year */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = y % 100; outl = 2; break;\n\t\t\tdefault: out = y % 10000; outl = 4; break;\n\t\t} break;\n\t\tcase 109: /* 'm' month */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.m; outl = fmt.length; break;\n\t\t\tcase 3: return months[val.m-1][1];\n\t\t\tcase 5: return months[val.m-1][0];\n\t\t\tdefault: return months[val.m-1][2];\n\t\t} break;\n\t\tcase 100: /* 'd' day */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.d; outl = fmt.length; break;\n\t\t\tcase 3: return days[val.q][0];\n\t\t\tdefault: return days[val.q][1];\n\t\t} break;\n\t\tcase 104: /* 'h' 12-hour */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = 1+(val.H+11)%12; outl = fmt.length; break;\n\t\t\tdefault: throw 'bad hour format: ' + fmt;\n\t\t} break;\n\t\tcase 72: /* 'H' 24-hour */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.H; outl = fmt.length; break;\n\t\t\tdefault: throw 'bad hour format: ' + fmt;\n\t\t} break;\n\t\tcase 77: /* 'M' minutes */\n\t\tswitch(fmt.length) {\n\t\t\tcase 1: case 2: out = val.M; outl = fmt.length; break;\n\t\t\tdefault: throw 'bad minute format: ' + fmt;\n\t\t} break;\n\t\tcase 115: /* 's' seconds */\n\t\t\tif(fmt != 's' && fmt != 'ss' && fmt != '.0' && fmt != '.00' && fmt != '.000') throw 'bad second format: ' + fmt;\n\t\t\tif(val.u === 0 && (fmt == \"s\" || fmt == \"ss\")) return pad0(val.S, fmt.length);\n\t\t\t/*::if(!ss0) ss0 = 0; */\n\t\t\tif(ss0 >= 2) tt = ss0 === 3 ? 1000 : 100;\n\t\t\telse tt = ss0 === 1 ? 10 : 1;\n\t\t\tss = Math.round((tt)*(val.S + val.u));\n\t\t\tif(ss >= 60*tt) ss = 0;\n\t\t\tif(fmt === 's') return ss === 0 ? \"0\" : \"\"+ss/tt;\n\t\t\to = pad0(ss,2 + ss0);\n\t\t\tif(fmt === 'ss') return o.substr(0,2);\n\t\t\treturn \".\" + o.substr(2,fmt.length-1);\n\t\tcase 90: /* 'Z' absolute time */\n\t\tswitch(fmt) {\n\t\t\tcase '[h]': case '[hh]': out = val.D*24+val.H; break;\n\t\t\tcase '[m]': case '[mm]': out = (val.D*24+val.H)*60+val.M; break;\n\t\t\tcase '[s]': case '[ss]': out = ((val.D*24+val.H)*60+val.M)*60+Math.round(val.S+val.u); break;\n\t\t\tdefault: throw 'bad abstime format: ' + fmt;\n\t\t} outl = fmt.length === 3 ? 1 : 2; break;\n\t\tcase 101: /* 'e' era */\n\t\t\tout = y; outl = 1; break;\n\t}\n\tvar outstr = outl > 0 ? pad0(out, outl) : \"\";\n\treturn outstr;\n}\n\n\n/*jshint -W086 */\n/*jshint +W086 */\nfunction commaify(s/*:string*/)/*:string*/ {\n\tvar w = 3;\n\tif(s.length <= w) return s;\n\tvar j = (s.length % w), o = s.substr(0,j);\n\tfor(; j!=s.length; j+=w) o+=(o.length > 0 ? \",\" : \"\") + s.substr(j,w);\n\treturn o;\n}\nvar pct1 = /%/g;\nfunction write_num_pct(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar sfmt = fmt.replace(pct1,\"\"), mul = fmt.length - sfmt.length;\n\treturn write_num(type, sfmt, val * Math.pow(10,2*mul)) + fill(\"%\",mul);\n}\n\nfunction write_num_cm(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar idx = fmt.length - 1;\n\twhile(fmt.charCodeAt(idx-1) === 44) --idx;\n\treturn write_num(type, fmt.substr(0,idx), val / Math.pow(10,3*(fmt.length-idx)));\n}\n\nfunction write_num_exp(fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar o/*:string*/;\n\tvar idx = fmt.indexOf(\"E\") - fmt.indexOf(\".\") - 1;\n\tif(fmt.match(/^#+0.0E\\+0$/)) {\n\t\tif(val == 0) return \"0.0E+0\";\n\t\telse if(val < 0) return \"-\" + write_num_exp(fmt, -val);\n\t\tvar period = fmt.indexOf(\".\"); if(period === -1) period=fmt.indexOf('E');\n\t\tvar ee = Math.floor(Math.log(val)*Math.LOG10E)%period;\n\t\tif(ee < 0) ee += period;\n\t\to = (val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);\n\t\tif(o.indexOf(\"e\") === -1) {\n\t\t\tvar fakee = Math.floor(Math.log(val)*Math.LOG10E);\n\t\t\tif(o.indexOf(\".\") === -1) o = o.charAt(0) + \".\" + o.substr(1) + \"E+\" + (fakee - o.length+ee);\n\t\t\telse o += \"E+\" + (fakee - ee);\n\t\t\twhile(o.substr(0,2) === \"0.\") {\n\t\t\t\to = o.charAt(0) + o.substr(2,period) + \".\" + o.substr(2+period);\n\t\t\t\to = o.replace(/^0+([1-9])/,\"$1\").replace(/^0+\\./,\"0.\");\n\t\t\t}\n\t\t\to = o.replace(/\\+-/,\"-\");\n\t\t}\n\t\to = o.replace(/^([+-]?)(\\d*)\\.(\\d*)[Ee]/,function($$,$1,$2,$3) { return $1 + $2 + $3.substr(0,(period+ee)%period) + \".\" + $3.substr(ee) + \"E\"; });\n\t} else o = val.toExponential(idx);\n\tif(fmt.match(/E\\+00$/) && o.match(/e[+-]\\d$/)) o = o.substr(0,o.length-1) + \"0\" + o.charAt(o.length-1);\n\tif(fmt.match(/E\\-/) && o.match(/e\\+/)) o = o.replace(/e\\+/,\"e\");\n\treturn o.replace(\"e\",\"E\");\n}\nvar frac1 = /# (\\?+)( ?)\\/( ?)(\\d+)/;\nfunction write_num_f1(r/*:Array<string>*/, aval/*:number*/, sign/*:string*/)/*:string*/ {\n\tvar den = parseInt(r[4],10), rr = Math.round(aval * den), base = Math.floor(rr/den);\n\tvar myn = (rr - base*den), myd = den;\n\treturn sign + (base === 0 ? \"\" : \"\"+base) + \" \" + (myn === 0 ? fill(\" \", r[1].length + 1 + r[4].length) : pad_(myn,r[1].length) + r[2] + \"/\" + r[3] + pad0(myd,r[4].length));\n}\nfunction write_num_f2(r/*:Array<string>*/, aval/*:number*/, sign/*:string*/)/*:string*/ {\n\treturn sign + (aval === 0 ? \"\" : \"\"+aval) + fill(\" \", r[1].length + 2 + r[4].length);\n}\nvar dec1 = /^#*0*\\.([0#]+)/;\nvar closeparen = /\\).*[0#]/;\nvar phone = /\\(###\\) ###\\\\?-####/;\nfunction hashq(str/*:string*/)/*:string*/ {\n\tvar o = \"\", cc;\n\tfor(var i = 0; i != str.length; ++i) switch((cc=str.charCodeAt(i))) {\n\t\tcase 35: break;\n\t\tcase 63: o+= \" \"; break;\n\t\tcase 48: o+= \"0\"; break;\n\t\tdefault: o+= String.fromCharCode(cc);\n\t}\n\treturn o;\n}\nfunction rnd(val/*:number*/, d/*:number*/)/*:string*/ { var dd = Math.pow(10,d); return \"\"+(Math.round(val * dd)/dd); }\nfunction dec(val/*:number*/, d/*:number*/)/*:number*/ {\n\tvar _frac = val - Math.floor(val), dd = Math.pow(10,d);\n\tif (d < ('' + Math.round(_frac * dd)).length) return 0;\n\treturn Math.round(_frac * dd);\n}\nfunction carry(val/*:number*/, d/*:number*/)/*:number*/ {\n\tif (d < ('' + Math.round((val-Math.floor(val))*Math.pow(10,d))).length) {\n\t\treturn 1;\n\t}\n\treturn 0;\n}\nfunction flr(val/*:number*/)/*:string*/ {\n\tif(val < 2147483647 && val > -2147483648) return \"\"+(val >= 0 ? (val|0) : (val-1|0));\n\treturn \"\"+Math.floor(val);\n}\nfunction write_num_flt(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/ {\n\tif(type.charCodeAt(0) === 40 && !fmt.match(closeparen)) {\n\t\tvar ffmt = fmt.replace(/\\( */,\"\").replace(/ \\)/,\"\").replace(/\\)/,\"\");\n\t\tif(val >= 0) return write_num_flt('n', ffmt, val);\n\t\treturn '(' + write_num_flt('n', ffmt, -val) + ')';\n\t}\n\tif(fmt.charCodeAt(fmt.length - 1) === 44) return write_num_cm(type, fmt, val);\n\tif(fmt.indexOf('%') !== -1) return write_num_pct(type, fmt, val);\n\tif(fmt.indexOf('E') !== -1) return write_num_exp(fmt, val);\n\tif(fmt.charCodeAt(0) === 36) return \"$\"+write_num_flt(type,fmt.substr(fmt.charAt(1)==' '?2:1),val);\n\tvar o;\n\tvar r/*:?Array<string>*/, ri, ff, aval = Math.abs(val), sign = val < 0 ? \"-\" : \"\";\n\tif(fmt.match(/^00+$/)) return sign + pad0r(aval,fmt.length);\n\tif(fmt.match(/^[#?]+$/)) {\n\t\to = pad0r(val,0); if(o === \"0\") o = \"\";\n\t\treturn o.length > fmt.length ? o : hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(frac1))) return write_num_f1(r, aval, sign);\n\tif(fmt.match(/^#+0+$/)) return sign + pad0r(aval,fmt.length - fmt.indexOf(\"0\"));\n\tif((r = fmt.match(dec1))) {\n\t\to = rnd(val, r[1].length).replace(/^([^\\.]+)$/,\"$1.\"+hashq(r[1])).replace(/\\.$/,\".\"+hashq(r[1])).replace(/\\.(\\d*)$/,function($$, $1) { return \".\" + $1 + fill(\"0\", hashq(/*::(*/r/*::||[\"\"])*/[1]).length-$1.length); });\n\t\treturn fmt.indexOf(\"0.\") !== -1 ? o : o.replace(/^0\\./,\".\");\n\t}\n\tfmt = fmt.replace(/^#+([0.])/, \"$1\");\n\tif((r = fmt.match(/^(0*)\\.(#*)$/))) {\n\t\treturn sign + rnd(aval, r[2].length).replace(/\\.(\\d*[1-9])0*$/,\".$1\").replace(/^(-?\\d*)$/,\"$1.\").replace(/^0\\./,r[1].length?\"0.\":\".\");\n\t}\n\tif((r = fmt.match(/^#{1,3},##0(\\.?)$/))) return sign + commaify(pad0r(aval,0));\n\tif((r = fmt.match(/^#,##0\\.([#0]*0)$/))) {\n\t\treturn val < 0 ? \"-\" + write_num_flt(type, fmt, -val) : commaify(\"\"+(Math.floor(val) + carry(val, r[1].length))) + \".\" + pad0(dec(val, r[1].length),r[1].length);\n\t}\n\tif((r = fmt.match(/^#,#*,#0/))) return write_num_flt(type,fmt.replace(/^#,#*,/,\"\"),val);\n\tif((r = fmt.match(/^([0#]+)(\\\\?-([0#]+))+$/))) {\n\t\to = _strrev(write_num_flt(type, fmt.replace(/[\\\\-]/g,\"\"), val));\n\t\tri = 0;\n\t\treturn _strrev(_strrev(fmt.replace(/\\\\/g,\"\")).replace(/[0#]/g,function(x){return ri<o.length?o.charAt(ri++):x==='0'?'0':\"\";}));\n\t}\n\tif(fmt.match(phone)) {\n\t\to = write_num_flt(type, \"##########\", val);\n\t\treturn \"(\" + o.substr(0,3) + \") \" + o.substr(3, 3) + \"-\" + o.substr(6);\n\t}\n\tvar oa = \"\";\n\tif((r = fmt.match(/^([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(/*::String(*/r[4]/*::)*/.length,7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, false);\n\t\to = \"\" + sign;\n\t\toa = write_num(\"n\", /*::String(*/r[1]/*::)*/, ff[1]);\n\t\tif(oa.charAt(oa.length-1) == \" \") oa = oa.substr(0,oa.length-1) + \"0\";\n\t\to += oa + /*::String(*/r[2]/*::)*/ + \"/\" + /*::String(*/r[3]/*::)*/;\n\t\toa = rpad_(ff[2],ri);\n\t\tif(oa.length < r[4].length) oa = hashq(r[4].substr(r[4].length-oa.length)) + oa;\n\t\to += oa;\n\t\treturn o;\n\t}\n\tif((r = fmt.match(/^# ([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(Math.max(r[1].length, r[4].length),7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, true);\n\t\treturn sign + (ff[0]||(ff[1] ? \"\" : \"0\")) + \" \" + (ff[1] ? pad_(ff[1],ri) + r[2] + \"/\" + r[3] + rpad_(ff[2],ri): fill(\" \", 2*ri+1 + r[2].length + r[3].length));\n\t}\n\tif((r = fmt.match(/^[#0?]+$/))) {\n\t\to = pad0r(val, 0);\n\t\tif(fmt.length <= o.length) return o;\n\t\treturn hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(/^([#0?]+)\\.([#0]+)$/))) {\n\t\to = \"\" + val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,\"$1\");\n\t\tri = o.indexOf(\".\");\n\t\tvar lres = fmt.indexOf(\".\") - ri, rres = fmt.length - o.length - lres;\n\t\treturn hashq(fmt.substr(0,lres) + o + fmt.substr(fmt.length-rres));\n\t}\n\tif((r = fmt.match(/^00,000\\.([#0]*0)$/))) {\n\t\tri = dec(val, r[1].length);\n\t\treturn val < 0 ? \"-\" + write_num_flt(type, fmt, -val) : commaify(flr(val)).replace(/^\\d,\\d{3}$/,\"0$&\").replace(/^\\d*$/,function($$) { return \"00,\" + ($$.length < 3 ? pad0(0,3-$$.length) : \"\") + $$; }) + \".\" + pad0(ri,r[1].length);\n\t}\n\tswitch(fmt) {\n\t\tcase \"###,##0.00\": return write_num_flt(type, \"#,##0.00\", val);\n\t\tcase \"###,###\":\n\t\tcase \"##,###\":\n\t\tcase \"#,###\": var x = commaify(pad0r(aval,0)); return x !== \"0\" ? sign + x : \"\";\n\t\tcase \"###,###.00\": return write_num_flt(type, \"###,##0.00\",val).replace(/^0\\./,\".\");\n\t\tcase \"#,###.00\": return write_num_flt(type, \"#,##0.00\",val).replace(/^0\\./,\".\");\n\t\tdefault:\n\t}\n\tthrow new Error(\"unsupported format |\" + fmt + \"|\");\n}\nfunction write_num_cm2(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar idx = fmt.length - 1;\n\twhile(fmt.charCodeAt(idx-1) === 44) --idx;\n\treturn write_num(type, fmt.substr(0,idx), val / Math.pow(10,3*(fmt.length-idx)));\n}\nfunction write_num_pct2(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar sfmt = fmt.replace(pct1,\"\"), mul = fmt.length - sfmt.length;\n\treturn write_num(type, sfmt, val * Math.pow(10,2*mul)) + fill(\"%\",mul);\n}\nfunction write_num_exp2(fmt/*:string*/, val/*:number*/)/*:string*/{\n\tvar o/*:string*/;\n\tvar idx = fmt.indexOf(\"E\") - fmt.indexOf(\".\") - 1;\n\tif(fmt.match(/^#+0.0E\\+0$/)) {\n\t\tif(val == 0) return \"0.0E+0\";\n\t\telse if(val < 0) return \"-\" + write_num_exp2(fmt, -val);\n\t\tvar period = fmt.indexOf(\".\"); if(period === -1) period=fmt.indexOf('E');\n\t\tvar ee = Math.floor(Math.log(val)*Math.LOG10E)%period;\n\t\tif(ee < 0) ee += period;\n\t\to = (val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);\n\t\tif(!o.match(/[Ee]/)) {\n\t\t\tvar fakee = Math.floor(Math.log(val)*Math.LOG10E);\n\t\t\tif(o.indexOf(\".\") === -1) o = o.charAt(0) + \".\" + o.substr(1) + \"E+\" + (fakee - o.length+ee);\n\t\t\telse o += \"E+\" + (fakee - ee);\n\t\t\to = o.replace(/\\+-/,\"-\");\n\t\t}\n\t\to = o.replace(/^([+-]?)(\\d*)\\.(\\d*)[Ee]/,function($$,$1,$2,$3) { return $1 + $2 + $3.substr(0,(period+ee)%period) + \".\" + $3.substr(ee) + \"E\"; });\n\t} else o = val.toExponential(idx);\n\tif(fmt.match(/E\\+00$/) && o.match(/e[+-]\\d$/)) o = o.substr(0,o.length-1) + \"0\" + o.charAt(o.length-1);\n\tif(fmt.match(/E\\-/) && o.match(/e\\+/)) o = o.replace(/e\\+/,\"e\");\n\treturn o.replace(\"e\",\"E\");\n}\nfunction write_num_int(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/ {\n\tif(type.charCodeAt(0) === 40 && !fmt.match(closeparen)) {\n\t\tvar ffmt = fmt.replace(/\\( */,\"\").replace(/ \\)/,\"\").replace(/\\)/,\"\");\n\t\tif(val >= 0) return write_num_int('n', ffmt, val);\n\t\treturn '(' + write_num_int('n', ffmt, -val) + ')';\n\t}\n\tif(fmt.charCodeAt(fmt.length - 1) === 44) return write_num_cm2(type, fmt, val);\n\tif(fmt.indexOf('%') !== -1) return write_num_pct2(type, fmt, val);\n\tif(fmt.indexOf('E') !== -1) return write_num_exp2(fmt, val);\n\tif(fmt.charCodeAt(0) === 36) return \"$\"+write_num_int(type,fmt.substr(fmt.charAt(1)==' '?2:1),val);\n\tvar o;\n\tvar r/*:?Array<string>*/, ri, ff, aval = Math.abs(val), sign = val < 0 ? \"-\" : \"\";\n\tif(fmt.match(/^00+$/)) return sign + pad0(aval,fmt.length);\n\tif(fmt.match(/^[#?]+$/)) {\n\t\to = (\"\"+val); if(val === 0) o = \"\";\n\t\treturn o.length > fmt.length ? o : hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(frac1))) return write_num_f2(r, aval, sign);\n\tif(fmt.match(/^#+0+$/)) return sign + pad0(aval,fmt.length - fmt.indexOf(\"0\"));\n\tif((r = fmt.match(dec1))) {\n\t\t/*:: if(!Array.isArray(r)) throw new Error(\"unreachable\"); */\n\t\to = (\"\"+val).replace(/^([^\\.]+)$/,\"$1.\"+hashq(r[1])).replace(/\\.$/,\".\"+hashq(r[1]));\n\t\to = o.replace(/\\.(\\d*)$/,function($$, $1) {\n\t\t/*:: if(!Array.isArray(r)) throw new Error(\"unreachable\"); */\n\t\t\treturn \".\" + $1 + fill(\"0\", hashq(r[1]).length-$1.length); });\n\t\treturn fmt.indexOf(\"0.\") !== -1 ? o : o.replace(/^0\\./,\".\");\n\t}\n\tfmt = fmt.replace(/^#+([0.])/, \"$1\");\n\tif((r = fmt.match(/^(0*)\\.(#*)$/))) {\n\t\treturn sign + (\"\"+aval).replace(/\\.(\\d*[1-9])0*$/,\".$1\").replace(/^(-?\\d*)$/,\"$1.\").replace(/^0\\./,r[1].length?\"0.\":\".\");\n\t}\n\tif((r = fmt.match(/^#{1,3},##0(\\.?)$/))) return sign + commaify((\"\"+aval));\n\tif((r = fmt.match(/^#,##0\\.([#0]*0)$/))) {\n\t\treturn val < 0 ? \"-\" + write_num_int(type, fmt, -val) : commaify((\"\"+val)) + \".\" + fill('0',r[1].length);\n\t}\n\tif((r = fmt.match(/^#,#*,#0/))) return write_num_int(type,fmt.replace(/^#,#*,/,\"\"),val);\n\tif((r = fmt.match(/^([0#]+)(\\\\?-([0#]+))+$/))) {\n\t\to = _strrev(write_num_int(type, fmt.replace(/[\\\\-]/g,\"\"), val));\n\t\tri = 0;\n\t\treturn _strrev(_strrev(fmt.replace(/\\\\/g,\"\")).replace(/[0#]/g,function(x){return ri<o.length?o.charAt(ri++):x==='0'?'0':\"\";}));\n\t}\n\tif(fmt.match(phone)) {\n\t\to = write_num_int(type, \"##########\", val);\n\t\treturn \"(\" + o.substr(0,3) + \") \" + o.substr(3, 3) + \"-\" + o.substr(6);\n\t}\n\tvar oa = \"\";\n\tif((r = fmt.match(/^([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(/*::String(*/r[4]/*::)*/.length,7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, false);\n\t\to = \"\" + sign;\n\t\toa = write_num(\"n\", /*::String(*/r[1]/*::)*/, ff[1]);\n\t\tif(oa.charAt(oa.length-1) == \" \") oa = oa.substr(0,oa.length-1) + \"0\";\n\t\to += oa + /*::String(*/r[2]/*::)*/ + \"/\" + /*::String(*/r[3]/*::)*/;\n\t\toa = rpad_(ff[2],ri);\n\t\tif(oa.length < r[4].length) oa = hashq(r[4].substr(r[4].length-oa.length)) + oa;\n\t\to += oa;\n\t\treturn o;\n\t}\n\tif((r = fmt.match(/^# ([#0?]+)( ?)\\/( ?)([#0?]+)/))) {\n\t\tri = Math.min(Math.max(r[1].length, r[4].length),7);\n\t\tff = SSF_frac(aval, Math.pow(10,ri)-1, true);\n\t\treturn sign + (ff[0]||(ff[1] ? \"\" : \"0\")) + \" \" + (ff[1] ? pad_(ff[1],ri) + r[2] + \"/\" + r[3] + rpad_(ff[2],ri): fill(\" \", 2*ri+1 + r[2].length + r[3].length));\n\t}\n\tif((r = fmt.match(/^[#0?]+$/))) {\n\t\to = \"\" + val;\n\t\tif(fmt.length <= o.length) return o;\n\t\treturn hashq(fmt.substr(0,fmt.length-o.length)) + o;\n\t}\n\tif((r = fmt.match(/^([#0]+)\\.([#0]+)$/))) {\n\t\to = \"\" + val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,\"$1\");\n\t\tri = o.indexOf(\".\");\n\t\tvar lres = fmt.indexOf(\".\") - ri, rres = fmt.length - o.length - lres;\n\t\treturn hashq(fmt.substr(0,lres) + o + fmt.substr(fmt.length-rres));\n\t}\n\tif((r = fmt.match(/^00,000\\.([#0]*0)$/))) {\n\t\treturn val < 0 ? \"-\" + write_num_int(type, fmt, -val) : commaify(\"\"+val).replace(/^\\d,\\d{3}$/,\"0$&\").replace(/^\\d*$/,function($$) { return \"00,\" + ($$.length < 3 ? pad0(0,3-$$.length) : \"\") + $$; }) + \".\" + pad0(0,r[1].length);\n\t}\n\tswitch(fmt) {\n\t\tcase \"###,###\":\n\t\tcase \"##,###\":\n\t\tcase \"#,###\": var x = commaify(\"\"+aval); return x !== \"0\" ? sign + x : \"\";\n\t\tdefault:\n\t\t\tif(fmt.match(/\\.[0#?]*$/)) return write_num_int(type, fmt.slice(0,fmt.lastIndexOf(\".\")), val) + hashq(fmt.slice(fmt.lastIndexOf(\".\")));\n\t}\n\tthrow new Error(\"unsupported format |\" + fmt + \"|\");\n}\nfunction write_num(type/*:string*/, fmt/*:string*/, val/*:number*/)/*:string*/ {\n\treturn (val|0) === val ? write_num_int(type, fmt, val) : write_num_flt(type, fmt, val);\n}\nfunction SSF_split_fmt(fmt/*:string*/)/*:Array<string>*/ {\n\tvar out/*:Array<string>*/ = [];\n\tvar in_str = false/*, cc*/;\n\tfor(var i = 0, j = 0; i < fmt.length; ++i) switch((/*cc=*/fmt.charCodeAt(i))) {\n\t\tcase 34: /* '\"' */\n\t\t\tin_str = !in_str; break;\n\t\tcase 95: case 42: case 92: /* '_' '*' '\\\\' */\n\t\t\t++i; break;\n\t\tcase 59: /* ';' */\n\t\t\tout[out.length] = fmt.substr(j,i-j);\n\t\t\tj = i+1;\n\t}\n\tout[out.length] = fmt.substr(j);\n\tif(in_str === true) throw new Error(\"Format |\" + fmt + \"| unterminated string \");\n\treturn out;\n}\n\nvar SSF_abstime = /\\[[HhMmSs\\u0E0A\\u0E19\\u0E17]*\\]/;\nfunction fmt_is_date(fmt/*:string*/)/*:boolean*/ {\n\tvar i = 0, /*cc = 0,*/ c = \"\", o = \"\";\n\twhile(i < fmt.length) {\n\t\tswitch((c = fmt.charAt(i))) {\n\t\t\tcase 'G': if(SSF_isgeneral(fmt, i)) i+= 6; i++; break;\n\t\t\tcase '\"': for(;(/*cc=*/fmt.charCodeAt(++i)) !== 34 && i < fmt.length;){/*empty*/} ++i; break;\n\t\t\tcase '\\\\': i+=2; break;\n\t\t\tcase '_': i+=2; break;\n\t\t\tcase '@': ++i; break;\n\t\t\tcase 'B': case 'b':\n\t\t\t\tif(fmt.charAt(i+1) === \"1\" || fmt.charAt(i+1) === \"2\") return true;\n\t\t\t\t/* falls through */\n\t\t\tcase 'M': case 'D': case 'Y': case 'H': case 'S': case 'E':\n\t\t\t\t/* falls through */\n\t\t\tcase 'm': case 'd': case 'y': case 'h': case 's': case 'e': case 'g': return true;\n\t\t\tcase 'A': case 'a': case '上':\n\t\t\t\tif(fmt.substr(i, 3).toUpperCase() === \"A/P\") return true;\n\t\t\t\tif(fmt.substr(i, 5).toUpperCase() === \"AM/PM\") return true;\n\t\t\t\tif(fmt.substr(i, 5).toUpperCase() === \"上午/下午\") return true;\n\t\t\t\t++i; break;\n\t\t\tcase '[':\n\t\t\t\to = c;\n\t\t\t\twhile(fmt.charAt(i++) !== ']' && i < fmt.length) o += fmt.charAt(i);\n\t\t\t\tif(o.match(SSF_abstime)) return true;\n\t\t\t\tbreak;\n\t\t\tcase '.':\n\t\t\t\t/* falls through */\n\t\t\tcase '0': case '#':\n\t\t\t\twhile(i < fmt.length && (\"0#?.,E+-%\".indexOf(c=fmt.charAt(++i)) > -1 || (c=='\\\\' && fmt.charAt(i+1) == \"-\" && \"0#\".indexOf(fmt.charAt(i+2))>-1))){/* empty */}\n\t\t\t\tbreak;\n\t\t\tcase '?': while(fmt.charAt(++i) === c){/* empty */} break;\n\t\t\tcase '*': ++i; if(fmt.charAt(i) == ' ' || fmt.charAt(i) == '*') ++i; break;\n\t\t\tcase '(': case ')': ++i; break;\n\t\t\tcase '1': case '2': case '3': case '4': case '5': case '6': case '7': case '8': case '9':\n\t\t\t\twhile(i < fmt.length && \"0123456789\".indexOf(fmt.charAt(++i)) > -1){/* empty */} break;\n\t\t\tcase ' ': ++i; break;\n\t\t\tdefault: ++i; break;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction eval_fmt(fmt/*:string*/, v/*:any*/, opts/*:any*/, flen/*:number*/) {\n\tvar out = [], o = \"\", i = 0, c = \"\", lst='t', dt, j, cc;\n\tvar hr='H';\n\t/* Tokenize */\n\twhile(i < fmt.length) {\n\t\tswitch((c = fmt.charAt(i))) {\n\t\t\tcase 'G': /* General */\n\t\t\t\tif(!SSF_isgeneral(fmt, i)) throw new Error('unrecognized character ' + c + ' in ' +fmt);\n\t\t\t\tout[out.length] = {t:'G', v:'General'}; i+=7; break;\n\t\t\tcase '\"': /* Literal text */\n\t\t\t\tfor(o=\"\";(cc=fmt.charCodeAt(++i)) !== 34 && i < fmt.length;) o += String.fromCharCode(cc);\n\t\t\t\tout[out.length] = {t:'t', v:o}; ++i; break;\n\t\t\tcase '\\\\': var w = fmt.charAt(++i), t = (w === \"(\" || w === \")\") ? w : 't';\n\t\t\t\tout[out.length] = {t:t, v:w}; ++i; break;\n\t\t\tcase '_': out[out.length] = {t:'t', v:\" \"}; i+=2; break;\n\t\t\tcase '@': /* Text Placeholder */\n\t\t\t\tout[out.length] = {t:'T', v:v}; ++i; break;\n\t\t\tcase 'B': case 'b':\n\t\t\t\tif(fmt.charAt(i+1) === \"1\" || fmt.charAt(i+1) === \"2\") {\n\t\t\t\t\tif(dt==null) { dt=SSF_parse_date_code(v, opts, fmt.charAt(i+1) === \"2\"); if(dt==null) return \"\"; }\n\t\t\t\t\tout[out.length] = {t:'X', v:fmt.substr(i,2)}; lst = c; i+=2; break;\n\t\t\t\t}\n\t\t\t\t/* falls through */\n\t\t\tcase 'M': case 'D': case 'Y': case 'H': case 'S': case 'E':\n\t\t\t\tc = c.toLowerCase();\n\t\t\t\t/* falls through */\n\t\t\tcase 'm': case 'd': case 'y': case 'h': case 's': case 'e': case 'g':\n\t\t\t\tif(v < 0) return \"\";\n\t\t\t\tif(dt==null) { dt=SSF_parse_date_code(v, opts); if(dt==null) return \"\"; }\n\t\t\t\to = c; while(++i < fmt.length && fmt.charAt(i).toLowerCase() === c) o+=c;\n\t\t\t\tif(c === 'm' && lst.toLowerCase() === 'h') c = 'M';\n\t\t\t\tif(c === 'h') c = hr;\n\t\t\t\tout[out.length] = {t:c, v:o}; lst = c; break;\n\t\t\tcase 'A': case 'a': case '上':\n\t\t\t\tvar q={t:c, v:c};\n\t\t\t\tif(dt==null) dt=SSF_parse_date_code(v, opts);\n\t\t\t\tif(fmt.substr(i, 3).toUpperCase() === \"A/P\") { if(dt!=null) q.v = dt.H >= 12 ? \"P\" : \"A\"; q.t = 'T'; hr='h';i+=3;}\n\t\t\t\telse if(fmt.substr(i,5).toUpperCase() === \"AM/PM\") { if(dt!=null) q.v = dt.H >= 12 ? \"PM\" : \"AM\"; q.t = 'T'; i+=5; hr='h'; }\n\t\t\t\telse if(fmt.substr(i,5).toUpperCase() === \"上午/下午\") { if(dt!=null) q.v = dt.H >= 12 ? \"下午\" : \"上午\"; q.t = 'T'; i+=5; hr='h'; }\n\t\t\t\telse { q.t = \"t\"; ++i; }\n\t\t\t\tif(dt==null && q.t === 'T') return \"\";\n\t\t\t\tout[out.length] = q; lst = c; break;\n\t\t\tcase '[':\n\t\t\t\to = c;\n\t\t\t\twhile(fmt.charAt(i++) !== ']' && i < fmt.length) o += fmt.charAt(i);\n\t\t\t\tif(o.slice(-1) !== ']') throw 'unterminated \"[\" block: |' + o + '|';\n\t\t\t\tif(o.match(SSF_abstime)) {\n\t\t\t\t\tif(dt==null) { dt=SSF_parse_date_code(v, opts); if(dt==null) return \"\"; }\n\t\t\t\t\tout[out.length] = {t:'Z', v:o.toLowerCase()};\n\t\t\t\t\tlst = o.charAt(1);\n\t\t\t\t} else if(o.indexOf(\"$\") > -1) {\n\t\t\t\t\to = (o.match(/\\$([^-\\[\\]]*)/)||[])[1]||\"$\";\n\t\t\t\t\tif(!fmt_is_date(fmt)) out[out.length] = {t:'t',v:o};\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t/* Numbers */\n\t\t\tcase '.':\n\t\t\t\tif(dt != null) {\n\t\t\t\t\to = c; while(++i < fmt.length && (c=fmt.charAt(i)) === \"0\") o += c;\n\t\t\t\t\tout[out.length] = {t:'s', v:o}; break;\n\t\t\t\t}\n\t\t\t\t/* falls through */\n\t\t\tcase '0': case '#':\n\t\t\t\to = c; while(++i < fmt.length && \"0#?.,E+-%\".indexOf(c=fmt.charAt(i)) > -1) o += c;\n\t\t\t\tout[out.length] = {t:'n', v:o}; break;\n\t\t\tcase '?':\n\t\t\t\to = c; while(fmt.charAt(++i) === c) o+=c;\n\t\t\t\tout[out.length] = {t:c, v:o}; lst = c; break;\n\t\t\tcase '*': ++i; if(fmt.charAt(i) == ' ' || fmt.charAt(i) == '*') ++i; break; // **\n\t\t\tcase '(': case ')': out[out.length] = {t:(flen===1?'t':c), v:c}; ++i; break;\n\t\t\tcase '1': case '2': case '3': case '4': case '5': case '6': case '7': case '8': case '9':\n\t\t\t\to = c; while(i < fmt.length && \"0123456789\".indexOf(fmt.charAt(++i)) > -1) o+=fmt.charAt(i);\n\t\t\t\tout[out.length] = {t:'D', v:o}; break;\n\t\t\tcase ' ': out[out.length] = {t:c, v:c}; ++i; break;\n\t\t\tcase '$': out[out.length] = {t:'t', v:'$'}; ++i; break;\n\t\t\tdefault:\n\t\t\t\tif(\",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP\".indexOf(c) === -1) throw new Error('unrecognized character ' + c + ' in ' + fmt);\n\t\t\t\tout[out.length] = {t:'t', v:c}; ++i; break;\n\t\t}\n\t}\n\n\t/* Scan for date/time parts */\n\tvar bt = 0, ss0 = 0, ssm;\n\tfor(i=out.length-1, lst='t'; i >= 0; --i) {\n\t\tswitch(out[i].t) {\n\t\t\tcase 'h': case 'H': out[i].t = hr; lst='h'; if(bt < 1) bt = 1; break;\n\t\t\tcase 's':\n\t\t\t\tif((ssm=out[i].v.match(/\\.0+$/))) ss0=Math.max(ss0,ssm[0].length-1);\n\t\t\t\tif(bt < 3) bt = 3;\n\t\t\t/* falls through */\n\t\t\tcase 'd': case 'y': case 'M': case 'e': lst=out[i].t; break;\n\t\t\tcase 'm': if(lst === 's') { out[i].t = 'M'; if(bt < 2) bt = 2; } break;\n\t\t\tcase 'X': /*if(out[i].v === \"B2\");*/\n\t\t\t\tbreak;\n\t\t\tcase 'Z':\n\t\t\t\tif(bt < 1 && out[i].v.match(/[Hh]/)) bt = 1;\n\t\t\t\tif(bt < 2 && out[i].v.match(/[Mm]/)) bt = 2;\n\t\t\t\tif(bt < 3 && out[i].v.match(/[Ss]/)) bt = 3;\n\t\t}\n\t}\n\t/* time rounding depends on presence of minute / second / usec fields */\n\tswitch(bt) {\n\t\tcase 0: break;\n\t\tcase 1:\n\t\t\t/*::if(!dt) break;*/\n\t\t\tif(dt.u >= 0.5) { dt.u = 0; ++dt.S; }\n\t\t\tif(dt.S >=  60) { dt.S = 0; ++dt.M; }\n\t\t\tif(dt.M >=  60) { dt.M = 0; ++dt.H; }\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\t/*::if(!dt) break;*/\n\t\t\tif(dt.u >= 0.5) { dt.u = 0; ++dt.S; }\n\t\t\tif(dt.S >=  60) { dt.S = 0; ++dt.M; }\n\t\t\tbreak;\n\t}\n\n\t/* replace fields */\n\tvar nstr = \"\", jj;\n\tfor(i=0; i < out.length; ++i) {\n\t\tswitch(out[i].t) {\n\t\t\tcase 't': case 'T': case ' ': case 'D': break;\n\t\t\tcase 'X': out[i].v = \"\"; out[i].t = \";\"; break;\n\t\t\tcase 'd': case 'm': case 'y': case 'h': case 'H': case 'M': case 's': case 'e': case 'b': case 'Z':\n\t\t\t\t/*::if(!dt) throw \"unreachable\"; */\n\t\t\t\tout[i].v = SSF_write_date(out[i].t.charCodeAt(0), out[i].v, dt, ss0);\n\t\t\t\tout[i].t = 't'; break;\n\t\t\tcase 'n': case '?':\n\t\t\t\tjj = i+1;\n\t\t\t\twhile(out[jj] != null && (\n\t\t\t\t\t(c=out[jj].t) === \"?\" || c === \"D\" ||\n\t\t\t\t\t((c === \" \" || c === \"t\") && out[jj+1] != null && (out[jj+1].t === '?' || out[jj+1].t === \"t\" && out[jj+1].v === '/')) ||\n\t\t\t\t\t(out[i].t === '(' && (c === ' ' || c === 'n' || c === ')')) ||\n\t\t\t\t\t(c === 't' && (out[jj].v === '/' || out[jj].v === ' ' && out[jj+1] != null && out[jj+1].t == '?'))\n\t\t\t\t)) {\n\t\t\t\t\tout[i].v += out[jj].v;\n\t\t\t\t\tout[jj] = {v:\"\", t:\";\"}; ++jj;\n\t\t\t\t}\n\t\t\t\tnstr += out[i].v;\n\t\t\t\ti = jj-1; break;\n\t\t\tcase 'G': out[i].t = 't'; out[i].v = SSF_general(v,opts); break;\n\t\t}\n\t}\n\tvar vv = \"\", myv, ostr;\n\tif(nstr.length > 0) {\n\t\tif(nstr.charCodeAt(0) == 40) /* '(' */ {\n\t\t\tmyv = (v<0&&nstr.charCodeAt(0) === 45 ? -v : v);\n\t\t\tostr = write_num('n', nstr, myv);\n\t\t} else {\n\t\t\tmyv = (v<0 && flen > 1 ? -v : v);\n\t\t\tostr = write_num('n', nstr, myv);\n\t\t\tif(myv < 0 && out[0] && out[0].t == 't') {\n\t\t\t\tostr = ostr.substr(1);\n\t\t\t\tout[0].v = \"-\" + out[0].v;\n\t\t\t}\n\t\t}\n\t\tjj=ostr.length-1;\n\t\tvar decpt = out.length;\n\t\tfor(i=0; i < out.length; ++i) if(out[i] != null && out[i].t != 't' && out[i].v.indexOf(\".\") > -1) { decpt = i; break; }\n\t\tvar lasti=out.length;\n\t\tif(decpt === out.length && ostr.indexOf(\"E\") === -1) {\n\t\t\tfor(i=out.length-1; i>= 0;--i) {\n\t\t\t\tif(out[i] == null || 'n?'.indexOf(out[i].t) === -1) continue;\n\t\t\t\tif(jj>=out[i].v.length-1) { jj -= out[i].v.length; out[i].v = ostr.substr(jj+1, out[i].v.length); }\n\t\t\t\telse if(jj < 0) out[i].v = \"\";\n\t\t\t\telse { out[i].v = ostr.substr(0, jj+1); jj = -1; }\n\t\t\t\tout[i].t = 't';\n\t\t\t\tlasti = i;\n\t\t\t}\n\t\t\tif(jj>=0 && lasti<out.length) out[lasti].v = ostr.substr(0,jj+1) + out[lasti].v;\n\t\t}\n\t\telse if(decpt !== out.length && ostr.indexOf(\"E\") === -1) {\n\t\t\tjj = ostr.indexOf(\".\")-1;\n\t\t\tfor(i=decpt; i>= 0; --i) {\n\t\t\t\tif(out[i] == null || 'n?'.indexOf(out[i].t) === -1) continue;\n\t\t\t\tj=out[i].v.indexOf(\".\")>-1&&i===decpt?out[i].v.indexOf(\".\")-1:out[i].v.length-1;\n\t\t\t\tvv = out[i].v.substr(j+1);\n\t\t\t\tfor(; j>=0; --j) {\n\t\t\t\t\tif(jj>=0 && (out[i].v.charAt(j) === \"0\" || out[i].v.charAt(j) === \"#\")) vv = ostr.charAt(jj--) + vv;\n\t\t\t\t}\n\t\t\t\tout[i].v = vv;\n\t\t\t\tout[i].t = 't';\n\t\t\t\tlasti = i;\n\t\t\t}\n\t\t\tif(jj>=0 && lasti<out.length) out[lasti].v = ostr.substr(0,jj+1) + out[lasti].v;\n\t\t\tjj = ostr.indexOf(\".\")+1;\n\t\t\tfor(i=decpt; i<out.length; ++i) {\n\t\t\t\tif(out[i] == null || ('n?('.indexOf(out[i].t) === -1 && i !== decpt)) continue;\n\t\t\t\tj=out[i].v.indexOf(\".\")>-1&&i===decpt?out[i].v.indexOf(\".\")+1:0;\n\t\t\t\tvv = out[i].v.substr(0,j);\n\t\t\t\tfor(; j<out[i].v.length; ++j) {\n\t\t\t\t\tif(jj<ostr.length) vv += ostr.charAt(jj++);\n\t\t\t\t}\n\t\t\t\tout[i].v = vv;\n\t\t\t\tout[i].t = 't';\n\t\t\t\tlasti = i;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=0; i<out.length; ++i) if(out[i] != null && 'n?'.indexOf(out[i].t)>-1) {\n\t\tmyv = (flen >1 && v < 0 && i>0 && out[i-1].v === \"-\" ? -v:v);\n\t\tout[i].v = write_num(out[i].t, out[i].v, myv);\n\t\tout[i].t = 't';\n\t}\n\tvar retval = \"\";\n\tfor(i=0; i !== out.length; ++i) if(out[i] != null) retval += out[i].v;\n\treturn retval;\n}\n\nvar cfregex2 = /\\[(=|>[=]?|<[>=]?)(-?\\d+(?:\\.\\d*)?)\\]/;\nfunction chkcond(v, rr) {\n\tif(rr == null) return false;\n\tvar thresh = parseFloat(rr[2]);\n\tswitch(rr[1]) {\n\t\tcase \"=\":  if(v == thresh) return true; break;\n\t\tcase \">\":  if(v >  thresh) return true; break;\n\t\tcase \"<\":  if(v <  thresh) return true; break;\n\t\tcase \"<>\": if(v != thresh) return true; break;\n\t\tcase \">=\": if(v >= thresh) return true; break;\n\t\tcase \"<=\": if(v <= thresh) return true; break;\n\t}\n\treturn false;\n}\nfunction choose_fmt(f/*:string*/, v/*:any*/) {\n\tvar fmt = SSF_split_fmt(f);\n\tvar l = fmt.length, lat = fmt[l-1].indexOf(\"@\");\n\tif(l<4 && lat>-1) --l;\n\tif(fmt.length > 4) throw new Error(\"cannot find right format for |\" + fmt.join(\"|\") + \"|\");\n\tif(typeof v !== \"number\") return [4, fmt.length === 4 || lat>-1?fmt[fmt.length-1]:\"@\"];\n\tswitch(fmt.length) {\n\t\tcase 1: fmt = lat>-1 ? [\"General\", \"General\", \"General\", fmt[0]] : [fmt[0], fmt[0], fmt[0], \"@\"]; break;\n\t\tcase 2: fmt = lat>-1 ? [fmt[0], fmt[0], fmt[0], fmt[1]] : [fmt[0], fmt[1], fmt[0], \"@\"]; break;\n\t\tcase 3: fmt = lat>-1 ? [fmt[0], fmt[1], fmt[0], fmt[2]] : [fmt[0], fmt[1], fmt[2], \"@\"]; break;\n\t\tcase 4: break;\n\t}\n\tvar ff = v > 0 ? fmt[0] : v < 0 ? fmt[1] : fmt[2];\n\tif(fmt[0].indexOf(\"[\") === -1 && fmt[1].indexOf(\"[\") === -1) return [l, ff];\n\tif(fmt[0].match(/\\[[=<>]/) != null || fmt[1].match(/\\[[=<>]/) != null) {\n\t\tvar m1 = fmt[0].match(cfregex2);\n\t\tvar m2 = fmt[1].match(cfregex2);\n\t\treturn chkcond(v, m1) ? [l, fmt[0]] : chkcond(v, m2) ? [l, fmt[1]] : [l, fmt[m1 != null && m2 != null ? 2 : 1]];\n\t}\n\treturn [l, ff];\n}\nfunction SSF_format(fmt/*:string|number*/,v/*:any*/,o/*:?any*/) {\n\tif(o == null) o = {};\n\tvar sfmt = \"\";\n\tswitch(typeof fmt) {\n\t\tcase \"string\":\n\t\t\tif(fmt == \"m/d/yy\" && o.dateNF) sfmt = o.dateNF;\n\t\t\telse sfmt = fmt;\n\t\t\tbreak;\n\t\tcase \"number\":\n\t\t\tif(fmt == 14 && o.dateNF) sfmt = o.dateNF;\n\t\t\telse sfmt = (o.table != null ? (o.table/*:any*/) : table_fmt)[fmt];\n\t\t\tif(sfmt == null) sfmt = (o.table && o.table[SSF_default_map[fmt]]) || table_fmt[SSF_default_map[fmt]];\n\t\t\tif(sfmt == null) sfmt = SSF_default_str[fmt] || \"General\";\n\t\t\tbreak;\n\t}\n\tif(SSF_isgeneral(sfmt,0)) return SSF_general(v, o);\n\tif(v instanceof Date) v = datenum_local(v, o.date1904);\n\tvar f = choose_fmt(sfmt, v);\n\tif(SSF_isgeneral(f[1])) return SSF_general(v, o);\n\tif(v === true) v = \"TRUE\"; else if(v === false) v = \"FALSE\";\n\telse if(v === \"\" || v == null) return \"\";\n\treturn eval_fmt(f[1], v, o, f[0]);\n}\nfunction SSF_load(fmt/*:string*/, idx/*:?number*/)/*:number*/ {\n\tif(typeof idx != 'number') {\n\t\tidx = +idx || -1;\n/*::if(typeof idx != 'number') return 0x188; */\n\t\tfor(var i = 0; i < 0x0188; ++i) {\n/*::if(typeof idx != 'number') return 0x188; */\n\t\t\tif(table_fmt[i] == undefined) { if(idx < 0) idx = i; continue; }\n\t\t\tif(table_fmt[i] == fmt) { idx = i; break; }\n\t\t}\n/*::if(typeof idx != 'number') return 0x188; */\n\t\tif(idx < 0) idx = 0x187;\n\t}\n/*::if(typeof idx != 'number') return 0x188; */\n\ttable_fmt[idx] = fmt;\n\treturn idx;\n}\nfunction SSF_load_table(tbl/*:SSFTable*/)/*:void*/ {\n\tfor(var i=0; i!=0x0188; ++i)\n\t\tif(tbl[i] !== undefined) SSF_load(tbl[i], i);\n}\n\nfunction make_ssf() {\n\ttable_fmt = SSF_init_table();\n}\n\nvar SSF = {\n\tformat: SSF_format,\n\tload: SSF_load,\n\t_table: table_fmt,\n\tload_table: SSF_load_table,\n\tparse_date_code: SSF_parse_date_code,\n\tis_date: fmt_is_date,\n\tget_table: function get_table() { return SSF._table = table_fmt; }\n};\n\nvar SSFImplicit/*{[number]:string}*/ = ({\n\t\"5\": '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\t\"6\": '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\t\"7\": '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\t\"8\": '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t\"23\": 'General', \"24\": 'General', \"25\": 'General', \"26\": 'General',\n\t\"27\": 'm/d/yy', \"28\": 'm/d/yy', \"29\": 'm/d/yy', \"30\": 'm/d/yy', \"31\": 'm/d/yy',\n\t\"32\": 'h:mm:ss', \"33\": 'h:mm:ss', \"34\": 'h:mm:ss', \"35\": 'h:mm:ss',\n\t\"36\": 'm/d/yy',\n\t\"41\": '_(* #,##0_);_(* \\(#,##0\\);_(* \"-\"_);_(@_)',\n\t\"42\": '_(\"$\"* #,##0_);_(\"$\"* \\(#,##0\\);_(\"$\"* \"-\"_);_(@_)',\n\t\"43\": '_(* #,##0.00_);_(* \\(#,##0.00\\);_(* \"-\"??_);_(@_)',\n\t\"44\": '_(\"$\"* #,##0.00_);_(\"$\"* \\(#,##0.00\\);_(\"$\"* \"-\"??_);_(@_)',\n\t\"50\": 'm/d/yy', \"51\": 'm/d/yy', \"52\": 'm/d/yy', \"53\": 'm/d/yy', \"54\": 'm/d/yy',\n\t\"55\": 'm/d/yy', \"56\": 'm/d/yy', \"57\": 'm/d/yy', \"58\": 'm/d/yy',\n\t\"59\": '0',\n\t\"60\": '0.00',\n\t\"61\": '#,##0',\n\t\"62\": '#,##0.00',\n\t\"63\": '\"$\"#,##0_);\\\\(\"$\"#,##0\\\\)',\n\t\"64\": '\"$\"#,##0_);[Red]\\\\(\"$\"#,##0\\\\)',\n\t\"65\": '\"$\"#,##0.00_);\\\\(\"$\"#,##0.00\\\\)',\n\t\"66\": '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t\"67\": '0%',\n\t\"68\": '0.00%',\n\t\"69\": '# ?/?',\n\t\"70\": '# ??/??',\n\t\"71\": 'm/d/yy',\n\t\"72\": 'm/d/yy',\n\t\"73\": 'd-mmm-yy',\n\t\"74\": 'd-mmm',\n\t\"75\": 'mmm-yy',\n\t\"76\": 'h:mm',\n\t\"77\": 'h:mm:ss',\n\t\"78\": 'm/d/yy h:mm',\n\t\"79\": 'mm:ss',\n\t\"80\": '[h]:mm:ss',\n\t\"81\": 'mmss.0'\n}/*:any*/);\n\n/* dateNF parse TODO: move to SSF */\nvar dateNFregex = /[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;\nfunction dateNF_regex(dateNF/*:string|number*/)/*:RegExp*/ {\n\tvar fmt = typeof dateNF == \"number\" ? table_fmt[dateNF] : dateNF;\n\tfmt = fmt.replace(dateNFregex, \"(\\\\d+)\");\n\treturn new RegExp(\"^\" + fmt + \"$\");\n}\nfunction dateNF_fix(str/*:string*/, dateNF/*:string*/, match/*:Array<string>*/)/*:string*/ {\n\tvar Y = -1, m = -1, d = -1, H = -1, M = -1, S = -1;\n\t(dateNF.match(dateNFregex)||[]).forEach(function(n, i) {\n\t\tvar v = parseInt(match[i+1], 10);\n\t\tswitch(n.toLowerCase().charAt(0)) {\n\t\t\tcase 'y': Y = v; break; case 'd': d = v; break;\n\t\t\tcase 'h': H = v; break; case 's': S = v; break;\n\t\t\tcase 'm': if(H >= 0) M = v; else m = v; break;\n\t\t}\n\t});\n\tif(S >= 0 && M == -1 && m >= 0) { M = m; m = -1; }\n\tvar datestr = ((\"\" + (Y>=0?Y: new Date().getFullYear())).slice(-4) + \"-\" + (\"00\" + (m>=1?m:1)).slice(-2) + \"-\" + (\"00\" + (d>=1?d:1)).slice(-2));\n\tif(datestr.length == 7) datestr = \"0\" + datestr;\n\tif(datestr.length == 8) datestr = \"20\" + datestr;\n\tvar timestr = ((\"00\" + (H>=0?H:0)).slice(-2) + \":\" + (\"00\" + (M>=0?M:0)).slice(-2) + \":\" + (\"00\" + (S>=0?S:0)).slice(-2));\n\tif(H == -1 && M == -1 && S == -1) return datestr;\n\tif(Y == -1 && m == -1 && d == -1) return timestr;\n\treturn datestr + \"T\" + timestr;\n}\n\n/*::\ndeclare var ReadShift:any;\ndeclare var CheckField:any;\ndeclare var prep_blob:any;\ndeclare var __readUInt32LE:any;\ndeclare var __readInt32LE:any;\ndeclare var __toBuffer:any;\ndeclare var __utf16le:any;\ndeclare var bconcat:any;\ndeclare var s2a:any;\ndeclare var chr0:any;\ndeclare var chr1:any;\ndeclare var has_buf:boolean;\ndeclare var new_buf:any;\ndeclare var new_raw_buf:any;\ndeclare var new_unsafe_buf:any;\ndeclare var Buffer_from:any;\n*/\n/* cfb.js (C) 2013-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*jshint eqnull:true */\n/*exported CFB */\n/*global Uint8Array:false, Uint16Array:false */\n\n/*::\ntype SectorEntry = {\n\tname?:string;\n\tnodes?:Array<number>;\n\tdata:RawBytes;\n};\ntype SectorList = {\n\t[k:string|number]:SectorEntry;\n\tname:?string;\n\tfat_addrs:Array<number>;\n\tssz:number;\n}\ntype CFBFiles = {[n:string]:CFBEntry};\n*/\n/* crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*exported CRC32 */\nvar CRC32 = /*#__PURE__*/(function() {\nvar CRC32 = {};\nCRC32.version = '1.2.0';\n/* see perf/crc32table.js */\n/*global Int32Array */\nfunction signed_crc_table()/*:any*/ {\n\tvar c = 0, table/*:Array<number>*/ = new Array(256);\n\n\tfor(var n =0; n != 256; ++n){\n\t\tc = n;\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\ttable[n] = c;\n\t}\n\n\treturn typeof Int32Array !== 'undefined' ? new Int32Array(table) : table;\n}\n\nvar T0 = signed_crc_table();\nfunction slice_by_16_tables(T) {\n\tvar c = 0, v = 0, n = 0, table/*:Array<number>*/ = typeof Int32Array !== 'undefined' ? new Int32Array(4096) : new Array(4096) ;\n\n\tfor(n = 0; n != 256; ++n) table[n] = T[n];\n\tfor(n = 0; n != 256; ++n) {\n\t\tv = T[n];\n\t\tfor(c = 256 + n; c < 4096; c += 256) v = table[c] = (v >>> 8) ^ T[v & 0xFF];\n\t}\n\tvar out = [];\n\tfor(n = 1; n != 16; ++n) out[n - 1] = typeof Int32Array !== 'undefined' ? table.subarray(n * 256, n * 256 + 256) : table.slice(n * 256, n * 256 + 256);\n\treturn out;\n}\nvar TT = slice_by_16_tables(T0);\nvar T1 = TT[0],  T2 = TT[1],  T3 = TT[2],  T4 = TT[3],  T5 = TT[4];\nvar T6 = TT[5],  T7 = TT[6],  T8 = TT[7],  T9 = TT[8],  Ta = TT[9];\nvar Tb = TT[10], Tc = TT[11], Td = TT[12], Te = TT[13], Tf = TT[14];\nfunction crc32_bstr(bstr/*:string*/, seed/*:number*/)/*:number*/ {\n\tvar C = seed/*:: ? 0 : 0 */ ^ -1;\n\tfor(var i = 0, L = bstr.length; i < L;) C = (C>>>8) ^ T0[(C^bstr.charCodeAt(i++))&0xFF];\n\treturn ~C;\n}\n\nfunction crc32_buf(B/*:Uint8Array|Array<number>*/, seed/*:number*/)/*:number*/ {\n\tvar C = seed/*:: ? 0 : 0 */ ^ -1, L = B.length - 15, i = 0;\n\tfor(; i < L;) C =\n\t\tTf[B[i++] ^ (C & 255)] ^\n\t\tTe[B[i++] ^ ((C >> 8) & 255)] ^\n\t\tTd[B[i++] ^ ((C >> 16) & 255)] ^\n\t\tTc[B[i++] ^ (C >>> 24)] ^\n\t\tTb[B[i++]] ^ Ta[B[i++]] ^ T9[B[i++]] ^ T8[B[i++]] ^\n\t\tT7[B[i++]] ^ T6[B[i++]] ^ T5[B[i++]] ^ T4[B[i++]] ^\n\t\tT3[B[i++]] ^ T2[B[i++]] ^ T1[B[i++]] ^ T0[B[i++]];\n\tL += 15;\n\twhile(i < L) C = (C>>>8) ^ T0[(C^B[i++])&0xFF];\n\treturn ~C;\n}\n\nfunction crc32_str(str/*:string*/, seed/*:number*/)/*:number*/ {\n\tvar C = seed ^ -1;\n\tfor(var i = 0, L = str.length, c = 0, d = 0; i < L;) {\n\t\tc = str.charCodeAt(i++);\n\t\tif(c < 0x80) {\n\t\t\tC = (C>>>8) ^ T0[(C^c)&0xFF];\n\t\t} else if(c < 0x800) {\n\t\t\tC = (C>>>8) ^ T0[(C ^ (192|((c>>6)&31)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(c&63)))&0xFF];\n\t\t} else if(c >= 0xD800 && c < 0xE000) {\n\t\t\tc = (c&1023)+64; d = str.charCodeAt(i++)&1023;\n\t\t\tC = (C>>>8) ^ T0[(C ^ (240|((c>>8)&7)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((c>>2)&63)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((d>>6)&15)|((c&3)<<4)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(d&63)))&0xFF];\n\t\t} else {\n\t\t\tC = (C>>>8) ^ T0[(C ^ (224|((c>>12)&15)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|((c>>6)&63)))&0xFF];\n\t\t\tC = (C>>>8) ^ T0[(C ^ (128|(c&63)))&0xFF];\n\t\t}\n\t}\n\treturn ~C;\n}\nCRC32.table = T0;\nCRC32.bstr = crc32_bstr;\nCRC32.buf = crc32_buf;\nCRC32.str = crc32_str;\nreturn CRC32;\n})();\n/* [MS-CFB] v20171201 */\nvar CFB = /*#__PURE__*/(function _CFB(){\nvar exports = {};\nexports.version = '1.2.1';\n/* [MS-CFB] 2.6.4 */\nfunction namecmp(l/*:string*/, r/*:string*/)/*:number*/ {\n\tvar L = l.split(\"/\"), R = r.split(\"/\");\n\tfor(var i = 0, c = 0, Z = Math.min(L.length, R.length); i < Z; ++i) {\n\t\tif((c = L[i].length - R[i].length)) return c;\n\t\tif(L[i] != R[i]) return L[i] < R[i] ? -1 : 1;\n\t}\n\treturn L.length - R.length;\n}\nfunction dirname(p/*:string*/)/*:string*/ {\n\tif(p.charAt(p.length - 1) == \"/\") return (p.slice(0,-1).indexOf(\"/\") === -1) ? p : dirname(p.slice(0, -1));\n\tvar c = p.lastIndexOf(\"/\");\n\treturn (c === -1) ? p : p.slice(0, c+1);\n}\n\nfunction filename(p/*:string*/)/*:string*/ {\n\tif(p.charAt(p.length - 1) == \"/\") return filename(p.slice(0, -1));\n\tvar c = p.lastIndexOf(\"/\");\n\treturn (c === -1) ? p : p.slice(c+1);\n}\n/* -------------------------------------------------------------------------- */\n/* DOS Date format:\n   high|YYYYYYYm.mmmddddd.HHHHHMMM.MMMSSSSS|low\n   add 1980 to stored year\n   stored second should be doubled\n*/\n\n/* write JS date to buf as a DOS date */\nfunction write_dos_date(buf/*:CFBlob*/, date/*:Date|string*/) {\n\tif(typeof date === \"string\") date = new Date(date);\n\tvar hms/*:number*/ = date.getHours();\n\thms = hms << 6 | date.getMinutes();\n\thms = hms << 5 | (date.getSeconds()>>>1);\n\tbuf.write_shift(2, hms);\n\tvar ymd/*:number*/ = (date.getFullYear() - 1980);\n\tymd = ymd << 4 | (date.getMonth()+1);\n\tymd = ymd << 5 | date.getDate();\n\tbuf.write_shift(2, ymd);\n}\n\n/* read four bytes from buf and interpret as a DOS date */\nfunction parse_dos_date(buf/*:CFBlob*/)/*:Date*/ {\n\tvar hms = buf.read_shift(2) & 0xFFFF;\n\tvar ymd = buf.read_shift(2) & 0xFFFF;\n\tvar val = new Date();\n\tvar d = ymd & 0x1F; ymd >>>= 5;\n\tvar m = ymd & 0x0F; ymd >>>= 4;\n\tval.setMilliseconds(0);\n\tval.setFullYear(ymd + 1980);\n\tval.setMonth(m-1);\n\tval.setDate(d);\n\tvar S = hms & 0x1F; hms >>>= 5;\n\tvar M = hms & 0x3F; hms >>>= 6;\n\tval.setHours(hms);\n\tval.setMinutes(M);\n\tval.setSeconds(S<<1);\n\treturn val;\n}\nfunction parse_extra_field(blob/*:CFBlob*/)/*:any*/ {\n\tprep_blob(blob, 0);\n\tvar o = /*::(*/{}/*:: :any)*/;\n\tvar flags = 0;\n\twhile(blob.l <= blob.length - 4) {\n\t\tvar type = blob.read_shift(2);\n\t\tvar sz = blob.read_shift(2), tgt = blob.l + sz;\n\t\tvar p = {};\n\t\tswitch(type) {\n\t\t\t/* UNIX-style Timestamps */\n\t\t\tcase 0x5455: {\n\t\t\t\tflags = blob.read_shift(1);\n\t\t\t\tif(flags & 1) p.mtime = blob.read_shift(4);\n\t\t\t\t/* for some reason, CD flag corresponds to LFH */\n\t\t\t\tif(sz > 5) {\n\t\t\t\t\tif(flags & 2) p.atime = blob.read_shift(4);\n\t\t\t\t\tif(flags & 4) p.ctime = blob.read_shift(4);\n\t\t\t\t}\n\t\t\t\tif(p.mtime) p.mt = new Date(p.mtime*1000);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tblob.l = tgt;\n\t\to[type] = p;\n\t}\n\treturn o;\n}\nvar fs/*:: = require('fs'); */;\nfunction get_fs() { return fs || (fs = {}); }\nfunction parse(file/*:RawBytes*/, options/*:CFBReadOpts*/)/*:CFBContainer*/ {\nif(file[0] == 0x50 && file[1] == 0x4b) return parse_zip(file, options);\nif((file[0] | 0x20) == 0x6d && (file[1]|0x20) == 0x69) return parse_mad(file, options);\nif(file.length < 512) throw new Error(\"CFB file size \" + file.length + \" < 512\");\nvar mver = 3;\nvar ssz = 512;\nvar nmfs = 0; // number of mini FAT sectors\nvar difat_sec_cnt = 0;\nvar dir_start = 0;\nvar minifat_start = 0;\nvar difat_start = 0;\n\nvar fat_addrs/*:Array<number>*/ = []; // locations of FAT sectors\n\n/* [MS-CFB] 2.2 Compound File Header */\nvar blob/*:CFBlob*/ = /*::(*/file.slice(0,512)/*:: :any)*/;\nprep_blob(blob, 0);\n\n/* major version */\nvar mv = check_get_mver(blob);\nmver = mv[0];\nswitch(mver) {\n\tcase 3: ssz = 512; break; case 4: ssz = 4096; break;\n\tcase 0: if(mv[1] == 0) return parse_zip(file, options);\n\t/* falls through */\n\tdefault: throw new Error(\"Major Version: Expected 3 or 4 saw \" + mver);\n}\n\n/* reprocess header */\nif(ssz !== 512) { blob = /*::(*/file.slice(0,ssz)/*:: :any)*/; prep_blob(blob, 28 /* blob.l */); }\n/* Save header for final object */\nvar header/*:RawBytes*/ = file.slice(0,ssz);\n\ncheck_shifts(blob, mver);\n\n// Number of Directory Sectors\nvar dir_cnt/*:number*/ = blob.read_shift(4, 'i');\nif(mver === 3 && dir_cnt !== 0) throw new Error('# Directory Sectors: Expected 0 saw ' + dir_cnt);\n\n// Number of FAT Sectors\nblob.l += 4;\n\n// First Directory Sector Location\ndir_start = blob.read_shift(4, 'i');\n\n// Transaction Signature\nblob.l += 4;\n\n// Mini Stream Cutoff Size\nblob.chk('00100000', 'Mini Stream Cutoff Size: ');\n\n// First Mini FAT Sector Location\nminifat_start = blob.read_shift(4, 'i');\n\n// Number of Mini FAT Sectors\nnmfs = blob.read_shift(4, 'i');\n\n// First DIFAT sector location\ndifat_start = blob.read_shift(4, 'i');\n\n// Number of DIFAT Sectors\ndifat_sec_cnt = blob.read_shift(4, 'i');\n\n// Grab FAT Sector Locations\nfor(var q = -1, j = 0; j < 109; ++j) { /* 109 = (512 - blob.l)>>>2; */\n\tq = blob.read_shift(4, 'i');\n\tif(q<0) break;\n\tfat_addrs[j] = q;\n}\n\n/** Break the file up into sectors */\nvar sectors/*:Array<RawBytes>*/ = sectorify(file, ssz);\n\nsleuth_fat(difat_start, difat_sec_cnt, sectors, ssz, fat_addrs);\n\n/** Chains */\nvar sector_list/*:SectorList*/ = make_sector_list(sectors, dir_start, fat_addrs, ssz);\n\nsector_list[dir_start].name = \"!Directory\";\nif(nmfs > 0 && minifat_start !== ENDOFCHAIN) sector_list[minifat_start].name = \"!MiniFAT\";\nsector_list[fat_addrs[0]].name = \"!FAT\";\nsector_list.fat_addrs = fat_addrs;\nsector_list.ssz = ssz;\n\n/* [MS-CFB] 2.6.1 Compound File Directory Entry */\nvar files/*:CFBFiles*/ = {}, Paths/*:Array<string>*/ = [], FileIndex/*:CFBFileIndex*/ = [], FullPaths/*:Array<string>*/ = [];\nread_directory(dir_start, sector_list, sectors, Paths, nmfs, files, FileIndex, minifat_start);\n\nbuild_full_paths(FileIndex, FullPaths, Paths);\nPaths.shift();\n\nvar o = {\n\tFileIndex: FileIndex,\n\tFullPaths: FullPaths\n};\n\n// $FlowIgnore\nif(options && options.raw) o.raw = {header: header, sectors: sectors};\nreturn o;\n} // parse\n\n/* [MS-CFB] 2.2 Compound File Header -- read up to major version */\nfunction check_get_mver(blob/*:CFBlob*/)/*:[number, number]*/ {\n\tif(blob[blob.l] == 0x50 && blob[blob.l + 1] == 0x4b) return [0, 0];\n\t// header signature 8\n\tblob.chk(HEADER_SIGNATURE, 'Header Signature: ');\n\n\t// clsid 16\n\t//blob.chk(HEADER_CLSID, 'CLSID: ');\n\tblob.l += 16;\n\n\t// minor version 2\n\tvar mver/*:number*/ = blob.read_shift(2, 'u');\n\n\treturn [blob.read_shift(2,'u'), mver];\n}\nfunction check_shifts(blob/*:CFBlob*/, mver/*:number*/)/*:void*/ {\n\tvar shift = 0x09;\n\n\t// Byte Order\n\t//blob.chk('feff', 'Byte Order: '); // note: some writers put 0xffff\n\tblob.l += 2;\n\n\t// Sector Shift\n\tswitch((shift = blob.read_shift(2))) {\n\t\tcase 0x09: if(mver != 3) throw new Error('Sector Shift: Expected 9 saw ' + shift); break;\n\t\tcase 0x0c: if(mver != 4) throw new Error('Sector Shift: Expected 12 saw ' + shift); break;\n\t\tdefault: throw new Error('Sector Shift: Expected 9 or 12 saw ' + shift);\n\t}\n\n\t// Mini Sector Shift\n\tblob.chk('0600', 'Mini Sector Shift: ');\n\n\t// Reserved\n\tblob.chk('000000000000', 'Reserved: ');\n}\n\n/** Break the file up into sectors */\nfunction sectorify(file/*:RawBytes*/, ssz/*:number*/)/*:Array<RawBytes>*/ {\n\tvar nsectors = Math.ceil(file.length/ssz)-1;\n\tvar sectors/*:Array<RawBytes>*/ = [];\n\tfor(var i=1; i < nsectors; ++i) sectors[i-1] = file.slice(i*ssz,(i+1)*ssz);\n\tsectors[nsectors-1] = file.slice(nsectors*ssz);\n\treturn sectors;\n}\n\n/* [MS-CFB] 2.6.4 Red-Black Tree */\nfunction build_full_paths(FI/*:CFBFileIndex*/, FP/*:Array<string>*/, Paths/*:Array<string>*/)/*:void*/ {\n\tvar i = 0, L = 0, R = 0, C = 0, j = 0, pl = Paths.length;\n\tvar dad/*:Array<number>*/ = [], q/*:Array<number>*/ = [];\n\n\tfor(; i < pl; ++i) { dad[i]=q[i]=i; FP[i]=Paths[i]; }\n\n\tfor(; j < q.length; ++j) {\n\t\ti = q[j];\n\t\tL = FI[i].L; R = FI[i].R; C = FI[i].C;\n\t\tif(dad[i] === i) {\n\t\t\tif(L !== -1 /*NOSTREAM*/ && dad[L] !== L) dad[i] = dad[L];\n\t\t\tif(R !== -1 && dad[R] !== R) dad[i] = dad[R];\n\t\t}\n\t\tif(C !== -1 /*NOSTREAM*/) dad[C] = i;\n\t\tif(L !== -1 && i != dad[i]) { dad[L] = dad[i]; if(q.lastIndexOf(L) < j) q.push(L); }\n\t\tif(R !== -1 && i != dad[i]) { dad[R] = dad[i]; if(q.lastIndexOf(R) < j) q.push(R); }\n\t}\n\tfor(i=1; i < pl; ++i) if(dad[i] === i) {\n\t\tif(R !== -1 /*NOSTREAM*/ && dad[R] !== R) dad[i] = dad[R];\n\t\telse if(L !== -1 && dad[L] !== L) dad[i] = dad[L];\n\t}\n\n\tfor(i=1; i < pl; ++i) {\n\t\tif(FI[i].type === 0 /* unknown */) continue;\n\t\tj = i;\n\t\tif(j != dad[j]) do {\n\t\t\tj = dad[j];\n\t\t\tFP[i] = FP[j] + \"/\" + FP[i];\n\t\t} while (j !== 0 && -1 !== dad[j] && j != dad[j]);\n\t\tdad[i] = -1;\n\t}\n\n\tFP[0] += \"/\";\n\tfor(i=1; i < pl; ++i) {\n\t\tif(FI[i].type !== 2 /* stream */) FP[i] += \"/\";\n\t}\n}\n\nfunction get_mfat_entry(entry/*:CFBEntry*/, payload/*:RawBytes*/, mini/*:?RawBytes*/)/*:CFBlob*/ {\n\tvar start = entry.start, size = entry.size;\n\t//return (payload.slice(start*MSSZ, start*MSSZ + size)/*:any*/);\n\tvar o = [];\n\tvar idx = start;\n\twhile(mini && size > 0 && idx >= 0) {\n\t\to.push(payload.slice(idx * MSSZ, idx * MSSZ + MSSZ));\n\t\tsize -= MSSZ;\n\t\tidx = __readInt32LE(mini, idx * 4);\n\t}\n\tif(o.length === 0) return (new_buf(0)/*:any*/);\n\treturn (bconcat(o).slice(0, entry.size)/*:any*/);\n}\n\n/** Chase down the rest of the DIFAT chain to build a comprehensive list\n    DIFAT chains by storing the next sector number as the last 32 bits */\nfunction sleuth_fat(idx/*:number*/, cnt/*:number*/, sectors/*:Array<RawBytes>*/, ssz/*:number*/, fat_addrs)/*:void*/ {\n\tvar q/*:number*/ = ENDOFCHAIN;\n\tif(idx === ENDOFCHAIN) {\n\t\tif(cnt !== 0) throw new Error(\"DIFAT chain shorter than expected\");\n\t} else if(idx !== -1 /*FREESECT*/) {\n\t\tvar sector = sectors[idx], m = (ssz>>>2)-1;\n\t\tif(!sector) return;\n\t\tfor(var i = 0; i < m; ++i) {\n\t\t\tif((q = __readInt32LE(sector,i*4)) === ENDOFCHAIN) break;\n\t\t\tfat_addrs.push(q);\n\t\t}\n\t\tsleuth_fat(__readInt32LE(sector,ssz-4),cnt - 1, sectors, ssz, fat_addrs);\n\t}\n}\n\n/** Follow the linked list of sectors for a given starting point */\nfunction get_sector_list(sectors/*:Array<RawBytes>*/, start/*:number*/, fat_addrs/*:Array<number>*/, ssz/*:number*/, chkd/*:?Array<boolean>*/)/*:SectorEntry*/ {\n\tvar buf/*:Array<number>*/ = [], buf_chain/*:Array<any>*/ = [];\n\tif(!chkd) chkd = [];\n\tvar modulus = ssz - 1, j = 0, jj = 0;\n\tfor(j=start; j>=0;) {\n\t\tchkd[j] = true;\n\t\tbuf[buf.length] = j;\n\t\tbuf_chain.push(sectors[j]);\n\t\tvar addr = fat_addrs[Math.floor(j*4/ssz)];\n\t\tjj = ((j*4) & modulus);\n\t\tif(ssz < 4 + jj) throw new Error(\"FAT boundary crossed: \" + j + \" 4 \"+ssz);\n\t\tif(!sectors[addr]) break;\n\t\tj = __readInt32LE(sectors[addr], jj);\n\t}\n\treturn {nodes: buf, data:__toBuffer([buf_chain])};\n}\n\n/** Chase down the sector linked lists */\nfunction make_sector_list(sectors/*:Array<RawBytes>*/, dir_start/*:number*/, fat_addrs/*:Array<number>*/, ssz/*:number*/)/*:SectorList*/ {\n\tvar sl = sectors.length, sector_list/*:SectorList*/ = ([]/*:any*/);\n\tvar chkd/*:Array<boolean>*/ = [], buf/*:Array<number>*/ = [], buf_chain/*:Array<RawBytes>*/ = [];\n\tvar modulus = ssz - 1, i=0, j=0, k=0, jj=0;\n\tfor(i=0; i < sl; ++i) {\n\t\tbuf = ([]/*:Array<number>*/);\n\t\tk = (i + dir_start); if(k >= sl) k-=sl;\n\t\tif(chkd[k]) continue;\n\t\tbuf_chain = [];\n\t\tvar seen = [];\n\t\tfor(j=k; j>=0;) {\n\t\t\tseen[j] = true;\n\t\t\tchkd[j] = true;\n\t\t\tbuf[buf.length] = j;\n\t\t\tbuf_chain.push(sectors[j]);\n\t\t\tvar addr/*:number*/ = fat_addrs[Math.floor(j*4/ssz)];\n\t\t\tjj = ((j*4) & modulus);\n\t\t\tif(ssz < 4 + jj) throw new Error(\"FAT boundary crossed: \" + j + \" 4 \"+ssz);\n\t\t\tif(!sectors[addr]) break;\n\t\t\tj = __readInt32LE(sectors[addr], jj);\n\t\t\tif(seen[j]) break;\n\t\t}\n\t\tsector_list[k] = ({nodes: buf, data:__toBuffer([buf_chain])}/*:SectorEntry*/);\n\t}\n\treturn sector_list;\n}\n\n/* [MS-CFB] 2.6.1 Compound File Directory Entry */\nfunction read_directory(dir_start/*:number*/, sector_list/*:SectorList*/, sectors/*:Array<RawBytes>*/, Paths/*:Array<string>*/, nmfs, files, FileIndex, mini) {\n\tvar minifat_store = 0, pl = (Paths.length?2:0);\n\tvar sector = sector_list[dir_start].data;\n\tvar i = 0, namelen = 0, name;\n\tfor(; i < sector.length; i+= 128) {\n\t\tvar blob/*:CFBlob*/ = /*::(*/sector.slice(i, i+128)/*:: :any)*/;\n\t\tprep_blob(blob, 64);\n\t\tnamelen = blob.read_shift(2);\n\t\tname = __utf16le(blob,0,namelen-pl);\n\t\tPaths.push(name);\n\t\tvar o/*:CFBEntry*/ = ({\n\t\t\tname:  name,\n\t\t\ttype:  blob.read_shift(1),\n\t\t\tcolor: blob.read_shift(1),\n\t\t\tL:     blob.read_shift(4, 'i'),\n\t\t\tR:     blob.read_shift(4, 'i'),\n\t\t\tC:     blob.read_shift(4, 'i'),\n\t\t\tclsid: blob.read_shift(16),\n\t\t\tstate: blob.read_shift(4, 'i'),\n\t\t\tstart: 0,\n\t\t\tsize: 0\n\t\t});\n\t\tvar ctime/*:number*/ = blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2);\n\t\tif(ctime !== 0) o.ct = read_date(blob, blob.l-8);\n\t\tvar mtime/*:number*/ = blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2) + blob.read_shift(2);\n\t\tif(mtime !== 0) o.mt = read_date(blob, blob.l-8);\n\t\to.start = blob.read_shift(4, 'i');\n\t\to.size = blob.read_shift(4, 'i');\n\t\tif(o.size < 0 && o.start < 0) { o.size = o.type = 0; o.start = ENDOFCHAIN; o.name = \"\"; }\n\t\tif(o.type === 5) { /* root */\n\t\t\tminifat_store = o.start;\n\t\t\tif(nmfs > 0 && minifat_store !== ENDOFCHAIN) sector_list[minifat_store].name = \"!StreamData\";\n\t\t\t/*minifat_size = o.size;*/\n\t\t} else if(o.size >= 4096 /* MSCSZ */) {\n\t\t\to.storage = 'fat';\n\t\t\tif(sector_list[o.start] === undefined) sector_list[o.start] = get_sector_list(sectors, o.start, sector_list.fat_addrs, sector_list.ssz);\n\t\t\tsector_list[o.start].name = o.name;\n\t\t\to.content = (sector_list[o.start].data.slice(0,o.size)/*:any*/);\n\t\t} else {\n\t\t\to.storage = 'minifat';\n\t\t\tif(o.size < 0) o.size = 0;\n\t\t\telse if(minifat_store !== ENDOFCHAIN && o.start !== ENDOFCHAIN && sector_list[minifat_store]) {\n\t\t\t\to.content = get_mfat_entry(o, sector_list[minifat_store].data, (sector_list[mini]||{}).data);\n\t\t\t}\n\t\t}\n\t\tif(o.content) prep_blob(o.content, 0);\n\t\tfiles[name] = o;\n\t\tFileIndex.push(o);\n\t}\n}\n\nfunction read_date(blob/*:RawBytes|CFBlob*/, offset/*:number*/)/*:Date*/ {\n\treturn new Date(( ( (__readUInt32LE(blob,offset+4)/1e7)*Math.pow(2,32)+__readUInt32LE(blob,offset)/1e7 ) - 11644473600)*1000);\n}\n\nfunction read_file(filename/*:string*/, options/*:CFBReadOpts*/) {\n\tget_fs();\n\treturn parse(fs.readFileSync(filename), options);\n}\n\nfunction read(blob/*:RawBytes|string*/, options/*:CFBReadOpts*/) {\n\tvar type = options && options.type;\n\tif(!type) {\n\t\tif(has_buf && Buffer.isBuffer(blob)) type = \"buffer\";\n\t}\n\tswitch(type || \"base64\") {\n\t\tcase \"file\": /*:: if(typeof blob !== 'string') throw \"Must pass a filename when type='file'\"; */return read_file(blob, options);\n\t\tcase \"base64\": /*:: if(typeof blob !== 'string') throw \"Must pass a base64-encoded binary string when type='file'\"; */return parse(s2a(Base64_decode(blob)), options);\n\t\tcase \"binary\": /*:: if(typeof blob !== 'string') throw \"Must pass a binary string when type='file'\"; */return parse(s2a(blob), options);\n\t}\n\treturn parse(/*::typeof blob == 'string' ? new Buffer(blob, 'utf-8') : */blob, options);\n}\n\nfunction init_cfb(cfb/*:CFBContainer*/, opts/*:?any*/)/*:void*/ {\n\tvar o = opts || {}, root = o.root || \"Root Entry\";\n\tif(!cfb.FullPaths) cfb.FullPaths = [];\n\tif(!cfb.FileIndex) cfb.FileIndex = [];\n\tif(cfb.FullPaths.length !== cfb.FileIndex.length) throw new Error(\"inconsistent CFB structure\");\n\tif(cfb.FullPaths.length === 0) {\n\t\tcfb.FullPaths[0] = root + \"/\";\n\t\tcfb.FileIndex[0] = ({ name: root, type: 5 }/*:any*/);\n\t}\n\tif(o.CLSID) cfb.FileIndex[0].clsid = o.CLSID;\n\tseed_cfb(cfb);\n}\nfunction seed_cfb(cfb/*:CFBContainer*/)/*:void*/ {\n\tvar nm = \"\\u0001Sh33tJ5\";\n\tif(CFB.find(cfb, \"/\" + nm)) return;\n\tvar p = new_buf(4); p[0] = 55; p[1] = p[3] = 50; p[2] = 54;\n\tcfb.FileIndex.push(({ name: nm, type: 2, content:p, size:4, L:69, R:69, C:69 }/*:any*/));\n\tcfb.FullPaths.push(cfb.FullPaths[0] + nm);\n\trebuild_cfb(cfb);\n}\nfunction rebuild_cfb(cfb/*:CFBContainer*/, f/*:?boolean*/)/*:void*/ {\n\tinit_cfb(cfb);\n\tvar gc = false, s = false;\n\tfor(var i = cfb.FullPaths.length - 1; i >= 0; --i) {\n\t\tvar _file = cfb.FileIndex[i];\n\t\tswitch(_file.type) {\n\t\t\tcase 0:\n\t\t\t\tif(s) gc = true;\n\t\t\t\telse { cfb.FileIndex.pop(); cfb.FullPaths.pop(); }\n\t\t\t\tbreak;\n\t\t\tcase 1: case 2: case 5:\n\t\t\t\ts = true;\n\t\t\t\tif(isNaN(_file.R * _file.L * _file.C)) gc = true;\n\t\t\t\tif(_file.R > -1 && _file.L > -1 && _file.R == _file.L) gc = true;\n\t\t\t\tbreak;\n\t\t\tdefault: gc = true; break;\n\t\t}\n\t}\n\tif(!gc && !f) return;\n\n\tvar now = new Date(1987, 1, 19), j = 0;\n\t// Track which names exist\n\tvar fullPaths = Object.create ? Object.create(null) : {};\n\tvar data/*:Array<[string, CFBEntry]>*/ = [];\n\tfor(i = 0; i < cfb.FullPaths.length; ++i) {\n\t\tfullPaths[cfb.FullPaths[i]] = true;\n\t\tif(cfb.FileIndex[i].type === 0) continue;\n\t\tdata.push([cfb.FullPaths[i], cfb.FileIndex[i]]);\n\t}\n\tfor(i = 0; i < data.length; ++i) {\n\t\tvar dad = dirname(data[i][0]);\n\t\ts = fullPaths[dad];\n\t\tif(!s) {\n\t\t\tdata.push([dad, ({\n\t\t\t\tname: filename(dad).replace(\"/\",\"\"),\n\t\t\t\ttype: 1,\n\t\t\t\tclsid: HEADER_CLSID,\n\t\t\t\tct: now, mt: now,\n\t\t\t\tcontent: null\n\t\t\t}/*:any*/)]);\n\t\t\t// Add name to set\n\t\t\tfullPaths[dad] = true;\n\t\t}\n\t}\n\n\tdata.sort(function(x,y) { return namecmp(x[0], y[0]); });\n\tcfb.FullPaths = []; cfb.FileIndex = [];\n\tfor(i = 0; i < data.length; ++i) { cfb.FullPaths[i] = data[i][0]; cfb.FileIndex[i] = data[i][1]; }\n\tfor(i = 0; i < data.length; ++i) {\n\t\tvar elt = cfb.FileIndex[i];\n\t\tvar nm = cfb.FullPaths[i];\n\n\t\telt.name =  filename(nm).replace(\"/\",\"\");\n\t\telt.L = elt.R = elt.C = -(elt.color = 1);\n\t\telt.size = elt.content ? elt.content.length : 0;\n\t\telt.start = 0;\n\t\telt.clsid = (elt.clsid || HEADER_CLSID);\n\t\tif(i === 0) {\n\t\t\telt.C = data.length > 1 ? 1 : -1;\n\t\t\telt.size = 0;\n\t\t\telt.type = 5;\n\t\t} else if(nm.slice(-1) == \"/\") {\n\t\t\tfor(j=i+1;j < data.length; ++j) if(dirname(cfb.FullPaths[j])==nm) break;\n\t\t\telt.C = j >= data.length ? -1 : j;\n\t\t\tfor(j=i+1;j < data.length; ++j) if(dirname(cfb.FullPaths[j])==dirname(nm)) break;\n\t\t\telt.R = j >= data.length ? -1 : j;\n\t\t\telt.type = 1;\n\t\t} else {\n\t\t\tif(dirname(cfb.FullPaths[i+1]||\"\") == dirname(nm)) elt.R = i + 1;\n\t\t\telt.type = 2;\n\t\t}\n\t}\n\n}\n\nfunction _write(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:RawBytes|string*/ {\n\tvar _opts = options || {};\n\t/* MAD is order-sensitive, skip rebuild and sort */\n\tif(_opts.fileType == 'mad') return write_mad(cfb, _opts);\n\trebuild_cfb(cfb);\n\tswitch(_opts.fileType) {\n\t\tcase 'zip': return write_zip(cfb, _opts);\n\t\t//case 'mad': return write_mad(cfb, _opts);\n\t}\n\tvar L = (function(cfb/*:CFBContainer*/)/*:Array<number>*/{\n\t\tvar mini_size = 0, fat_size = 0;\n\t\tfor(var i = 0; i < cfb.FileIndex.length; ++i) {\n\t\t\tvar file = cfb.FileIndex[i];\n\t\t\tif(!file.content) continue;\n\t\t\t/*:: if(file.content == null) throw new Error(\"unreachable\"); */\n\t\t\tvar flen = file.content.length;\n\t\t\tif(flen > 0){\n\t\t\t\tif(flen < 0x1000) mini_size += (flen + 0x3F) >> 6;\n\t\t\t\telse fat_size += (flen + 0x01FF) >> 9;\n\t\t\t}\n\t\t}\n\t\tvar dir_cnt = (cfb.FullPaths.length +3) >> 2;\n\t\tvar mini_cnt = (mini_size + 7) >> 3;\n\t\tvar mfat_cnt = (mini_size + 0x7F) >> 7;\n\t\tvar fat_base = mini_cnt + fat_size + dir_cnt + mfat_cnt;\n\t\tvar fat_cnt = (fat_base + 0x7F) >> 7;\n\t\tvar difat_cnt = fat_cnt <= 109 ? 0 : Math.ceil((fat_cnt-109)/0x7F);\n\t\twhile(((fat_base + fat_cnt + difat_cnt + 0x7F) >> 7) > fat_cnt) difat_cnt = ++fat_cnt <= 109 ? 0 : Math.ceil((fat_cnt-109)/0x7F);\n\t\tvar L =  [1, difat_cnt, fat_cnt, mfat_cnt, dir_cnt, fat_size, mini_size, 0];\n\t\tcfb.FileIndex[0].size = mini_size << 6;\n\t\tL[7] = (cfb.FileIndex[0].start=L[0]+L[1]+L[2]+L[3]+L[4]+L[5])+((L[6]+7) >> 3);\n\t\treturn L;\n\t})(cfb);\n\tvar o = new_buf(L[7] << 9);\n\tvar i = 0, T = 0;\n\t{\n\t\tfor(i = 0; i < 8; ++i) o.write_shift(1, HEADER_SIG[i]);\n\t\tfor(i = 0; i < 8; ++i) o.write_shift(2, 0);\n\t\to.write_shift(2, 0x003E);\n\t\to.write_shift(2, 0x0003);\n\t\to.write_shift(2, 0xFFFE);\n\t\to.write_shift(2, 0x0009);\n\t\to.write_shift(2, 0x0006);\n\t\tfor(i = 0; i < 3; ++i) o.write_shift(2, 0);\n\t\to.write_shift(4, 0);\n\t\to.write_shift(4, L[2]);\n\t\to.write_shift(4, L[0] + L[1] + L[2] + L[3] - 1);\n\t\to.write_shift(4, 0);\n\t\to.write_shift(4, 1<<12);\n\t\to.write_shift(4, L[3] ? L[0] + L[1] + L[2] - 1: ENDOFCHAIN);\n\t\to.write_shift(4, L[3]);\n\t\to.write_shift(-4, L[1] ? L[0] - 1: ENDOFCHAIN);\n\t\to.write_shift(4, L[1]);\n\t\tfor(i = 0; i < 109; ++i) o.write_shift(-4, i < L[2] ? L[1] + i : -1);\n\t}\n\tif(L[1]) {\n\t\tfor(T = 0; T < L[1]; ++T) {\n\t\t\tfor(; i < 236 + T * 127; ++i) o.write_shift(-4, i < L[2] ? L[1] + i : -1);\n\t\t\to.write_shift(-4, T === L[1] - 1 ? ENDOFCHAIN : T + 1);\n\t\t}\n\t}\n\tvar chainit = function(w/*:number*/)/*:void*/ {\n\t\tfor(T += w; i<T-1; ++i) o.write_shift(-4, i+1);\n\t\tif(w) { ++i; o.write_shift(-4, ENDOFCHAIN); }\n\t};\n\tT = i = 0;\n\tfor(T+=L[1]; i<T; ++i) o.write_shift(-4, consts.DIFSECT);\n\tfor(T+=L[2]; i<T; ++i) o.write_shift(-4, consts.FATSECT);\n\tchainit(L[3]);\n\tchainit(L[4]);\n\tvar j/*:number*/ = 0, flen/*:number*/ = 0;\n\tvar file/*:CFBEntry*/ = cfb.FileIndex[0];\n\tfor(; j < cfb.FileIndex.length; ++j) {\n\t\tfile = cfb.FileIndex[j];\n\t\tif(!file.content) continue;\n\t\t/*:: if(file.content == null) throw new Error(\"unreachable\"); */\n\t\tflen = file.content.length;\n\t\tif(flen < 0x1000) continue;\n\t\tfile.start = T;\n\t\tchainit((flen + 0x01FF) >> 9);\n\t}\n\tchainit((L[6] + 7) >> 3);\n\twhile(o.l & 0x1FF) o.write_shift(-4, consts.ENDOFCHAIN);\n\tT = i = 0;\n\tfor(j = 0; j < cfb.FileIndex.length; ++j) {\n\t\tfile = cfb.FileIndex[j];\n\t\tif(!file.content) continue;\n\t\t/*:: if(file.content == null) throw new Error(\"unreachable\"); */\n\t\tflen = file.content.length;\n\t\tif(!flen || flen >= 0x1000) continue;\n\t\tfile.start = T;\n\t\tchainit((flen + 0x3F) >> 6);\n\t}\n\twhile(o.l & 0x1FF) o.write_shift(-4, consts.ENDOFCHAIN);\n\tfor(i = 0; i < L[4]<<2; ++i) {\n\t\tvar nm = cfb.FullPaths[i];\n\t\tif(!nm || nm.length === 0) {\n\t\t\tfor(j = 0; j < 17; ++j) o.write_shift(4, 0);\n\t\t\tfor(j = 0; j < 3; ++j) o.write_shift(4, -1);\n\t\t\tfor(j = 0; j < 12; ++j) o.write_shift(4, 0);\n\t\t\tcontinue;\n\t\t}\n\t\tfile = cfb.FileIndex[i];\n\t\tif(i === 0) file.start = file.size ? file.start - 1 : ENDOFCHAIN;\n\t\tvar _nm/*:string*/ = (i === 0 && _opts.root) || file.name;\n\t\tflen = 2*(_nm.length+1);\n\t\to.write_shift(64, _nm, \"utf16le\");\n\t\to.write_shift(2, flen);\n\t\to.write_shift(1, file.type);\n\t\to.write_shift(1, file.color);\n\t\to.write_shift(-4, file.L);\n\t\to.write_shift(-4, file.R);\n\t\to.write_shift(-4, file.C);\n\t\tif(!file.clsid) for(j = 0; j < 4; ++j) o.write_shift(4, 0);\n\t\telse o.write_shift(16, file.clsid, \"hex\");\n\t\to.write_shift(4, file.state || 0);\n\t\to.write_shift(4, 0); o.write_shift(4, 0);\n\t\to.write_shift(4, 0); o.write_shift(4, 0);\n\t\to.write_shift(4, file.start);\n\t\to.write_shift(4, file.size); o.write_shift(4, 0);\n\t}\n\tfor(i = 1; i < cfb.FileIndex.length; ++i) {\n\t\tfile = cfb.FileIndex[i];\n\t\t/*:: if(!file.content) throw new Error(\"unreachable\"); */\n\t\tif(file.size >= 0x1000) {\n\t\t\to.l = (file.start+1) << 9;\n\t\t\tif (has_buf && Buffer.isBuffer(file.content)) {\n\t\t\t\tfile.content.copy(o, o.l, 0, file.size);\n\t\t\t\t// o is a 0-filled Buffer so just set next offset\n\t\t\t\to.l += (file.size + 511) & -512;\n\t\t\t} else {\n\t\t\t\tfor(j = 0; j < file.size; ++j) o.write_shift(1, file.content[j]);\n\t\t\t\tfor(; j & 0x1FF; ++j) o.write_shift(1, 0);\n\t\t\t}\n\t\t}\n\t}\n\tfor(i = 1; i < cfb.FileIndex.length; ++i) {\n\t\tfile = cfb.FileIndex[i];\n\t\t/*:: if(!file.content) throw new Error(\"unreachable\"); */\n\t\tif(file.size > 0 && file.size < 0x1000) {\n\t\t\tif (has_buf && Buffer.isBuffer(file.content)) {\n\t\t\t\tfile.content.copy(o, o.l, 0, file.size);\n\t\t\t\t// o is a 0-filled Buffer so just set next offset\n\t\t\t\to.l += (file.size + 63) & -64;\n\t\t\t} else {\n\t\t\t\tfor(j = 0; j < file.size; ++j) o.write_shift(1, file.content[j]);\n\t\t\t\tfor(; j & 0x3F; ++j) o.write_shift(1, 0);\n\t\t\t}\n\t\t}\n\t}\n\tif (has_buf) {\n\t\to.l = o.length;\n\t} else {\n\t\t// When using Buffer, already 0-filled\n\t\twhile(o.l < o.length) o.write_shift(1, 0);\n\t}\n\treturn o;\n}\n/* [MS-CFB] 2.6.4 (Unicode 3.0.1 case conversion) */\nfunction find(cfb/*:CFBContainer*/, path/*:string*/)/*:?CFBEntry*/ {\n\tvar UCFullPaths/*:Array<string>*/ = cfb.FullPaths.map(function(x) { return x.toUpperCase(); });\n\tvar UCPaths/*:Array<string>*/ = UCFullPaths.map(function(x) { var y = x.split(\"/\"); return y[y.length - (x.slice(-1) == \"/\" ? 2 : 1)]; });\n\tvar k/*:boolean*/ = false;\n\tif(path.charCodeAt(0) === 47 /* \"/\" */) { k = true; path = UCFullPaths[0].slice(0, -1) + path; }\n\telse k = path.indexOf(\"/\") !== -1;\n\tvar UCPath/*:string*/ = path.toUpperCase();\n\tvar w/*:number*/ = k === true ? UCFullPaths.indexOf(UCPath) : UCPaths.indexOf(UCPath);\n\tif(w !== -1) return cfb.FileIndex[w];\n\n\tvar m = !UCPath.match(chr1);\n\tUCPath = UCPath.replace(chr0,'');\n\tif(m) UCPath = UCPath.replace(chr1,'!');\n\tfor(w = 0; w < UCFullPaths.length; ++w) {\n\t\tif((m ? UCFullPaths[w].replace(chr1,'!') : UCFullPaths[w]).replace(chr0,'') == UCPath) return cfb.FileIndex[w];\n\t\tif((m ? UCPaths[w].replace(chr1,'!') : UCPaths[w]).replace(chr0,'') == UCPath) return cfb.FileIndex[w];\n\t}\n\treturn null;\n}\n/** CFB Constants */\nvar MSSZ = 64; /* Mini Sector Size = 1<<6 */\n//var MSCSZ = 4096; /* Mini Stream Cutoff Size */\n/* 2.1 Compound File Sector Numbers and Types */\nvar ENDOFCHAIN = -2;\n/* 2.2 Compound File Header */\nvar HEADER_SIGNATURE = 'd0cf11e0a1b11ae1';\nvar HEADER_SIG = [0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1];\nvar HEADER_CLSID = '00000000000000000000000000000000';\nvar consts = {\n\t/* 2.1 Compund File Sector Numbers and Types */\n\tMAXREGSECT: -6,\n\tDIFSECT: -4,\n\tFATSECT: -3,\n\tENDOFCHAIN: ENDOFCHAIN,\n\tFREESECT: -1,\n\t/* 2.2 Compound File Header */\n\tHEADER_SIGNATURE: HEADER_SIGNATURE,\n\tHEADER_MINOR_VERSION: '3e00',\n\tMAXREGSID: -6,\n\tNOSTREAM: -1,\n\tHEADER_CLSID: HEADER_CLSID,\n\t/* 2.6.1 Compound File Directory Entry */\n\tEntryTypes: ['unknown','storage','stream','lockbytes','property','root']\n};\n\nfunction write_file(cfb/*:CFBContainer*/, filename/*:string*/, options/*:CFBWriteOpts*/)/*:void*/ {\n\tget_fs();\n\tvar o = _write(cfb, options);\n\t/*:: if(typeof Buffer == 'undefined' || !Buffer.isBuffer(o) || !(o instanceof Buffer)) throw new Error(\"unreachable\"); */\n\tfs.writeFileSync(filename, o);\n}\n\nfunction a2s(o/*:RawBytes*/)/*:string*/ {\n\tvar out = new Array(o.length);\n\tfor(var i = 0; i < o.length; ++i) out[i] = String.fromCharCode(o[i]);\n\treturn out.join(\"\");\n}\n\nfunction write(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:RawBytes|string*/ {\n\tvar o = _write(cfb, options);\n\tswitch(options && options.type || \"buffer\") {\n\t\tcase \"file\": get_fs(); fs.writeFileSync(options.filename, (o/*:any*/)); return o;\n\t\tcase \"binary\": return typeof o == \"string\" ? o : a2s(o);\n\t\tcase \"base64\": return Base64_encode(typeof o == \"string\" ? o : a2s(o));\n\t\tcase \"buffer\": if(has_buf) return Buffer.isBuffer(o) ? o : Buffer_from(o);\n\t\t\t/* falls through */\n\t\tcase \"array\": return typeof o == \"string\" ? s2a(o) : o;\n\t}\n\treturn o;\n}\n/* node < 8.1 zlib does not expose bytesRead, so default to pure JS */\nvar _zlib;\nfunction use_zlib(zlib) { try {\n\tvar InflateRaw = zlib.InflateRaw;\n\tvar InflRaw = new InflateRaw();\n\tInflRaw._processChunk(new Uint8Array([3, 0]), InflRaw._finishFlushFlag);\n\tif(InflRaw.bytesRead) _zlib = zlib;\n\telse throw new Error(\"zlib does not expose bytesRead\");\n} catch(e) {console.error(\"cannot use native zlib: \" + (e.message || e)); } }\n\nfunction _inflateRawSync(payload, usz) {\n\tif(!_zlib) return _inflate(payload, usz);\n\tvar InflateRaw = _zlib.InflateRaw;\n\tvar InflRaw = new InflateRaw();\n\tvar out = InflRaw._processChunk(payload.slice(payload.l), InflRaw._finishFlushFlag);\n\tpayload.l += InflRaw.bytesRead;\n\treturn out;\n}\n\nfunction _deflateRawSync(payload) {\n\treturn _zlib ? _zlib.deflateRawSync(payload) : _deflate(payload);\n}\nvar CLEN_ORDER = [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ];\n\n/*  LEN_ID = [ 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285 ]; */\nvar LEN_LN = [   3,   4,   5,   6,   7,   8,   9,  10,  11,  13 , 15,  17,  19,  23,  27,  31,  35,  43,  51,  59,  67,  83,  99, 115, 131, 163, 195, 227, 258 ];\n\n/*  DST_ID = [  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13,  14,  15,  16,  17,  18,  19,   20,   21,   22,   23,   24,   25,   26,    27,    28,    29 ]; */\nvar DST_LN = [  1,  2,  3,  4,  5,  7,  9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577 ];\n\nfunction bit_swap_8(n) { var t = (((((n<<1)|(n<<11)) & 0x22110) | (((n<<5)|(n<<15)) & 0x88440))); return ((t>>16) | (t>>8) |t)&0xFF; }\n\nvar use_typed_arrays = typeof Uint8Array !== 'undefined';\n\nvar bitswap8 = use_typed_arrays ? new Uint8Array(1<<8) : [];\nfor(var q = 0; q < (1<<8); ++q) bitswap8[q] = bit_swap_8(q);\n\nfunction bit_swap_n(n, b) {\n\tvar rev = bitswap8[n & 0xFF];\n\tif(b <= 8) return rev >>> (8-b);\n\trev = (rev << 8) | bitswap8[(n>>8)&0xFF];\n\tif(b <= 16) return rev >>> (16-b);\n\trev = (rev << 8) | bitswap8[(n>>16)&0xFF];\n\treturn rev >>> (24-b);\n}\n\n/* helpers for unaligned bit reads */\nfunction read_bits_2(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 6 ? 0 : buf[h+1]<<8))>>>w)& 0x03; }\nfunction read_bits_3(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 5 ? 0 : buf[h+1]<<8))>>>w)& 0x07; }\nfunction read_bits_4(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 4 ? 0 : buf[h+1]<<8))>>>w)& 0x0F; }\nfunction read_bits_5(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 3 ? 0 : buf[h+1]<<8))>>>w)& 0x1F; }\nfunction read_bits_7(buf, bl) { var w = (bl&7), h = (bl>>>3); return ((buf[h]|(w <= 1 ? 0 : buf[h+1]<<8))>>>w)& 0x7F; }\n\n/* works up to n = 3 * 8 + 1 = 25 */\nfunction read_bits_n(buf, bl, n) {\n\tvar w = (bl&7), h = (bl>>>3), f = ((1<<n)-1);\n\tvar v = buf[h] >>> w;\n\tif(n < 8 - w) return v & f;\n\tv |= buf[h+1]<<(8-w);\n\tif(n < 16 - w) return v & f;\n\tv |= buf[h+2]<<(16-w);\n\tif(n < 24 - w) return v & f;\n\tv |= buf[h+3]<<(24-w);\n\treturn v & f;\n}\n\n/* helpers for unaligned bit writes */\nfunction write_bits_3(buf, bl, v) { var w = bl & 7, h = bl >>> 3;\n\tif(w <= 5) buf[h] |= (v & 7) << w;\n\telse {\n\t\tbuf[h] |= (v << w) & 0xFF;\n\t\tbuf[h+1] = (v&7) >> (8-w);\n\t}\n\treturn bl + 3;\n}\n\nfunction write_bits_1(buf, bl, v) {\n\tvar w = bl & 7, h = bl >>> 3;\n\tv = (v&1) << w;\n\tbuf[h] |= v;\n\treturn bl + 1;\n}\nfunction write_bits_8(buf, bl, v) {\n\tvar w = bl & 7, h = bl >>> 3;\n\tv <<= w;\n\tbuf[h] |=  v & 0xFF; v >>>= 8;\n\tbuf[h+1] = v;\n\treturn bl + 8;\n}\nfunction write_bits_16(buf, bl, v) {\n\tvar w = bl & 7, h = bl >>> 3;\n\tv <<= w;\n\tbuf[h] |=  v & 0xFF; v >>>= 8;\n\tbuf[h+1] = v & 0xFF;\n\tbuf[h+2] = v >>> 8;\n\treturn bl + 16;\n}\n\n/* until ArrayBuffer#realloc is a thing, fake a realloc */\nfunction realloc(b, sz/*:number*/) {\n\tvar L = b.length, M = 2*L > sz ? 2*L : sz + 5, i = 0;\n\tif(L >= sz) return b;\n\tif(has_buf) {\n\t\tvar o = new_unsafe_buf(M);\n\t\t// $FlowIgnore\n\t\tif(b.copy) b.copy(o);\n\t\telse for(; i < b.length; ++i) o[i] = b[i];\n\t\treturn o;\n\t} else if(use_typed_arrays) {\n\t\tvar a = new Uint8Array(M);\n\t\tif(a.set) a.set(b);\n\t\telse for(; i < L; ++i) a[i] = b[i];\n\t\treturn a;\n\t}\n\tb.length = M;\n\treturn b;\n}\n\n/* zero-filled arrays for older browsers */\nfunction zero_fill_array(n) {\n\tvar o = new Array(n);\n\tfor(var i = 0; i < n; ++i) o[i] = 0;\n\treturn o;\n}\n\n/* build tree (used for literals and lengths) */\nfunction build_tree(clens, cmap, MAX/*:number*/)/*:number*/ {\n\tvar maxlen = 1, w = 0, i = 0, j = 0, ccode = 0, L = clens.length;\n\n\tvar bl_count  = use_typed_arrays ? new Uint16Array(32) : zero_fill_array(32);\n\tfor(i = 0; i < 32; ++i) bl_count[i] = 0;\n\n\tfor(i = L; i < MAX; ++i) clens[i] = 0;\n\tL = clens.length;\n\n\tvar ctree = use_typed_arrays ? new Uint16Array(L) : zero_fill_array(L); // []\n\n\t/* build code tree */\n\tfor(i = 0; i < L; ++i) {\n\t\tbl_count[(w = clens[i])]++;\n\t\tif(maxlen < w) maxlen = w;\n\t\tctree[i] = 0;\n\t}\n\tbl_count[0] = 0;\n\tfor(i = 1; i <= maxlen; ++i) bl_count[i+16] = (ccode = (ccode + bl_count[i-1])<<1);\n\tfor(i = 0; i < L; ++i) {\n\t\tccode = clens[i];\n\t\tif(ccode != 0) ctree[i] = bl_count[ccode+16]++;\n\t}\n\n\t/* cmap[maxlen + 4 bits] = (off&15) + (lit<<4) reverse mapping */\n\tvar cleni = 0;\n\tfor(i = 0; i < L; ++i) {\n\t\tcleni = clens[i];\n\t\tif(cleni != 0) {\n\t\t\tccode = bit_swap_n(ctree[i], maxlen)>>(maxlen-cleni);\n\t\t\tfor(j = (1<<(maxlen + 4 - cleni)) - 1; j>=0; --j)\n\t\t\t\tcmap[ccode|(j<<cleni)] = (cleni&15) | (i<<4);\n\t\t}\n\t}\n\treturn maxlen;\n}\n\n/* Fixed Huffman */\nvar fix_lmap = use_typed_arrays ? new Uint16Array(512) : zero_fill_array(512);\nvar fix_dmap = use_typed_arrays ? new Uint16Array(32)  : zero_fill_array(32);\nif(!use_typed_arrays) {\n\tfor(var i = 0; i < 512; ++i) fix_lmap[i] = 0;\n\tfor(i = 0; i < 32; ++i) fix_dmap[i] = 0;\n}\n(function() {\n\tvar dlens/*:Array<number>*/ = [];\n\tvar i = 0;\n\tfor(;i<32; i++) dlens.push(5);\n\tbuild_tree(dlens, fix_dmap, 32);\n\n\tvar clens/*:Array<number>*/ = [];\n\ti = 0;\n\tfor(; i<=143; i++) clens.push(8);\n\tfor(; i<=255; i++) clens.push(9);\n\tfor(; i<=279; i++) clens.push(7);\n\tfor(; i<=287; i++) clens.push(8);\n\tbuild_tree(clens, fix_lmap, 288);\n})();var _deflateRaw = /*#__PURE__*/(function _deflateRawIIFE() {\n\tvar DST_LN_RE = use_typed_arrays ? new Uint8Array(0x8000) : [];\n\tvar j = 0, k = 0;\n\tfor(; j < DST_LN.length - 1; ++j) {\n\t\tfor(; k < DST_LN[j+1]; ++k) DST_LN_RE[k] = j;\n\t}\n\tfor(;k < 32768; ++k) DST_LN_RE[k] = 29;\n\n\tvar LEN_LN_RE = use_typed_arrays ? new Uint8Array(0x103) : [];\n\tfor(j = 0, k = 0; j < LEN_LN.length - 1; ++j) {\n\t\tfor(; k < LEN_LN[j+1]; ++k) LEN_LN_RE[k] = j;\n\t}\n\n\tfunction write_stored(data, out) {\n\t\tvar boff = 0;\n\t\twhile(boff < data.length) {\n\t\t\tvar L = Math.min(0xFFFF, data.length - boff);\n\t\t\tvar h = boff + L == data.length;\n\t\t\tout.write_shift(1, +h);\n\t\t\tout.write_shift(2, L);\n\t\t\tout.write_shift(2, (~L) & 0xFFFF);\n\t\t\twhile(L-- > 0) out[out.l++] = data[boff++];\n\t\t}\n\t\treturn out.l;\n\t}\n\n\t/* Fixed Huffman */\n\tfunction write_huff_fixed(data, out) {\n\t\tvar bl = 0;\n\t\tvar boff = 0;\n\t\tvar addrs = use_typed_arrays ? new Uint16Array(0x8000) : [];\n\t\twhile(boff < data.length) {\n\t\t\tvar L = /* data.length - boff; */ Math.min(0xFFFF, data.length - boff);\n\n\t\t\t/* write a stored block for short data */\n\t\t\tif(L < 10) {\n\t\t\t\tbl = write_bits_3(out, bl, +!!(boff + L == data.length)); // jshint ignore:line\n\t\t\t\tif(bl & 7) bl += 8 - (bl & 7);\n\t\t\t\tout.l = (bl / 8) | 0;\n\t\t\t\tout.write_shift(2, L);\n\t\t\t\tout.write_shift(2, (~L) & 0xFFFF);\n\t\t\t\twhile(L-- > 0) out[out.l++] = data[boff++];\n\t\t\t\tbl = out.l * 8;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tbl = write_bits_3(out, bl, +!!(boff + L == data.length) + 2); // jshint ignore:line\n\t\t\tvar hash = 0;\n\t\t\twhile(L-- > 0) {\n\t\t\t\tvar d = data[boff];\n\t\t\t\thash = ((hash << 5) ^ d) & 0x7FFF;\n\n\t\t\t\tvar match = -1, mlen = 0;\n\n\t\t\t\tif((match = addrs[hash])) {\n\t\t\t\t\tmatch |= boff & ~0x7FFF;\n\t\t\t\t\tif(match > boff) match -= 0x8000;\n\t\t\t\t\tif(match < boff) while(data[match + mlen] == data[boff + mlen] && mlen < 250) ++mlen;\n\t\t\t\t}\n\n\t\t\t\tif(mlen > 2) {\n\t\t\t\t\t/* Copy Token  */\n\t\t\t\t\td = LEN_LN_RE[mlen];\n\t\t\t\t\tif(d <= 22) bl = write_bits_8(out, bl, bitswap8[d+1]>>1) - 1;\n\t\t\t\t\telse {\n\t\t\t\t\t\twrite_bits_8(out, bl, 3);\n\t\t\t\t\t\tbl += 5;\n\t\t\t\t\t\twrite_bits_8(out, bl, bitswap8[d-23]>>5);\n\t\t\t\t\t\tbl += 3;\n\t\t\t\t\t}\n\t\t\t\t\tvar len_eb = (d < 8) ? 0 : ((d - 4)>>2);\n\t\t\t\t\tif(len_eb > 0) {\n\t\t\t\t\t\twrite_bits_16(out, bl, mlen - LEN_LN[d]);\n\t\t\t\t\t\tbl += len_eb;\n\t\t\t\t\t}\n\n\t\t\t\t\td = DST_LN_RE[boff - match];\n\t\t\t\t\tbl = write_bits_8(out, bl, bitswap8[d]>>3);\n\t\t\t\t\tbl -= 3;\n\n\t\t\t\t\tvar dst_eb = d < 4 ? 0 : (d-2)>>1;\n\t\t\t\t\tif(dst_eb > 0) {\n\t\t\t\t\t\twrite_bits_16(out, bl, boff - match - DST_LN[d]);\n\t\t\t\t\t\tbl += dst_eb;\n\t\t\t\t\t}\n\t\t\t\t\tfor(var q = 0; q < mlen; ++q) {\n\t\t\t\t\t\taddrs[hash] = boff & 0x7FFF;\n\t\t\t\t\t\thash = ((hash << 5) ^ data[boff]) & 0x7FFF;\n\t\t\t\t\t\t++boff;\n\t\t\t\t\t}\n\t\t\t\t\tL-= mlen - 1;\n\t\t\t\t} else {\n\t\t\t\t\t/* Literal Token */\n\t\t\t\t\tif(d <= 143) d = d + 48;\n\t\t\t\t\telse bl = write_bits_1(out, bl, 1);\n\t\t\t\t\tbl = write_bits_8(out, bl, bitswap8[d]);\n\t\t\t\t\taddrs[hash] = boff & 0x7FFF;\n\t\t\t\t\t++boff;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tbl = write_bits_8(out, bl, 0) - 1;\n\t\t}\n\t\tout.l = ((bl + 7)/8)|0;\n\t\treturn out.l;\n\t}\n\treturn function _deflateRaw(data, out) {\n\t\tif(data.length < 8) return write_stored(data, out);\n\t\treturn write_huff_fixed(data, out);\n\t};\n})();\n\nfunction _deflate(data) {\n\tvar buf = new_buf(50+Math.floor(data.length*1.1));\n\tvar off = _deflateRaw(data, buf);\n\treturn buf.slice(0, off);\n}\n/* modified inflate function also moves original read head */\n\nvar dyn_lmap = use_typed_arrays ? new Uint16Array(32768) : zero_fill_array(32768);\nvar dyn_dmap = use_typed_arrays ? new Uint16Array(32768) : zero_fill_array(32768);\nvar dyn_cmap = use_typed_arrays ? new Uint16Array(128)   : zero_fill_array(128);\nvar dyn_len_1 = 1, dyn_len_2 = 1;\n\n/* 5.5.3 Expanding Huffman Codes */\nfunction dyn(data, boff/*:number*/) {\n\t/* nomenclature from RFC1951 refers to bit values; these are offset by the implicit constant */\n\tvar _HLIT = read_bits_5(data, boff) + 257; boff += 5;\n\tvar _HDIST = read_bits_5(data, boff) + 1; boff += 5;\n\tvar _HCLEN = read_bits_4(data, boff) + 4; boff += 4;\n\tvar w = 0;\n\n\t/* grab and store code lengths */\n\tvar clens = use_typed_arrays ? new Uint8Array(19) : zero_fill_array(19);\n\tvar ctree = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n\tvar maxlen = 1;\n\tvar bl_count =  use_typed_arrays ? new Uint8Array(8) : zero_fill_array(8);\n\tvar next_code = use_typed_arrays ? new Uint8Array(8) : zero_fill_array(8);\n\tvar L = clens.length; /* 19 */\n\tfor(var i = 0; i < _HCLEN; ++i) {\n\t\tclens[CLEN_ORDER[i]] = w = read_bits_3(data, boff);\n\t\tif(maxlen < w) maxlen = w;\n\t\tbl_count[w]++;\n\t\tboff += 3;\n\t}\n\n\t/* build code tree */\n\tvar ccode = 0;\n\tbl_count[0] = 0;\n\tfor(i = 1; i <= maxlen; ++i) next_code[i] = ccode = (ccode + bl_count[i-1])<<1;\n\tfor(i = 0; i < L; ++i) if((ccode = clens[i]) != 0) ctree[i] = next_code[ccode]++;\n\t/* cmap[7 bits from stream] = (off&7) + (lit<<3) */\n\tvar cleni = 0;\n\tfor(i = 0; i < L; ++i) {\n\t\tcleni = clens[i];\n\t\tif(cleni != 0) {\n\t\t\tccode = bitswap8[ctree[i]]>>(8-cleni);\n\t\t\tfor(var j = (1<<(7-cleni))-1; j>=0; --j) dyn_cmap[ccode|(j<<cleni)] = (cleni&7) | (i<<3);\n\t\t}\n\t}\n\n\t/* read literal and dist codes at once */\n\tvar hcodes/*:Array<number>*/ = [];\n\tmaxlen = 1;\n\tfor(; hcodes.length < _HLIT + _HDIST;) {\n\t\tccode = dyn_cmap[read_bits_7(data, boff)];\n\t\tboff += ccode & 7;\n\t\tswitch((ccode >>>= 3)) {\n\t\t\tcase 16:\n\t\t\t\tw = 3 + read_bits_2(data, boff); boff += 2;\n\t\t\t\tccode = hcodes[hcodes.length - 1];\n\t\t\t\twhile(w-- > 0) hcodes.push(ccode);\n\t\t\t\tbreak;\n\t\t\tcase 17:\n\t\t\t\tw = 3 + read_bits_3(data, boff); boff += 3;\n\t\t\t\twhile(w-- > 0) hcodes.push(0);\n\t\t\t\tbreak;\n\t\t\tcase 18:\n\t\t\t\tw = 11 + read_bits_7(data, boff); boff += 7;\n\t\t\t\twhile(w -- > 0) hcodes.push(0);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\thcodes.push(ccode);\n\t\t\t\tif(maxlen < ccode) maxlen = ccode;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/* build literal / length trees */\n\tvar h1 = hcodes.slice(0, _HLIT), h2 = hcodes.slice(_HLIT);\n\tfor(i = _HLIT; i < 286; ++i) h1[i] = 0;\n\tfor(i = _HDIST; i < 30; ++i) h2[i] = 0;\n\tdyn_len_1 = build_tree(h1, dyn_lmap, 286);\n\tdyn_len_2 = build_tree(h2, dyn_dmap, 30);\n\treturn boff;\n}\n\n/* return [ data, bytesRead ] */\nfunction inflate(data, usz/*:number*/) {\n\t/* shortcircuit for empty buffer [0x03, 0x00] */\n\tif(data[0] == 3 && !(data[1] & 0x3)) { return [new_raw_buf(usz), 2]; }\n\n\t/* bit offset */\n\tvar boff = 0;\n\n\t/* header includes final bit and type bits */\n\tvar header = 0;\n\n\tvar outbuf = new_unsafe_buf(usz ? usz : (1<<18));\n\tvar woff = 0;\n\tvar OL = outbuf.length>>>0;\n\tvar max_len_1 = 0, max_len_2 = 0;\n\n\twhile((header&1) == 0) {\n\t\theader = read_bits_3(data, boff); boff += 3;\n\t\tif((header >>> 1) == 0) {\n\t\t\t/* Stored block */\n\t\t\tif(boff & 7) boff += 8 - (boff&7);\n\t\t\t/* 2 bytes sz, 2 bytes bit inverse */\n\t\t\tvar sz = data[boff>>>3] | data[(boff>>>3)+1]<<8;\n\t\t\tboff += 32;\n\t\t\t/* push sz bytes */\n\t\t\tif(sz > 0) {\n\t\t\t\tif(!usz && OL < woff + sz) { outbuf = realloc(outbuf, woff + sz); OL = outbuf.length; }\n\t\t\t\twhile(sz-- > 0) { outbuf[woff++] = data[boff>>>3]; boff += 8; }\n\t\t\t}\n\t\t\tcontinue;\n\t\t} else if((header >> 1) == 1) {\n\t\t\t/* Fixed Huffman */\n\t\t\tmax_len_1 = 9; max_len_2 = 5;\n\t\t} else {\n\t\t\t/* Dynamic Huffman */\n\t\t\tboff = dyn(data, boff);\n\t\t\tmax_len_1 = dyn_len_1; max_len_2 = dyn_len_2;\n\t\t}\n\t\tfor(;;) { // while(true) is apparently out of vogue in modern JS circles\n\t\t\tif(!usz && (OL < woff + 32767)) { outbuf = realloc(outbuf, woff + 32767); OL = outbuf.length; }\n\t\t\t/* ingest code and move read head */\n\t\t\tvar bits = read_bits_n(data, boff, max_len_1);\n\t\t\tvar code = (header>>>1) == 1 ? fix_lmap[bits] : dyn_lmap[bits];\n\t\t\tboff += code & 15; code >>>= 4;\n\t\t\t/* 0-255 are literals, 256 is end of block token, 257+ are copy tokens */\n\t\t\tif(((code>>>8)&0xFF) === 0) outbuf[woff++] = code;\n\t\t\telse if(code == 256) break;\n\t\t\telse {\n\t\t\t\tcode -= 257;\n\t\t\t\tvar len_eb = (code < 8) ? 0 : ((code-4)>>2); if(len_eb > 5) len_eb = 0;\n\t\t\t\tvar tgt = woff + LEN_LN[code];\n\t\t\t\t/* length extra bits */\n\t\t\t\tif(len_eb > 0) {\n\t\t\t\t\ttgt += read_bits_n(data, boff, len_eb);\n\t\t\t\t\tboff += len_eb;\n\t\t\t\t}\n\n\t\t\t\t/* dist code */\n\t\t\t\tbits = read_bits_n(data, boff, max_len_2);\n\t\t\t\tcode = (header>>>1) == 1 ? fix_dmap[bits] : dyn_dmap[bits];\n\t\t\t\tboff += code & 15; code >>>= 4;\n\t\t\t\tvar dst_eb = (code < 4 ? 0 : (code-2)>>1);\n\t\t\t\tvar dst = DST_LN[code];\n\t\t\t\t/* dist extra bits */\n\t\t\t\tif(dst_eb > 0) {\n\t\t\t\t\tdst += read_bits_n(data, boff, dst_eb);\n\t\t\t\t\tboff += dst_eb;\n\t\t\t\t}\n\n\t\t\t\t/* in the common case, manual byte copy is faster than TA set / Buffer copy */\n\t\t\t\tif(!usz && OL < tgt) { outbuf = realloc(outbuf, tgt + 100); OL = outbuf.length; }\n\t\t\t\twhile(woff < tgt) { outbuf[woff] = outbuf[woff - dst]; ++woff; }\n\t\t\t}\n\t\t}\n\t}\n\tif(usz) return [outbuf, (boff+7)>>>3];\n\treturn [outbuf.slice(0, woff), (boff+7)>>>3];\n}\n\nfunction _inflate(payload, usz) {\n\tvar data = payload.slice(payload.l||0);\n\tvar out = inflate(data, usz);\n\tpayload.l += out[1];\n\treturn out[0];\n}\n\nfunction warn_or_throw(wrn, msg) {\n\tif(wrn) { if(typeof console !== 'undefined') console.error(msg); }\n\telse throw new Error(msg);\n}\n\nfunction parse_zip(file/*:RawBytes*/, options/*:CFBReadOpts*/)/*:CFBContainer*/ {\n\tvar blob/*:CFBlob*/ = /*::(*/file/*:: :any)*/;\n\tprep_blob(blob, 0);\n\n\tvar FileIndex/*:CFBFileIndex*/ = [], FullPaths/*:Array<string>*/ = [];\n\tvar o = {\n\t\tFileIndex: FileIndex,\n\t\tFullPaths: FullPaths\n\t};\n\tinit_cfb(o, { root: options.root });\n\n\t/* find end of central directory, start just after signature */\n\tvar i = blob.length - 4;\n\twhile((blob[i] != 0x50 || blob[i+1] != 0x4b || blob[i+2] != 0x05 || blob[i+3] != 0x06) && i >= 0) --i;\n\tblob.l = i + 4;\n\n\t/* parse end of central directory */\n\tblob.l += 4;\n\tvar fcnt = blob.read_shift(2);\n\tblob.l += 6;\n\tvar start_cd = blob.read_shift(4);\n\n\t/* parse central directory */\n\tblob.l = start_cd;\n\n\tfor(i = 0; i < fcnt; ++i) {\n\t\t/* trust local file header instead of CD entry */\n\t\tblob.l += 20;\n\t\tvar csz = blob.read_shift(4);\n\t\tvar usz = blob.read_shift(4);\n\t\tvar namelen = blob.read_shift(2);\n\t\tvar efsz = blob.read_shift(2);\n\t\tvar fcsz = blob.read_shift(2);\n\t\tblob.l += 8;\n\t\tvar offset = blob.read_shift(4);\n\t\tvar EF = parse_extra_field(/*::(*/blob.slice(blob.l+namelen, blob.l+namelen+efsz)/*:: :any)*/);\n\t\tblob.l += namelen + efsz + fcsz;\n\n\t\tvar L = blob.l;\n\t\tblob.l = offset + 4;\n\t\tparse_local_file(blob, csz, usz, o, EF);\n\t\tblob.l = L;\n\t}\n\treturn o;\n}\n\n\n/* head starts just after local file header signature */\nfunction parse_local_file(blob/*:CFBlob*/, csz/*:number*/, usz/*:number*/, o/*:CFBContainer*/, EF) {\n\t/* [local file header] */\n\tblob.l += 2;\n\tvar flags = blob.read_shift(2);\n\tvar meth = blob.read_shift(2);\n\tvar date = parse_dos_date(blob);\n\n\tif(flags & 0x2041) throw new Error(\"Unsupported ZIP encryption\");\n\tvar crc32 = blob.read_shift(4);\n\tvar _csz = blob.read_shift(4);\n\tvar _usz = blob.read_shift(4);\n\n\tvar namelen = blob.read_shift(2);\n\tvar efsz = blob.read_shift(2);\n\n\t// TODO: flags & (1<<11) // UTF8\n\tvar name = \"\"; for(var i = 0; i < namelen; ++i) name += String.fromCharCode(blob[blob.l++]);\n\tif(efsz) {\n\t\tvar ef = parse_extra_field(/*::(*/blob.slice(blob.l, blob.l + efsz)/*:: :any)*/);\n\t\tif((ef[0x5455]||{}).mt) date = ef[0x5455].mt;\n\t\tif(((EF||{})[0x5455]||{}).mt) date = EF[0x5455].mt;\n\t}\n\tblob.l += efsz;\n\n\t/* [encryption header] */\n\n\t/* [file data] */\n\tvar data = blob.slice(blob.l, blob.l + _csz);\n\tswitch(meth) {\n\t\tcase 8: data = _inflateRawSync(blob, _usz); break;\n\t\tcase 0: break; // TODO: scan for magic number\n\t\tdefault: throw new Error(\"Unsupported ZIP Compression method \" + meth);\n\t}\n\n\t/* [data descriptor] */\n\tvar wrn = false;\n\tif(flags & 8) {\n\t\tcrc32 = blob.read_shift(4);\n\t\tif(crc32 == 0x08074b50) { crc32 = blob.read_shift(4); wrn = true; }\n\t\t_csz = blob.read_shift(4);\n\t\t_usz = blob.read_shift(4);\n\t}\n\n\tif(_csz != csz) warn_or_throw(wrn, \"Bad compressed size: \" + csz + \" != \" + _csz);\n\tif(_usz != usz) warn_or_throw(wrn, \"Bad uncompressed size: \" + usz + \" != \" + _usz);\n\t//var _crc32 = CRC32.buf(data, 0);\n\t//if((crc32>>0) != (_crc32>>0)) warn_or_throw(wrn, \"Bad CRC32 checksum: \" + crc32 + \" != \" + _crc32);\n\tcfb_add(o, name, data, {unsafe: true, mt: date});\n}\nfunction write_zip(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:RawBytes*/ {\n\tvar _opts = options || {};\n\tvar out = [], cdirs = [];\n\tvar o/*:CFBlob*/ = new_buf(1);\n\tvar method = (_opts.compression ? 8 : 0), flags = 0;\n\tvar desc = false;\n\tif(desc) flags |= 8;\n\tvar i = 0, j = 0;\n\n\tvar start_cd = 0, fcnt = 0;\n\tvar root = cfb.FullPaths[0], fp = root, fi = cfb.FileIndex[0];\n\tvar crcs = [];\n\tvar sz_cd = 0;\n\n\tfor(i = 1; i < cfb.FullPaths.length; ++i) {\n\t\tfp = cfb.FullPaths[i].slice(root.length); fi = cfb.FileIndex[i];\n\t\tif(!fi.size || !fi.content || fp == \"\\u0001Sh33tJ5\") continue;\n\t\tvar start = start_cd;\n\n\t\t/* TODO: CP437 filename */\n\t\tvar namebuf = new_buf(fp.length);\n\t\tfor(j = 0; j < fp.length; ++j) namebuf.write_shift(1, fp.charCodeAt(j) & 0x7F);\n\t\tnamebuf = namebuf.slice(0, namebuf.l);\n\t\tcrcs[fcnt] = CRC32.buf(/*::((*/fi.content/*::||[]):any)*/, 0);\n\n\t\tvar outbuf = fi.content/*::||[]*/;\n\t\tif(method == 8) outbuf = _deflateRawSync(outbuf);\n\n\t\t/* local file header */\n\t\to = new_buf(30);\n\t\to.write_shift(4, 0x04034b50);\n\t\to.write_shift(2, 20);\n\t\to.write_shift(2, flags);\n\t\to.write_shift(2, method);\n\t\t/* TODO: last mod file time/date */\n\t\tif(fi.mt) write_dos_date(o, fi.mt);\n\t\telse o.write_shift(4, 0);\n\t\to.write_shift(-4, (flags & 8) ? 0 : crcs[fcnt]);\n\t\to.write_shift(4,  (flags & 8) ? 0 : outbuf.length);\n\t\to.write_shift(4,  (flags & 8) ? 0 : /*::(*/fi.content/*::||[])*/.length);\n\t\to.write_shift(2, namebuf.length);\n\t\to.write_shift(2, 0);\n\n\t\tstart_cd += o.length;\n\t\tout.push(o);\n\t\tstart_cd += namebuf.length;\n\t\tout.push(namebuf);\n\n\t\t/* TODO: extra fields? */\n\n\t\t/* TODO: encryption header ? */\n\n\t\tstart_cd += outbuf.length;\n\t\tout.push(outbuf);\n\n\t\t/* data descriptor */\n\t\tif(flags & 8) {\n\t\t\to = new_buf(12);\n\t\t\to.write_shift(-4, crcs[fcnt]);\n\t\t\to.write_shift(4, outbuf.length);\n\t\t\to.write_shift(4, /*::(*/fi.content/*::||[])*/.length);\n\t\t\tstart_cd += o.l;\n\t\t\tout.push(o);\n\t\t}\n\n\t\t/* central directory */\n\t\to = new_buf(46);\n\t\to.write_shift(4, 0x02014b50);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 20);\n\t\to.write_shift(2, flags);\n\t\to.write_shift(2, method);\n\t\to.write_shift(4, 0); /* TODO: last mod file time/date */\n\t\to.write_shift(-4, crcs[fcnt]);\n\n\t\to.write_shift(4, outbuf.length);\n\t\to.write_shift(4, /*::(*/fi.content/*::||[])*/.length);\n\t\to.write_shift(2, namebuf.length);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(4, 0);\n\t\to.write_shift(4, start);\n\n\t\tsz_cd += o.l;\n\t\tcdirs.push(o);\n\t\tsz_cd += namebuf.length;\n\t\tcdirs.push(namebuf);\n\t\t++fcnt;\n\t}\n\n\t/* end of central directory */\n\to = new_buf(22);\n\to.write_shift(4, 0x06054b50);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, fcnt);\n\to.write_shift(2, fcnt);\n\to.write_shift(4, sz_cd);\n\to.write_shift(4, start_cd);\n\to.write_shift(2, 0);\n\n\treturn bconcat(([bconcat((out/*:any*/)), bconcat(cdirs), o]/*:any*/));\n}\nvar ContentTypeMap = ({\n\t\"htm\": \"text/html\",\n\t\"xml\": \"text/xml\",\n\n\t\"gif\": \"image/gif\",\n\t\"jpg\": \"image/jpeg\",\n\t\"png\": \"image/png\",\n\n\t\"mso\": \"application/x-mso\",\n\t\"thmx\": \"application/vnd.ms-officetheme\",\n\t\"sh33tj5\": \"application/octet-stream\"\n}/*:any*/);\n\nfunction get_content_type(fi/*:CFBEntry*/, fp/*:string*/)/*:string*/ {\n\tif(fi.ctype) return fi.ctype;\n\n\tvar ext = fi.name || \"\", m = ext.match(/\\.([^\\.]+)$/);\n\tif(m && ContentTypeMap[m[1]]) return ContentTypeMap[m[1]];\n\n\tif(fp) {\n\t\tm = (ext = fp).match(/[\\.\\\\]([^\\.\\\\])+$/);\n\t\tif(m && ContentTypeMap[m[1]]) return ContentTypeMap[m[1]];\n\t}\n\n\treturn \"application/octet-stream\";\n}\n\n/* 76 character chunks TODO: intertwine encoding */\nfunction write_base64_76(bstr/*:string*/)/*:string*/ {\n\tvar data = Base64_encode(bstr);\n\tvar o = [];\n\tfor(var i = 0; i < data.length; i+= 76) o.push(data.slice(i, i+76));\n\treturn o.join(\"\\r\\n\") + \"\\r\\n\";\n}\n\n/*\nRules for QP:\n\t- escape =## applies for all non-display characters and literal \"=\"\n\t- space or tab at end of line must be encoded\n\t- \\r\\n newlines can be preserved, but bare \\r and \\n must be escaped\n\t- lines must not exceed 76 characters, use soft breaks =\\r\\n\n\nTODO: Some files from word appear to write line extensions with bare equals:\n\n```\n<table class=3DMsoTableGrid border=3D1 cellspacing=3D0 cellpadding=3D0 width=\n=\"70%\"\n```\n*/\nfunction write_quoted_printable(text/*:string*/)/*:string*/ {\n\tvar encoded = text.replace(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7E-\\xFF=]/g, function(c) {\n\t\tvar w = c.charCodeAt(0).toString(16).toUpperCase();\n\t\treturn \"=\" + (w.length == 1 ? \"0\" + w : w);\n\t});\n\n\tencoded = encoded.replace(/ $/mg, \"=20\").replace(/\\t$/mg, \"=09\");\n\n\tif(encoded.charAt(0) == \"\\n\") encoded = \"=0D\" + encoded.slice(1);\n\tencoded = encoded.replace(/\\r(?!\\n)/mg, \"=0D\").replace(/\\n\\n/mg, \"\\n=0A\").replace(/([^\\r\\n])\\n/mg, \"$1=0A\");\n\n\tvar o/*:Array<string>*/ = [], split = encoded.split(\"\\r\\n\");\n\tfor(var si = 0; si < split.length; ++si) {\n\t\tvar str = split[si];\n\t\tif(str.length == 0) { o.push(\"\"); continue; }\n\t\tfor(var i = 0; i < str.length;) {\n\t\t\tvar end = 76;\n\t\t\tvar tmp = str.slice(i, i + end);\n\t\t\tif(tmp.charAt(end - 1) == \"=\") end --;\n\t\t\telse if(tmp.charAt(end - 2) == \"=\") end -= 2;\n\t\t\telse if(tmp.charAt(end - 3) == \"=\") end -= 3;\n\t\t\ttmp = str.slice(i, i + end);\n\t\t\ti += end;\n\t\t\tif(i < str.length) tmp += \"=\";\n\t\t\to.push(tmp);\n\t\t}\n\t}\n\n\treturn o.join(\"\\r\\n\");\n}\nfunction parse_quoted_printable(data/*:Array<string>*/)/*:RawBytes*/ {\n\tvar o = [];\n\n\t/* unify long lines */\n\tfor(var di = 0; di < data.length; ++di) {\n\t\tvar line = data[di];\n\t\twhile(di <= data.length && line.charAt(line.length - 1) == \"=\") line = line.slice(0, line.length - 1) + data[++di];\n\t\to.push(line);\n\t}\n\n\t/* decode */\n\tfor(var oi = 0; oi < o.length; ++oi) o[oi] = o[oi].replace(/[=][0-9A-Fa-f]{2}/g, function($$) { return String.fromCharCode(parseInt($$.slice(1), 16)); });\n\treturn s2a(o.join(\"\\r\\n\"));\n}\n\n\nfunction parse_mime(cfb/*:CFBContainer*/, data/*:Array<string>*/, root/*:string*/)/*:void*/ {\n\tvar fname = \"\", cte = \"\", ctype = \"\", fdata;\n\tvar di = 0;\n\tfor(;di < 10; ++di) {\n\t\tvar line = data[di];\n\t\tif(!line || line.match(/^\\s*$/)) break;\n\t\tvar m = line.match(/^(.*?):\\s*([^\\s].*)$/);\n\t\tif(m) switch(m[1].toLowerCase()) {\n\t\t\tcase \"content-location\": fname = m[2].trim(); break;\n\t\t\tcase \"content-type\": ctype = m[2].trim(); break;\n\t\t\tcase \"content-transfer-encoding\": cte = m[2].trim(); break;\n\t\t}\n\t}\n\t++di;\n\tswitch(cte.toLowerCase()) {\n\t\tcase 'base64': fdata = s2a(Base64_decode(data.slice(di).join(\"\"))); break;\n\t\tcase 'quoted-printable': fdata = parse_quoted_printable(data.slice(di)); break;\n\t\tdefault: throw new Error(\"Unsupported Content-Transfer-Encoding \" + cte);\n\t}\n\tvar file = cfb_add(cfb, fname.slice(root.length), fdata, {unsafe: true});\n\tif(ctype) file.ctype = ctype;\n}\n\nfunction parse_mad(file/*:RawBytes*/, options/*:CFBReadOpts*/)/*:CFBContainer*/ {\n\tif(a2s(file.slice(0,13)).toLowerCase() != \"mime-version:\") throw new Error(\"Unsupported MAD header\");\n\tvar root = (options && options.root || \"\");\n\t// $FlowIgnore\n\tvar data = (has_buf && Buffer.isBuffer(file) ? file.toString(\"binary\") : a2s(file)).split(\"\\r\\n\");\n\tvar di = 0, row = \"\";\n\n\t/* if root is not specified, scan for the common prefix */\n\tfor(di = 0; di < data.length; ++di) {\n\t\trow = data[di];\n\t\tif(!/^Content-Location:/i.test(row)) continue;\n\t\trow = row.slice(row.indexOf(\"file\"));\n\t\tif(!root) root = row.slice(0, row.lastIndexOf(\"/\") + 1);\n\t\tif(row.slice(0, root.length) == root) continue;\n\t\twhile(root.length > 0) {\n\t\t\troot = root.slice(0, root.length - 1);\n\t\t\troot = root.slice(0, root.lastIndexOf(\"/\") + 1);\n\t\t\tif(row.slice(0,root.length) == root) break;\n\t\t}\n\t}\n\n\tvar mboundary = (data[1] || \"\").match(/boundary=\"(.*?)\"/);\n\tif(!mboundary) throw new Error(\"MAD cannot find boundary\");\n\tvar boundary = \"--\" + (mboundary[1] || \"\");\n\n\tvar FileIndex/*:CFBFileIndex*/ = [], FullPaths/*:Array<string>*/ = [];\n\tvar o = {\n\t\tFileIndex: FileIndex,\n\t\tFullPaths: FullPaths\n\t};\n\tinit_cfb(o);\n\tvar start_di, fcnt = 0;\n\tfor(di = 0; di < data.length; ++di) {\n\t\tvar line = data[di];\n\t\tif(line !== boundary && line !== boundary + \"--\") continue;\n\t\tif(fcnt++) parse_mime(o, data.slice(start_di, di), root);\n\t\tstart_di = di;\n\t}\n\treturn o;\n}\n\nfunction write_mad(cfb/*:CFBContainer*/, options/*:CFBWriteOpts*/)/*:string*/ {\n\tvar opts = options || {};\n\tvar boundary = opts.boundary || \"SheetJS\";\n\tboundary = '------=' + boundary;\n\n\tvar out = [\n\t\t'MIME-Version: 1.0',\n\t\t'Content-Type: multipart/related; boundary=\"' + boundary.slice(2) + '\"',\n\t\t'',\n\t\t'',\n\t\t''\n\t];\n\n\tvar root = cfb.FullPaths[0], fp = root, fi = cfb.FileIndex[0];\n\tfor(var i = 1; i < cfb.FullPaths.length; ++i) {\n\t\tfp = cfb.FullPaths[i].slice(root.length);\n\t\tfi = cfb.FileIndex[i];\n\t\tif(!fi.size || !fi.content || fp == \"\\u0001Sh33tJ5\") continue;\n\n\t\t/* Normalize filename */\n\t\tfp = fp.replace(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7E-\\xFF]/g, function(c) {\n\t\t\treturn \"_x\" + c.charCodeAt(0).toString(16) + \"_\";\n\t\t}).replace(/[\\u0080-\\uFFFF]/g, function(u) {\n\t\t\treturn \"_u\" + u.charCodeAt(0).toString(16) + \"_\";\n\t\t});\n\n\t\t/* Extract content as binary string */\n\t\tvar ca = fi.content;\n\t\t// $FlowIgnore\n\t\tvar cstr = has_buf && Buffer.isBuffer(ca) ? ca.toString(\"binary\") : a2s(ca);\n\n\t\t/* 4/5 of first 1024 chars ascii -> quoted printable, else base64 */\n\t\tvar dispcnt = 0, L = Math.min(1024, cstr.length), cc = 0;\n\t\tfor(var csl = 0; csl <= L; ++csl) if((cc=cstr.charCodeAt(csl)) >= 0x20 && cc < 0x80) ++dispcnt;\n\t\tvar qp = dispcnt >= L * 4 / 5;\n\n\t\tout.push(boundary);\n\t\tout.push('Content-Location: ' + (opts.root || 'file:///C:/SheetJS/') + fp);\n\t\tout.push('Content-Transfer-Encoding: ' + (qp ? 'quoted-printable' : 'base64'));\n\t\tout.push('Content-Type: ' + get_content_type(fi, fp));\n\t\tout.push('');\n\n\t\tout.push(qp ? write_quoted_printable(cstr) : write_base64_76(cstr));\n\t}\n\tout.push(boundary + '--\\r\\n');\n\treturn out.join(\"\\r\\n\");\n}\nfunction cfb_new(opts/*:?any*/)/*:CFBContainer*/ {\n\tvar o/*:CFBContainer*/ = ({}/*:any*/);\n\tinit_cfb(o, opts);\n\treturn o;\n}\n\nfunction cfb_add(cfb/*:CFBContainer*/, name/*:string*/, content/*:?RawBytes*/, opts/*:?any*/)/*:CFBEntry*/ {\n\tvar unsafe = opts && opts.unsafe;\n\tif(!unsafe) init_cfb(cfb);\n\tvar file = !unsafe && CFB.find(cfb, name);\n\tif(!file) {\n\t\tvar fpath/*:string*/ = cfb.FullPaths[0];\n\t\tif(name.slice(0, fpath.length) == fpath) fpath = name;\n\t\telse {\n\t\t\tif(fpath.slice(-1) != \"/\") fpath += \"/\";\n\t\t\tfpath = (fpath + name).replace(\"//\",\"/\");\n\t\t}\n\t\tfile = ({name: filename(name), type: 2}/*:any*/);\n\t\tcfb.FileIndex.push(file);\n\t\tcfb.FullPaths.push(fpath);\n\t\tif(!unsafe) CFB.utils.cfb_gc(cfb);\n\t}\n\t/*:: if(!file) throw new Error(\"unreachable\"); */\n\tfile.content = (content/*:any*/);\n\tfile.size = content ? content.length : 0;\n\tif(opts) {\n\t\tif(opts.CLSID) file.clsid = opts.CLSID;\n\t\tif(opts.mt) file.mt = opts.mt;\n\t\tif(opts.ct) file.ct = opts.ct;\n\t}\n\treturn file;\n}\n\nfunction cfb_del(cfb/*:CFBContainer*/, name/*:string*/)/*:boolean*/ {\n\tinit_cfb(cfb);\n\tvar file = CFB.find(cfb, name);\n\tif(file) for(var j = 0; j < cfb.FileIndex.length; ++j) if(cfb.FileIndex[j] == file) {\n\t\tcfb.FileIndex.splice(j, 1);\n\t\tcfb.FullPaths.splice(j, 1);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction cfb_mov(cfb/*:CFBContainer*/, old_name/*:string*/, new_name/*:string*/)/*:boolean*/ {\n\tinit_cfb(cfb);\n\tvar file = CFB.find(cfb, old_name);\n\tif(file) for(var j = 0; j < cfb.FileIndex.length; ++j) if(cfb.FileIndex[j] == file) {\n\t\tcfb.FileIndex[j].name = filename(new_name);\n\t\tcfb.FullPaths[j] = new_name;\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction cfb_gc(cfb/*:CFBContainer*/)/*:void*/ { rebuild_cfb(cfb, true); }\n\nexports.find = find;\nexports.read = read;\nexports.parse = parse;\nexports.write = write;\nexports.writeFile = write_file;\nexports.utils = {\n\tcfb_new: cfb_new,\n\tcfb_add: cfb_add,\n\tcfb_del: cfb_del,\n\tcfb_mov: cfb_mov,\n\tcfb_gc: cfb_gc,\n\tReadShift: ReadShift,\n\tCheckField: CheckField,\n\tprep_blob: prep_blob,\n\tbconcat: bconcat,\n\tuse_zlib: use_zlib,\n\t_deflateRaw: _deflate,\n\t_inflateRaw: _inflate,\n\tconsts: consts\n};\n\nreturn exports;\n})();\n\nlet _fs = void 0;\nfunction set_fs(fs) { _fs = fs; }\nexport { set_fs };\n\n/* normalize data for blob ctor */\nfunction blobify(data) {\n\tif(typeof data === \"string\") return s2ab(data);\n\tif(Array.isArray(data)) return a2u(data);\n\treturn data;\n}\n/* write or download file */\nfunction write_dl(fname/*:string*/, payload/*:any*/, enc/*:?string*/) {\n\t/*global IE_SaveFile, Blob, navigator, saveAs, document, File, chrome */\n\tif(typeof _fs !== 'undefined' && _fs.writeFileSync) return enc ? _fs.writeFileSync(fname, payload, enc) : _fs.writeFileSync(fname, payload);\n\tif(typeof Deno !== 'undefined') {\n\t\t/* in this spot, it's safe to assume typed arrays and TextEncoder/TextDecoder exist */\n\t\tif(enc && typeof payload == \"string\") switch(enc) {\n\t\t\tcase \"utf8\": payload = new TextEncoder(enc).encode(payload); break;\n\t\t\tcase \"binary\": payload = s2ab(payload); break;\n\t\t\t/* TODO: binary equivalent */\n\t\t\tdefault: throw new Error(\"Unsupported encoding \" + enc);\n\t\t}\n\t\treturn Deno.writeFileSync(fname, payload);\n\t}\n\tvar data = (enc == \"utf8\") ? utf8write(payload) : payload;\n\t/*:: declare var IE_SaveFile: any; */\n\tif(typeof IE_SaveFile !== 'undefined') return IE_SaveFile(data, fname);\n\tif(typeof Blob !== 'undefined') {\n\t\tvar blob = new Blob([blobify(data)], {type:\"application/octet-stream\"});\n\t\t/*:: declare var navigator: any; */\n\t\tif(typeof navigator !== 'undefined' && navigator.msSaveBlob) return navigator.msSaveBlob(blob, fname);\n\t\t/*:: declare var saveAs: any; */\n\t\tif(typeof saveAs !== 'undefined') return saveAs(blob, fname);\n\t\tif(typeof URL !== 'undefined' && typeof document !== 'undefined' && document.createElement && URL.createObjectURL) {\n\t\t\tvar url = URL.createObjectURL(blob);\n\t\t\t/*:: declare var chrome: any; */\n\t\t\tif(typeof chrome === 'object' && typeof (chrome.downloads||{}).download == \"function\") {\n\t\t\t\tif(URL.revokeObjectURL && typeof setTimeout !== 'undefined') setTimeout(function() { URL.revokeObjectURL(url); }, 60000);\n\t\t\t\treturn chrome.downloads.download({ url: url, filename: fname, saveAs: true});\n\t\t\t}\n\t\t\tvar a = document.createElement(\"a\");\n\t\t\tif(a.download != null) {\n\t\t\t\t/*:: if(document.body == null) throw new Error(\"unreachable\"); */\n\t\t\t\ta.download = fname; a.href = url; document.body.appendChild(a); a.click();\n\t\t\t\t/*:: if(document.body == null) throw new Error(\"unreachable\"); */ document.body.removeChild(a);\n\t\t\t\tif(URL.revokeObjectURL && typeof setTimeout !== 'undefined') setTimeout(function() { URL.revokeObjectURL(url); }, 60000);\n\t\t\t\treturn url;\n\t\t\t}\n\t\t}\n\t}\n\t// $FlowIgnore\n\tif(typeof $ !== 'undefined' && typeof File !== 'undefined' && typeof Folder !== 'undefined') try { // extendscript\n\t\t// $FlowIgnore\n\t\tvar out = File(fname); out.open(\"w\"); out.encoding = \"binary\";\n\t\tif(Array.isArray(payload)) payload = a2s(payload);\n\t\tout.write(payload); out.close(); return payload;\n\t} catch(e) { if(!e.message || !e.message.match(/onstruct/)) throw e; }\n\tthrow new Error(\"cannot save file \" + fname);\n}\n\n/* read binary data from file */\nfunction read_binary(path/*:string*/) {\n\tif(typeof _fs !== 'undefined') return _fs.readFileSync(path);\n\tif(typeof Deno !== 'undefined') return Deno.readFileSync(path);\n\t// $FlowIgnore\n\tif(typeof $ !== 'undefined' && typeof File !== 'undefined' && typeof Folder !== 'undefined') try { // extendscript\n\t\t// $FlowIgnore\n\t\tvar infile = File(path); infile.open(\"r\"); infile.encoding = \"binary\";\n\t\tvar data = infile.read(); infile.close();\n\t\treturn data;\n\t} catch(e) { if(!e.message || !e.message.match(/onstruct/)) throw e; }\n\tthrow new Error(\"Cannot access file \" + path);\n}\nfunction keys(o/*:any*/)/*:Array<any>*/ {\n\tvar ks = Object.keys(o), o2 = [];\n\tfor(var i = 0; i < ks.length; ++i) if(Object.prototype.hasOwnProperty.call(o, ks[i])) o2.push(ks[i]);\n\treturn o2;\n}\n\nfunction evert_key(obj/*:any*/, key/*:string*/)/*:EvertType*/ {\n\tvar o = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) if(o[obj[K[i]][key]] == null) o[obj[K[i]][key]] = K[i];\n\treturn o;\n}\n\nfunction evert(obj/*:any*/)/*:EvertType*/ {\n\tvar o = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) o[obj[K[i]]] = K[i];\n\treturn o;\n}\n\nfunction evert_num(obj/*:any*/)/*:EvertNumType*/ {\n\tvar o = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) o[obj[K[i]]] = parseInt(K[i],10);\n\treturn o;\n}\n\nfunction evert_arr(obj/*:any*/)/*:EvertArrType*/ {\n\tvar o/*:EvertArrType*/ = ([]/*:any*/), K = keys(obj);\n\tfor(var i = 0; i !== K.length; ++i) {\n\t\tif(o[obj[K[i]]] == null) o[obj[K[i]]] = [];\n\t\to[obj[K[i]]].push(K[i]);\n\t}\n\treturn o;\n}\n\nvar basedate = /*#__PURE__*/new Date(1899, 11, 30, 0, 0, 0); // 2209161600000\nfunction datenum(v/*:Date*/, date1904/*:?boolean*/)/*:number*/ {\n\tvar epoch = /*#__PURE__*/v.getTime();\n\tif(date1904) epoch -= 1462*24*60*60*1000;\n\tvar dnthresh = /*#__PURE__*/basedate.getTime() + (/*#__PURE__*/v.getTimezoneOffset() - /*#__PURE__*/basedate.getTimezoneOffset()) * 60000;\n\treturn (epoch - dnthresh) / (24 * 60 * 60 * 1000);\n}\nvar refdate = /*#__PURE__*/new Date();\nvar dnthresh = /*#__PURE__*/basedate.getTime() + (/*#__PURE__*/refdate.getTimezoneOffset() - /*#__PURE__*/basedate.getTimezoneOffset()) * 60000;\nvar refoffset = /*#__PURE__*/refdate.getTimezoneOffset();\nfunction numdate(v/*:number*/)/*:Date*/ {\n\tvar out = new Date();\n\tout.setTime(v * 24 * 60 * 60 * 1000 + dnthresh);\n\tif (out.getTimezoneOffset() !== refoffset) {\n\t\tout.setTime(out.getTime() + (out.getTimezoneOffset() - refoffset) * 60000);\n\t}\n\treturn out;\n}\n\n/* ISO 8601 Duration */\nfunction parse_isodur(s) {\n\tvar sec = 0, mt = 0, time = false;\n\tvar m = s.match(/P([0-9\\.]+Y)?([0-9\\.]+M)?([0-9\\.]+D)?T([0-9\\.]+H)?([0-9\\.]+M)?([0-9\\.]+S)?/);\n\tif(!m) throw new Error(\"|\" + s + \"| is not an ISO8601 Duration\");\n\tfor(var i = 1; i != m.length; ++i) {\n\t\tif(!m[i]) continue;\n\t\tmt = 1;\n\t\tif(i > 3) time = true;\n\t\tswitch(m[i].slice(m[i].length-1)) {\n\t\t\tcase 'Y':\n\t\t\t\tthrow new Error(\"Unsupported ISO Duration Field: \" + m[i].slice(m[i].length-1));\n\t\t\tcase 'D': mt *= 24;\n\t\t\t\t/* falls through */\n\t\t\tcase 'H': mt *= 60;\n\t\t\t\t/* falls through */\n\t\t\tcase 'M':\n\t\t\t\tif(!time) throw new Error(\"Unsupported ISO Duration Field: M\");\n\t\t\t\telse mt *= 60;\n\t\t\t\t/* falls through */\n\t\t\tcase 'S': break;\n\t\t}\n\t\tsec += mt * parseInt(m[i], 10);\n\t}\n\treturn sec;\n}\n\nvar good_pd_date_1 = /*#__PURE__*/new Date('2017-02-19T19:06:09.000Z');\nvar good_pd_date = /*#__PURE__*/isNaN(/*#__PURE__*/good_pd_date_1.getFullYear()) ? /*#__PURE__*/new Date('2/19/17') : good_pd_date_1;\nvar good_pd = /*#__PURE__*/good_pd_date.getFullYear() == 2017;\n/* parses a date as a local date */\nfunction parseDate(str/*:string|Date*/, fixdate/*:?number*/)/*:Date*/ {\n\tvar d = new Date(str);\n\tif(good_pd) {\n\t\t/*:: if(fixdate == null) fixdate = 0; */\n\t\tif(fixdate > 0) d.setTime(d.getTime() + d.getTimezoneOffset() * 60 * 1000);\n\t\telse if(fixdate < 0) d.setTime(d.getTime() - d.getTimezoneOffset() * 60 * 1000);\n\t\treturn d;\n\t}\n\tif(str instanceof Date) return str;\n\tif(good_pd_date.getFullYear() == 1917 && !isNaN(d.getFullYear())) {\n\t\tvar s = d.getFullYear();\n\t\tif(str.indexOf(\"\" + s) > -1) return d;\n\t\td.setFullYear(d.getFullYear() + 100); return d;\n\t}\n\tvar n = str.match(/\\d+/g)||[\"2017\",\"2\",\"19\",\"0\",\"0\",\"0\"];\n\tvar out = new Date(+n[0], +n[1] - 1, +n[2], (+n[3]||0), (+n[4]||0), (+n[5]||0));\n\tif(str.indexOf(\"Z\") > -1) out = new Date(out.getTime() - out.getTimezoneOffset() * 60 * 1000);\n\treturn out;\n}\n\nfunction cc2str(arr/*:Array<number>*/, debomit)/*:string*/ {\n\tif(has_buf && Buffer.isBuffer(arr)) {\n\t\tif(debomit) {\n\t\t\tif(arr[0] == 0xFF && arr[1] == 0xFE) return utf8write(arr.slice(2).toString(\"utf16le\"));\n\t\t\tif(arr[1] == 0xFE && arr[2] == 0xFF) return utf8write(utf16beread(arr.slice(2).toString(\"binary\")));\n\t\t}\n\t\treturn arr.toString(\"binary\");\n\t}\n\n\tif(typeof TextDecoder !== \"undefined\") try {\n\t\tif(debomit) {\n\t\t\tif(arr[0] == 0xFF && arr[1] == 0xFE) return utf8write(new TextDecoder(\"utf-16le\").decode(arr.slice(2)));\n\t\t\tif(arr[0] == 0xFE && arr[1] == 0xFF) return utf8write(new TextDecoder(\"utf-16be\").decode(arr.slice(2)));\n\t\t}\n\t\tvar rev = {\n\t\t\t\"\\u20ac\": \"\\x80\", \"\\u201a\": \"\\x82\", \"\\u0192\": \"\\x83\", \"\\u201e\": \"\\x84\",\n\t\t\t\"\\u2026\": \"\\x85\", \"\\u2020\": \"\\x86\", \"\\u2021\": \"\\x87\", \"\\u02c6\": \"\\x88\",\n\t\t\t\"\\u2030\": \"\\x89\", \"\\u0160\": \"\\x8a\", \"\\u2039\": \"\\x8b\", \"\\u0152\": \"\\x8c\",\n\t\t\t\"\\u017d\": \"\\x8e\", \"\\u2018\": \"\\x91\", \"\\u2019\": \"\\x92\", \"\\u201c\": \"\\x93\",\n\t\t\t\"\\u201d\": \"\\x94\", \"\\u2022\": \"\\x95\", \"\\u2013\": \"\\x96\", \"\\u2014\": \"\\x97\",\n\t\t\t\"\\u02dc\": \"\\x98\", \"\\u2122\": \"\\x99\", \"\\u0161\": \"\\x9a\", \"\\u203a\": \"\\x9b\",\n\t\t\t\"\\u0153\": \"\\x9c\", \"\\u017e\": \"\\x9e\", \"\\u0178\": \"\\x9f\"\n\t\t};\n\t\tif(Array.isArray(arr)) arr = new Uint8Array(arr);\n\t\treturn new TextDecoder(\"latin1\").decode(arr).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g, function(c) { return rev[c] || c; });\n\t} catch(e) {}\n\n\tvar o = [];\n\tfor(var i = 0; i != arr.length; ++i) o.push(String.fromCharCode(arr[i]));\n\treturn o.join(\"\");\n}\n\nfunction dup(o/*:any*/)/*:any*/ {\n\tif(typeof JSON != 'undefined' && !Array.isArray(o)) return JSON.parse(JSON.stringify(o));\n\tif(typeof o != 'object' || o == null) return o;\n\tif(o instanceof Date) return new Date(o.getTime());\n\tvar out = {};\n\tfor(var k in o) if(Object.prototype.hasOwnProperty.call(o, k)) out[k] = dup(o[k]);\n\treturn out;\n}\n\nfunction fill(c/*:string*/,l/*:number*/)/*:string*/ { var o = \"\"; while(o.length < l) o+=c; return o; }\n\n/* TODO: stress test */\nfunction fuzzynum(s/*:string*/)/*:number*/ {\n\tvar v/*:number*/ = Number(s);\n\tif(!isNaN(v)) return isFinite(v) ? v : NaN;\n\tif(!/\\d/.test(s)) return v;\n\tvar wt = 1;\n\tvar ss = s.replace(/([\\d]),([\\d])/g,\"$1$2\").replace(/[$]/g,\"\").replace(/[%]/g, function() { wt *= 100; return \"\";});\n\tif(!isNaN(v = Number(ss))) return v / wt;\n\tss = ss.replace(/[(](.*)[)]/,function($$, $1) { wt = -wt; return $1;});\n\tif(!isNaN(v = Number(ss))) return v / wt;\n\treturn v;\n}\nvar lower_months = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\nfunction fuzzydate(s/*:string*/)/*:Date*/ {\n\tvar o = new Date(s), n = new Date(NaN);\n\tvar y = o.getYear(), m = o.getMonth(), d = o.getDate();\n\tif(isNaN(d)) return n;\n\tvar lower = s.toLowerCase();\n\tif(lower.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)) {\n\t\tlower = lower.replace(/[^a-z]/g,\"\").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,\"\");\n\t\tif(lower.length > 3 && lower_months.indexOf(lower) == -1) return n;\n\t} else if(lower.match(/[a-z]/)) return n;\n\tif(y < 0 || y > 8099) return n;\n\tif((m > 0 || d > 1) && y != 101) return o;\n\tif(s.match(/[^-0-9:,\\/\\\\]/)) return n;\n\treturn o;\n}\n\nvar split_regex = /*#__PURE__*/(function() {\n\tvar safe_split_regex = \"abacaba\".split(/(:?b)/i).length == 5;\n\treturn function split_regex(str/*:string*/, re, def/*:string*/)/*:Array<string>*/ {\n\t\tif(safe_split_regex || typeof re == \"string\") return str.split(re);\n\t\tvar p = str.split(re), o = [p[0]];\n\t\tfor(var i = 1; i < p.length; ++i) { o.push(def); o.push(p[i]); }\n\t\treturn o;\n\t};\n})();\nfunction getdatastr(data)/*:?string*/ {\n\tif(!data) return null;\n\tif(data.content && data.type) return cc2str(data.content, true);\n\tif(data.data) return debom(data.data);\n\tif(data.asNodeBuffer && has_buf) return debom(data.asNodeBuffer().toString('binary'));\n\tif(data.asBinary) return debom(data.asBinary());\n\tif(data._data && data._data.getContent) return debom(cc2str(Array.prototype.slice.call(data._data.getContent(),0)));\n\treturn null;\n}\n\nfunction getdatabin(data) {\n\tif(!data) return null;\n\tif(data.data) return char_codes(data.data);\n\tif(data.asNodeBuffer && has_buf) return data.asNodeBuffer();\n\tif(data._data && data._data.getContent) {\n\t\tvar o = data._data.getContent();\n\t\tif(typeof o == \"string\") return char_codes(o);\n\t\treturn Array.prototype.slice.call(o);\n\t}\n\tif(data.content && data.type) return data.content;\n\treturn null;\n}\n\nfunction getdata(data) { return (data && data.name.slice(-4) === \".bin\") ? getdatabin(data) : getdatastr(data); }\n\n/* Part 2 Section 10.1.2 \"Mapping Content Types\" Names are case-insensitive */\n/* OASIS does not comment on filename case sensitivity */\nfunction safegetzipfile(zip, file/*:string*/) {\n\tvar k = zip.FullPaths || keys(zip.files);\n\tvar f = file.toLowerCase().replace(/[\\/]/g, '\\\\'), g = f.replace(/\\\\/g,'\\/');\n\tfor(var i=0; i<k.length; ++i) {\n\t\tvar n = k[i].replace(/^Root Entry[\\/]/,\"\").toLowerCase();\n\t\tif(f == n || g == n) return zip.files ? zip.files[k[i]] : zip.FileIndex[i];\n\t}\n\treturn null;\n}\n\nfunction getzipfile(zip, file/*:string*/) {\n\tvar o = safegetzipfile(zip, file);\n\tif(o == null) throw new Error(\"Cannot find file \" + file + \" in zip\");\n\treturn o;\n}\n\nfunction getzipdata(zip, file/*:string*/, safe/*:?boolean*/)/*:any*/ {\n\tif(!safe) return getdata(getzipfile(zip, file));\n\tif(!file) return null;\n\ttry { return getzipdata(zip, file); } catch(e) { return null; }\n}\n\nfunction getzipstr(zip, file/*:string*/, safe/*:?boolean*/)/*:?string*/ {\n\tif(!safe) return getdatastr(getzipfile(zip, file));\n\tif(!file) return null;\n\ttry { return getzipstr(zip, file); } catch(e) { return null; }\n}\n\nfunction getzipbin(zip, file/*:string*/, safe/*:?boolean*/)/*:any*/ {\n\tif(!safe) return getdatabin(getzipfile(zip, file));\n\tif(!file) return null;\n\ttry { return getzipbin(zip, file); } catch(e) { return null; }\n}\n\nfunction zipentries(zip) {\n\tvar k = zip.FullPaths || keys(zip.files), o = [];\n\tfor(var i = 0; i < k.length; ++i) if(k[i].slice(-1) != '/') o.push(k[i].replace(/^Root Entry[\\/]/, \"\"));\n\treturn o.sort();\n}\n\nfunction zip_add_file(zip, path, content) {\n\tif(zip.FullPaths) {\n\t\tif(typeof content == \"string\") {\n\t\t\tvar res;\n\t\t\tif(has_buf) res = Buffer_from(content);\n\t\t\t/* TODO: investigate performance in Edge 13 */\n\t\t\t//else if(typeof TextEncoder !== \"undefined\") res = new TextEncoder().encode(content);\n\t\t\telse res = utf8decode(content);\n\t\t\treturn CFB.utils.cfb_add(zip, path, res);\n\t\t}\n\t\tCFB.utils.cfb_add(zip, path, content);\n\t}\n\telse zip.file(path, content);\n}\n\nfunction zip_new() { return CFB.utils.cfb_new(); }\n\nfunction zip_read(d, o) {\n\tswitch(o.type) {\n\t\tcase \"base64\": return CFB.read(d, { type: \"base64\" });\n\t\tcase \"binary\": return CFB.read(d, { type: \"binary\" });\n\t\tcase \"buffer\": case \"array\": return CFB.read(d, { type: \"buffer\" });\n\t}\n\tthrow new Error(\"Unrecognized type \" + o.type);\n}\n\nfunction resolve_path(path/*:string*/, base/*:string*/)/*:string*/ {\n\tif(path.charAt(0) == \"/\") return path.slice(1);\n\tvar result = base.split('/');\n\tif(base.slice(-1) != \"/\") result.pop(); // folder path\n\tvar target = path.split('/');\n\twhile (target.length !== 0) {\n\t\tvar step = target.shift();\n\t\tif (step === '..') result.pop();\n\t\telse if (step !== '.') result.push(step);\n\t}\n\treturn result.join('/');\n}\nvar XML_HEADER = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r\\n';\nvar attregexg=/([^\"\\s?>\\/]+)\\s*=\\s*((?:\")([^\"]*)(?:\")|(?:')([^']*)(?:')|([^'\">\\s]+))/g;\nvar tagregex1=/<[\\/\\?]?[a-zA-Z0-9:_-]+(?:\\s+[^\"\\s?>\\/]+\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^'\">\\s=]+))*\\s*[\\/\\?]?>/mg, tagregex2 = /<[^>]*>/g;\nvar tagregex = /*#__PURE__*/XML_HEADER.match(tagregex1) ? tagregex1 : tagregex2;\nvar nsregex=/<\\w*:/, nsregex2 = /<(\\/?)\\w+:/;\nfunction parsexmltag(tag/*:string*/, skip_root/*:?boolean*/, skip_LC/*:?boolean*/)/*:any*/ {\n\tvar z = ({}/*:any*/);\n\tvar eq = 0, c = 0;\n\tfor(; eq !== tag.length; ++eq) if((c = tag.charCodeAt(eq)) === 32 || c === 10 || c === 13) break;\n\tif(!skip_root) z[0] = tag.slice(0, eq);\n\tif(eq === tag.length) return z;\n\tvar m = tag.match(attregexg), j=0, v=\"\", i=0, q=\"\", cc=\"\", quot = 1;\n\tif(m) for(i = 0; i != m.length; ++i) {\n\t\tcc = m[i];\n\t\tfor(c=0; c != cc.length; ++c) if(cc.charCodeAt(c) === 61) break;\n\t\tq = cc.slice(0,c).trim();\n\t\twhile(cc.charCodeAt(c+1) == 32) ++c;\n\t\tquot = ((eq=cc.charCodeAt(c+1)) == 34 || eq == 39) ? 1 : 0;\n\t\tv = cc.slice(c+1+quot, cc.length-quot);\n\t\tfor(j=0;j!=q.length;++j) if(q.charCodeAt(j) === 58) break;\n\t\tif(j===q.length) {\n\t\t\tif(q.indexOf(\"_\") > 0) q = q.slice(0, q.indexOf(\"_\")); // from ods\n\t\t\tz[q] = v;\n\t\t\tif(!skip_LC) z[q.toLowerCase()] = v;\n\t\t}\n\t\telse {\n\t\t\tvar k = (j===5 && q.slice(0,5)===\"xmlns\"?\"xmlns\":\"\")+q.slice(j+1);\n\t\t\tif(z[k] && q.slice(j-3,j) == \"ext\") continue; // from ods\n\t\t\tz[k] = v;\n\t\t\tif(!skip_LC) z[k.toLowerCase()] = v;\n\t\t}\n\t}\n\treturn z;\n}\nfunction strip_ns(x/*:string*/)/*:string*/ { return x.replace(nsregex2, \"<$1\"); }\n\nvar encodings = {\n\t'&quot;': '\"',\n\t'&apos;': \"'\",\n\t'&gt;': '>',\n\t'&lt;': '<',\n\t'&amp;': '&'\n};\nvar rencoding = /*#__PURE__*/evert(encodings);\n//var rencstr = \"&<>'\\\"\".split(\"\");\n\n// TODO: CP remap (need to read file version to determine OS)\nvar unescapexml/*:StringConv*/ = /*#__PURE__*/(function() {\n\t/* 22.4.2.4 bstr (Basic String) */\n\tvar encregex = /&(?:quot|apos|gt|lt|amp|#x?([\\da-fA-F]+));/ig, coderegex = /_x([\\da-fA-F]{4})_/ig;\n\treturn function unescapexml(text/*:string*/)/*:string*/ {\n\t\tvar s = text + '', i = s.indexOf(\"<![CDATA[\");\n\t\tif(i == -1) return s.replace(encregex, function($$, $1) { return encodings[$$]||String.fromCharCode(parseInt($1,$$.indexOf(\"x\")>-1?16:10))||$$; }).replace(coderegex,function(m,c) {return String.fromCharCode(parseInt(c,16));});\n\t\tvar j = s.indexOf(\"]]>\");\n\t\treturn unescapexml(s.slice(0, i)) + s.slice(i+9,j) + unescapexml(s.slice(j+3));\n\t};\n})();\n\nvar decregex=/[&<>'\"]/g, charegex = /[\\u0000-\\u0008\\u000b-\\u001f]/g;\nfunction escapexml(text/*:string*/)/*:string*/{\n\tvar s = text + '';\n\treturn s.replace(decregex, function(y) { return rencoding[y]; }).replace(charegex,function(s) { return \"_x\" + (\"000\"+s.charCodeAt(0).toString(16)).slice(-4) + \"_\";});\n}\nfunction escapexmltag(text/*:string*/)/*:string*/{ return escapexml(text).replace(/ /g,\"_x0020_\"); }\n\nvar htmlcharegex = /[\\u0000-\\u001f]/g;\nfunction escapehtml(text/*:string*/)/*:string*/{\n\tvar s = text + '';\n\treturn s.replace(decregex, function(y) { return rencoding[y]; }).replace(/\\n/g, \"<br/>\").replace(htmlcharegex,function(s) { return \"&#x\" + (\"000\"+s.charCodeAt(0).toString(16)).slice(-4) + \";\"; });\n}\n\nfunction escapexlml(text/*:string*/)/*:string*/{\n\tvar s = text + '';\n\treturn s.replace(decregex, function(y) { return rencoding[y]; }).replace(htmlcharegex,function(s) { return \"&#x\" + (s.charCodeAt(0).toString(16)).toUpperCase() + \";\"; });\n}\n\n/* TODO: handle codepages */\nvar xlml_fixstr/*:StringConv*/ = /*#__PURE__*/(function() {\n\tvar entregex = /&#(\\d+);/g;\n\tfunction entrepl($$/*:string*/,$1/*:string*/)/*:string*/ { return String.fromCharCode(parseInt($1,10)); }\n\treturn function xlml_fixstr(str/*:string*/)/*:string*/ { return str.replace(entregex,entrepl); };\n})();\nfunction xlml_unfixstr(str/*:string*/)/*:string*/ { return str.replace(/(\\r\\n|[\\r\\n])/g,\"\\&#10;\"); }\n\nfunction parsexmlbool(value/*:any*/)/*:boolean*/ {\n\tswitch(value) {\n\t\tcase 1: case true: case '1': case 'true': case 'TRUE': return true;\n\t\t/* case '0': case 'false': case 'FALSE':*/\n\t\tdefault: return false;\n\t}\n}\n\nfunction utf8reada(orig/*:string*/)/*:string*/ {\n\tvar out = \"\", i = 0, c = 0, d = 0, e = 0, f = 0, w = 0;\n\twhile (i < orig.length) {\n\t\tc = orig.charCodeAt(i++);\n\t\tif (c < 128) { out += String.fromCharCode(c); continue; }\n\t\td = orig.charCodeAt(i++);\n\t\tif (c>191 && c<224) { f = ((c & 31) << 6); f |= (d & 63); out += String.fromCharCode(f); continue; }\n\t\te = orig.charCodeAt(i++);\n\t\tif (c < 240) { out += String.fromCharCode(((c & 15) << 12) | ((d & 63) << 6) | (e & 63)); continue; }\n\t\tf = orig.charCodeAt(i++);\n\t\tw = (((c & 7) << 18) | ((d & 63) << 12) | ((e & 63) << 6) | (f & 63))-65536;\n\t\tout += String.fromCharCode(0xD800 + ((w>>>10)&1023));\n\t\tout += String.fromCharCode(0xDC00 + (w&1023));\n\t}\n\treturn out;\n}\n\nfunction utf8readb(data) {\n\tvar out = new_raw_buf(2*data.length), w, i, j = 1, k = 0, ww=0, c;\n\tfor(i = 0; i < data.length; i+=j) {\n\t\tj = 1;\n\t\tif((c=data.charCodeAt(i)) < 128) w = c;\n\t\telse if(c < 224) { w = (c&31)*64+(data.charCodeAt(i+1)&63); j=2; }\n\t\telse if(c < 240) { w=(c&15)*4096+(data.charCodeAt(i+1)&63)*64+(data.charCodeAt(i+2)&63); j=3; }\n\t\telse { j = 4;\n\t\t\tw = (c & 7)*262144+(data.charCodeAt(i+1)&63)*4096+(data.charCodeAt(i+2)&63)*64+(data.charCodeAt(i+3)&63);\n\t\t\tw -= 65536; ww = 0xD800 + ((w>>>10)&1023); w = 0xDC00 + (w&1023);\n\t\t}\n\t\tif(ww !== 0) { out[k++] = ww&255; out[k++] = ww>>>8; ww = 0; }\n\t\tout[k++] = w%256; out[k++] = w>>>8;\n\t}\n\treturn out.slice(0,k).toString('ucs2');\n}\n\nfunction utf8readc(data) { return Buffer_from(data, 'binary').toString('utf8'); }\n\nvar utf8corpus = \"foo bar baz\\u00e2\\u0098\\u0083\\u00f0\\u009f\\u008d\\u00a3\";\nvar utf8read = has_buf && (/*#__PURE__*/utf8readc(utf8corpus) == /*#__PURE__*/utf8reada(utf8corpus) && utf8readc || /*#__PURE__*/utf8readb(utf8corpus) == /*#__PURE__*/utf8reada(utf8corpus) && utf8readb) || utf8reada;\n\nvar utf8write/*:StringConv*/ = has_buf ? function(data) { return Buffer_from(data, 'utf8').toString(\"binary\"); } : function(orig/*:string*/)/*:string*/ {\n\tvar out/*:Array<string>*/ = [], i = 0, c = 0, d = 0;\n\twhile(i < orig.length) {\n\t\tc = orig.charCodeAt(i++);\n\t\tswitch(true) {\n\t\t\tcase c < 128: out.push(String.fromCharCode(c)); break;\n\t\t\tcase c < 2048:\n\t\t\t\tout.push(String.fromCharCode(192 + (c >> 6)));\n\t\t\t\tout.push(String.fromCharCode(128 + (c & 63)));\n\t\t\t\tbreak;\n\t\t\tcase c >= 55296 && c < 57344:\n\t\t\t\tc -= 55296; d = orig.charCodeAt(i++) - 56320 + (c<<10);\n\t\t\t\tout.push(String.fromCharCode(240 + ((d >>18) & 7)));\n\t\t\t\tout.push(String.fromCharCode(144 + ((d >>12) & 63)));\n\t\t\t\tout.push(String.fromCharCode(128 + ((d >> 6) & 63)));\n\t\t\t\tout.push(String.fromCharCode(128 + (d & 63)));\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tout.push(String.fromCharCode(224 + (c >> 12)));\n\t\t\t\tout.push(String.fromCharCode(128 + ((c >> 6) & 63)));\n\t\t\t\tout.push(String.fromCharCode(128 + (c & 63)));\n\t\t}\n\t}\n\treturn out.join(\"\");\n};\n\n// matches <foo>...</foo> extracts content\nvar matchtag = /*#__PURE__*/(function() {\n\tvar mtcache/*:{[k:string]:RegExp}*/ = ({}/*:any*/);\n\treturn function matchtag(f/*:string*/,g/*:?string*/)/*:RegExp*/ {\n\t\tvar t = f+\"|\"+(g||\"\");\n\t\tif(mtcache[t]) return mtcache[t];\n\t\treturn (mtcache[t] = new RegExp('<(?:\\\\w+:)?'+f+'(?: xml:space=\"preserve\")?(?:[^>]*)>([\\\\s\\\\S]*?)</(?:\\\\w+:)?'+f+'>',((g||\"\")/*:any*/)));\n\t};\n})();\n\nvar htmldecode/*:{(s:string):string}*/ = /*#__PURE__*/(function() {\n\tvar entities/*:Array<[RegExp, string]>*/ = [\n\t\t['nbsp', ' '], ['middot', '·'],\n\t\t['quot', '\"'], ['apos', \"'\"], ['gt',   '>'], ['lt',   '<'], ['amp',  '&']\n\t].map(function(x/*:[string, string]*/) { return [new RegExp('&' + x[0] + ';', \"ig\"), x[1]]; });\n\treturn function htmldecode(str/*:string*/)/*:string*/ {\n\t\tvar o = str\n\t\t\t\t// Remove new lines and spaces from start of content\n\t\t\t\t.replace(/^[\\t\\n\\r ]+/, \"\")\n\t\t\t\t// Remove new lines and spaces from end of content\n\t\t\t\t.replace(/[\\t\\n\\r ]+$/,\"\")\n\t\t\t\t// Added line which removes any white space characters after and before html tags\n\t\t\t\t.replace(/>\\s+/g,\">\").replace(/\\s+</g,\"<\")\n\t\t\t\t// Replace remaining new lines and spaces with space\n\t\t\t\t.replace(/[\\t\\n\\r ]+/g, \" \")\n\t\t\t\t// Replace <br> tags with new lines\n\t\t\t\t.replace(/<\\s*[bB][rR]\\s*\\/?>/g,\"\\n\")\n\t\t\t\t// Strip HTML elements\n\t\t\t\t.replace(/<[^>]*>/g,\"\");\n\t\tfor(var i = 0; i < entities.length; ++i) o = o.replace(entities[i][0], entities[i][1]);\n\t\treturn o;\n\t};\n})();\n\nvar vtregex = /*#__PURE__*/(function(){ var vt_cache = {};\n\treturn function vt_regex(bt) {\n\t\tif(vt_cache[bt] !== undefined) return vt_cache[bt];\n\t\treturn (vt_cache[bt] = new RegExp(\"<(?:vt:)?\" + bt + \">([\\\\s\\\\S]*?)</(?:vt:)?\" + bt + \">\", 'g') );\n};})();\nvar vtvregex = /<\\/?(?:vt:)?variant>/g, vtmregex = /<(?:vt:)([^>]*)>([\\s\\S]*)</;\nfunction parseVector(data/*:string*/, opts)/*:Array<{v:string,t:string}>*/ {\n\tvar h = parsexmltag(data);\n\n\tvar matches/*:Array<string>*/ = data.match(vtregex(h.baseType))||[];\n\tvar res/*:Array<any>*/ = [];\n\tif(matches.length != h.size) {\n\t\tif(opts.WTF) throw new Error(\"unexpected vector length \" + matches.length + \" != \" + h.size);\n\t\treturn res;\n\t}\n\tmatches.forEach(function(x/*:string*/) {\n\t\tvar v = x.replace(vtvregex,\"\").match(vtmregex);\n\t\tif(v) res.push({v:utf8read(v[2]), t:v[1]});\n\t});\n\treturn res;\n}\n\nvar wtregex = /(^\\s|\\s$|\\n)/;\nfunction writetag(f/*:string*/,g/*:string*/)/*:string*/ { return '<' + f + (g.match(wtregex)?' xml:space=\"preserve\"' : \"\") + '>' + g + '</' + f + '>'; }\n\nfunction wxt_helper(h)/*:string*/ { return keys(h).map(function(k) { return \" \" + k + '=\"' + h[k] + '\"';}).join(\"\"); }\nfunction writextag(f/*:string*/,g/*:?string*/,h) { return '<' + f + ((h != null) ? wxt_helper(h) : \"\") + ((g != null) ? (g.match(wtregex)?' xml:space=\"preserve\"' : \"\") + '>' + g + '</' + f : \"/\") + '>';}\n\nfunction write_w3cdtf(d/*:Date*/, t/*:?boolean*/)/*:string*/ { try { return d.toISOString().replace(/\\.\\d*/,\"\"); } catch(e) { if(t) throw e; } return \"\"; }\n\nfunction write_vt(s, xlsx/*:?boolean*/)/*:string*/ {\n\tswitch(typeof s) {\n\t\tcase 'string':\n\t\t\tvar o = writextag('vt:lpwstr', escapexml(s));\n\t\t\tif(xlsx) o = o.replace(/&quot;/g, \"_x0022_\");\n\t\t\treturn o;\n\t\tcase 'number': return writextag((s|0)==s?'vt:i4':'vt:r8', escapexml(String(s)));\n\t\tcase 'boolean': return writextag('vt:bool',s?'true':'false');\n\t}\n\tif(s instanceof Date) return writextag('vt:filetime', write_w3cdtf(s));\n\tthrow new Error(\"Unable to serialize \" + s);\n}\n\nfunction xlml_normalize(d)/*:string*/ {\n\tif(has_buf &&/*::typeof Buffer !== \"undefined\" && d != null && d instanceof Buffer &&*/ Buffer.isBuffer(d)) return d.toString('utf8');\n\tif(typeof d === 'string') return d;\n\t/* duktape */\n\tif(typeof Uint8Array !== 'undefined' && d instanceof Uint8Array) return utf8read(a2s(ab2a(d)));\n\tthrow new Error(\"Bad input format: expected Buffer or string\");\n}\n/* UOS uses CJK in tags */\nvar xlmlregex = /<(\\/?)([^\\s?><!\\/:]*:|)([^\\s?<>:\\/]+)(?:[\\s?:\\/][^>]*)?>/mg;\n//var xlmlregex = /<(\\/?)([a-z0-9]*:|)(\\w+)[^>]*>/mg;\n\nvar XMLNS = ({\n\tCORE_PROPS: 'http://schemas.openxmlformats.org/package/2006/metadata/core-properties',\n\tCUST_PROPS: \"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties\",\n\tEXT_PROPS: \"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\",\n\tCT: 'http://schemas.openxmlformats.org/package/2006/content-types',\n\tRELS: 'http://schemas.openxmlformats.org/package/2006/relationships',\n\tTCMNT: 'http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments',\n\t'dc': 'http://purl.org/dc/elements/1.1/',\n\t'dcterms': 'http://purl.org/dc/terms/',\n\t'dcmitype': 'http://purl.org/dc/dcmitype/',\n\t'mx': 'http://schemas.microsoft.com/office/mac/excel/2008/main',\n\t'r': 'http://schemas.openxmlformats.org/officeDocument/2006/relationships',\n\t'sjs': 'http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties',\n\t'vt': 'http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes',\n\t'xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n\t'xsd': 'http://www.w3.org/2001/XMLSchema'\n}/*:any*/);\n\nvar XMLNS_main = [\n\t'http://schemas.openxmlformats.org/spreadsheetml/2006/main',\n\t'http://purl.oclc.org/ooxml/spreadsheetml/main',\n\t'http://schemas.microsoft.com/office/excel/2006/main',\n\t'http://schemas.microsoft.com/office/excel/2006/2'\n];\n\nvar XLMLNS = ({\n\t'o':    'urn:schemas-microsoft-com:office:office',\n\t'x':    'urn:schemas-microsoft-com:office:excel',\n\t'ss':   'urn:schemas-microsoft-com:office:spreadsheet',\n\t'dt':   'uuid:C2F41010-65B3-11d1-A29F-00AA00C14882',\n\t'mv':   'http://macVmlSchemaUri',\n\t'v':    'urn:schemas-microsoft-com:vml',\n\t'html': 'http://www.w3.org/TR/REC-html40'\n}/*:any*/);\nfunction read_double_le(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ {\n\tvar s = 1 - 2 * (b[idx + 7] >>> 7);\n\tvar e = ((b[idx + 7] & 0x7f) << 4) + ((b[idx + 6] >>> 4) & 0x0f);\n\tvar m = (b[idx+6]&0x0f);\n\tfor(var i = 5; i >= 0; --i) m = m * 256 + b[idx + i];\n\tif(e == 0x7ff) return m == 0 ? (s * Infinity) : NaN;\n\tif(e == 0) e = -1022;\n\telse { e -= 1023; m += Math.pow(2,52); }\n\treturn s * Math.pow(2, e - 52) * m;\n}\n\nfunction write_double_le(b/*:RawBytes|CFBlob*/, v/*:number*/, idx/*:number*/) {\n\tvar bs = ((((v < 0) || (1/v == -Infinity)) ? 1 : 0) << 7), e = 0, m = 0;\n\tvar av = bs ? (-v) : v;\n\tif(!isFinite(av)) { e = 0x7ff; m = isNaN(v) ? 0x6969 : 0; }\n\telse if(av == 0) e = m = 0;\n\telse {\n\t\te = Math.floor(Math.log(av) / Math.LN2);\n\t\tm = av * Math.pow(2, 52 - e);\n\t\tif((e <= -1023) && (!isFinite(m) || (m < Math.pow(2,52)))) { e = -1022; }\n\t\telse { m -= Math.pow(2,52); e+=1023; }\n\t}\n\tfor(var i = 0; i <= 5; ++i, m/=256) b[idx + i] = m & 0xff;\n\tb[idx + 6] = ((e & 0x0f) << 4) | (m & 0xf);\n\tb[idx + 7] = (e >> 4) | bs;\n}\n\nvar ___toBuffer = function(bufs/*:Array<Array<RawBytes> >*/)/*:RawBytes*/ { var x=[],w=10240; for(var i=0;i<bufs[0].length;++i) if(bufs[0][i]) for(var j=0,L=bufs[0][i].length;j<L;j+=w) x.push.apply(x, bufs[0][i].slice(j,j+w)); return x; };\nvar __toBuffer = has_buf ? function(bufs) { return (bufs[0].length > 0 && Buffer.isBuffer(bufs[0][0])) ? Buffer.concat(bufs[0].map(function(x) { return Buffer.isBuffer(x) ? x : Buffer_from(x); })) : ___toBuffer(bufs);} : ___toBuffer;\n\nvar ___utf16le = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/)/*:string*/ { var ss/*:Array<string>*/=[]; for(var i=s; i<e; i+=2) ss.push(String.fromCharCode(__readUInt16LE(b,i))); return ss.join(\"\").replace(chr0,''); };\nvar __utf16le = has_buf ? function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/)/*:string*/ { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___utf16le(b,s,e); return b.toString('utf16le',s,e).replace(chr0,'')/*.replace(chr1,'!')*/; } : ___utf16le;\n\nvar ___hexlify = function(b/*:RawBytes|CFBlob*/,s/*:number*/,l/*:number*/)/*:string*/ { var ss/*:Array<string>*/=[]; for(var i=s; i<s+l; ++i) ss.push((\"0\" + b[i].toString(16)).slice(-2)); return ss.join(\"\"); };\nvar __hexlify = has_buf ? function(b/*:RawBytes|CFBlob*/,s/*:number*/,l/*:number*/)/*:string*/ { return Buffer.isBuffer(b)/*:: && b instanceof Buffer*/ ? b.toString('hex',s,s+l) : ___hexlify(b,s,l); } : ___hexlify;\n\nvar ___utf8 = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/) { var ss=[]; for(var i=s; i<e; i++) ss.push(String.fromCharCode(__readUInt8(b,i))); return ss.join(\"\"); };\nvar __utf8 = has_buf ? function utf8_b(b/*:RawBytes|CFBlob*/, s/*:number*/, e/*:number*/) { return (Buffer.isBuffer(b)/*:: && (b instanceof Buffer)*/) ? b.toString('utf8',s,e) : ___utf8(b,s,e); } : ___utf8;\n\nvar ___lpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : \"\";};\nvar __lpstr = ___lpstr;\n\nvar ___cpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : \"\";};\nvar __cpstr = ___cpstr;\n\nvar ___lpwstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = 2*__readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len-1) : \"\";};\nvar __lpwstr = ___lpwstr;\n\nvar ___lpp4 = function lpp4_(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf16le(b, i+4,i+4+len) : \"\";};\nvar __lpp4 = ___lpp4;\n\nvar ___8lpp4 = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? __utf8(b, i+4,i+4+len) : \"\";};\nvar __8lpp4 = ___8lpp4;\n\nvar ___double = function(b/*:RawBytes|CFBlob*/, idx/*:number*/) { return read_double_le(b, idx);};\nvar __double = ___double;\n\nvar is_buf = function is_buf_a(a) { return Array.isArray(a) || (typeof Uint8Array !== \"undefined\" && a instanceof Uint8Array); };\n\nif(has_buf/*:: && typeof Buffer !== 'undefined'*/) {\n\t__lpstr = function lpstr_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___lpstr(b, i); var len = b.readUInt32LE(i); return len > 0 ? b.toString('utf8',i+4,i+4+len-1) : \"\";};\n\t__cpstr = function cpstr_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___cpstr(b, i); var len = b.readUInt32LE(i); return len > 0 ? b.toString('utf8',i+4,i+4+len-1) : \"\";};\n\t__lpwstr = function lpwstr_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___lpwstr(b, i); var len = 2*b.readUInt32LE(i); return b.toString('utf16le',i+4,i+4+len-1);};\n\t__lpp4 = function lpp4_b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___lpp4(b, i); var len = b.readUInt32LE(i); return b.toString('utf16le',i+4,i+4+len);};\n\t__8lpp4 = function lpp4_8b(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(!Buffer.isBuffer(b)/*:: || !(b instanceof Buffer)*/) return ___8lpp4(b, i); var len = b.readUInt32LE(i); return b.toString('utf8',i+4,i+4+len);};\n\t__double = function double_(b/*:RawBytes|CFBlob*/, i/*:number*/) { if(Buffer.isBuffer(b)/*::&& b instanceof Buffer*/) return b.readDoubleLE(i); return ___double(b,i); };\n\tis_buf = function is_buf_b(a) { return Buffer.isBuffer(a) || Array.isArray(a) || (typeof Uint8Array !== \"undefined\" && a instanceof Uint8Array); };\n}\n\n/* from js-xls */\nfunction cpdoit() {\n\t__utf16le = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/) { return $cptable.utils.decode(1200, b.slice(s,e)).replace(chr0, ''); };\n\t__utf8 = function(b/*:RawBytes|CFBlob*/,s/*:number*/,e/*:number*/) { return $cptable.utils.decode(65001, b.slice(s,e)); };\n\t__lpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(current_ansi, b.slice(i+4, i+4+len-1)) : \"\";};\n\t__cpstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(current_codepage, b.slice(i+4, i+4+len-1)) : \"\";};\n\t__lpwstr = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = 2*__readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(1200, b.slice(i+4,i+4+len-1)) : \"\";};\n\t__lpp4 = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(1200, b.slice(i+4,i+4+len)) : \"\";};\n\t__8lpp4 = function(b/*:RawBytes|CFBlob*/,i/*:number*/) { var len = __readUInt32LE(b,i); return len > 0 ? $cptable.utils.decode(65001, b.slice(i+4,i+4+len)) : \"\";};\n}\nif(typeof $cptable !== 'undefined') cpdoit();\n\nvar __readUInt8 = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return b[idx]; };\nvar __readUInt16LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return (b[idx+1]*(1<<8))+b[idx]; };\nvar __readInt16LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { var u = (b[idx+1]*(1<<8))+b[idx]; return (u < 0x8000) ? u : ((0xffff - u + 1) * -1); };\nvar __readUInt32LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return b[idx+3]*(1<<24)+(b[idx+2]<<16)+(b[idx+1]<<8)+b[idx]; };\nvar __readInt32LE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return (b[idx+3]<<24)|(b[idx+2]<<16)|(b[idx+1]<<8)|b[idx]; };\nvar __readInt32BE = function(b/*:RawBytes|CFBlob*/, idx/*:number*/)/*:number*/ { return (b[idx]<<24)|(b[idx+1]<<16)|(b[idx+2]<<8)|b[idx+3]; };\n\nfunction ReadShift(size/*:number*/, t/*:?string*/)/*:number|string*/ {\n\tvar o=\"\", oI/*:: :number = 0*/, oR, oo=[], w, vv, i, loc;\n\tswitch(t) {\n\t\tcase 'dbcs':\n\t\t\tloc = this.l;\n\t\t\tif(has_buf && Buffer.isBuffer(this)) o = this.slice(this.l, this.l+2*size).toString(\"utf16le\");\n\t\t\telse for(i = 0; i < size; ++i) { o+=String.fromCharCode(__readUInt16LE(this, loc)); loc+=2; }\n\t\t\tsize *= 2;\n\t\t\tbreak;\n\n\t\tcase 'utf8': o = __utf8(this, this.l, this.l + size); break;\n\t\tcase 'utf16le': size *= 2; o = __utf16le(this, this.l, this.l + size); break;\n\n\t\tcase 'wstr':\n\t\t\tif(typeof $cptable !== 'undefined') o = $cptable.utils.decode(current_codepage, this.slice(this.l, this.l+2*size));\n\t\t\telse return ReadShift.call(this, size, 'dbcs');\n\t\t\tsize = 2 * size; break;\n\n\t\t/* [MS-OLEDS] 2.1.4 LengthPrefixedAnsiString */\n\t\tcase 'lpstr-ansi': o = __lpstr(this, this.l); size = 4 + __readUInt32LE(this, this.l); break;\n\t\tcase 'lpstr-cp': o = __cpstr(this, this.l); size = 4 + __readUInt32LE(this, this.l); break;\n\t\t/* [MS-OLEDS] 2.1.5 LengthPrefixedUnicodeString */\n\t\tcase 'lpwstr': o = __lpwstr(this, this.l); size = 4 + 2 * __readUInt32LE(this, this.l); break;\n\t\t/* [MS-OFFCRYPTO] 2.1.2 Length-Prefixed Padded Unicode String (UNICODE-LP-P4) */\n\t\tcase 'lpp4': size = 4 +  __readUInt32LE(this, this.l); o = __lpp4(this, this.l); if(size & 0x02) size += 2; break;\n\t\t/* [MS-OFFCRYPTO] 2.1.3 Length-Prefixed UTF-8 String (UTF-8-LP-P4) */\n\t\tcase '8lpp4': size = 4 +  __readUInt32LE(this, this.l); o = __8lpp4(this, this.l); if(size & 0x03) size += 4 - (size & 0x03); break;\n\n\t\tcase 'cstr': size = 0; o = \"\";\n\t\t\twhile((w=__readUInt8(this, this.l + size++))!==0) oo.push(_getchar(w));\n\t\t\to = oo.join(\"\"); break;\n\t\tcase '_wstr': size = 0; o = \"\";\n\t\t\twhile((w=__readUInt16LE(this,this.l +size))!==0){oo.push(_getchar(w));size+=2;}\n\t\t\tsize+=2; o = oo.join(\"\"); break;\n\n\t\t/* sbcs and dbcs support continue records in the SST way TODO codepages */\n\t\tcase 'dbcs-cont': o = \"\"; loc = this.l;\n\t\t\tfor(i = 0; i < size; ++i) {\n\t\t\t\tif(this.lens && this.lens.indexOf(loc) !== -1) {\n\t\t\t\t\tw = __readUInt8(this, loc);\n\t\t\t\t\tthis.l = loc + 1;\n\t\t\t\t\tvv = ReadShift.call(this, size-i, w ? 'dbcs-cont' : 'sbcs-cont');\n\t\t\t\t\treturn oo.join(\"\") + vv;\n\t\t\t\t}\n\t\t\t\too.push(_getchar(__readUInt16LE(this, loc)));\n\t\t\t\tloc+=2;\n\t\t\t} o = oo.join(\"\"); size *= 2; break;\n\n\t\tcase 'cpstr':\n\t\t\tif(typeof $cptable !== 'undefined') {\n\t\t\t\to = $cptable.utils.decode(current_codepage, this.slice(this.l, this.l + size));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t/* falls through */\n\t\tcase 'sbcs-cont': o = \"\"; loc = this.l;\n\t\t\tfor(i = 0; i != size; ++i) {\n\t\t\t\tif(this.lens && this.lens.indexOf(loc) !== -1) {\n\t\t\t\t\tw = __readUInt8(this, loc);\n\t\t\t\t\tthis.l = loc + 1;\n\t\t\t\t\tvv = ReadShift.call(this, size-i, w ? 'dbcs-cont' : 'sbcs-cont');\n\t\t\t\t\treturn oo.join(\"\") + vv;\n\t\t\t\t}\n\t\t\t\too.push(_getchar(__readUInt8(this, loc)));\n\t\t\t\tloc+=1;\n\t\t\t} o = oo.join(\"\"); break;\n\n\t\tdefault:\n\tswitch(size) {\n\t\tcase 1: oI = __readUInt8(this, this.l); this.l++; return oI;\n\t\tcase 2: oI = (t === 'i' ? __readInt16LE : __readUInt16LE)(this, this.l); this.l += 2; return oI;\n\t\tcase 4: case -4:\n\t\t\tif(t === 'i' || ((this[this.l+3] & 0x80)===0)) { oI = ((size > 0) ? __readInt32LE : __readInt32BE)(this, this.l); this.l += 4; return oI; }\n\t\t\telse { oR = __readUInt32LE(this, this.l); this.l += 4; } return oR;\n\t\tcase 8: case -8:\n\t\t\tif(t === 'f') {\n\t\t\t\tif(size == 8) oR = __double(this, this.l);\n\t\t\t\telse oR = __double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]], 0);\n\t\t\t\tthis.l += 8; return oR;\n\t\t\t} else size = 8;\n\t\t/* falls through */\n\t\tcase 16: o = __hexlify(this, this.l, size); break;\n\t}}\n\tthis.l+=size; return o;\n}\n\nvar __writeUInt32LE = function(b/*:RawBytes|CFBlob*/, val/*:number*/, idx/*:number*/)/*:void*/ { b[idx] = (val & 0xFF); b[idx+1] = ((val >>> 8) & 0xFF); b[idx+2] = ((val >>> 16) & 0xFF); b[idx+3] = ((val >>> 24) & 0xFF); };\nvar __writeInt32LE  = function(b/*:RawBytes|CFBlob*/, val/*:number*/, idx/*:number*/)/*:void*/ { b[idx] = (val & 0xFF); b[idx+1] = ((val >> 8) & 0xFF); b[idx+2] = ((val >> 16) & 0xFF); b[idx+3] = ((val >> 24) & 0xFF); };\nvar __writeUInt16LE = function(b/*:RawBytes|CFBlob*/, val/*:number*/, idx/*:number*/)/*:void*/ { b[idx] = (val & 0xFF); b[idx+1] = ((val >>> 8) & 0xFF); };\n\nfunction WriteShift(t/*:number*/, val/*:string|number*/, f/*:?string*/)/*:any*/ {\n\tvar size = 0, i = 0;\n\tif(f === 'dbcs') {\n\t\t/*:: if(typeof val !== 'string') throw new Error(\"unreachable\"); */\n\t\tfor(i = 0; i != val.length; ++i) __writeUInt16LE(this, val.charCodeAt(i), this.l + 2 * i);\n\t\tsize = 2 * val.length;\n\t} else if(f === 'sbcs') {\n\t\tif(typeof $cptable !== 'undefined' && current_ansi == 874) {\n\t\t\t/* TODO: use tables directly, don't encode */\n\t\t\t/*:: if(typeof val !== \"string\") throw new Error(\"unreachable\"); */\n\t\t\tfor(i = 0; i != val.length; ++i) {\n\t\t\t\tvar cppayload = $cptable.utils.encode(current_ansi, val.charAt(i));\n\t\t\t\tthis[this.l + i] = cppayload[0];\n\t\t\t}\n\t\t} else {\n\t\t\t/*:: if(typeof val !== 'string') throw new Error(\"unreachable\"); */\n\t\t\tval = val.replace(/[^\\x00-\\x7F]/g, \"_\");\n\t\t\t/*:: if(typeof val !== 'string') throw new Error(\"unreachable\"); */\n\t\t\tfor(i = 0; i != val.length; ++i) this[this.l + i] = (val.charCodeAt(i) & 0xFF);\n\t\t}\n\t\tsize = val.length;\n\t} else if(f === 'hex') {\n\t\tfor(; i < t; ++i) {\n\t\t\t/*:: if(typeof val !== \"string\") throw new Error(\"unreachable\"); */\n\t\t\tthis[this.l++] = (parseInt(val.slice(2*i, 2*i+2), 16)||0);\n\t\t} return this;\n\t} else if(f === 'utf16le') {\n\t\t\t/*:: if(typeof val !== \"string\") throw new Error(\"unreachable\"); */\n\t\t\tvar end/*:number*/ = Math.min(this.l + t, this.length);\n\t\t\tfor(i = 0; i < Math.min(val.length, t); ++i) {\n\t\t\t\tvar cc = val.charCodeAt(i);\n\t\t\t\tthis[this.l++] = (cc & 0xff);\n\t\t\t\tthis[this.l++] = (cc >> 8);\n\t\t\t}\n\t\t\twhile(this.l < end) this[this.l++] = 0;\n\t\t\treturn this;\n\t} else /*:: if(typeof val === 'number') */ switch(t) {\n\t\tcase  1: size = 1; this[this.l] = val&0xFF; break;\n\t\tcase  2: size = 2; this[this.l] = val&0xFF; val >>>= 8; this[this.l+1] = val&0xFF; break;\n\t\tcase  3: size = 3; this[this.l] = val&0xFF; val >>>= 8; this[this.l+1] = val&0xFF; val >>>= 8; this[this.l+2] = val&0xFF; break;\n\t\tcase  4: size = 4; __writeUInt32LE(this, val, this.l); break;\n\t\tcase  8: size = 8; if(f === 'f') { write_double_le(this, val, this.l); break; }\n\t\t/* falls through */\n\t\tcase 16: break;\n\t\tcase -4: size = 4; __writeInt32LE(this, val, this.l); break;\n\t}\n\tthis.l += size; return this;\n}\n\nfunction CheckField(hexstr/*:string*/, fld/*:string*/)/*:void*/ {\n\tvar m = __hexlify(this,this.l,hexstr.length>>1);\n\tif(m !== hexstr) throw new Error(fld + 'Expected ' + hexstr + ' saw ' + m);\n\tthis.l += hexstr.length>>1;\n}\n\nfunction prep_blob(blob, pos/*:number*/)/*:void*/ {\n\tblob.l = pos;\n\tblob.read_shift = /*::(*/ReadShift/*:: :any)*/;\n\tblob.chk = CheckField;\n\tblob.write_shift = WriteShift;\n}\n\nfunction parsenoop(blob, length/*:: :number, opts?:any */) { blob.l += length; }\n\nfunction new_buf(sz/*:number*/)/*:Block*/ {\n\tvar o = new_raw_buf(sz);\n\tprep_blob(o, 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.1.4 Record */\nfunction recordhopper(data, cb/*:RecordHopperCB*/, opts/*:?any*/) {\n\tif(!data) return;\n\tvar tmpbyte, cntbyte, length;\n\tprep_blob(data, data.l || 0);\n\tvar L = data.length, RT = 0, tgt = 0;\n\twhile(data.l < L) {\n\t\tRT = data.read_shift(1);\n\t\tif(RT & 0x80) RT = (RT & 0x7F) + ((data.read_shift(1) & 0x7F)<<7);\n\t\tvar R = XLSBRecordEnum[RT] || XLSBRecordEnum[0xFFFF];\n\t\ttmpbyte = data.read_shift(1);\n\t\tlength = tmpbyte & 0x7F;\n\t\tfor(cntbyte = 1; cntbyte <4 && (tmpbyte & 0x80); ++cntbyte) length += ((tmpbyte = data.read_shift(1)) & 0x7F)<<(7*cntbyte);\n\t\ttgt = data.l + length;\n\t\tvar d = R.f && R.f(data, length, opts);\n\t\tdata.l = tgt;\n\t\tif(cb(d, R, RT)) return;\n\t}\n}\n\n/* control buffer usage for fixed-length buffers */\nfunction buf_array()/*:BufArray*/ {\n\tvar bufs/*:Array<Block>*/ = [], blksz = has_buf ? 256 : 2048;\n\tvar newblk = function ba_newblk(sz/*:number*/)/*:Block*/ {\n\t\tvar o/*:Block*/ = (new_buf(sz)/*:any*/);\n\t\tprep_blob(o, 0);\n\t\treturn o;\n\t};\n\n\tvar curbuf/*:Block*/ = newblk(blksz);\n\n\tvar endbuf = function ba_endbuf() {\n\t\tif(!curbuf) return;\n\t\tif(curbuf.length > curbuf.l) { curbuf = curbuf.slice(0, curbuf.l); curbuf.l = curbuf.length; }\n\t\tif(curbuf.length > 0) bufs.push(curbuf);\n\t\tcurbuf = null;\n\t};\n\n\tvar next = function ba_next(sz/*:number*/)/*:Block*/ {\n\t\tif(curbuf && (sz < (curbuf.length - curbuf.l))) return curbuf;\n\t\tendbuf();\n\t\treturn (curbuf = newblk(Math.max(sz+1, blksz)));\n\t};\n\n\tvar end = function ba_end() {\n\t\tendbuf();\n\t\treturn bconcat(bufs);\n\t};\n\n\tvar push = function ba_push(buf) { endbuf(); curbuf = buf; if(curbuf.l == null) curbuf.l = curbuf.length; next(blksz); };\n\n\treturn ({ next:next, push:push, end:end, _bufs:bufs }/*:any*/);\n}\n\nfunction write_record(ba/*:BufArray*/, type/*:number*/, payload, length/*:?number*/) {\n\tvar t/*:number*/ = +type, l;\n\tif(isNaN(t)) return; // TODO: throw something here?\n\tif(!length) length = XLSBRecordEnum[t].p || (payload||[]).length || 0;\n\tl = 1 + (t >= 0x80 ? 1 : 0) + 1/* + length*/;\n\tif(length >= 0x80) ++l; if(length >= 0x4000) ++l; if(length >= 0x200000) ++l;\n\tvar o = ba.next(l);\n\tif(t <= 0x7F) o.write_shift(1, t);\n\telse {\n\t\to.write_shift(1, (t & 0x7F) + 0x80);\n\t\to.write_shift(1, (t >> 7));\n\t}\n\tfor(var i = 0; i != 4; ++i) {\n\t\tif(length >= 0x80) { o.write_shift(1, (length & 0x7F)+0x80); length >>= 7; }\n\t\telse { o.write_shift(1, length); break; }\n\t}\n\tif(/*:: length != null &&*/length > 0 && is_buf(payload)) ba.push(payload);\n}\n/* XLS ranges enforced */\nfunction shift_cell_xls(cell/*:CellAddress*/, tgt/*:any*/, opts/*:?any*/)/*:CellAddress*/ {\n\tvar out = dup(cell);\n\tif(tgt.s) {\n\t\tif(out.cRel) out.c += tgt.s.c;\n\t\tif(out.rRel) out.r += tgt.s.r;\n\t} else {\n\t\tif(out.cRel) out.c += tgt.c;\n\t\tif(out.rRel) out.r += tgt.r;\n\t}\n\tif(!opts || opts.biff < 12) {\n\t\twhile(out.c >= 0x100) out.c -= 0x100;\n\t\twhile(out.r >= 0x10000) out.r -= 0x10000;\n\t}\n\treturn out;\n}\n\nfunction shift_range_xls(cell, range, opts) {\n\tvar out = dup(cell);\n\tout.s = shift_cell_xls(out.s, range.s, opts);\n\tout.e = shift_cell_xls(out.e, range.s, opts);\n\treturn out;\n}\n\nfunction encode_cell_xls(c/*:CellAddress*/, biff/*:number*/)/*:string*/ {\n\tif(c.cRel && c.c < 0) { c = dup(c); while(c.c < 0) c.c += (biff > 8) ? 0x4000 : 0x100; }\n\tif(c.rRel && c.r < 0) { c = dup(c); while(c.r < 0) c.r += (biff > 8) ? 0x100000 : ((biff > 5) ? 0x10000 : 0x4000); }\n\tvar s = encode_cell(c);\n\tif(!c.cRel && c.cRel != null) s = fix_col(s);\n\tif(!c.rRel && c.rRel != null) s = fix_row(s);\n\treturn s;\n}\n\nfunction encode_range_xls(r, opts)/*:string*/ {\n\tif(r.s.r == 0 && !r.s.rRel) {\n\t\tif(r.e.r == (opts.biff >= 12 ? 0xFFFFF : (opts.biff >= 8 ? 0x10000 : 0x4000)) && !r.e.rRel) {\n\t\t\treturn (r.s.cRel ? \"\" : \"$\") + encode_col(r.s.c) + \":\" + (r.e.cRel ? \"\" : \"$\") + encode_col(r.e.c);\n\t\t}\n\t}\n\tif(r.s.c == 0 && !r.s.cRel) {\n\t\tif(r.e.c == (opts.biff >= 12 ? 0x3FFF : 0xFF) && !r.e.cRel) {\n\t\t\treturn (r.s.rRel ? \"\" : \"$\") + encode_row(r.s.r) + \":\" + (r.e.rRel ? \"\" : \"$\") + encode_row(r.e.r);\n\t\t}\n\t}\n\treturn encode_cell_xls(r.s, opts.biff) + \":\" + encode_cell_xls(r.e, opts.biff);\n}\nfunction decode_row(rowstr/*:string*/)/*:number*/ { return parseInt(unfix_row(rowstr),10) - 1; }\nfunction encode_row(row/*:number*/)/*:string*/ { return \"\" + (row + 1); }\nfunction fix_row(cstr/*:string*/)/*:string*/ { return cstr.replace(/([A-Z]|^)(\\d+)$/,\"$1$$$2\"); }\nfunction unfix_row(cstr/*:string*/)/*:string*/ { return cstr.replace(/\\$(\\d+)$/,\"$1\"); }\n\nfunction decode_col(colstr/*:string*/)/*:number*/ { var c = unfix_col(colstr), d = 0, i = 0; for(; i !== c.length; ++i) d = 26*d + c.charCodeAt(i) - 64; return d - 1; }\nfunction encode_col(col/*:number*/)/*:string*/ { if(col < 0) throw new Error(\"invalid column \" + col); var s=\"\"; for(++col; col; col=Math.floor((col-1)/26)) s = String.fromCharCode(((col-1)%26) + 65) + s; return s; }\nfunction fix_col(cstr/*:string*/)/*:string*/ { return cstr.replace(/^([A-Z])/,\"$$$1\"); }\nfunction unfix_col(cstr/*:string*/)/*:string*/ { return cstr.replace(/^\\$([A-Z])/,\"$1\"); }\n\nfunction split_cell(cstr/*:string*/)/*:Array<string>*/ { return cstr.replace(/(\\$?[A-Z]*)(\\$?\\d*)/,\"$1,$2\").split(\",\"); }\n//function decode_cell(cstr/*:string*/)/*:CellAddress*/ { var splt = split_cell(cstr); return { c:decode_col(splt[0]), r:decode_row(splt[1]) }; }\nfunction decode_cell(cstr/*:string*/)/*:CellAddress*/ {\n\tvar R = 0, C = 0;\n\tfor(var i = 0; i < cstr.length; ++i) {\n\t\tvar cc = cstr.charCodeAt(i);\n\t\tif(cc >= 48 && cc <= 57) R = 10 * R + (cc - 48);\n\t\telse if(cc >= 65 && cc <= 90) C = 26 * C + (cc - 64);\n\t}\n\treturn { c: C - 1, r:R - 1 };\n}\n//function encode_cell(cell/*:CellAddress*/)/*:string*/ { return encode_col(cell.c) + encode_row(cell.r); }\nfunction encode_cell(cell/*:CellAddress*/)/*:string*/ {\n\tvar col = cell.c + 1;\n\tvar s=\"\";\n\tfor(; col; col=((col-1)/26)|0) s = String.fromCharCode(((col-1)%26) + 65) + s;\n\treturn s + (cell.r + 1);\n}\nfunction decode_range(range/*:string*/)/*:Range*/ {\n\tvar idx = range.indexOf(\":\");\n\tif(idx == -1) return { s: decode_cell(range), e: decode_cell(range) };\n\treturn { s: decode_cell(range.slice(0, idx)), e: decode_cell(range.slice(idx + 1)) };\n}\n/*# if only one arg, it is assumed to be a Range.  If 2 args, both are cell addresses */\nfunction encode_range(cs/*:CellAddrSpec|Range*/,ce/*:?CellAddrSpec*/)/*:string*/ {\n\tif(typeof ce === 'undefined' || typeof ce === 'number') {\n/*:: if(!(cs instanceof Range)) throw \"unreachable\"; */\n\t\treturn encode_range(cs.s, cs.e);\n\t}\n/*:: if((cs instanceof Range)) throw \"unreachable\"; */\n\tif(typeof cs !== 'string') cs = encode_cell((cs/*:any*/));\n\tif(typeof ce !== 'string') ce = encode_cell((ce/*:any*/));\n/*:: if(typeof cs !== 'string') throw \"unreachable\"; */\n/*:: if(typeof ce !== 'string') throw \"unreachable\"; */\n\treturn cs == ce ? cs : cs + \":\" + ce;\n}\n\nfunction safe_decode_range(range/*:string*/)/*:Range*/ {\n\tvar o = {s:{c:0,r:0},e:{c:0,r:0}};\n\tvar idx = 0, i = 0, cc = 0;\n\tvar len = range.length;\n\tfor(idx = 0; i < len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-64) < 1 || cc > 26) break;\n\t\tidx = 26*idx + cc;\n\t}\n\to.s.c = --idx;\n\n\tfor(idx = 0; i < len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-48) < 0 || cc > 9) break;\n\t\tidx = 10*idx + cc;\n\t}\n\to.s.r = --idx;\n\n\tif(i === len || cc != 10) { o.e.c=o.s.c; o.e.r=o.s.r; return o; }\n\t++i;\n\n\tfor(idx = 0; i != len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-64) < 1 || cc > 26) break;\n\t\tidx = 26*idx + cc;\n\t}\n\to.e.c = --idx;\n\n\tfor(idx = 0; i != len; ++i) {\n\t\tif((cc=range.charCodeAt(i)-48) < 0 || cc > 9) break;\n\t\tidx = 10*idx + cc;\n\t}\n\to.e.r = --idx;\n\treturn o;\n}\n\nfunction safe_format_cell(cell/*:Cell*/, v/*:any*/) {\n\tvar q = (cell.t == 'd' && v instanceof Date);\n\tif(cell.z != null) try { return (cell.w = SSF_format(cell.z, q ? datenum(v) : v)); } catch(e) { }\n\ttry { return (cell.w = SSF_format((cell.XF||{}).numFmtId||(q ? 14 : 0),  q ? datenum(v) : v)); } catch(e) { return ''+v; }\n}\n\nfunction format_cell(cell/*:Cell*/, v/*:any*/, o/*:any*/) {\n\tif(cell == null || cell.t == null || cell.t == 'z') return \"\";\n\tif(cell.w !== undefined) return cell.w;\n\tif(cell.t == 'd' && !cell.z && o && o.dateNF) cell.z = o.dateNF;\n\tif(cell.t == \"e\") return BErr[cell.v] || cell.v;\n\tif(v == undefined) return safe_format_cell(cell, cell.v);\n\treturn safe_format_cell(cell, v);\n}\n\nfunction sheet_to_workbook(sheet/*:Worksheet*/, opts)/*:Workbook*/ {\n\tvar n = opts && opts.sheet ? opts.sheet : \"Sheet1\";\n\tvar sheets = {}; sheets[n] = sheet;\n\treturn { SheetNames: [n], Sheets: sheets };\n}\n\nfunction sheet_add_aoa(_ws/*:?Worksheet*/, data/*:AOA*/, opts/*:?any*/)/*:Worksheet*/ {\n\tvar o = opts || {};\n\tvar dense = _ws ? Array.isArray(_ws) : o.dense;\n\tif(DENSE != null && dense == null) dense = DENSE;\n\tvar ws/*:Worksheet*/ = _ws || (dense ? ([]/*:any*/) : ({}/*:any*/));\n\tvar _R = 0, _C = 0;\n\tif(ws && o.origin != null) {\n\t\tif(typeof o.origin == 'number') _R = o.origin;\n\t\telse {\n\t\t\tvar _origin/*:CellAddress*/ = typeof o.origin == \"string\" ? decode_cell(o.origin) : o.origin;\n\t\t\t_R = _origin.r; _C = _origin.c;\n\t\t}\n\t\tif(!ws[\"!ref\"]) ws[\"!ref\"] = \"A1:A1\";\n\t}\n\tvar range/*:Range*/ = ({s: {c:10000000, r:10000000}, e: {c:0, r:0}}/*:any*/);\n\tif(ws['!ref']) {\n\t\tvar _range = safe_decode_range(ws['!ref']);\n\t\trange.s.c = _range.s.c;\n\t\trange.s.r = _range.s.r;\n\t\trange.e.c = Math.max(range.e.c, _range.e.c);\n\t\trange.e.r = Math.max(range.e.r, _range.e.r);\n\t\tif(_R == -1) range.e.r = _R = _range.e.r + 1;\n\t}\n\tfor(var R = 0; R != data.length; ++R) {\n\t\tif(!data[R]) continue;\n\t\tif(!Array.isArray(data[R])) throw new Error(\"aoa_to_sheet expects an array of arrays\");\n\t\tfor(var C = 0; C != data[R].length; ++C) {\n\t\t\tif(typeof data[R][C] === 'undefined') continue;\n\t\t\tvar cell/*:Cell*/ = ({v: data[R][C] }/*:any*/);\n\t\t\tvar __R = _R + R, __C = _C + C;\n\t\t\tif(range.s.r > __R) range.s.r = __R;\n\t\t\tif(range.s.c > __C) range.s.c = __C;\n\t\t\tif(range.e.r < __R) range.e.r = __R;\n\t\t\tif(range.e.c < __C) range.e.c = __C;\n\t\t\tif(data[R][C] && typeof data[R][C] === 'object' && !Array.isArray(data[R][C]) && !(data[R][C] instanceof Date)) cell = data[R][C];\n\t\t\telse {\n\t\t\t\tif(Array.isArray(cell.v)) { cell.f = data[R][C][1]; cell.v = cell.v[0]; }\n\t\t\t\tif(cell.v === null) {\n\t\t\t\t\tif(cell.f) cell.t = 'n';\n\t\t\t\t\telse if(o.nullError) { cell.t = 'e'; cell.v = 0; }\n\t\t\t\t\telse if(!o.sheetStubs) continue;\n\t\t\t\t\telse cell.t = 'z';\n\t\t\t\t}\n\t\t\t\telse if(typeof cell.v === 'number') cell.t = 'n';\n\t\t\t\telse if(typeof cell.v === 'boolean') cell.t = 'b';\n\t\t\t\telse if(cell.v instanceof Date) {\n\t\t\t\t\tcell.z = o.dateNF || table_fmt[14];\n\t\t\t\t\tif(o.cellDates) { cell.t = 'd'; cell.w = SSF_format(cell.z, datenum(cell.v)); }\n\t\t\t\t\telse { cell.t = 'n'; cell.v = datenum(cell.v); cell.w = SSF_format(cell.z, cell.v); }\n\t\t\t\t}\n\t\t\t\telse cell.t = 's';\n\t\t\t}\n\t\t\tif(dense) {\n\t\t\t\tif(!ws[__R]) ws[__R] = [];\n\t\t\t\tif(ws[__R][__C] && ws[__R][__C].z) cell.z = ws[__R][__C].z;\n\t\t\t\tws[__R][__C] = cell;\n\t\t\t} else {\n\t\t\t\tvar cell_ref = encode_cell(({c:__C,r:__R}/*:any*/));\n\t\t\t\tif(ws[cell_ref] && ws[cell_ref].z) cell.z = ws[cell_ref].z;\n\t\t\t\tws[cell_ref] = cell;\n\t\t\t}\n\t\t}\n\t}\n\tif(range.s.c < 10000000) ws['!ref'] = encode_range(range);\n\treturn ws;\n}\nfunction aoa_to_sheet(data/*:AOA*/, opts/*:?any*/)/*:Worksheet*/ { return sheet_add_aoa(null, data, opts); }\n\nfunction parse_Int32LE(data) {\n\treturn data.read_shift(4, 'i');\n}\nfunction write_UInt32LE(x/*:number*/, o) {\n\tif (!o) o = new_buf(4);\n\to.write_shift(4, x);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.168 */\nfunction parse_XLWideString(data/*::, length*/)/*:string*/ {\n\tvar cchCharacters = data.read_shift(4);\n\treturn cchCharacters === 0 ? \"\" : data.read_shift(cchCharacters, 'dbcs');\n}\nfunction write_XLWideString(data/*:string*/, o) {\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(4 + 2 * data.length); }\n\to.write_shift(4, data.length);\n\tif (data.length > 0) o.write_shift(0, data, 'dbcs');\n\treturn _null ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.5.91 */\n//function parse_LPWideString(data/*::, length*/)/*:string*/ {\n//\tvar cchCharacters = data.read_shift(2);\n//\treturn cchCharacters === 0 ? \"\" : data.read_shift(cchCharacters, \"utf16le\");\n//}\n\n/* [MS-XLSB] 2.5.143 */\nfunction parse_StrRun(data) {\n\treturn { ich: data.read_shift(2), ifnt: data.read_shift(2) };\n}\nfunction write_StrRun(run, o) {\n\tif (!o) o = new_buf(4);\n\to.write_shift(2, run.ich || 0);\n\to.write_shift(2, run.ifnt || 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.121 */\nfunction parse_RichStr(data, length/*:number*/)/*:XLString*/ {\n\tvar start = data.l;\n\tvar flags = data.read_shift(1);\n\tvar str = parse_XLWideString(data);\n\tvar rgsStrRun = [];\n\tvar z = ({ t: str, h: str }/*:any*/);\n\tif ((flags & 1) !== 0) { /* fRichStr */\n\t\t/* TODO: formatted string */\n\t\tvar dwSizeStrRun = data.read_shift(4);\n\t\tfor (var i = 0; i != dwSizeStrRun; ++i) rgsStrRun.push(parse_StrRun(data));\n\t\tz.r = rgsStrRun;\n\t}\n\telse z.r = [{ ich: 0, ifnt: 0 }];\n\t//if((flags & 2) !== 0) { /* fExtStr */\n\t//\t/* TODO: phonetic string */\n\t//}\n\tdata.l = start + length;\n\treturn z;\n}\nfunction write_RichStr(str/*:XLString*/, o/*:?Block*/)/*:Block*/ {\n\t/* TODO: formatted string */\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(15 + 4 * str.t.length); }\n\to.write_shift(1, 0);\n\twrite_XLWideString(str.t, o);\n\treturn _null ? o.slice(0, o.l) : o;\n}\n/* [MS-XLSB] 2.4.328 BrtCommentText (RichStr w/1 run) */\nvar parse_BrtCommentText = parse_RichStr;\nfunction write_BrtCommentText(str/*:XLString*/, o/*:?Block*/)/*:Block*/ {\n\t/* TODO: formatted string */\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(23 + 4 * str.t.length); }\n\to.write_shift(1, 1);\n\twrite_XLWideString(str.t, o);\n\to.write_shift(4, 1);\n\twrite_StrRun({ ich: 0, ifnt: 0 }, o);\n\treturn _null ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.5.9 */\nfunction parse_XLSBCell(data)/*:any*/ {\n\tvar col = data.read_shift(4);\n\tvar iStyleRef = data.read_shift(2);\n\tiStyleRef += data.read_shift(1) << 16;\n\tdata.l++; //var fPhShow = data.read_shift(1);\n\treturn { c: col, iStyleRef: iStyleRef };\n}\nfunction write_XLSBCell(cell/*:any*/, o/*:?Block*/) {\n\tif (o == null) o = new_buf(8);\n\to.write_shift(-4, cell.c);\n\to.write_shift(3, cell.iStyleRef || cell.s);\n\to.write_shift(1, 0); /* fPhShow */\n\treturn o;\n}\n\n/* Short XLSB Cell does not include column */\nfunction parse_XLSBShortCell(data)/*:any*/ {\n\tvar iStyleRef = data.read_shift(2);\n\tiStyleRef += data.read_shift(1) <<16;\n\tdata.l++; //var fPhShow = data.read_shift(1);\n\treturn { c:-1, iStyleRef: iStyleRef };\n}\nfunction write_XLSBShortCell(cell/*:any*/, o/*:?Block*/) {\n\tif(o == null) o = new_buf(4);\n\to.write_shift(3, cell.iStyleRef || cell.s);\n\to.write_shift(1, 0); /* fPhShow */\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.21 */\nvar parse_XLSBCodeName = parse_XLWideString;\nvar write_XLSBCodeName = write_XLWideString;\n\n/* [MS-XLSB] 2.5.166 */\nfunction parse_XLNullableWideString(data/*::, length*/)/*:string*/ {\n\tvar cchCharacters = data.read_shift(4);\n\treturn cchCharacters === 0 || cchCharacters === 0xFFFFFFFF ? \"\" : data.read_shift(cchCharacters, 'dbcs');\n}\nfunction write_XLNullableWideString(data/*:string*/, o) {\n\tvar _null = false; if (o == null) { _null = true; o = new_buf(127); }\n\to.write_shift(4, data.length > 0 ? data.length : 0xFFFFFFFF);\n\tif (data.length > 0) o.write_shift(0, data, 'dbcs');\n\treturn _null ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.5.165 */\nvar parse_XLNameWideString = parse_XLWideString;\n//var write_XLNameWideString = write_XLWideString;\n\n/* [MS-XLSB] 2.5.114 */\nvar parse_RelID = parse_XLNullableWideString;\nvar write_RelID = write_XLNullableWideString;\n\n\n/* [MS-XLS] 2.5.217 ; [MS-XLSB] 2.5.122 */\nfunction parse_RkNumber(data)/*:number*/ {\n\tvar b = data.slice(data.l, data.l + 4);\n\tvar fX100 = (b[0] & 1), fInt = (b[0] & 2);\n\tdata.l += 4;\n\tvar RK = fInt === 0 ? __double([0, 0, 0, 0, (b[0] & 0xFC), b[1], b[2], b[3]], 0) : __readInt32LE(b, 0) >> 2;\n\treturn fX100 ? (RK / 100) : RK;\n}\nfunction write_RkNumber(data/*:number*/, o) {\n\tif (o == null) o = new_buf(4);\n\tvar fX100 = 0, fInt = 0, d100 = data * 100;\n\tif ((data == (data | 0)) && (data >= -(1 << 29)) && (data < (1 << 29))) { fInt = 1; }\n\telse if ((d100 == (d100 | 0)) && (d100 >= -(1 << 29)) && (d100 < (1 << 29))) { fInt = 1; fX100 = 1; }\n\tif (fInt) o.write_shift(-4, ((fX100 ? d100 : data) << 2) + (fX100 + 2));\n\telse throw new Error(\"unsupported RkNumber \" + data); // TODO\n}\n\n\n/* [MS-XLSB] 2.5.117 RfX */\nfunction parse_RfX(data /*::, length*/)/*:Range*/ {\n\tvar cell/*:Range*/ = ({ s: {}, e: {} }/*:any*/);\n\tcell.s.r = data.read_shift(4);\n\tcell.e.r = data.read_shift(4);\n\tcell.s.c = data.read_shift(4);\n\tcell.e.c = data.read_shift(4);\n\treturn cell;\n}\nfunction write_RfX(r/*:Range*/, o) {\n\tif (!o) o = new_buf(16);\n\to.write_shift(4, r.s.r);\n\to.write_shift(4, r.e.r);\n\to.write_shift(4, r.s.c);\n\to.write_shift(4, r.e.c);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.153 UncheckedRfX */\nvar parse_UncheckedRfX = parse_RfX;\nvar write_UncheckedRfX = write_RfX;\n\n/* [MS-XLSB] 2.5.155 UncheckedSqRfX */\n//function parse_UncheckedSqRfX(data) {\n//\tvar cnt = data.read_shift(4);\n//\tvar out = [];\n//\tfor(var i = 0; i < cnt; ++i) {\n//\t\tvar rng = parse_UncheckedRfX(data);\n//\t\tout.push(encode_range(rng));\n//\t}\n//\treturn out.join(\",\");\n//}\n//function write_UncheckedSqRfX(sqrfx/*:string*/) {\n//\tvar parts = sqrfx.split(/\\s*,\\s*/);\n//\tvar o = new_buf(4); o.write_shift(4, parts.length);\n//\tvar out = [o];\n//\tparts.forEach(function(rng) {\n//\t\tout.push(write_UncheckedRfX(safe_decode_range(rng)));\n//\t});\n//\treturn bconcat(out);\n//}\n\n/* [MS-XLS] 2.5.342 ; [MS-XLSB] 2.5.171 */\n/* TODO: error checking, NaN and Infinity values are not valid Xnum */\nfunction parse_Xnum(data/*::, length*/) {\n\tif(data.length - data.l < 8) throw \"XLS Xnum Buffer underflow\";\n\treturn data.read_shift(8, 'f');\n}\nfunction write_Xnum(data, o) { return (o || new_buf(8)).write_shift(8, data, 'f'); }\n\n/* [MS-XLSB] 2.4.324 BrtColor */\nfunction parse_BrtColor(data/*::, length*/) {\n\tvar out = {};\n\tvar d = data.read_shift(1);\n\n\t//var fValidRGB = d & 1;\n\tvar xColorType = d >>> 1;\n\n\tvar index = data.read_shift(1);\n\tvar nTS = data.read_shift(2, 'i');\n\tvar bR = data.read_shift(1);\n\tvar bG = data.read_shift(1);\n\tvar bB = data.read_shift(1);\n\tdata.l++; //var bAlpha = data.read_shift(1);\n\n\tswitch (xColorType) {\n\t\tcase 0: out.auto = 1; break;\n\t\tcase 1:\n\t\t\tout.index = index;\n\t\t\tvar icv = XLSIcv[index];\n\t\t\t/* automatic pseudo index 81 */\n\t\t\tif (icv) out.rgb = rgb2Hex(icv);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\t/* if(!fValidRGB) throw new Error(\"invalid\"); */\n\t\t\tout.rgb = rgb2Hex([bR, bG, bB]);\n\t\t\tbreak;\n\t\tcase 3: out.theme = index; break;\n\t}\n\tif (nTS != 0) out.tint = nTS > 0 ? nTS / 32767 : nTS / 32768;\n\n\treturn out;\n}\nfunction write_BrtColor(color, o) {\n\tif (!o) o = new_buf(8);\n\tif (!color || color.auto) { o.write_shift(4, 0); o.write_shift(4, 0); return o; }\n\tif (color.index != null) {\n\t\to.write_shift(1, 0x02);\n\t\to.write_shift(1, color.index);\n\t} else if (color.theme != null) {\n\t\to.write_shift(1, 0x06);\n\t\to.write_shift(1, color.theme);\n\t} else {\n\t\to.write_shift(1, 0x05);\n\t\to.write_shift(1, 0);\n\t}\n\tvar nTS = color.tint || 0;\n\tif (nTS > 0) nTS *= 32767;\n\telse if (nTS < 0) nTS *= 32768;\n\to.write_shift(2, nTS);\n\tif (!color.rgb || color.theme != null) {\n\t\to.write_shift(2, 0);\n\t\to.write_shift(1, 0);\n\t\to.write_shift(1, 0);\n\t} else {\n\t\tvar rgb = (color.rgb || 'FFFFFF');\n\t\tif (typeof rgb == 'number') rgb = (\"000000\" + rgb.toString(16)).slice(-6);\n\t\to.write_shift(1, parseInt(rgb.slice(0, 2), 16));\n\t\to.write_shift(1, parseInt(rgb.slice(2, 4), 16));\n\t\to.write_shift(1, parseInt(rgb.slice(4, 6), 16));\n\t\to.write_shift(1, 0xFF);\n\t}\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.52 */\nfunction parse_FontFlags(data/*::, length, opts*/) {\n\tvar d = data.read_shift(1);\n\tdata.l++;\n\tvar out = {\n\t\tfBold: d & 0x01,\n\t\tfItalic: d & 0x02,\n\t\tfUnderline: d & 0x04,\n\t\tfStrikeout: d & 0x08,\n\t\tfOutline: d & 0x10,\n\t\tfShadow: d & 0x20,\n\t\tfCondense: d & 0x40,\n\t\tfExtend: d & 0x80\n\t};\n\treturn out;\n}\nfunction write_FontFlags(font, o) {\n\tif (!o) o = new_buf(2);\n\tvar grbit =\n\t\t(font.italic ? 0x02 : 0) |\n\t\t(font.strike ? 0x08 : 0) |\n\t\t(font.outline ? 0x10 : 0) |\n\t\t(font.shadow ? 0x20 : 0) |\n\t\t(font.condense ? 0x40 : 0) |\n\t\t(font.extend ? 0x80 : 0);\n\to.write_shift(1, grbit);\n\to.write_shift(1, 0);\n\treturn o;\n}\n\n/* [MS-OLEDS] 2.3.1 and 2.3.2 */\nfunction parse_ClipboardFormatOrString(o, w/*:number*/)/*:string*/ {\n\t// $FlowIgnore\n\tvar ClipFmt = { 2: \"BITMAP\", 3: \"METAFILEPICT\", 8: \"DIB\", 14: \"ENHMETAFILE\" };\n\tvar m/*:number*/ = o.read_shift(4);\n\tswitch (m) {\n\t\tcase 0x00000000: return \"\";\n\t\tcase 0xffffffff: case 0xfffffffe: return ClipFmt[o.read_shift(4)] || \"\";\n\t}\n\tif (m > 0x190) throw new Error(\"Unsupported Clipboard: \" + m.toString(16));\n\to.l -= 4;\n\treturn o.read_shift(0, w == 1 ? \"lpstr\" : \"lpwstr\");\n}\nfunction parse_ClipboardFormatOrAnsiString(o) { return parse_ClipboardFormatOrString(o, 1); }\nfunction parse_ClipboardFormatOrUnicodeString(o) { return parse_ClipboardFormatOrString(o, 2); }\n\n/* [MS-OLEPS] 2.2 PropertyType */\n// Note: some tree shakers cannot handle VT_VECTOR | $CONST, hence extra vars\n//var VT_EMPTY    = 0x0000;\n//var VT_NULL     = 0x0001;\nvar VT_I2       = 0x0002;\nvar VT_I4       = 0x0003;\n//var VT_R4       = 0x0004;\n//var VT_R8       = 0x0005;\n//var VT_CY       = 0x0006;\n//var VT_DATE     = 0x0007;\n//var VT_BSTR     = 0x0008;\n//var VT_ERROR    = 0x000A;\nvar VT_BOOL     = 0x000B;\nvar VT_VARIANT  = 0x000C;\n//var VT_DECIMAL  = 0x000E;\n//var VT_I1       = 0x0010;\n//var VT_UI1      = 0x0011;\n//var VT_UI2      = 0x0012;\nvar VT_UI4      = 0x0013;\n//var VT_I8       = 0x0014;\n//var VT_UI8      = 0x0015;\n//var VT_INT      = 0x0016;\n//var VT_UINT     = 0x0017;\nvar VT_LPSTR    = 0x001E;\n//var VT_LPWSTR   = 0x001F;\nvar VT_FILETIME = 0x0040;\nvar VT_BLOB     = 0x0041;\n//var VT_STREAM   = 0x0042;\n//var VT_STORAGE  = 0x0043;\n//var VT_STREAMED_Object  = 0x0044;\n//var VT_STORED_Object    = 0x0045;\n//var VT_BLOB_Object      = 0x0046;\nvar VT_CF       = 0x0047;\n//var VT_CLSID    = 0x0048;\n//var VT_VERSIONED_STREAM = 0x0049;\nvar VT_VECTOR   = 0x1000;\nvar VT_VECTOR_VARIANT = 0x100C;\nvar VT_VECTOR_LPSTR   = 0x101E;\n//var VT_ARRAY    = 0x2000;\n\nvar VT_STRING   = 0x0050; // 2.3.3.1.11 VtString\nvar VT_USTR     = 0x0051; // 2.3.3.1.12 VtUnalignedString\nvar VT_CUSTOM   = [VT_STRING, VT_USTR];\n\n/* [MS-OSHARED] 2.3.3.2.2.1 Document Summary Information PIDDSI */\nvar DocSummaryPIDDSI = {\n\t/*::[*/0x01/*::]*/: { n: 'CodePage', t: VT_I2 },\n\t/*::[*/0x02/*::]*/: { n: 'Category', t: VT_STRING },\n\t/*::[*/0x03/*::]*/: { n: 'PresentationFormat', t: VT_STRING },\n\t/*::[*/0x04/*::]*/: { n: 'ByteCount', t: VT_I4 },\n\t/*::[*/0x05/*::]*/: { n: 'LineCount', t: VT_I4 },\n\t/*::[*/0x06/*::]*/: { n: 'ParagraphCount', t: VT_I4 },\n\t/*::[*/0x07/*::]*/: { n: 'SlideCount', t: VT_I4 },\n\t/*::[*/0x08/*::]*/: { n: 'NoteCount', t: VT_I4 },\n\t/*::[*/0x09/*::]*/: { n: 'HiddenCount', t: VT_I4 },\n\t/*::[*/0x0a/*::]*/: { n: 'MultimediaClipCount', t: VT_I4 },\n\t/*::[*/0x0b/*::]*/: { n: 'ScaleCrop', t: VT_BOOL },\n\t/*::[*/0x0c/*::]*/: { n: 'HeadingPairs', t: VT_VECTOR_VARIANT /* VT_VECTOR | VT_VARIANT */ },\n\t/*::[*/0x0d/*::]*/: { n: 'TitlesOfParts', t: VT_VECTOR_LPSTR /* VT_VECTOR | VT_LPSTR */ },\n\t/*::[*/0x0e/*::]*/: { n: 'Manager', t: VT_STRING },\n\t/*::[*/0x0f/*::]*/: { n: 'Company', t: VT_STRING },\n\t/*::[*/0x10/*::]*/: { n: 'LinksUpToDate', t: VT_BOOL },\n\t/*::[*/0x11/*::]*/: { n: 'CharacterCount', t: VT_I4 },\n\t/*::[*/0x13/*::]*/: { n: 'SharedDoc', t: VT_BOOL },\n\t/*::[*/0x16/*::]*/: { n: 'HyperlinksChanged', t: VT_BOOL },\n\t/*::[*/0x17/*::]*/: { n: 'AppVersion', t: VT_I4, p: 'version' },\n\t/*::[*/0x18/*::]*/: { n: 'DigSig', t: VT_BLOB },\n\t/*::[*/0x1A/*::]*/: { n: 'ContentType', t: VT_STRING },\n\t/*::[*/0x1B/*::]*/: { n: 'ContentStatus', t: VT_STRING },\n\t/*::[*/0x1C/*::]*/: { n: 'Language', t: VT_STRING },\n\t/*::[*/0x1D/*::]*/: { n: 'Version', t: VT_STRING },\n\t/*::[*/0xFF/*::]*/: {},\n\t/* [MS-OLEPS] 2.18 */\n\t/*::[*/0x80000000/*::]*/: { n: 'Locale', t: VT_UI4 },\n\t/*::[*/0x80000003/*::]*/: { n: 'Behavior', t: VT_UI4 },\n\t/*::[*/0x72627262/*::]*/: {}\n};\n\n/* [MS-OSHARED] 2.3.3.2.1.1 Summary Information Property Set PIDSI */\nvar SummaryPIDSI = {\n\t/*::[*/0x01/*::]*/: { n: 'CodePage', t: VT_I2 },\n\t/*::[*/0x02/*::]*/: { n: 'Title', t: VT_STRING },\n\t/*::[*/0x03/*::]*/: { n: 'Subject', t: VT_STRING },\n\t/*::[*/0x04/*::]*/: { n: 'Author', t: VT_STRING },\n\t/*::[*/0x05/*::]*/: { n: 'Keywords', t: VT_STRING },\n\t/*::[*/0x06/*::]*/: { n: 'Comments', t: VT_STRING },\n\t/*::[*/0x07/*::]*/: { n: 'Template', t: VT_STRING },\n\t/*::[*/0x08/*::]*/: { n: 'LastAuthor', t: VT_STRING },\n\t/*::[*/0x09/*::]*/: { n: 'RevNumber', t: VT_STRING },\n\t/*::[*/0x0A/*::]*/: { n: 'EditTime', t: VT_FILETIME },\n\t/*::[*/0x0B/*::]*/: { n: 'LastPrinted', t: VT_FILETIME },\n\t/*::[*/0x0C/*::]*/: { n: 'CreatedDate', t: VT_FILETIME },\n\t/*::[*/0x0D/*::]*/: { n: 'ModifiedDate', t: VT_FILETIME },\n\t/*::[*/0x0E/*::]*/: { n: 'PageCount', t: VT_I4 },\n\t/*::[*/0x0F/*::]*/: { n: 'WordCount', t: VT_I4 },\n\t/*::[*/0x10/*::]*/: { n: 'CharCount', t: VT_I4 },\n\t/*::[*/0x11/*::]*/: { n: 'Thumbnail', t: VT_CF },\n\t/*::[*/0x12/*::]*/: { n: 'Application', t: VT_STRING },\n\t/*::[*/0x13/*::]*/: { n: 'DocSecurity', t: VT_I4 },\n\t/*::[*/0xFF/*::]*/: {},\n\t/* [MS-OLEPS] 2.18 */\n\t/*::[*/0x80000000/*::]*/: { n: 'Locale', t: VT_UI4 },\n\t/*::[*/0x80000003/*::]*/: { n: 'Behavior', t: VT_UI4 },\n\t/*::[*/0x72627262/*::]*/: {}\n};\n\n/* [MS-XLS] 2.4.63 Country/Region codes */\nvar CountryEnum = {\n\t/*::[*/0x0001/*::]*/: \"US\", // United States\n\t/*::[*/0x0002/*::]*/: \"CA\", // Canada\n\t/*::[*/0x0003/*::]*/: \"\", // Latin America (except Brazil)\n\t/*::[*/0x0007/*::]*/: \"RU\", // Russia\n\t/*::[*/0x0014/*::]*/: \"EG\", // Egypt\n\t/*::[*/0x001E/*::]*/: \"GR\", // Greece\n\t/*::[*/0x001F/*::]*/: \"NL\", // Netherlands\n\t/*::[*/0x0020/*::]*/: \"BE\", // Belgium\n\t/*::[*/0x0021/*::]*/: \"FR\", // France\n\t/*::[*/0x0022/*::]*/: \"ES\", // Spain\n\t/*::[*/0x0024/*::]*/: \"HU\", // Hungary\n\t/*::[*/0x0027/*::]*/: \"IT\", // Italy\n\t/*::[*/0x0029/*::]*/: \"CH\", // Switzerland\n\t/*::[*/0x002B/*::]*/: \"AT\", // Austria\n\t/*::[*/0x002C/*::]*/: \"GB\", // United Kingdom\n\t/*::[*/0x002D/*::]*/: \"DK\", // Denmark\n\t/*::[*/0x002E/*::]*/: \"SE\", // Sweden\n\t/*::[*/0x002F/*::]*/: \"NO\", // Norway\n\t/*::[*/0x0030/*::]*/: \"PL\", // Poland\n\t/*::[*/0x0031/*::]*/: \"DE\", // Germany\n\t/*::[*/0x0034/*::]*/: \"MX\", // Mexico\n\t/*::[*/0x0037/*::]*/: \"BR\", // Brazil\n\t/*::[*/0x003d/*::]*/: \"AU\", // Australia\n\t/*::[*/0x0040/*::]*/: \"NZ\", // New Zealand\n\t/*::[*/0x0042/*::]*/: \"TH\", // Thailand\n\t/*::[*/0x0051/*::]*/: \"JP\", // Japan\n\t/*::[*/0x0052/*::]*/: \"KR\", // Korea\n\t/*::[*/0x0054/*::]*/: \"VN\", // Viet Nam\n\t/*::[*/0x0056/*::]*/: \"CN\", // China\n\t/*::[*/0x005A/*::]*/: \"TR\", // Turkey\n\t/*::[*/0x0069/*::]*/: \"JS\", // Ramastan\n\t/*::[*/0x00D5/*::]*/: \"DZ\", // Algeria\n\t/*::[*/0x00D8/*::]*/: \"MA\", // Morocco\n\t/*::[*/0x00DA/*::]*/: \"LY\", // Libya\n\t/*::[*/0x015F/*::]*/: \"PT\", // Portugal\n\t/*::[*/0x0162/*::]*/: \"IS\", // Iceland\n\t/*::[*/0x0166/*::]*/: \"FI\", // Finland\n\t/*::[*/0x01A4/*::]*/: \"CZ\", // Czech Republic\n\t/*::[*/0x0376/*::]*/: \"TW\", // Taiwan\n\t/*::[*/0x03C1/*::]*/: \"LB\", // Lebanon\n\t/*::[*/0x03C2/*::]*/: \"JO\", // Jordan\n\t/*::[*/0x03C3/*::]*/: \"SY\", // Syria\n\t/*::[*/0x03C4/*::]*/: \"IQ\", // Iraq\n\t/*::[*/0x03C5/*::]*/: \"KW\", // Kuwait\n\t/*::[*/0x03C6/*::]*/: \"SA\", // Saudi Arabia\n\t/*::[*/0x03CB/*::]*/: \"AE\", // United Arab Emirates\n\t/*::[*/0x03CC/*::]*/: \"IL\", // Israel\n\t/*::[*/0x03CE/*::]*/: \"QA\", // Qatar\n\t/*::[*/0x03D5/*::]*/: \"IR\", // Iran\n\t/*::[*/0xFFFF/*::]*/: \"US\"  // United States\n};\n\n/* [MS-XLS] 2.5.127 */\nvar XLSFillPattern = [\n\tnull,\n\t'solid',\n\t'mediumGray',\n\t'darkGray',\n\t'lightGray',\n\t'darkHorizontal',\n\t'darkVertical',\n\t'darkDown',\n\t'darkUp',\n\t'darkGrid',\n\t'darkTrellis',\n\t'lightHorizontal',\n\t'lightVertical',\n\t'lightDown',\n\t'lightUp',\n\t'lightGrid',\n\t'lightTrellis',\n\t'gray125',\n\t'gray0625'\n];\n\nfunction rgbify(arr/*:Array<number>*/)/*:Array<[number, number, number]>*/ { return arr.map(function(x) { return [(x>>16)&255,(x>>8)&255,x&255]; }); }\n\n/* [MS-XLS] 2.5.161 */\n/* [MS-XLSB] 2.5.75 Icv */\nvar _XLSIcv = /*#__PURE__*/ rgbify([\n\t/* Color Constants */\n\t0x000000,\n\t0xFFFFFF,\n\t0xFF0000,\n\t0x00FF00,\n\t0x0000FF,\n\t0xFFFF00,\n\t0xFF00FF,\n\t0x00FFFF,\n\n\t/* Overridable Defaults */\n\t0x000000,\n\t0xFFFFFF,\n\t0xFF0000,\n\t0x00FF00,\n\t0x0000FF,\n\t0xFFFF00,\n\t0xFF00FF,\n\t0x00FFFF,\n\n\t0x800000,\n\t0x008000,\n\t0x000080,\n\t0x808000,\n\t0x800080,\n\t0x008080,\n\t0xC0C0C0,\n\t0x808080,\n\t0x9999FF,\n\t0x993366,\n\t0xFFFFCC,\n\t0xCCFFFF,\n\t0x660066,\n\t0xFF8080,\n\t0x0066CC,\n\t0xCCCCFF,\n\n\t0x000080,\n\t0xFF00FF,\n\t0xFFFF00,\n\t0x00FFFF,\n\t0x800080,\n\t0x800000,\n\t0x008080,\n\t0x0000FF,\n\t0x00CCFF,\n\t0xCCFFFF,\n\t0xCCFFCC,\n\t0xFFFF99,\n\t0x99CCFF,\n\t0xFF99CC,\n\t0xCC99FF,\n\t0xFFCC99,\n\n\t0x3366FF,\n\t0x33CCCC,\n\t0x99CC00,\n\t0xFFCC00,\n\t0xFF9900,\n\t0xFF6600,\n\t0x666699,\n\t0x969696,\n\t0x003366,\n\t0x339966,\n\t0x003300,\n\t0x333300,\n\t0x993300,\n\t0x993366,\n\t0x333399,\n\t0x333333,\n\n\t/* Other entries to appease BIFF8/12 */\n\t0xFFFFFF, /* 0x40 icvForeground ?? */\n\t0x000000, /* 0x41 icvBackground ?? */\n\t0x000000, /* 0x42 icvFrame ?? */\n\t0x000000, /* 0x43 icv3D ?? */\n\t0x000000, /* 0x44 icv3DText ?? */\n\t0x000000, /* 0x45 icv3DHilite ?? */\n\t0x000000, /* 0x46 icv3DShadow ?? */\n\t0x000000, /* 0x47 icvHilite ?? */\n\t0x000000, /* 0x48 icvCtlText ?? */\n\t0x000000, /* 0x49 icvCtlScrl ?? */\n\t0x000000, /* 0x4A icvCtlInv ?? */\n\t0x000000, /* 0x4B icvCtlBody ?? */\n\t0x000000, /* 0x4C icvCtlFrame ?? */\n\t0x000000, /* 0x4D icvCtlFore ?? */\n\t0x000000, /* 0x4E icvCtlBack ?? */\n\t0x000000, /* 0x4F icvCtlNeutral */\n\t0x000000, /* 0x50 icvInfoBk ?? */\n\t0x000000 /* 0x51 icvInfoText ?? */\n]);\nvar XLSIcv = /*#__PURE__*/dup(_XLSIcv);\n\n/* [MS-XLSB] 2.5.97.2 */\nvar BErr = {\n\t/*::[*/0x00/*::]*/: \"#NULL!\",\n\t/*::[*/0x07/*::]*/: \"#DIV/0!\",\n\t/*::[*/0x0F/*::]*/: \"#VALUE!\",\n\t/*::[*/0x17/*::]*/: \"#REF!\",\n\t/*::[*/0x1D/*::]*/: \"#NAME?\",\n\t/*::[*/0x24/*::]*/: \"#NUM!\",\n\t/*::[*/0x2A/*::]*/: \"#N/A\",\n\t/*::[*/0x2B/*::]*/: \"#GETTING_DATA\",\n\t/*::[*/0xFF/*::]*/: \"#WTF?\"\n};\n//var RBErr = evert_num(BErr);\nvar RBErr = {\n\t\"#NULL!\":        0x00,\n\t\"#DIV/0!\":       0x07,\n\t\"#VALUE!\":       0x0F,\n\t\"#REF!\":         0x17,\n\t\"#NAME?\":        0x1D,\n\t\"#NUM!\":         0x24,\n\t\"#N/A\":          0x2A,\n\t\"#GETTING_DATA\": 0x2B,\n\t\"#WTF?\":         0xFF\n};\n\n/* Parts enumerated in OPC spec, MS-XLSB and MS-XLSX */\n/* 12.3 Part Summary <SpreadsheetML> */\n/* 14.2 Part Summary <DrawingML> */\n/* [MS-XLSX] 2.1 Part Enumerations ; [MS-XLSB] 2.1.7 Part Enumeration */\nvar ct2type/*{[string]:string}*/ = ({\n\t/* Workbook */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\": \"workbooks\",\n\t\"application/vnd.ms-excel.sheet.macroEnabled.main+xml\": \"workbooks\",\n\t\"application/vnd.ms-excel.sheet.binary.macroEnabled.main\": \"workbooks\",\n\t\"application/vnd.ms-excel.addin.macroEnabled.main+xml\": \"workbooks\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml\": \"workbooks\",\n\n\t/* Worksheet */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\": \"sheets\",\n\t\"application/vnd.ms-excel.worksheet\": \"sheets\",\n\t\"application/vnd.ms-excel.binIndexWs\": \"TODO\", /* Binary Index */\n\n\t/* Chartsheet */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml\": \"charts\",\n\t\"application/vnd.ms-excel.chartsheet\": \"charts\",\n\n\t/* Macrosheet */\n\t\"application/vnd.ms-excel.macrosheet+xml\": \"macros\",\n\t\"application/vnd.ms-excel.macrosheet\": \"macros\",\n\t\"application/vnd.ms-excel.intlmacrosheet\": \"TODO\",\n\t\"application/vnd.ms-excel.binIndexMs\": \"TODO\", /* Binary Index */\n\n\t/* Dialogsheet */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml\": \"dialogs\",\n\t\"application/vnd.ms-excel.dialogsheet\": \"dialogs\",\n\n\t/* Shared Strings */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\": \"strs\",\n\t\"application/vnd.ms-excel.sharedStrings\": \"strs\",\n\n\t/* Styles */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\": \"styles\",\n\t\"application/vnd.ms-excel.styles\": \"styles\",\n\n\t/* File Properties */\n\t\"application/vnd.openxmlformats-package.core-properties+xml\": \"coreprops\",\n\t\"application/vnd.openxmlformats-officedocument.custom-properties+xml\": \"custprops\",\n\t\"application/vnd.openxmlformats-officedocument.extended-properties+xml\": \"extprops\",\n\n\t/* Custom Data Properties */\n\t\"application/vnd.openxmlformats-officedocument.customXmlProperties+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty\": \"TODO\",\n\n\t/* Comments */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml\": \"comments\",\n\t\"application/vnd.ms-excel.comments\": \"comments\",\n\t\"application/vnd.ms-excel.threadedcomments+xml\": \"threadedcomments\",\n\t\"application/vnd.ms-excel.person+xml\": \"people\",\n\n\t/* Metadata (Stock/Geography and Dynamic Array) */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml\": \"metadata\",\n\t\"application/vnd.ms-excel.sheetMetadata\": \"metadata\",\n\n\t/* PivotTable */\n\t\"application/vnd.ms-excel.pivotTable\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml\": \"TODO\",\n\n\t/* Chart Objects */\n\t\"application/vnd.openxmlformats-officedocument.drawingml.chart+xml\": \"TODO\",\n\n\t/* Chart Colors */\n\t\"application/vnd.ms-office.chartcolorstyle+xml\": \"TODO\",\n\n\t/* Chart Style */\n\t\"application/vnd.ms-office.chartstyle+xml\": \"TODO\",\n\n\t/* Chart Advanced */\n\t\"application/vnd.ms-office.chartex+xml\": \"TODO\",\n\n\t/* Calculation Chain */\n\t\"application/vnd.ms-excel.calcChain\": \"calcchains\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml\": \"calcchains\",\n\n\t/* Printer Settings */\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings\": \"TODO\",\n\n\t/* ActiveX */\n\t\"application/vnd.ms-office.activeX\": \"TODO\",\n\t\"application/vnd.ms-office.activeX+xml\": \"TODO\",\n\n\t/* Custom Toolbars */\n\t\"application/vnd.ms-excel.attachedToolbars\": \"TODO\",\n\n\t/* External Data Connections */\n\t\"application/vnd.ms-excel.connections\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml\": \"TODO\",\n\n\t/* External Links */\n\t\"application/vnd.ms-excel.externalLink\": \"links\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml\": \"links\",\n\n\t/* PivotCache */\n\t\"application/vnd.ms-excel.pivotCacheDefinition\": \"TODO\",\n\t\"application/vnd.ms-excel.pivotCacheRecords\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml\": \"TODO\",\n\n\t/* Query Table */\n\t\"application/vnd.ms-excel.queryTable\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml\": \"TODO\",\n\n\t/* Shared Workbook */\n\t\"application/vnd.ms-excel.userNames\": \"TODO\",\n\t\"application/vnd.ms-excel.revisionHeaders\": \"TODO\",\n\t\"application/vnd.ms-excel.revisionLog\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml\": \"TODO\",\n\n\t/* Single Cell Table */\n\t\"application/vnd.ms-excel.tableSingleCells\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml\": \"TODO\",\n\n\t/* Slicer */\n\t\"application/vnd.ms-excel.slicer\": \"TODO\",\n\t\"application/vnd.ms-excel.slicerCache\": \"TODO\",\n\t\"application/vnd.ms-excel.slicer+xml\": \"TODO\",\n\t\"application/vnd.ms-excel.slicerCache+xml\": \"TODO\",\n\n\t/* Sort Map */\n\t\"application/vnd.ms-excel.wsSortMap\": \"TODO\",\n\n\t/* Table */\n\t\"application/vnd.ms-excel.table\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml\": \"TODO\",\n\n\t/* Themes */\n\t\"application/vnd.openxmlformats-officedocument.theme+xml\": \"themes\",\n\n\t/* Theme Override */\n\t\"application/vnd.openxmlformats-officedocument.themeOverride+xml\": \"TODO\",\n\n\t/* Timeline */\n\t\"application/vnd.ms-excel.Timeline+xml\": \"TODO\", /* verify */\n\t\"application/vnd.ms-excel.TimelineCache+xml\": \"TODO\", /* verify */\n\n\t/* VBA */\n\t\"application/vnd.ms-office.vbaProject\": \"vba\",\n\t\"application/vnd.ms-office.vbaProjectSignature\": \"TODO\",\n\n\t/* Volatile Dependencies */\n\t\"application/vnd.ms-office.volatileDependencies\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml\": \"TODO\",\n\n\t/* Control Properties */\n\t\"application/vnd.ms-excel.controlproperties+xml\": \"TODO\",\n\n\t/* Data Model */\n\t\"application/vnd.openxmlformats-officedocument.model+data\": \"TODO\",\n\n\t/* Survey */\n\t\"application/vnd.ms-excel.Survey+xml\": \"TODO\",\n\n\t/* Drawing */\n\t\"application/vnd.openxmlformats-officedocument.drawing+xml\": \"drawings\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml\": \"TODO\",\n\t\"application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml\": \"TODO\",\n\n\t/* VML */\n\t\"application/vnd.openxmlformats-officedocument.vmlDrawing\": \"TODO\",\n\n\t\"application/vnd.openxmlformats-package.relationships+xml\": \"rels\",\n\t\"application/vnd.openxmlformats-officedocument.oleObject\": \"TODO\",\n\n\t/* Image */\n\t\"image/png\": \"TODO\",\n\n\t\"sheet\": \"js\"\n}/*:any*/);\n\nvar CT_LIST = {\n\t\tworkbooks: {\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\",\n\t\t\txlsm: \"application/vnd.ms-excel.sheet.macroEnabled.main+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.sheet.binary.macroEnabled.main\",\n\t\t\txlam: \"application/vnd.ms-excel.addin.macroEnabled.main+xml\",\n\t\t\txltx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml\"\n\t\t},\n\t\tstrs: { /* Shared Strings */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.sharedStrings\"\n\t\t},\n\t\tcomments: { /* Comments */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.comments\"\n\t\t},\n\t\tsheets: { /* Worksheet */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.worksheet\"\n\t\t},\n\t\tcharts: { /* Chartsheet */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.chartsheet\"\n\t\t},\n\t\tdialogs: { /* Dialogsheet */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.dialogsheet\"\n\t\t},\n\t\tmacros: { /* Macrosheet (Excel 4.0 Macros) */\n\t\t\txlsx: \"application/vnd.ms-excel.macrosheet+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.macrosheet\"\n\t\t},\n\t\tmetadata: { /* Metadata (Stock/Geography and Dynamic Array) */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.sheetMetadata\"\n\t\t},\n\t\tstyles: { /* Styles */\n\t\t\txlsx: \"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\",\n\t\t\txlsb: \"application/vnd.ms-excel.styles\"\n\t\t}\n};\n\nfunction new_ct()/*:any*/ {\n\treturn ({\n\t\tworkbooks:[], sheets:[], charts:[], dialogs:[], macros:[],\n\t\trels:[], strs:[], comments:[], threadedcomments:[], links:[],\n\t\tcoreprops:[], extprops:[], custprops:[], themes:[], styles:[],\n\t\tcalcchains:[], vba: [], drawings: [], metadata: [], people:[],\n\t\tTODO:[], xmlns: \"\" }/*:any*/);\n}\n\nfunction parse_ct(data/*:?string*/) {\n\tvar ct = new_ct();\n\tif(!data || !data.match) return ct;\n\tvar ctext = {};\n\t(data.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(y[0].replace(nsregex,\"<\")) {\n\t\t\tcase '<?xml': break;\n\t\t\tcase '<Types': ct.xmlns = y['xmlns' + (y[0].match(/<(\\w+):/)||[\"\",\"\"])[1] ]; break;\n\t\t\tcase '<Default': ctext[y.Extension] = y.ContentType; break;\n\t\t\tcase '<Override':\n\t\t\t\tif(ct[ct2type[y.ContentType]] !== undefined) ct[ct2type[y.ContentType]].push(y.PartName);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\tif(ct.xmlns !== XMLNS.CT) throw new Error(\"Unknown Namespace: \" + ct.xmlns);\n\tct.calcchain = ct.calcchains.length > 0 ? ct.calcchains[0] : \"\";\n\tct.sst = ct.strs.length > 0 ? ct.strs[0] : \"\";\n\tct.style = ct.styles.length > 0 ? ct.styles[0] : \"\";\n\tct.defaults = ctext;\n\tdelete ct.calcchains;\n\treturn ct;\n}\n\nfunction write_ct(ct, opts)/*:string*/ {\n\tvar type2ct/*{[string]:Array<string>}*/ = evert_arr(ct2type);\n\n\tvar o/*:Array<string>*/ = [], v;\n\to[o.length] = (XML_HEADER);\n\to[o.length] = writextag('Types', null, {\n\t\t'xmlns': XMLNS.CT,\n\t\t'xmlns:xsd': XMLNS.xsd,\n\t\t'xmlns:xsi': XMLNS.xsi\n\t});\n\n\to = o.concat([\n\t\t['xml', 'application/xml'],\n\t\t['bin', 'application/vnd.ms-excel.sheet.binary.macroEnabled.main'],\n\t\t['vml', 'application/vnd.openxmlformats-officedocument.vmlDrawing'],\n\t\t['data', 'application/vnd.openxmlformats-officedocument.model+data'],\n\t\t/* from test files */\n\t\t['bmp', 'image/bmp'],\n\t\t['png', 'image/png'],\n\t\t['gif', 'image/gif'],\n\t\t['emf', 'image/x-emf'],\n\t\t['wmf', 'image/x-wmf'],\n\t\t['jpg', 'image/jpeg'], ['jpeg', 'image/jpeg'],\n\t\t['tif', 'image/tiff'], ['tiff', 'image/tiff'],\n\t\t['pdf', 'application/pdf'],\n\t\t['rels', 'application/vnd.openxmlformats-package.relationships+xml']\n\t].map(function(x) {\n\t\treturn writextag('Default', null, {'Extension':x[0], 'ContentType': x[1]});\n\t}));\n\n\t/* only write first instance */\n\tvar f1 = function(w) {\n\t\tif(ct[w] && ct[w].length > 0) {\n\t\t\tv = ct[w][0];\n\t\t\to[o.length] = (writextag('Override', null, {\n\t\t\t\t'PartName': (v[0] == '/' ? \"\":\"/\") + v,\n\t\t\t\t'ContentType': CT_LIST[w][opts.bookType] || CT_LIST[w]['xlsx']\n\t\t\t}));\n\t\t}\n\t};\n\n\t/* book type-specific */\n\tvar f2 = function(w) {\n\t\t(ct[w]||[]).forEach(function(v) {\n\t\t\to[o.length] = (writextag('Override', null, {\n\t\t\t\t'PartName': (v[0] == '/' ? \"\":\"/\") + v,\n\t\t\t\t'ContentType': CT_LIST[w][opts.bookType] || CT_LIST[w]['xlsx']\n\t\t\t}));\n\t\t});\n\t};\n\n\t/* standard type */\n\tvar f3 = function(t) {\n\t\t(ct[t]||[]).forEach(function(v) {\n\t\t\to[o.length] = (writextag('Override', null, {\n\t\t\t\t'PartName': (v[0] == '/' ? \"\":\"/\") + v,\n\t\t\t\t'ContentType': type2ct[t][0]\n\t\t\t}));\n\t\t});\n\t};\n\n\tf1('workbooks');\n\tf2('sheets');\n\tf2('charts');\n\tf3('themes');\n\t['strs', 'styles'].forEach(f1);\n\t['coreprops', 'extprops', 'custprops'].forEach(f3);\n\tf3('vba');\n\tf3('comments');\n\tf3('threadedcomments');\n\tf3('drawings');\n\tf2('metadata');\n\tf3('people');\n\tif(o.length>2){ o[o.length] = ('</Types>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* 9.3 Relationships */\nvar RELS = ({\n\tWB: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\",\n\tSHEET: \"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument\",\n\tHLINK: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\",\n\tVML: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing\",\n\tXPATH: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath\",\n\tXMISS: \"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing\",\n\tXLINK: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink\",\n\tCXML: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml\",\n\tCXMLP: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps\",\n\tCMNT: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments\",\n\tCORE_PROPS: \"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\",\n\tEXT_PROPS: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties',\n\tCUST_PROPS: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties',\n\tSST: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\",\n\tSTY: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\",\n\tTHEME: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme\",\n\tCHART: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart\",\n\tCHARTEX: \"http://schemas.microsoft.com/office/2014/relationships/chartEx\",\n\tCS: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet\",\n\tWS: [\n\t\t\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\",\n\t\t\"http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet\"\n\t],\n\tDS: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet\",\n\tMS: \"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet\",\n\tIMG: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\",\n\tDRAW: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing\",\n\tXLMETA: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata\",\n\tTCMNT: \"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment\",\n\tPEOPLE: \"http://schemas.microsoft.com/office/2017/10/relationships/person\",\n\tVBA: \"http://schemas.microsoft.com/office/2006/relationships/vbaProject\"\n}/*:any*/);\n\n\n/* 9.3.3 Representing Relationships */\nfunction get_rels_path(file/*:string*/)/*:string*/ {\n\tvar n = file.lastIndexOf(\"/\");\n\treturn file.slice(0,n+1) + '_rels/' + file.slice(n+1) + \".rels\";\n}\n\nfunction parse_rels(data/*:?string*/, currentFilePath/*:string*/) {\n\tvar rels = {\"!id\":{}};\n\tif (!data) return rels;\n\tif (currentFilePath.charAt(0) !== '/') {\n\t\tcurrentFilePath = '/'+currentFilePath;\n\t}\n\tvar hash = {};\n\n\t(data.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\t/* 9.3.2.2 OPC_Relationships */\n\t\tif (y[0] === '<Relationship') {\n\t\t\tvar rel = {}; rel.Type = y.Type; rel.Target = y.Target; rel.Id = y.Id; if(y.TargetMode) rel.TargetMode = y.TargetMode;\n\t\t\tvar canonictarget = y.TargetMode === 'External' ? y.Target : resolve_path(y.Target, currentFilePath);\n\t\t\trels[canonictarget] = rel;\n\t\t\thash[y.Id] = rel;\n\t\t}\n\t});\n\trels[\"!id\"] = hash;\n\treturn rels;\n}\n\n\n/* TODO */\nfunction write_rels(rels)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('Relationships', null, {\n\t\t//'xmlns:ns0': XMLNS.RELS,\n\t\t'xmlns': XMLNS.RELS\n\t})];\n\tkeys(rels['!id']).forEach(function(rid) {\n\t\to[o.length] = (writextag('Relationship', null, rels['!id'][rid]));\n\t});\n\tif(o.length>2){ o[o.length] = ('</Relationships>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n\nfunction add_rels(rels, rId/*:number*/, f, type, relobj, targetmode/*:?string*/)/*:number*/ {\n\tif(!relobj) relobj = {};\n\tif(!rels['!id']) rels['!id'] = {};\n\tif(!rels['!idx']) rels['!idx'] = 1;\n\tif(rId < 0) for(rId = rels['!idx']; rels['!id']['rId' + rId]; ++rId){/* empty */}\n\trels['!idx'] = rId + 1;\n\trelobj.Id = 'rId' + rId;\n\trelobj.Type = type;\n\trelobj.Target = f;\n\tif(targetmode) relobj.TargetMode = targetmode;\n\telse if([RELS.HLINK, RELS.XPATH, RELS.XMISS].indexOf(relobj.Type) > -1) relobj.TargetMode = \"External\";\n\tif(rels['!id'][relobj.Id]) throw new Error(\"Cannot rewrite rId \" + rId);\n\trels['!id'][relobj.Id] = relobj;\n\trels[('/' + relobj.Target).replace(\"//\",\"/\")] = relobj;\n\treturn rId;\n}\n/* Open Document Format for Office Applications (OpenDocument) Version 1.2 */\n/* Part 3 Section 4 Manifest File */\nvar CT_ODS = \"application/vnd.oasis.opendocument.spreadsheet\";\nfunction parse_manifest(d, opts) {\n\tvar str = xlml_normalize(d);\n\tvar Rn;\n\tvar FEtag;\n\twhile((Rn = xlmlregex.exec(str))) switch(Rn[3]) {\n\t\tcase 'manifest': break; // 4.2 <manifest:manifest>\n\t\tcase 'file-entry': // 4.3 <manifest:file-entry>\n\t\t\tFEtag = parsexmltag(Rn[0], false);\n\t\t\tif(FEtag.path == '/' && FEtag.type !== CT_ODS) throw new Error(\"This OpenDocument is not a spreadsheet\");\n\t\t\tbreak;\n\t\tcase 'encryption-data': // 4.4 <manifest:encryption-data>\n\t\tcase 'algorithm': // 4.5 <manifest:algorithm>\n\t\tcase 'start-key-generation': // 4.6 <manifest:start-key-generation>\n\t\tcase 'key-derivation': // 4.7 <manifest:key-derivation>\n\t\t\tthrow new Error(\"Unsupported ODS Encryption\");\n\t\tdefault: if(opts && opts.WTF) throw Rn;\n\t}\n}\n\nfunction write_manifest(manifest/*:Array<Array<string> >*/)/*:string*/ {\n\tvar o = [XML_HEADER];\n\to.push('<manifest:manifest xmlns:manifest=\"urn:oasis:names:tc:opendocument:xmlns:manifest:1.0\" manifest:version=\"1.2\">\\n');\n\to.push('  <manifest:file-entry manifest:full-path=\"/\" manifest:version=\"1.2\" manifest:media-type=\"application/vnd.oasis.opendocument.spreadsheet\"/>\\n');\n\tfor(var i = 0; i < manifest.length; ++i) o.push('  <manifest:file-entry manifest:full-path=\"' + manifest[i][0] + '\" manifest:media-type=\"' + manifest[i][1] + '\"/>\\n');\n\to.push('</manifest:manifest>');\n\treturn o.join(\"\");\n}\n\n/* Part 3 Section 6 Metadata Manifest File */\nfunction write_rdf_type(file/*:string*/, res/*:string*/, tag/*:?string*/) {\n\treturn [\n\t\t'  <rdf:Description rdf:about=\"' + file + '\">\\n',\n\t\t'    <rdf:type rdf:resource=\"http://docs.oasis-open.org/ns/office/1.2/meta/' + (tag || \"odf\") + '#' + res + '\"/>\\n',\n\t\t'  </rdf:Description>\\n'\n\t].join(\"\");\n}\nfunction write_rdf_has(base/*:string*/, file/*:string*/) {\n\treturn [\n\t\t'  <rdf:Description rdf:about=\"' + base + '\">\\n',\n\t\t'    <ns0:hasPart xmlns:ns0=\"http://docs.oasis-open.org/ns/office/1.2/meta/pkg#\" rdf:resource=\"' + file + '\"/>\\n',\n\t\t'  </rdf:Description>\\n'\n\t].join(\"\");\n}\nfunction write_rdf(rdf) {\n\tvar o = [XML_HEADER];\n\to.push('<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\\n');\n\tfor(var i = 0; i != rdf.length; ++i) {\n\t\to.push(write_rdf_type(rdf[i][0], rdf[i][1]));\n\t\to.push(write_rdf_has(\"\",rdf[i][0]));\n\t}\n\to.push(write_rdf_type(\"\",\"Document\", \"pkg\"));\n\to.push('</rdf:RDF>');\n\treturn o.join(\"\");\n}\n/* TODO: pull properties */\nfunction write_meta_ods(/*:: wb: Workbook, opts: any*/)/*:string*/ {\n\treturn '<office:document-meta xmlns:office=\"urn:oasis:names:tc:opendocument:xmlns:office:1.0\" xmlns:meta=\"urn:oasis:names:tc:opendocument:xmlns:meta:1.0\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" office:version=\"1.2\"><office:meta><meta:generator>Sheet' + 'JS ' + XLSX.version + '</meta:generator></office:meta></office:document-meta>';\n}\n\n/* ECMA-376 Part II 11.1 Core Properties Part */\n/* [MS-OSHARED] 2.3.3.2.[1-2].1 (PIDSI/PIDDSI) */\nvar CORE_PROPS/*:Array<Array<string> >*/ = [\n\t[\"cp:category\", \"Category\"],\n\t[\"cp:contentStatus\", \"ContentStatus\"],\n\t[\"cp:keywords\", \"Keywords\"],\n\t[\"cp:lastModifiedBy\", \"LastAuthor\"],\n\t[\"cp:lastPrinted\", \"LastPrinted\"],\n\t[\"cp:revision\", \"RevNumber\"],\n\t[\"cp:version\", \"Version\"],\n\t[\"dc:creator\", \"Author\"],\n\t[\"dc:description\", \"Comments\"],\n\t[\"dc:identifier\", \"Identifier\"],\n\t[\"dc:language\", \"Language\"],\n\t[\"dc:subject\", \"Subject\"],\n\t[\"dc:title\", \"Title\"],\n\t[\"dcterms:created\", \"CreatedDate\", 'date'],\n\t[\"dcterms:modified\", \"ModifiedDate\", 'date']\n];\n\nvar CORE_PROPS_REGEX/*:Array<RegExp>*/ = /*#__PURE__*/(function() {\n\tvar r = new Array(CORE_PROPS.length);\n\tfor(var i = 0; i < CORE_PROPS.length; ++i) {\n\t\tvar f = CORE_PROPS[i];\n\t\tvar g = \"(?:\"+ f[0].slice(0,f[0].indexOf(\":\")) +\":)\"+ f[0].slice(f[0].indexOf(\":\")+1);\n\t\tr[i] = new RegExp(\"<\" + g + \"[^>]*>([\\\\s\\\\S]*?)<\\/\" + g + \">\");\n\t}\n\treturn r;\n})();\n\nfunction parse_core_props(data) {\n\tvar p = {};\n\tdata = utf8read(data);\n\n\tfor(var i = 0; i < CORE_PROPS.length; ++i) {\n\t\tvar f = CORE_PROPS[i], cur = data.match(CORE_PROPS_REGEX[i]);\n\t\tif(cur != null && cur.length > 0) p[f[1]] = unescapexml(cur[1]);\n\t\tif(f[2] === 'date' && p[f[1]]) p[f[1]] = parseDate(p[f[1]]);\n\t}\n\n\treturn p;\n}\n\nfunction cp_doit(f, g, h, o, p) {\n\tif(p[f] != null || g == null || g === \"\") return;\n\tp[f] = g;\n\tg = escapexml(g);\n\to[o.length] = (h ? writextag(f,g,h) : writetag(f,g));\n}\n\nfunction write_core_props(cp, _opts) {\n\tvar opts = _opts || {};\n\tvar o = [XML_HEADER, writextag('cp:coreProperties', null, {\n\t\t//'xmlns': XMLNS.CORE_PROPS,\n\t\t'xmlns:cp': XMLNS.CORE_PROPS,\n\t\t'xmlns:dc': XMLNS.dc,\n\t\t'xmlns:dcterms': XMLNS.dcterms,\n\t\t'xmlns:dcmitype': XMLNS.dcmitype,\n\t\t'xmlns:xsi': XMLNS.xsi\n\t})], p = {};\n\tif(!cp && !opts.Props) return o.join(\"\");\n\n\tif(cp) {\n\t\tif(cp.CreatedDate != null) cp_doit(\"dcterms:created\", typeof cp.CreatedDate === \"string\" ? cp.CreatedDate : write_w3cdtf(cp.CreatedDate, opts.WTF), {\"xsi:type\":\"dcterms:W3CDTF\"}, o, p);\n\t\tif(cp.ModifiedDate != null) cp_doit(\"dcterms:modified\", typeof cp.ModifiedDate === \"string\" ? cp.ModifiedDate : write_w3cdtf(cp.ModifiedDate, opts.WTF), {\"xsi:type\":\"dcterms:W3CDTF\"}, o, p);\n\t}\n\n\tfor(var i = 0; i != CORE_PROPS.length; ++i) {\n\t\tvar f = CORE_PROPS[i];\n\t\tvar v = opts.Props && opts.Props[f[1]] != null ? opts.Props[f[1]] : cp ? cp[f[1]] : null;\n\t\tif(v === true) v = \"1\";\n\t\telse if(v === false) v = \"0\";\n\t\telse if(typeof v == \"number\") v = String(v);\n\t\tif(v != null) cp_doit(f[0], v, null, o, p);\n\t}\n\tif(o.length>2){ o[o.length] = ('</cp:coreProperties>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* 15.2.12.3 Extended File Properties Part */\n/* [MS-OSHARED] 2.3.3.2.[1-2].1 (PIDSI/PIDDSI) */\nvar EXT_PROPS/*:Array<Array<string> >*/ = [\n\t[\"Application\", \"Application\", \"string\"],\n\t[\"AppVersion\", \"AppVersion\", \"string\"],\n\t[\"Company\", \"Company\", \"string\"],\n\t[\"DocSecurity\", \"DocSecurity\", \"string\"],\n\t[\"Manager\", \"Manager\", \"string\"],\n\t[\"HyperlinksChanged\", \"HyperlinksChanged\", \"bool\"],\n\t[\"SharedDoc\", \"SharedDoc\", \"bool\"],\n\t[\"LinksUpToDate\", \"LinksUpToDate\", \"bool\"],\n\t[\"ScaleCrop\", \"ScaleCrop\", \"bool\"],\n\t[\"HeadingPairs\", \"HeadingPairs\", \"raw\"],\n\t[\"TitlesOfParts\", \"TitlesOfParts\", \"raw\"]\n];\n\nvar PseudoPropsPairs = [\n\t\"Worksheets\",  \"SheetNames\",\n\t\"NamedRanges\", \"DefinedNames\",\n\t\"Chartsheets\", \"ChartNames\"\n];\nfunction load_props_pairs(HP/*:string|Array<Array<any>>*/, TOP, props, opts) {\n\tvar v = [];\n\tif(typeof HP == \"string\") v = parseVector(HP, opts);\n\telse for(var j = 0; j < HP.length; ++j) v = v.concat(HP[j].map(function(hp) { return {v:hp}; }));\n\tvar parts = (typeof TOP == \"string\") ? parseVector(TOP, opts).map(function (x) { return x.v; }) : TOP;\n\tvar idx = 0, len = 0;\n\tif(parts.length > 0) for(var i = 0; i !== v.length; i += 2) {\n\t\tlen = +(v[i+1].v);\n\t\tswitch(v[i].v) {\n\t\t\tcase \"Worksheets\":\n\t\t\tcase \"工作表\":\n\t\t\tcase \"Листы\":\n\t\t\tcase \"أوراق العمل\":\n\t\t\tcase \"ワークシート\":\n\t\t\tcase \"גליונות עבודה\":\n\t\t\tcase \"Arbeitsblätter\":\n\t\t\tcase \"Çalışma Sayfaları\":\n\t\t\tcase \"Feuilles de calcul\":\n\t\t\tcase \"Fogli di lavoro\":\n\t\t\tcase \"Folhas de cálculo\":\n\t\t\tcase \"Planilhas\":\n\t\t\tcase \"Regneark\":\n\t\t\tcase \"Hojas de cálculo\":\n\t\t\tcase \"Werkbladen\":\n\t\t\t\tprops.Worksheets = len;\n\t\t\t\tprops.SheetNames = parts.slice(idx, idx + len);\n\t\t\t\tbreak;\n\n\t\t\tcase \"Named Ranges\":\n\t\t\tcase \"Rangos con nombre\":\n\t\t\tcase \"名前付き一覧\":\n\t\t\tcase \"Benannte Bereiche\":\n\t\t\tcase \"Navngivne områder\":\n\t\t\t\tprops.NamedRanges = len;\n\t\t\t\tprops.DefinedNames = parts.slice(idx, idx + len);\n\t\t\t\tbreak;\n\n\t\t\tcase \"Charts\":\n\t\t\tcase \"Diagramme\":\n\t\t\t\tprops.Chartsheets = len;\n\t\t\t\tprops.ChartNames = parts.slice(idx, idx + len);\n\t\t\t\tbreak;\n\t\t}\n\t\tidx += len;\n\t}\n}\n\nfunction parse_ext_props(data, p, opts) {\n\tvar q = {}; if(!p) p = {};\n\tdata = utf8read(data);\n\n\tEXT_PROPS.forEach(function(f) {\n\t\tvar xml = (data.match(matchtag(f[0]))||[])[1];\n\t\tswitch(f[2]) {\n\t\t\tcase \"string\": if(xml) p[f[1]] = unescapexml(xml); break;\n\t\t\tcase \"bool\": p[f[1]] = xml === \"true\"; break;\n\t\t\tcase \"raw\":\n\t\t\t\tvar cur = data.match(new RegExp(\"<\" + f[0] + \"[^>]*>([\\\\s\\\\S]*?)<\\/\" + f[0] + \">\"));\n\t\t\t\tif(cur && cur.length > 0) q[f[1]] = cur[1];\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(q.HeadingPairs && q.TitlesOfParts) load_props_pairs(q.HeadingPairs, q.TitlesOfParts, p, opts);\n\n\treturn p;\n}\n\nfunction write_ext_props(cp/*::, opts*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [], W = writextag;\n\tif(!cp) cp = {};\n\tcp.Application = \"SheetJS\";\n\to[o.length] = (XML_HEADER);\n\to[o.length] = (writextag('Properties', null, {\n\t\t'xmlns': XMLNS.EXT_PROPS,\n\t\t'xmlns:vt': XMLNS.vt\n\t}));\n\n\tEXT_PROPS.forEach(function(f) {\n\t\tif(cp[f[1]] === undefined) return;\n\t\tvar v;\n\t\tswitch(f[2]) {\n\t\t\tcase 'string': v = escapexml(String(cp[f[1]])); break;\n\t\t\tcase 'bool': v = cp[f[1]] ? 'true' : 'false'; break;\n\t\t}\n\t\tif(v !== undefined) o[o.length] = (W(f[0], v));\n\t});\n\n\t/* TODO: HeadingPairs, TitlesOfParts */\n\to[o.length] = (W('HeadingPairs', W('vt:vector', W('vt:variant', '<vt:lpstr>Worksheets</vt:lpstr>')+W('vt:variant', W('vt:i4', String(cp.Worksheets))), {size:2, baseType:\"variant\"})));\n\to[o.length] = (W('TitlesOfParts', W('vt:vector', cp.SheetNames.map(function(s) { return \"<vt:lpstr>\" + escapexml(s) + \"</vt:lpstr>\"; }).join(\"\"), {size: cp.Worksheets, baseType:\"lpstr\"})));\n\tif(o.length>2){ o[o.length] = ('</Properties>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* 15.2.12.2 Custom File Properties Part */\nvar custregex = /<[^>]+>[^<]*/g;\nfunction parse_cust_props(data/*:string*/, opts) {\n\tvar p = {}, name = \"\";\n\tvar m = data.match(custregex);\n\tif(m) for(var i = 0; i != m.length; ++i) {\n\t\tvar x = m[i], y = parsexmltag(x);\n\t\tswitch(y[0]) {\n\t\t\tcase '<?xml': break;\n\t\t\tcase '<Properties': break;\n\t\t\tcase '<property': name = unescapexml(y.name); break;\n\t\t\tcase '</property>': name = null; break;\n\t\t\tdefault: if (x.indexOf('<vt:') === 0) {\n\t\t\t\tvar toks = x.split('>');\n\t\t\t\tvar type = toks[0].slice(4), text = toks[1];\n\t\t\t\t/* 22.4.2.32 (CT_Variant). Omit the binary types from 22.4 (Variant Types) */\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase 'lpstr': case 'bstr': case 'lpwstr':\n\t\t\t\t\t\tp[name] = unescapexml(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bool':\n\t\t\t\t\t\tp[name] = parsexmlbool(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'i1': case 'i2': case 'i4': case 'i8': case 'int': case 'uint':\n\t\t\t\t\t\tp[name] = parseInt(text, 10);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'r4': case 'r8': case 'decimal':\n\t\t\t\t\t\tp[name] = parseFloat(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'filetime': case 'date':\n\t\t\t\t\t\tp[name] = parseDate(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'cy': case 'error':\n\t\t\t\t\t\tp[name] = unescapexml(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(type.slice(-1) == '/') break;\n\t\t\t\t\t\tif(opts.WTF && typeof console !== 'undefined') console.warn('Unexpected', x, type, toks);\n\t\t\t\t}\n\t\t\t} else if(x.slice(0,2) === \"</\") {/* empty */\n\t\t\t} else if(opts.WTF) throw new Error(x);\n\t\t}\n\t}\n\treturn p;\n}\n\nfunction write_cust_props(cp/*::, opts*/)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('Properties', null, {\n\t\t'xmlns': XMLNS.CUST_PROPS,\n\t\t'xmlns:vt': XMLNS.vt\n\t})];\n\tif(!cp) return o.join(\"\");\n\tvar pid = 1;\n\tkeys(cp).forEach(function custprop(k) { ++pid;\n\t\to[o.length] = (writextag('property', write_vt(cp[k], true), {\n\t\t\t'fmtid': '{D5CDD505-2E9C-101B-9397-08002B2CF9AE}',\n\t\t\t'pid': pid,\n\t\t\t'name': escapexml(k)\n\t\t}));\n\t});\n\tif(o.length>2){ o[o.length] = '</Properties>'; o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* Common Name -> XLML Name */\nvar XLMLDocPropsMap = {\n\tTitle: 'Title',\n\tSubject: 'Subject',\n\tAuthor: 'Author',\n\tKeywords: 'Keywords',\n\tComments: 'Description',\n\tLastAuthor: 'LastAuthor',\n\tRevNumber: 'Revision',\n\tApplication: 'AppName',\n\t/* TotalTime: 'TotalTime', */\n\tLastPrinted: 'LastPrinted',\n\tCreatedDate: 'Created',\n\tModifiedDate: 'LastSaved',\n\t/* Pages */\n\t/* Words */\n\t/* Characters */\n\tCategory: 'Category',\n\t/* PresentationFormat */\n\tManager: 'Manager',\n\tCompany: 'Company',\n\t/* Guid */\n\t/* HyperlinkBase */\n\t/* Bytes */\n\t/* Lines */\n\t/* Paragraphs */\n\t/* CharactersWithSpaces */\n\tAppVersion: 'Version',\n\n\tContentStatus: 'ContentStatus', /* NOTE: missing from schema */\n\tIdentifier: 'Identifier', /* NOTE: missing from schema */\n\tLanguage: 'Language' /* NOTE: missing from schema */\n};\nvar evert_XLMLDPM;\n\nfunction xlml_set_prop(Props, tag/*:string*/, val) {\n\tif(!evert_XLMLDPM) evert_XLMLDPM = evert(XLMLDocPropsMap);\n\ttag = evert_XLMLDPM[tag] || tag;\n\tProps[tag] = val;\n}\n\nfunction xlml_write_docprops(Props, opts) {\n\tvar o/*:Array<string>*/ = [];\n\tkeys(XLMLDocPropsMap).map(function(m) {\n\t\tfor(var i = 0; i < CORE_PROPS.length; ++i) if(CORE_PROPS[i][1] == m) return CORE_PROPS[i];\n\t\tfor(i = 0; i < EXT_PROPS.length; ++i) if(EXT_PROPS[i][1] == m) return EXT_PROPS[i];\n\t\tthrow m;\n\t}).forEach(function(p) {\n\t\tif(Props[p[1]] == null) return;\n\t\tvar m = opts && opts.Props && opts.Props[p[1]] != null ? opts.Props[p[1]] : Props[p[1]];\n\t\tswitch(p[2]) {\n\t\t\tcase 'date': m = new Date(m).toISOString().replace(/\\.\\d*Z/,\"Z\"); break;\n\t\t}\n\t\tif(typeof m == 'number') m = String(m);\n\t\telse if(m === true || m === false) { m = m ? \"1\" : \"0\"; }\n\t\telse if(m instanceof Date) m = new Date(m).toISOString().replace(/\\.\\d*Z/,\"\");\n\t\to.push(writetag(XLMLDocPropsMap[p[1]] || p[1], m));\n\t});\n\treturn writextag('DocumentProperties', o.join(\"\"), {xmlns:XLMLNS.o });\n}\nfunction xlml_write_custprops(Props, Custprops/*::, opts*/) {\n\tvar BLACKLIST = [\"Worksheets\",\"SheetNames\"];\n\tvar T = 'CustomDocumentProperties';\n\tvar o/*:Array<string>*/ = [];\n\tif(Props) keys(Props).forEach(function(k) {\n\t\t/*:: if(!Props) return; */\n\t\tif(!Object.prototype.hasOwnProperty.call(Props, k)) return;\n\t\tfor(var i = 0; i < CORE_PROPS.length; ++i) if(k == CORE_PROPS[i][1]) return;\n\t\tfor(i = 0; i < EXT_PROPS.length; ++i) if(k == EXT_PROPS[i][1]) return;\n\t\tfor(i = 0; i < BLACKLIST.length; ++i) if(k == BLACKLIST[i]) return;\n\n\t\tvar m = Props[k];\n\t\tvar t = \"string\";\n\t\tif(typeof m == 'number') { t = \"float\"; m = String(m); }\n\t\telse if(m === true || m === false) { t = \"boolean\"; m = m ? \"1\" : \"0\"; }\n\t\telse m = String(m);\n\t\to.push(writextag(escapexmltag(k), m, {\"dt:dt\":t}));\n\t});\n\tif(Custprops) keys(Custprops).forEach(function(k) {\n\t\t/*:: if(!Custprops) return; */\n\t\tif(!Object.prototype.hasOwnProperty.call(Custprops, k)) return;\n\t\tif(Props && Object.prototype.hasOwnProperty.call(Props, k)) return;\n\t\tvar m = Custprops[k];\n\t\tvar t = \"string\";\n\t\tif(typeof m == 'number') { t = \"float\"; m = String(m); }\n\t\telse if(m === true || m === false) { t = \"boolean\"; m = m ? \"1\" : \"0\"; }\n\t\telse if(m instanceof Date) { t = \"dateTime.tz\"; m = m.toISOString(); }\n\t\telse m = String(m);\n\t\to.push(writextag(escapexmltag(k), m, {\"dt:dt\":t}));\n\t});\n\treturn '<' + T + ' xmlns=\"' + XLMLNS.o + '\">' + o.join(\"\") + '</' + T + '>';\n}\n/* [MS-DTYP] 2.3.3 FILETIME */\n/* [MS-OLEDS] 2.1.3 FILETIME (Packet Version) */\n/* [MS-OLEPS] 2.8 FILETIME (Packet Version) */\nfunction parse_FILETIME(blob) {\n\tvar dwLowDateTime = blob.read_shift(4), dwHighDateTime = blob.read_shift(4);\n\treturn new Date(((dwHighDateTime/1e7*Math.pow(2,32) + dwLowDateTime/1e7) - 11644473600)*1000).toISOString().replace(/\\.000/,\"\");\n}\nfunction write_FILETIME(time/*:string|Date*/) {\n\tvar date = (typeof time == \"string\") ? new Date(Date.parse(time)) : time;\n\tvar t = date.getTime() / 1000 + 11644473600;\n\tvar l = t % Math.pow(2,32), h = (t - l) / Math.pow(2,32);\n\tl *= 1e7; h *= 1e7;\n\tvar w = (l / Math.pow(2,32)) | 0;\n\tif(w > 0) { l = l % Math.pow(2,32); h += w; }\n\tvar o = new_buf(8); o.write_shift(4, l); o.write_shift(4, h); return o;\n}\n\n/* [MS-OSHARED] 2.3.3.1.4 Lpstr */\nfunction parse_lpstr(blob, type, pad/*:?number*/) {\n\tvar start = blob.l;\n\tvar str = blob.read_shift(0, 'lpstr-cp');\n\tif(pad) while((blob.l - start) & 3) ++blob.l;\n\treturn str;\n}\n\n/* [MS-OSHARED] 2.3.3.1.6 Lpwstr */\nfunction parse_lpwstr(blob, type, pad) {\n\tvar str = blob.read_shift(0, 'lpwstr');\n\tif(pad) blob.l += (4 - ((str.length+1) & 3)) & 3;\n\treturn str;\n}\n\n\n/* [MS-OSHARED] 2.3.3.1.11 VtString */\n/* [MS-OSHARED] 2.3.3.1.12 VtUnalignedString */\nfunction parse_VtStringBase(blob, stringType, pad) {\n\tif(stringType === 0x1F /*VT_LPWSTR*/) return parse_lpwstr(blob);\n\treturn parse_lpstr(blob, stringType, pad);\n}\n\nfunction parse_VtString(blob, t/*:number*/, pad/*:?boolean*/) { return parse_VtStringBase(blob, t, pad === false ? 0: 4); }\nfunction parse_VtUnalignedString(blob, t/*:number*/) { if(!t) throw new Error(\"VtUnalignedString must have positive length\"); return parse_VtStringBase(blob, t, 0); }\n\n/* [MS-OSHARED] 2.3.3.1.7 VtVecLpwstrValue */\nfunction parse_VtVecLpwstrValue(blob)/*:Array<string>*/ {\n\tvar length = blob.read_shift(4);\n\tvar ret/*:Array<string>*/ = [];\n\tfor(var i = 0; i != length; ++i) {\n\t\tvar start = blob.l;\n\t\tret[i] = blob.read_shift(0, 'lpwstr').replace(chr0,'');\n\t\tif((blob.l - start) & 0x02) blob.l += 2;\n\t}\n\treturn ret;\n}\n\n/* [MS-OSHARED] 2.3.3.1.9 VtVecUnalignedLpstrValue */\nfunction parse_VtVecUnalignedLpstrValue(blob)/*:Array<string>*/ {\n\tvar length = blob.read_shift(4);\n\tvar ret/*:Array<string>*/ = [];\n\tfor(var i = 0; i != length; ++i) ret[i] = blob.read_shift(0, 'lpstr-cp').replace(chr0,'');\n\treturn ret;\n}\n\n\n/* [MS-OSHARED] 2.3.3.1.13 VtHeadingPair */\nfunction parse_VtHeadingPair(blob) {\n\tvar start = blob.l;\n\tvar headingString = parse_TypedPropertyValue(blob, VT_USTR);\n\tif(blob[blob.l] == 0x00 && blob[blob.l+1] == 0x00 && ((blob.l - start) & 0x02)) blob.l += 2;\n\tvar headerParts = parse_TypedPropertyValue(blob, VT_I4);\n\treturn [headingString, headerParts];\n}\n\n/* [MS-OSHARED] 2.3.3.1.14 VtVecHeadingPairValue */\nfunction parse_VtVecHeadingPairValue(blob) {\n\tvar cElements = blob.read_shift(4);\n\tvar out = [];\n\tfor(var i = 0; i < cElements / 2; ++i) out.push(parse_VtHeadingPair(blob));\n\treturn out;\n}\n\n/* [MS-OLEPS] 2.18.1 Dictionary (uses 2.17, 2.16) */\nfunction parse_dictionary(blob,CodePage) {\n\tvar cnt = blob.read_shift(4);\n\tvar dict/*:{[number]:string}*/ = ({}/*:any*/);\n\tfor(var j = 0; j != cnt; ++j) {\n\t\tvar pid = blob.read_shift(4);\n\t\tvar len = blob.read_shift(4);\n\t\tdict[pid] = blob.read_shift(len, (CodePage === 0x4B0 ?'utf16le':'utf8')).replace(chr0,'').replace(chr1,'!');\n\t\tif(CodePage === 0x4B0 && (len % 2)) blob.l += 2;\n\t}\n\tif(blob.l & 3) blob.l = (blob.l>>2+1)<<2;\n\treturn dict;\n}\n\n/* [MS-OLEPS] 2.9 BLOB */\nfunction parse_BLOB(blob) {\n\tvar size = blob.read_shift(4);\n\tvar bytes = blob.slice(blob.l,blob.l+size);\n\tblob.l += size;\n\tif((size & 3) > 0) blob.l += (4 - (size & 3)) & 3;\n\treturn bytes;\n}\n\n/* [MS-OLEPS] 2.11 ClipboardData */\nfunction parse_ClipboardData(blob) {\n\t// TODO\n\tvar o = {};\n\to.Size = blob.read_shift(4);\n\t//o.Format = blob.read_shift(4);\n\tblob.l += o.Size + 3 - (o.Size - 1) % 4;\n\treturn o;\n}\n\n/* [MS-OLEPS] 2.15 TypedPropertyValue */\nfunction parse_TypedPropertyValue(blob, type/*:number*/, _opts)/*:any*/ {\n\tvar t = blob.read_shift(2), ret, opts = _opts||{};\n\tblob.l += 2;\n\tif(type !== VT_VARIANT)\n\tif(t !== type && VT_CUSTOM.indexOf(type)===-1 && !((type & 0xFFFE) == 0x101E && (t & 0xFFFE) == 0x101E)) throw new Error('Expected type ' + type + ' saw ' + t);\n\tswitch(type === VT_VARIANT ? t : type) {\n\t\tcase 0x02 /*VT_I2*/: ret = blob.read_shift(2, 'i'); if(!opts.raw) blob.l += 2; return ret;\n\t\tcase 0x03 /*VT_I4*/: ret = blob.read_shift(4, 'i'); return ret;\n\t\tcase 0x0B /*VT_BOOL*/: return blob.read_shift(4) !== 0x0;\n\t\tcase 0x13 /*VT_UI4*/: ret = blob.read_shift(4); return ret;\n\t\tcase 0x1E /*VT_LPSTR*/: return parse_lpstr(blob, t, 4).replace(chr0,'');\n\t\tcase 0x1F /*VT_LPWSTR*/: return parse_lpwstr(blob);\n\t\tcase 0x40 /*VT_FILETIME*/: return parse_FILETIME(blob);\n\t\tcase 0x41 /*VT_BLOB*/: return parse_BLOB(blob);\n\t\tcase 0x47 /*VT_CF*/: return parse_ClipboardData(blob);\n\t\tcase 0x50 /*VT_STRING*/: return parse_VtString(blob, t, !opts.raw).replace(chr0,'');\n\t\tcase 0x51 /*VT_USTR*/: return parse_VtUnalignedString(blob, t/*, 4*/).replace(chr0,'');\n\t\tcase 0x100C /*VT_VECTOR|VT_VARIANT*/: return parse_VtVecHeadingPairValue(blob);\n\t\tcase 0x101E /*VT_VECTOR|VT_LPSTR*/:\n\t\tcase 0x101F /*VT_VECTOR|VT_LPWSTR*/:\n\t\t\treturn t == 0x101F ? parse_VtVecLpwstrValue(blob) : parse_VtVecUnalignedLpstrValue(blob);\n\t\tdefault: throw new Error(\"TypedPropertyValue unrecognized type \" + type + \" \" + t);\n\t}\n}\nfunction write_TypedPropertyValue(type/*:number*/, value) {\n\tvar o = new_buf(4), p = new_buf(4);\n\to.write_shift(4, type == 0x50 ? 0x1F : type);\n\tswitch(type) {\n\t\tcase 0x03 /*VT_I4*/: p.write_shift(-4, value); break;\n\t\tcase 0x05 /*VT_I4*/: p = new_buf(8); p.write_shift(8, value, 'f'); break;\n\t\tcase 0x0B /*VT_BOOL*/: p.write_shift(4, value ? 0x01 : 0x00); break;\n\t\tcase 0x40 /*VT_FILETIME*/: /*:: if(typeof value !== \"string\" && !(value instanceof Date)) throw \"unreachable\"; */ p = write_FILETIME(value); break;\n\t\tcase 0x1F /*VT_LPWSTR*/:\n\t\tcase 0x50 /*VT_STRING*/:\n\t\t\t/*:: if(typeof value !== \"string\") throw \"unreachable\"; */\n\t\t\tp = new_buf(4 + 2 * (value.length + 1) + (value.length % 2 ? 0 : 2));\n\t\t\tp.write_shift(4, value.length + 1);\n\t\t\tp.write_shift(0, value, \"dbcs\");\n\t\t\twhile(p.l != p.length) p.write_shift(1, 0);\n\t\t\tbreak;\n\t\tdefault: throw new Error(\"TypedPropertyValue unrecognized type \" + type + \" \" + value);\n\t}\n\treturn bconcat([o, p]);\n}\n\n/* [MS-OLEPS] 2.20 PropertySet */\nfunction parse_PropertySet(blob, PIDSI) {\n\tvar start_addr = blob.l;\n\tvar size = blob.read_shift(4);\n\tvar NumProps = blob.read_shift(4);\n\tvar Props = [], i = 0;\n\tvar CodePage = 0;\n\tvar Dictionary = -1, DictObj/*:{[number]:string}*/ = ({}/*:any*/);\n\tfor(i = 0; i != NumProps; ++i) {\n\t\tvar PropID = blob.read_shift(4);\n\t\tvar Offset = blob.read_shift(4);\n\t\tProps[i] = [PropID, Offset + start_addr];\n\t}\n\tProps.sort(function(x,y) { return x[1] - y[1]; });\n\tvar PropH = {};\n\tfor(i = 0; i != NumProps; ++i) {\n\t\tif(blob.l !== Props[i][1]) {\n\t\t\tvar fail = true;\n\t\t\tif(i>0 && PIDSI) switch(PIDSI[Props[i-1][0]].t) {\n\t\t\t\tcase 0x02 /*VT_I2*/: if(blob.l+2 === Props[i][1]) { blob.l+=2; fail = false; } break;\n\t\t\t\tcase 0x50 /*VT_STRING*/: if(blob.l <= Props[i][1]) { blob.l=Props[i][1]; fail = false; } break;\n\t\t\t\tcase 0x100C /*VT_VECTOR|VT_VARIANT*/: if(blob.l <= Props[i][1]) { blob.l=Props[i][1]; fail = false; } break;\n\t\t\t}\n\t\t\tif((!PIDSI||i==0) && blob.l <= Props[i][1]) { fail=false; blob.l = Props[i][1]; }\n\t\t\tif(fail) throw new Error(\"Read Error: Expected address \" + Props[i][1] + ' at ' + blob.l + ' :' + i);\n\t\t}\n\t\tif(PIDSI) {\n\t\t\tvar piddsi = PIDSI[Props[i][0]];\n\t\t\tPropH[piddsi.n] = parse_TypedPropertyValue(blob, piddsi.t, {raw:true});\n\t\t\tif(piddsi.p === 'version') PropH[piddsi.n] = String(PropH[piddsi.n] >> 16) + \".\" + (\"0000\" + String(PropH[piddsi.n] & 0xFFFF)).slice(-4);\n\t\t\tif(piddsi.n == \"CodePage\") switch(PropH[piddsi.n]) {\n\t\t\t\tcase 0: PropH[piddsi.n] = 1252;\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 874:\n\t\t\t\tcase 932:\n\t\t\t\tcase 936:\n\t\t\t\tcase 949:\n\t\t\t\tcase 950:\n\t\t\t\tcase 1250:\n\t\t\t\tcase 1251:\n\t\t\t\tcase 1253:\n\t\t\t\tcase 1254:\n\t\t\t\tcase 1255:\n\t\t\t\tcase 1256:\n\t\t\t\tcase 1257:\n\t\t\t\tcase 1258:\n\t\t\t\tcase 10000:\n\t\t\t\tcase 1200:\n\t\t\t\tcase 1201:\n\t\t\t\tcase 1252:\n\t\t\t\tcase 65000: case -536:\n\t\t\t\tcase 65001: case -535:\n\t\t\t\t\tset_cp(CodePage = (PropH[piddsi.n]>>>0) & 0xFFFF); break;\n\t\t\t\tdefault: throw new Error(\"Unsupported CodePage: \" + PropH[piddsi.n]);\n\t\t\t}\n\t\t} else {\n\t\t\tif(Props[i][0] === 0x1) {\n\t\t\t\tCodePage = PropH.CodePage = (parse_TypedPropertyValue(blob, VT_I2)/*:number*/);\n\t\t\t\tset_cp(CodePage);\n\t\t\t\tif(Dictionary !== -1) {\n\t\t\t\t\tvar oldpos = blob.l;\n\t\t\t\t\tblob.l = Props[Dictionary][1];\n\t\t\t\t\tDictObj = parse_dictionary(blob,CodePage);\n\t\t\t\t\tblob.l = oldpos;\n\t\t\t\t}\n\t\t\t} else if(Props[i][0] === 0) {\n\t\t\t\tif(CodePage === 0) { Dictionary = i; blob.l = Props[i+1][1]; continue; }\n\t\t\t\tDictObj = parse_dictionary(blob,CodePage);\n\t\t\t} else {\n\t\t\t\tvar name = DictObj[Props[i][0]];\n\t\t\t\tvar val;\n\t\t\t\t/* [MS-OSHARED] 2.3.3.2.3.1.2 + PROPVARIANT */\n\t\t\t\tswitch(blob[blob.l]) {\n\t\t\t\t\tcase 0x41 /*VT_BLOB*/: blob.l += 4; val = parse_BLOB(blob); break;\n\t\t\t\t\tcase 0x1E /*VT_LPSTR*/: blob.l += 4; val = parse_VtString(blob, blob[blob.l-4]).replace(/\\u0000+$/,\"\"); break;\n\t\t\t\t\tcase 0x1F /*VT_LPWSTR*/: blob.l += 4; val = parse_VtString(blob, blob[blob.l-4]).replace(/\\u0000+$/,\"\"); break;\n\t\t\t\t\tcase 0x03 /*VT_I4*/: blob.l += 4; val = blob.read_shift(4, 'i'); break;\n\t\t\t\t\tcase 0x13 /*VT_UI4*/: blob.l += 4; val = blob.read_shift(4); break;\n\t\t\t\t\tcase 0x05 /*VT_R8*/: blob.l += 4; val = blob.read_shift(8, 'f'); break;\n\t\t\t\t\tcase 0x0B /*VT_BOOL*/: blob.l += 4; val = parsebool(blob, 4); break;\n\t\t\t\t\tcase 0x40 /*VT_FILETIME*/: blob.l += 4; val = parseDate(parse_FILETIME(blob)); break;\n\t\t\t\t\tdefault: throw new Error(\"unparsed value: \" + blob[blob.l]);\n\t\t\t\t}\n\t\t\t\tPropH[name] = val;\n\t\t\t}\n\t\t}\n\t}\n\tblob.l = start_addr + size; /* step ahead to skip padding */\n\treturn PropH;\n}\nvar XLSPSSkip = [ \"CodePage\", \"Thumbnail\", \"_PID_LINKBASE\", \"_PID_HLINKS\", \"SystemIdentifier\", \"FMTID\" ]; //.concat(PseudoPropsPairs);\nfunction guess_property_type(val/*:any*/)/*:number*/ {\n\tswitch(typeof val) {\n\t\tcase \"boolean\": return 0x0B;\n\t\tcase \"number\": return ((val|0)==val) ? 0x03 : 0x05;\n\t\tcase \"string\": return 0x1F;\n\t\tcase \"object\": if(val instanceof Date) return 0x40; break;\n\t}\n\treturn -1;\n}\nfunction write_PropertySet(entries, RE, PIDSI) {\n\tvar hdr = new_buf(8), piao = [], prop = [];\n\tvar sz = 8, i = 0;\n\n\tvar pr = new_buf(8), pio = new_buf(8);\n\tpr.write_shift(4, 0x0002);\n\tpr.write_shift(4, 0x04B0);\n\tpio.write_shift(4, 0x0001);\n\tprop.push(pr); piao.push(pio);\n\tsz += 8 + pr.length;\n\n\tif(!RE) {\n\t\tpio = new_buf(8);\n\t\tpio.write_shift(4, 0);\n\t\tpiao.unshift(pio);\n\n\t\tvar bufs = [new_buf(4)];\n\t\tbufs[0].write_shift(4, entries.length);\n\t\tfor(i = 0; i < entries.length; ++i) {\n\t\t\tvar value = entries[i][0];\n\t\t\tpr = new_buf(4 + 4 + 2 * (value.length + 1) + (value.length % 2 ? 0 : 2));\n\t\t\tpr.write_shift(4, i+2);\n\t\t\tpr.write_shift(4, value.length + 1);\n\t\t\tpr.write_shift(0, value, \"dbcs\");\n\t\t\twhile(pr.l != pr.length) pr.write_shift(1, 0);\n\t\t\tbufs.push(pr);\n\t\t}\n\t\tpr = bconcat(bufs);\n\t\tprop.unshift(pr);\n\t\tsz += 8 + pr.length;\n\t}\n\n\tfor(i = 0; i < entries.length; ++i) {\n\t\tif(RE && !RE[entries[i][0]]) continue;\n\t\tif(XLSPSSkip.indexOf(entries[i][0]) > -1 || PseudoPropsPairs.indexOf(entries[i][0]) > -1) continue;\n\t\tif(entries[i][1] == null) continue;\n\n\t\tvar val = entries[i][1], idx = 0;\n\t\tif(RE) {\n\t\t\tidx = +RE[entries[i][0]];\n\t\t\tvar pinfo = (PIDSI/*:: || {}*/)[idx]/*:: || {} */;\n\t\t\tif(pinfo.p == \"version\" && typeof val == \"string\") {\n\t\t\t\t/*:: if(typeof val !== \"string\") throw \"unreachable\"; */\n\t\t\t\tvar arr = val.split(\".\");\n\t\t\t\tval = ((+arr[0])<<16) + ((+arr[1])||0);\n\t\t\t}\n\t\t\tpr = write_TypedPropertyValue(pinfo.t, val);\n\t\t} else {\n\t\t\tvar T = guess_property_type(val);\n\t\t\tif(T == -1) { T = 0x1F; val = String(val); }\n\t\t\tpr = write_TypedPropertyValue(T, val);\n\t\t}\n\t\tprop.push(pr);\n\n\t\tpio = new_buf(8);\n\t\tpio.write_shift(4, !RE ? 2+i : idx);\n\t\tpiao.push(pio);\n\n\t\tsz += 8 + pr.length;\n\t}\n\n\tvar w = 8 * (prop.length + 1);\n\tfor(i = 0; i < prop.length; ++i) { piao[i].write_shift(4, w); w += prop[i].length; }\n\thdr.write_shift(4, sz);\n\thdr.write_shift(4, prop.length);\n\treturn bconcat([hdr].concat(piao).concat(prop));\n}\n\n/* [MS-OLEPS] 2.21 PropertySetStream */\nfunction parse_PropertySetStream(file, PIDSI, clsid) {\n\tvar blob = file.content;\n\tif(!blob) return ({}/*:any*/);\n\tprep_blob(blob, 0);\n\n\tvar NumSets, FMTID0, FMTID1, Offset0, Offset1 = 0;\n\tblob.chk('feff', 'Byte Order: ');\n\n\t/*var vers = */blob.read_shift(2); // TODO: check version\n\tvar SystemIdentifier = blob.read_shift(4);\n\tvar CLSID = blob.read_shift(16);\n\tif(CLSID !== CFB.utils.consts.HEADER_CLSID && CLSID !== clsid) throw new Error(\"Bad PropertySet CLSID \" + CLSID);\n\tNumSets = blob.read_shift(4);\n\tif(NumSets !== 1 && NumSets !== 2) throw new Error(\"Unrecognized #Sets: \" + NumSets);\n\tFMTID0 = blob.read_shift(16); Offset0 = blob.read_shift(4);\n\n\tif(NumSets === 1 && Offset0 !== blob.l) throw new Error(\"Length mismatch: \" + Offset0 + \" !== \" + blob.l);\n\telse if(NumSets === 2) { FMTID1 = blob.read_shift(16); Offset1 = blob.read_shift(4); }\n\tvar PSet0 = parse_PropertySet(blob, PIDSI);\n\n\tvar rval = ({ SystemIdentifier: SystemIdentifier }/*:any*/);\n\tfor(var y in PSet0) rval[y] = PSet0[y];\n\t//rval.blob = blob;\n\trval.FMTID = FMTID0;\n\t//rval.PSet0 = PSet0;\n\tif(NumSets === 1) return rval;\n\tif(Offset1 - blob.l == 2) blob.l += 2;\n\tif(blob.l !== Offset1) throw new Error(\"Length mismatch 2: \" + blob.l + \" !== \" + Offset1);\n\tvar PSet1;\n\ttry { PSet1 = parse_PropertySet(blob, null); } catch(e) {/* empty */}\n\tfor(y in PSet1) rval[y] = PSet1[y];\n\trval.FMTID = [FMTID0, FMTID1]; // TODO: verify FMTID0/1\n\treturn rval;\n}\nfunction write_PropertySetStream(entries, clsid, RE, PIDSI/*:{[key:string|number]:any}*/, entries2/*:?any*/, clsid2/*:?any*/) {\n\tvar hdr = new_buf(entries2 ? 68 : 48);\n\tvar bufs = [hdr];\n\thdr.write_shift(2, 0xFFFE);\n\thdr.write_shift(2, 0x0000); /* TODO: type 1 props */\n\thdr.write_shift(4, 0x32363237);\n\thdr.write_shift(16, CFB.utils.consts.HEADER_CLSID, \"hex\");\n\thdr.write_shift(4, (entries2 ? 2 : 1));\n\thdr.write_shift(16, clsid, \"hex\");\n\thdr.write_shift(4, (entries2 ? 68 : 48));\n\tvar ps0 = write_PropertySet(entries, RE, PIDSI);\n\tbufs.push(ps0);\n\n\tif(entries2) {\n\t\tvar ps1 = write_PropertySet(entries2, null, null);\n\t\thdr.write_shift(16, clsid2, \"hex\");\n\t\thdr.write_shift(4, 68 + ps0.length);\n\t\tbufs.push(ps1);\n\t}\n\treturn bconcat(bufs);\n}\n\nfunction parsenoop2(blob, length) { blob.read_shift(length); return null; }\nfunction writezeroes(n, o) { if(!o) o=new_buf(n); for(var j=0; j<n; ++j) o.write_shift(1, 0); return o; }\n\nfunction parslurp(blob, length, cb) {\n\tvar arr = [], target = blob.l + length;\n\twhile(blob.l < target) arr.push(cb(blob, target - blob.l));\n\tif(target !== blob.l) throw new Error(\"Slurp error\");\n\treturn arr;\n}\n\nfunction parsebool(blob, length/*:number*/) { return blob.read_shift(length) === 0x1; }\nfunction writebool(v/*:any*/, o) { if(!o) o=new_buf(2); o.write_shift(2, +!!v); return o; }\n\nfunction parseuint16(blob/*::, length:?number, opts:?any*/) { return blob.read_shift(2, 'u'); }\nfunction writeuint16(v/*:number*/, o) { if(!o) o=new_buf(2); o.write_shift(2, v); return o; }\nfunction parseuint16a(blob, length/*:: :?number, opts:?any*/) { return parslurp(blob,length,parseuint16);}\n\n/* --- 2.5 Structures --- */\n\n/* [MS-XLS] 2.5.10 Bes (boolean or error) */\nfunction parse_Bes(blob/*::, length*/) {\n\tvar v = blob.read_shift(1), t = blob.read_shift(1);\n\treturn t === 0x01 ? v : v === 0x01;\n}\nfunction write_Bes(v, t/*:string*/, o) {\n\tif(!o) o = new_buf(2);\n\to.write_shift(1, ((t == 'e') ? +v : +!!v));\n\to.write_shift(1, ((t == 'e') ? 1 : 0));\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.240 ShortXLUnicodeString */\nfunction parse_ShortXLUnicodeString(blob, length, opts) {\n\tvar cch = blob.read_shift(opts && opts.biff >= 12 ? 2 : 1);\n\tvar encoding = 'sbcs-cont';\n\tvar cp = current_codepage;\n\tif(opts && opts.biff >= 8) current_codepage = 1200;\n\tif(!opts || opts.biff == 8 ) {\n\t\tvar fHighByte = blob.read_shift(1);\n\t\tif(fHighByte) { encoding = 'dbcs-cont'; }\n\t} else if(opts.biff == 12) {\n\t\tencoding = 'wstr';\n\t}\n\tif(opts.biff >= 2 && opts.biff <= 5) encoding = 'cpstr';\n\tvar o = cch ? blob.read_shift(cch, encoding) : \"\";\n\tcurrent_codepage = cp;\n\treturn o;\n}\n\n/* 2.5.293 XLUnicodeRichExtendedString */\nfunction parse_XLUnicodeRichExtendedString(blob) {\n\tvar cp = current_codepage;\n\tcurrent_codepage = 1200;\n\tvar cch = blob.read_shift(2), flags = blob.read_shift(1);\n\tvar /*fHighByte = flags & 0x1,*/ fExtSt = flags & 0x4, fRichSt = flags & 0x8;\n\tvar width = 1 + (flags & 0x1); // 0x0 -> utf8, 0x1 -> dbcs\n\tvar cRun = 0, cbExtRst;\n\tvar z = {};\n\tif(fRichSt) cRun = blob.read_shift(2);\n\tif(fExtSt) cbExtRst = blob.read_shift(4);\n\tvar encoding = width == 2 ? 'dbcs-cont' : 'sbcs-cont';\n\tvar msg = cch === 0 ? \"\" : blob.read_shift(cch, encoding);\n\tif(fRichSt) blob.l += 4 * cRun; //TODO: parse this\n\tif(fExtSt) blob.l += cbExtRst; //TODO: parse this\n\tz.t = msg;\n\tif(!fRichSt) { z.raw = \"<t>\" + z.t + \"</t>\"; z.r = z.t; }\n\tcurrent_codepage = cp;\n\treturn z;\n}\nfunction write_XLUnicodeRichExtendedString(xlstr/*:: :XLString, opts*/) {\n\tvar str = (xlstr.t||\"\"), nfmts = 1;\n\n\tvar hdr = new_buf(3 + (nfmts > 1 ? 2 : 0));\n\thdr.write_shift(2, str.length);\n\thdr.write_shift(1, (nfmts > 1 ? 0x08 : 0x00) | 0x01);\n\tif(nfmts > 1) hdr.write_shift(2, nfmts);\n\n\tvar otext = new_buf(2 * str.length);\n\totext.write_shift(2 * str.length, str, 'utf16le');\n\n\tvar out = [hdr, otext];\n\n\treturn bconcat(out);\n}\n\n/* 2.5.296 XLUnicodeStringNoCch */\nfunction parse_XLUnicodeStringNoCch(blob, cch, opts) {\n\tvar retval;\n\tif(opts) {\n\t\tif(opts.biff >= 2 && opts.biff <= 5) return blob.read_shift(cch, 'cpstr');\n\t\tif(opts.biff >= 12) return blob.read_shift(cch, 'dbcs-cont');\n\t}\n\tvar fHighByte = blob.read_shift(1);\n\tif(fHighByte===0) { retval = blob.read_shift(cch, 'sbcs-cont'); }\n\telse { retval = blob.read_shift(cch, 'dbcs-cont'); }\n\treturn retval;\n}\n\n/* 2.5.294 XLUnicodeString */\nfunction parse_XLUnicodeString(blob, length, opts) {\n\tvar cch = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\tif(cch === 0) { blob.l++; return \"\"; }\n\treturn parse_XLUnicodeStringNoCch(blob, cch, opts);\n}\n/* BIFF5 override */\nfunction parse_XLUnicodeString2(blob, length, opts) {\n\tif(opts.biff > 5) return parse_XLUnicodeString(blob, length, opts);\n\tvar cch = blob.read_shift(1);\n\tif(cch === 0) { blob.l++; return \"\"; }\n\treturn blob.read_shift(cch, (opts.biff <= 4 || !blob.lens ) ? 'cpstr' : 'sbcs-cont');\n}\n/* TODO: BIFF5 and lower, codepage awareness */\nfunction write_XLUnicodeString(str, opts, o) {\n\tif(!o) o = new_buf(3 + 2 * str.length);\n\to.write_shift(2, str.length);\n\to.write_shift(1, 1);\n\to.write_shift(31, str, 'utf16le');\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.61 ControlInfo */\nfunction parse_ControlInfo(blob/*::, length, opts*/) {\n\tvar flags = blob.read_shift(1);\n\tblob.l++;\n\tvar accel = blob.read_shift(2);\n\tblob.l += 2;\n\treturn [flags, accel];\n}\n\n/* [MS-OSHARED] 2.3.7.6 URLMoniker TODO: flags */\nfunction parse_URLMoniker(blob/*::, length, opts*/) {\n\tvar len = blob.read_shift(4), start = blob.l;\n\tvar extra = false;\n\tif(len > 24) {\n\t\t/* look ahead */\n\t\tblob.l += len - 24;\n\t\tif(blob.read_shift(16) === \"795881f43b1d7f48af2c825dc4852763\") extra = true;\n\t\tblob.l = start;\n\t}\n\tvar url = blob.read_shift((extra?len-24:len)>>1, 'utf16le').replace(chr0,\"\");\n\tif(extra) blob.l += 24;\n\treturn url;\n}\n\n/* [MS-OSHARED] 2.3.7.8 FileMoniker TODO: all fields */\nfunction parse_FileMoniker(blob/*::, length*/) {\n\tvar cAnti = blob.read_shift(2);\n\tvar preamble = \"\"; while(cAnti-- > 0) preamble += \"../\";\n\tvar ansiPath = blob.read_shift(0, 'lpstr-ansi');\n\tblob.l += 2; //var endServer = blob.read_shift(2);\n\tif(blob.read_shift(2) != 0xDEAD) throw new Error(\"Bad FileMoniker\");\n\tvar sz = blob.read_shift(4);\n\tif(sz === 0) return preamble + ansiPath.replace(/\\\\/g,\"/\");\n\tvar bytes = blob.read_shift(4);\n\tif(blob.read_shift(2) != 3) throw new Error(\"Bad FileMoniker\");\n\tvar unicodePath = blob.read_shift(bytes>>1, 'utf16le').replace(chr0,\"\");\n\treturn preamble + unicodePath;\n}\n\n/* [MS-OSHARED] 2.3.7.2 HyperlinkMoniker TODO: all the monikers */\nfunction parse_HyperlinkMoniker(blob, length) {\n\tvar clsid = blob.read_shift(16); length -= 16;\n\tswitch(clsid) {\n\t\tcase \"e0c9ea79f9bace118c8200aa004ba90b\": return parse_URLMoniker(blob, length);\n\t\tcase \"0303000000000000c000000000000046\": return parse_FileMoniker(blob, length);\n\t\tdefault: throw new Error(\"Unsupported Moniker \" + clsid);\n\t}\n}\n\n/* [MS-OSHARED] 2.3.7.9 HyperlinkString */\nfunction parse_HyperlinkString(blob/*::, length*/) {\n\tvar len = blob.read_shift(4);\n\tvar o = len > 0 ? blob.read_shift(len, 'utf16le').replace(chr0, \"\") : \"\";\n\treturn o;\n}\nfunction write_HyperlinkString(str/*:string*/, o) {\n\tif(!o) o = new_buf(6 + str.length * 2);\n\to.write_shift(4, 1 + str.length);\n\tfor(var i = 0; i < str.length; ++i) o.write_shift(2, str.charCodeAt(i));\n\to.write_shift(2, 0);\n\treturn o;\n}\n\n/* [MS-OSHARED] 2.3.7.1 Hyperlink Object */\nfunction parse_Hyperlink(blob, length)/*:Hyperlink*/ {\n\tvar end = blob.l + length;\n\tvar sVer = blob.read_shift(4);\n\tif(sVer !== 2) throw new Error(\"Unrecognized streamVersion: \" + sVer);\n\tvar flags = blob.read_shift(2);\n\tblob.l += 2;\n\tvar displayName, targetFrameName, moniker, oleMoniker, Loc=\"\", guid, fileTime;\n\tif(flags & 0x0010) displayName = parse_HyperlinkString(blob, end - blob.l);\n\tif(flags & 0x0080) targetFrameName = parse_HyperlinkString(blob, end - blob.l);\n\tif((flags & 0x0101) === 0x0101) moniker = parse_HyperlinkString(blob, end - blob.l);\n\tif((flags & 0x0101) === 0x0001) oleMoniker = parse_HyperlinkMoniker(blob, end - blob.l);\n\tif(flags & 0x0008) Loc = parse_HyperlinkString(blob, end - blob.l);\n\tif(flags & 0x0020) guid = blob.read_shift(16);\n\tif(flags & 0x0040) fileTime = parse_FILETIME(blob/*, 8*/);\n\tblob.l = end;\n\tvar target = targetFrameName||moniker||oleMoniker||\"\";\n\tif(target && Loc) target+=\"#\"+Loc;\n\tif(!target) target = \"#\" + Loc;\n\tif((flags & 0x0002) && target.charAt(0) == \"/\" && target.charAt(1) != \"/\") target = \"file://\" + target;\n\tvar out = ({Target:target}/*:any*/);\n\tif(guid) out.guid = guid;\n\tif(fileTime) out.time = fileTime;\n\tif(displayName) out.Tooltip = displayName;\n\treturn out;\n}\nfunction write_Hyperlink(hl) {\n\tvar out = new_buf(512), i = 0;\n\tvar Target = hl.Target;\n\tif(Target.slice(0,7) == \"file://\") Target = Target.slice(7);\n\tvar hashidx = Target.indexOf(\"#\");\n\tvar F = hashidx > -1 ? 0x1f : 0x17;\n\tswitch(Target.charAt(0)) { case \"#\": F=0x1c; break; case \".\": F&=~2; break; }\n\tout.write_shift(4,2); out.write_shift(4, F);\n\tvar data = [8,6815827,6619237,4849780,83]; for(i = 0; i < data.length; ++i) out.write_shift(4, data[i]);\n\tif(F == 0x1C) {\n\t\tTarget = Target.slice(1);\n\t\twrite_HyperlinkString(Target, out);\n\t} else if(F & 0x02) {\n\t\tdata = \"e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b\".split(\" \");\n\t\tfor(i = 0; i < data.length; ++i) out.write_shift(1, parseInt(data[i], 16));\n\t\tvar Pretarget = hashidx > -1 ? Target.slice(0, hashidx) : Target;\n\t\tout.write_shift(4, 2*(Pretarget.length + 1));\n\t\tfor(i = 0; i < Pretarget.length; ++i) out.write_shift(2, Pretarget.charCodeAt(i));\n\t\tout.write_shift(2, 0);\n\t\tif(F & 0x08) write_HyperlinkString(hashidx > -1 ? Target.slice(hashidx+1): \"\", out);\n\t} else {\n\t\tdata = \"03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46\".split(\" \");\n\t\tfor(i = 0; i < data.length; ++i) out.write_shift(1, parseInt(data[i], 16));\n\t\tvar P = 0;\n\t\twhile(Target.slice(P*3,P*3+3)==\"../\"||Target.slice(P*3,P*3+3)==\"..\\\\\") ++P;\n\t\tout.write_shift(2, P);\n\t\tout.write_shift(4, Target.length - 3 * P + 1);\n\t\tfor(i = 0; i < Target.length - 3 * P; ++i) out.write_shift(1, Target.charCodeAt(i + 3 * P) & 0xFF);\n\t\tout.write_shift(1, 0);\n\t\tout.write_shift(2, 0xFFFF);\n\t\tout.write_shift(2, 0xDEAD);\n\t\tfor(i = 0; i < 6; ++i) out.write_shift(4, 0);\n\t}\n\treturn out.slice(0, out.l);\n}\n\n/* 2.5.178 LongRGBA */\nfunction parse_LongRGBA(blob/*::, length*/) { var r = blob.read_shift(1), g = blob.read_shift(1), b = blob.read_shift(1), a = blob.read_shift(1); return [r,g,b,a]; }\n\n/* 2.5.177 LongRGB */\nfunction parse_LongRGB(blob, length) { var x = parse_LongRGBA(blob, length); x[3] = 0; return x; }\n\n\n/* [MS-XLS] 2.5.19 */\nfunction parse_XLSCell(blob/*::, length*/)/*:Cell*/ {\n\tvar rw = blob.read_shift(2); // 0-indexed\n\tvar col = blob.read_shift(2);\n\tvar ixfe = blob.read_shift(2);\n\treturn ({r:rw, c:col, ixfe:ixfe}/*:any*/);\n}\nfunction write_XLSCell(R/*:number*/, C/*:number*/, ixfe/*:?number*/, o) {\n\tif(!o) o = new_buf(6);\n\to.write_shift(2, R);\n\to.write_shift(2, C);\n\to.write_shift(2, ixfe||0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.134 */\nfunction parse_frtHeader(blob) {\n\tvar rt = blob.read_shift(2);\n\tvar flags = blob.read_shift(2); // TODO: parse these flags\n\tblob.l += 8;\n\treturn {type: rt, flags: flags};\n}\n\n\n\nfunction parse_OptXLUnicodeString(blob, length, opts) { return length === 0 ? \"\" : parse_XLUnicodeString2(blob, length, opts); }\n\n/* [MS-XLS] 2.5.344 */\nfunction parse_XTI(blob, length, opts) {\n\tvar w = opts.biff > 8 ? 4 : 2;\n\tvar iSupBook = blob.read_shift(w), itabFirst = blob.read_shift(w,'i'), itabLast = blob.read_shift(w,'i');\n\treturn [iSupBook, itabFirst, itabLast];\n}\n\n/* [MS-XLS] 2.5.218 */\nfunction parse_RkRec(blob) {\n\tvar ixfe = blob.read_shift(2);\n\tvar RK = parse_RkNumber(blob);\n\treturn [ixfe, RK];\n}\n\n/* [MS-XLS] 2.5.1 */\nfunction parse_AddinUdf(blob, length, opts) {\n\tblob.l += 4; length -= 4;\n\tvar l = blob.l + length;\n\tvar udfName = parse_ShortXLUnicodeString(blob, length, opts);\n\tvar cb = blob.read_shift(2);\n\tl -= blob.l;\n\tif(cb !== l) throw new Error(\"Malformed AddinUdf: padding = \" + l + \" != \" + cb);\n\tblob.l += cb;\n\treturn udfName;\n}\n\n/* [MS-XLS] 2.5.209 TODO: Check sizes */\nfunction parse_Ref8U(blob/*::, length*/) {\n\tvar rwFirst = blob.read_shift(2);\n\tvar rwLast = blob.read_shift(2);\n\tvar colFirst = blob.read_shift(2);\n\tvar colLast = blob.read_shift(2);\n\treturn {s:{c:colFirst, r:rwFirst}, e:{c:colLast,r:rwLast}};\n}\nfunction write_Ref8U(r/*:Range*/, o) {\n\tif(!o) o = new_buf(8);\n\to.write_shift(2, r.s.r);\n\to.write_shift(2, r.e.r);\n\to.write_shift(2, r.s.c);\n\to.write_shift(2, r.e.c);\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.211 */\nfunction parse_RefU(blob/*::, length*/) {\n\tvar rwFirst = blob.read_shift(2);\n\tvar rwLast = blob.read_shift(2);\n\tvar colFirst = blob.read_shift(1);\n\tvar colLast = blob.read_shift(1);\n\treturn {s:{c:colFirst, r:rwFirst}, e:{c:colLast,r:rwLast}};\n}\n\n/* [MS-XLS] 2.5.207 */\nvar parse_Ref = parse_RefU;\n\n/* [MS-XLS] 2.5.143 */\nfunction parse_FtCmo(blob/*::, length*/) {\n\tblob.l += 4;\n\tvar ot = blob.read_shift(2);\n\tvar id = blob.read_shift(2);\n\tvar flags = blob.read_shift(2);\n\tblob.l+=12;\n\treturn [id, ot, flags];\n}\n\n/* [MS-XLS] 2.5.149 */\nfunction parse_FtNts(blob) {\n\tvar out = {};\n\tblob.l += 4;\n\tblob.l += 16; // GUID TODO\n\tout.fSharedNote = blob.read_shift(2);\n\tblob.l += 4;\n\treturn out;\n}\n\n/* [MS-XLS] 2.5.142 */\nfunction parse_FtCf(blob) {\n\tvar out = {};\n\tblob.l += 4;\n\tblob.cf = blob.read_shift(2);\n\treturn out;\n}\n\n/* [MS-XLS] 2.5.140 - 2.5.154 and friends */\nfunction parse_FtSkip(blob) { blob.l += 2; blob.l += blob.read_shift(2); }\nvar FtTab = {\n\t/*::[*/0x00/*::]*/: parse_FtSkip,      /* FtEnd */\n\t/*::[*/0x04/*::]*/: parse_FtSkip,      /* FtMacro */\n\t/*::[*/0x05/*::]*/: parse_FtSkip,      /* FtButton */\n\t/*::[*/0x06/*::]*/: parse_FtSkip,      /* FtGmo */\n\t/*::[*/0x07/*::]*/: parse_FtCf,        /* FtCf */\n\t/*::[*/0x08/*::]*/: parse_FtSkip,      /* FtPioGrbit */\n\t/*::[*/0x09/*::]*/: parse_FtSkip,      /* FtPictFmla */\n\t/*::[*/0x0A/*::]*/: parse_FtSkip,      /* FtCbls */\n\t/*::[*/0x0B/*::]*/: parse_FtSkip,      /* FtRbo */\n\t/*::[*/0x0C/*::]*/: parse_FtSkip,      /* FtSbs */\n\t/*::[*/0x0D/*::]*/: parse_FtNts,       /* FtNts */\n\t/*::[*/0x0E/*::]*/: parse_FtSkip,      /* FtSbsFmla */\n\t/*::[*/0x0F/*::]*/: parse_FtSkip,      /* FtGboData */\n\t/*::[*/0x10/*::]*/: parse_FtSkip,      /* FtEdoData */\n\t/*::[*/0x11/*::]*/: parse_FtSkip,      /* FtRboData */\n\t/*::[*/0x12/*::]*/: parse_FtSkip,      /* FtCblsData */\n\t/*::[*/0x13/*::]*/: parse_FtSkip,      /* FtLbsData */\n\t/*::[*/0x14/*::]*/: parse_FtSkip,      /* FtCblsFmla */\n\t/*::[*/0x15/*::]*/: parse_FtCmo\n};\nfunction parse_FtArray(blob, length/*::, ot*/) {\n\tvar tgt = blob.l + length;\n\tvar fts = [];\n\twhile(blob.l < tgt) {\n\t\tvar ft = blob.read_shift(2);\n\t\tblob.l-=2;\n\t\ttry {\n\t\t\tfts.push(FtTab[ft](blob, tgt - blob.l));\n\t\t} catch(e) { blob.l = tgt; return fts; }\n\t}\n\tif(blob.l != tgt) blob.l = tgt; //throw new Error(\"bad Object Ft-sequence\");\n\treturn fts;\n}\n\n/* --- 2.4 Records --- */\n\n/* [MS-XLS] 2.4.21 */\nfunction parse_BOF(blob, length) {\n\tvar o = {BIFFVer:0, dt:0};\n\to.BIFFVer = blob.read_shift(2); length -= 2;\n\tif(length >= 2) { o.dt = blob.read_shift(2); blob.l -= 2; }\n\tswitch(o.BIFFVer) {\n\t\tcase 0x0600: /* BIFF8 */\n\t\tcase 0x0500: /* BIFF5 */\n\t\tcase 0x0400: /* BIFF4 */\n\t\tcase 0x0300: /* BIFF3 */\n\t\tcase 0x0200: /* BIFF2 */\n\t\tcase 0x0002: case 0x0007: /* BIFF2 */\n\t\t\tbreak;\n\t\tdefault: if(length > 6) throw new Error(\"Unexpected BIFF Ver \" + o.BIFFVer);\n\t}\n\n\tblob.read_shift(length);\n\treturn o;\n}\nfunction write_BOF(wb/*:Workbook*/, t/*:number*/, o) {\n\tvar h = 0x0600, w = 16;\n\tswitch(o.bookType) {\n\t\tcase 'biff8': break;\n\t\tcase 'biff5': h = 0x0500; w = 8; break;\n\t\tcase 'biff4': h = 0x0004; w = 6; break;\n\t\tcase 'biff3': h = 0x0003; w = 6; break;\n\t\tcase 'biff2': h = 0x0002; w = 4; break;\n\t\tcase 'xla': break;\n\t\tdefault: throw new Error(\"unsupported BIFF version\");\n\t}\n\tvar out = new_buf(w);\n\tout.write_shift(2, h);\n\tout.write_shift(2, t);\n\tif(w > 4) out.write_shift(2, 0x7262);\n\tif(w > 6) out.write_shift(2, 0x07CD);\n\tif(w > 8) {\n\t\tout.write_shift(2, 0xC009);\n\t\tout.write_shift(2, 0x0001);\n\t\tout.write_shift(2, 0x0706);\n\t\tout.write_shift(2, 0x0000);\n\t}\n\treturn out;\n}\n\n\n/* [MS-XLS] 2.4.146 */\nfunction parse_InterfaceHdr(blob, length) {\n\tif(length === 0) return 0x04b0;\n\tif((blob.read_shift(2))!==0x04b0){/* empty */}\n\treturn 0x04b0;\n}\n\n\n/* [MS-XLS] 2.4.349 */\nfunction parse_WriteAccess(blob, length, opts) {\n\tif(opts.enc) { blob.l += length; return \"\"; }\n\tvar l = blob.l;\n\t// TODO: make sure XLUnicodeString doesnt overrun\n\tvar UserName = parse_XLUnicodeString2(blob, 0, opts);\n\tblob.read_shift(length + l - blob.l);\n\treturn UserName;\n}\nfunction write_WriteAccess(s/*:string*/, opts) {\n\tvar b8 = !opts || opts.biff == 8;\n\tvar o = new_buf(b8 ? 112 : 54);\n\to.write_shift(opts.biff == 8 ? 2 : 1, 7);\n\tif(b8) o.write_shift(1, 0);\n\to.write_shift(4, 0x33336853);\n\to.write_shift(4, (0x00534A74 | (b8 ? 0 : 0x20000000)));\n\twhile(o.l < o.length) o.write_shift(1, (b8 ? 0 : 32));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.351 */\nfunction parse_WsBool(blob, length, opts) {\n\tvar flags = opts && opts.biff == 8 || length == 2 ? blob.read_shift(2) : (blob.l += length, 0);\n\treturn { fDialog: flags & 0x10, fBelow: flags & 0x40, fRight: flags & 0x80 };\n}\n\n/* [MS-XLS] 2.4.28 */\nfunction parse_BoundSheet8(blob, length, opts) {\n\tvar pos = blob.read_shift(4);\n\tvar hidden = blob.read_shift(1) & 0x03;\n\tvar dt = blob.read_shift(1);\n\tswitch(dt) {\n\t\tcase 0: dt = 'Worksheet'; break;\n\t\tcase 1: dt = 'Macrosheet'; break;\n\t\tcase 2: dt = 'Chartsheet'; break;\n\t\tcase 6: dt = 'VBAModule'; break;\n\t}\n\tvar name = parse_ShortXLUnicodeString(blob, 0, opts);\n\tif(name.length === 0) name = \"Sheet1\";\n\treturn { pos:pos, hs:hidden, dt:dt, name:name };\n}\nfunction write_BoundSheet8(data, opts) {\n\tvar w = (!opts || opts.biff >= 8 ? 2 : 1);\n\tvar o = new_buf(8 + w * data.name.length);\n\to.write_shift(4, data.pos);\n\to.write_shift(1, data.hs || 0);\n\to.write_shift(1, data.dt);\n\to.write_shift(1, data.name.length);\n\tif(opts.biff >= 8) o.write_shift(1, 1);\n\to.write_shift(w * data.name.length, data.name, opts.biff < 8 ? 'sbcs' : 'utf16le');\n\tvar out = o.slice(0, o.l);\n\tout.l = o.l; return out;\n}\n\n/* [MS-XLS] 2.4.265 TODO */\nfunction parse_SST(blob, length)/*:SST*/ {\n\tvar end = blob.l + length;\n\tvar cnt = blob.read_shift(4);\n\tvar ucnt = blob.read_shift(4);\n\tvar strs/*:SST*/ = ([]/*:any*/);\n\tfor(var i = 0; i != ucnt && blob.l < end; ++i) {\n\t\tstrs.push(parse_XLUnicodeRichExtendedString(blob));\n\t}\n\tstrs.Count = cnt; strs.Unique = ucnt;\n\treturn strs;\n}\nfunction write_SST(sst, opts) {\n\tvar header = new_buf(8);\n\theader.write_shift(4, sst.Count);\n\theader.write_shift(4, sst.Unique);\n\tvar strs = [];\n\tfor(var j = 0; j < sst.length; ++j) strs[j] = write_XLUnicodeRichExtendedString(sst[j], opts);\n\tvar o = bconcat([header].concat(strs));\n\t/*::(*/o/*:: :any)*/.parts = [header.length].concat(strs.map(function(str) { return str.length; }));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.107 */\nfunction parse_ExtSST(blob, length) {\n\tvar extsst = {};\n\textsst.dsst = blob.read_shift(2);\n\tblob.l += length-2;\n\treturn extsst;\n}\n\n\n/* [MS-XLS] 2.4.221 TODO: check BIFF2-4 */\nfunction parse_Row(blob) {\n\tvar z = ({}/*:any*/);\n\tz.r = blob.read_shift(2);\n\tz.c = blob.read_shift(2);\n\tz.cnt = blob.read_shift(2) - z.c;\n\tvar miyRw = blob.read_shift(2);\n\tblob.l += 4; // reserved(2), unused(2)\n\tvar flags = blob.read_shift(1); // various flags\n\tblob.l += 3; // reserved(8), ixfe(12), flags(4)\n\tif(flags & 0x07) z.level = flags & 0x07;\n\t// collapsed: flags & 0x10\n\tif(flags & 0x20) z.hidden = true;\n\tif(flags & 0x40) z.hpt = miyRw / 20;\n\treturn z;\n}\n\n\n/* [MS-XLS] 2.4.125 */\nfunction parse_ForceFullCalculation(blob) {\n\tvar header = parse_frtHeader(blob);\n\tif(header.type != 0x08A3) throw new Error(\"Invalid Future Record \" + header.type);\n\tvar fullcalc = blob.read_shift(4);\n\treturn fullcalc !== 0x0;\n}\n\n\n\n\n\n/* [MS-XLS] 2.4.215 rt */\nfunction parse_RecalcId(blob) {\n\tblob.read_shift(2);\n\treturn blob.read_shift(4);\n}\n\n/* [MS-XLS] 2.4.87 */\nfunction parse_DefaultRowHeight(blob, length, opts) {\n\tvar f = 0;\n\tif(!(opts && opts.biff == 2)) {\n\t\tf = blob.read_shift(2);\n\t}\n\tvar miyRw = blob.read_shift(2);\n\tif((opts && opts.biff == 2)) {\n\t\tf = 1 - (miyRw >> 15); miyRw &= 0x7fff;\n\t}\n\tvar fl = {Unsynced:f&1,DyZero:(f&2)>>1,ExAsc:(f&4)>>2,ExDsc:(f&8)>>3};\n\treturn [fl, miyRw];\n}\n\n/* [MS-XLS] 2.4.345 TODO */\nfunction parse_Window1(blob) {\n\tvar xWn = blob.read_shift(2), yWn = blob.read_shift(2), dxWn = blob.read_shift(2), dyWn = blob.read_shift(2);\n\tvar flags = blob.read_shift(2), iTabCur = blob.read_shift(2), iTabFirst = blob.read_shift(2);\n\tvar ctabSel = blob.read_shift(2), wTabRatio = blob.read_shift(2);\n\treturn { Pos: [xWn, yWn], Dim: [dxWn, dyWn], Flags: flags, CurTab: iTabCur,\n\t\tFirstTab: iTabFirst, Selected: ctabSel, TabRatio: wTabRatio };\n}\nfunction write_Window1(/*::opts*/) {\n\tvar o = new_buf(18);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0x7260);\n\to.write_shift(2, 0x44c0);\n\to.write_shift(2, 0x38);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 1);\n\to.write_shift(2, 0x01f4);\n\treturn o;\n}\n/* [MS-XLS] 2.4.346 TODO */\nfunction parse_Window2(blob, length, opts) {\n\tif(opts && opts.biff >= 2 && opts.biff < 5) return {};\n\tvar f = blob.read_shift(2);\n\treturn { RTL: f & 0x40 };\n}\nfunction write_Window2(view) {\n\tvar o = new_buf(18), f = 0x6b6;\n\tif(view && view.RTL) f |= 0x40;\n\to.write_shift(2, f);\n\to.write_shift(4, 0);\n\to.write_shift(4, 64);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.189 TODO */\nfunction parse_Pane(/*blob, length, opts*/) {\n}\n\n/* [MS-XLS] 2.4.122 TODO */\nfunction parse_Font(blob, length, opts) {\n\tvar o/*:any*/ = {\n\t\tdyHeight: blob.read_shift(2),\n\t\tfl: blob.read_shift(2)\n\t};\n\tswitch((opts && opts.biff) || 8) {\n\t\tcase 2: break;\n\t\tcase 3: case 4: blob.l += 2; break;\n\t\tdefault: blob.l += 10; break;\n\t}\n\to.name = parse_ShortXLUnicodeString(blob, 0, opts);\n\treturn o;\n}\nfunction write_Font(data, opts) {\n\tvar name = data.name || \"Arial\";\n\tvar b5 = (opts && (opts.biff == 5)), w = (b5 ? (15 + name.length) : (16 + 2 * name.length));\n\tvar o = new_buf(w);\n\to.write_shift(2, (data.sz || 12) * 20);\n\to.write_shift(4, 0);\n\to.write_shift(2, 400);\n\to.write_shift(4, 0);\n\to.write_shift(2, 0);\n\to.write_shift(1, name.length);\n\tif(!b5) o.write_shift(1, 1);\n\to.write_shift((b5 ? 1 : 2) * name.length, name, (b5 ? \"sbcs\" : \"utf16le\"));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.149 */\nfunction parse_LabelSst(blob) {\n\tvar cell = parse_XLSCell(blob);\n\tcell.isst = blob.read_shift(4);\n\treturn cell;\n}\nfunction write_LabelSst(R/*:number*/, C/*:number*/, v/*:number*/, os/*:number*/ /*::, opts*/) {\n\tvar o = new_buf(10);\n\twrite_XLSCell(R, C, os, o);\n\to.write_shift(4, v);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.148 */\nfunction parse_Label(blob, length, opts) {\n\tif(opts.biffguess && opts.biff == 2) opts.biff = 5;\n\tvar target = blob.l + length;\n\tvar cell = parse_XLSCell(blob, 6);\n\tif(opts.biff == 2) blob.l++;\n\tvar str = parse_XLUnicodeString(blob, target - blob.l, opts);\n\tcell.val = str;\n\treturn cell;\n}\nfunction write_Label(R/*:number*/, C/*:number*/, v/*:string*/, os/*:number*/, opts) {\n\tvar b8 = !opts || opts.biff == 8;\n\tvar o = new_buf(6 + 2 + (+b8) + (1 + b8) * v.length);\n\twrite_XLSCell(R, C, os, o);\n\to.write_shift(2, v.length);\n\tif(b8) o.write_shift(1, 1);\n\to.write_shift((1 + b8) * v.length, v, b8 ? 'utf16le' : 'sbcs');\n\treturn o;\n}\n\n\n/* [MS-XLS] 2.4.126 Number Formats */\nfunction parse_Format(blob, length, opts) {\n\tvar numFmtId = blob.read_shift(2);\n\tvar fmtstr = parse_XLUnicodeString2(blob, 0, opts);\n\treturn [numFmtId, fmtstr];\n}\nfunction write_Format(i/*:number*/, f/*:string*/, opts, o) {\n\tvar b5 = (opts && (opts.biff == 5));\n\tif(!o) o = new_buf(b5 ? (3 + f.length) : (5 + 2 * f.length));\n\to.write_shift(2, i);\n\to.write_shift((b5 ? 1 : 2), f.length);\n\tif(!b5) o.write_shift(1, 1);\n\to.write_shift((b5 ? 1 : 2) * f.length, f, (b5 ? 'sbcs' : 'utf16le'));\n\tvar out = (o.length > o.l) ? o.slice(0, o.l) : o;\n\tif(out.l == null) out.l = out.length;\n\treturn out;\n}\nvar parse_BIFF2Format = parse_XLUnicodeString2;\n\n/* [MS-XLS] 2.4.90 */\nfunction parse_Dimensions(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar w = opts.biff == 8 || !opts.biff ? 4 : 2;\n\tvar r = blob.read_shift(w), R = blob.read_shift(w);\n\tvar c = blob.read_shift(2), C = blob.read_shift(2);\n\tblob.l = end;\n\treturn {s: {r:r, c:c}, e: {r:R, c:C}};\n}\nfunction write_Dimensions(range, opts) {\n\tvar w = opts.biff == 8 || !opts.biff ? 4 : 2;\n\tvar o = new_buf(2*w + 6);\n\to.write_shift(w, range.s.r);\n\to.write_shift(w, range.e.r + 1);\n\to.write_shift(2, range.s.c);\n\to.write_shift(2, range.e.c + 1);\n\to.write_shift(2, 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.220 */\nfunction parse_RK(blob) {\n\tvar rw = blob.read_shift(2), col = blob.read_shift(2);\n\tvar rkrec = parse_RkRec(blob);\n\treturn {r:rw, c:col, ixfe:rkrec[0], rknum:rkrec[1]};\n}\n\n/* [MS-XLS] 2.4.175 */\nfunction parse_MulRk(blob, length) {\n\tvar target = blob.l + length - 2;\n\tvar rw = blob.read_shift(2), col = blob.read_shift(2);\n\tvar rkrecs = [];\n\twhile(blob.l < target) rkrecs.push(parse_RkRec(blob));\n\tif(blob.l !== target) throw new Error(\"MulRK read error\");\n\tvar lastcol = blob.read_shift(2);\n\tif(rkrecs.length != lastcol - col + 1) throw new Error(\"MulRK length mismatch\");\n\treturn {r:rw, c:col, C:lastcol, rkrec:rkrecs};\n}\n/* [MS-XLS] 2.4.174 */\nfunction parse_MulBlank(blob, length) {\n\tvar target = blob.l + length - 2;\n\tvar rw = blob.read_shift(2), col = blob.read_shift(2);\n\tvar ixfes = [];\n\twhile(blob.l < target) ixfes.push(blob.read_shift(2));\n\tif(blob.l !== target) throw new Error(\"MulBlank read error\");\n\tvar lastcol = blob.read_shift(2);\n\tif(ixfes.length != lastcol - col + 1) throw new Error(\"MulBlank length mismatch\");\n\treturn {r:rw, c:col, C:lastcol, ixfe:ixfes};\n}\n\n/* [MS-XLS] 2.5.20 2.5.249 TODO: interpret values here */\nfunction parse_CellStyleXF(blob, length, style, opts) {\n\tvar o = {};\n\tvar a = blob.read_shift(4), b = blob.read_shift(4);\n\tvar c = blob.read_shift(4), d = blob.read_shift(2);\n\to.patternType = XLSFillPattern[c >> 26];\n\n\tif(!opts.cellStyles) return o;\n\to.alc = a & 0x07;\n\to.fWrap = (a >> 3) & 0x01;\n\to.alcV = (a >> 4) & 0x07;\n\to.fJustLast = (a >> 7) & 0x01;\n\to.trot = (a >> 8) & 0xFF;\n\to.cIndent = (a >> 16) & 0x0F;\n\to.fShrinkToFit = (a >> 20) & 0x01;\n\to.iReadOrder = (a >> 22) & 0x02;\n\to.fAtrNum = (a >> 26) & 0x01;\n\to.fAtrFnt = (a >> 27) & 0x01;\n\to.fAtrAlc = (a >> 28) & 0x01;\n\to.fAtrBdr = (a >> 29) & 0x01;\n\to.fAtrPat = (a >> 30) & 0x01;\n\to.fAtrProt = (a >> 31) & 0x01;\n\n\to.dgLeft = b & 0x0F;\n\to.dgRight = (b >> 4) & 0x0F;\n\to.dgTop = (b >> 8) & 0x0F;\n\to.dgBottom = (b >> 12) & 0x0F;\n\to.icvLeft = (b >> 16) & 0x7F;\n\to.icvRight = (b >> 23) & 0x7F;\n\to.grbitDiag = (b >> 30) & 0x03;\n\n\to.icvTop = c & 0x7F;\n\to.icvBottom = (c >> 7) & 0x7F;\n\to.icvDiag = (c >> 14) & 0x7F;\n\to.dgDiag = (c >> 21) & 0x0F;\n\n\to.icvFore = d & 0x7F;\n\to.icvBack = (d >> 7) & 0x7F;\n\to.fsxButton = (d >> 14) & 0x01;\n\treturn o;\n}\n//function parse_CellXF(blob, length, opts) {return parse_CellStyleXF(blob,length,0, opts);}\n//function parse_StyleXF(blob, length, opts) {return parse_CellStyleXF(blob,length,1, opts);}\n\n/* [MS-XLS] 2.4.353 TODO: actually do this right */\nfunction parse_XF(blob, length, opts) {\n\tvar o = {};\n\to.ifnt = blob.read_shift(2); o.numFmtId = blob.read_shift(2); o.flags = blob.read_shift(2);\n\to.fStyle = (o.flags >> 2) & 0x01;\n\tlength -= 6;\n\to.data = parse_CellStyleXF(blob, length, o.fStyle, opts);\n\treturn o;\n}\nfunction write_XF(data, ixfeP, opts, o) {\n\tvar b5 = (opts && (opts.biff == 5));\n\tif(!o) o = new_buf(b5 ? 16 : 20);\n\to.write_shift(2, 0);\n\tif(data.style) {\n\t\to.write_shift(2, (data.numFmtId||0));\n\t\to.write_shift(2, 0xFFF4);\n\t} else {\n\t\to.write_shift(2, (data.numFmtId||0));\n\t\to.write_shift(2, (ixfeP<<4));\n\t}\n\tvar f = 0;\n\tif(data.numFmtId > 0 && b5) f |= 0x0400;\n\to.write_shift(4, f);\n\to.write_shift(4, 0);\n\tif(!b5) o.write_shift(4, 0);\n\to.write_shift(2, 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.134 */\nfunction parse_Guts(blob) {\n\tblob.l += 4;\n\tvar out = [blob.read_shift(2), blob.read_shift(2)];\n\tif(out[0] !== 0) out[0]--;\n\tif(out[1] !== 0) out[1]--;\n\tif(out[0] > 7 || out[1] > 7) throw new Error(\"Bad Gutters: \" + out.join(\"|\"));\n\treturn out;\n}\nfunction write_Guts(guts/*:Array<number>*/) {\n\tvar o = new_buf(8);\n\to.write_shift(4, 0);\n\to.write_shift(2, guts[0] ? guts[0] + 1 : 0);\n\to.write_shift(2, guts[1] ? guts[1] + 1 : 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.24 */\nfunction parse_BoolErr(blob, length, opts) {\n\tvar cell = parse_XLSCell(blob, 6);\n\tif(opts.biff == 2 || length == 9) ++blob.l;\n\tvar val = parse_Bes(blob, 2);\n\tcell.val = val;\n\tcell.t = (val === true || val === false) ? 'b' : 'e';\n\treturn cell;\n}\nfunction write_BoolErr(R/*:number*/, C/*:number*/, v, os/*:number*/, opts, t/*:string*/) {\n\tvar o = new_buf(8);\n\twrite_XLSCell(R, C, os, o);\n\twrite_Bes(v, t, o);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.180 Number */\nfunction parse_Number(blob, length, opts) {\n\tif(opts.biffguess && opts.biff == 2) opts.biff = 5;\n\tvar cell = parse_XLSCell(blob, 6);\n\tvar xnum = parse_Xnum(blob, 8);\n\tcell.val = xnum;\n\treturn cell;\n}\nfunction write_Number(R/*:number*/, C/*:number*/, v, os/*:: :number, opts*/) {\n\tvar o = new_buf(14);\n\twrite_XLSCell(R, C, os, o);\n\twrite_Xnum(v, o);\n\treturn o;\n}\n\nvar parse_XLHeaderFooter = parse_OptXLUnicodeString; // TODO: parse 2.4.136\n\n/* [MS-XLS] 2.4.271 */\nfunction parse_SupBook(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar ctab = blob.read_shift(2);\n\tvar cch = blob.read_shift(2);\n\topts.sbcch = cch;\n\tif(cch == 0x0401 || cch == 0x3A01) return [cch, ctab];\n\tif(cch < 0x01 || cch >0xff) throw new Error(\"Unexpected SupBook type: \"+cch);\n\tvar virtPath = parse_XLUnicodeStringNoCch(blob, cch);\n\t/* TODO: 2.5.277 Virtual Path */\n\tvar rgst = [];\n\twhile(end > blob.l) rgst.push(parse_XLUnicodeString(blob));\n\treturn [cch, ctab, virtPath, rgst];\n}\n\n/* [MS-XLS] 2.4.105 TODO */\nfunction parse_ExternName(blob, length, opts) {\n\tvar flags = blob.read_shift(2);\n\tvar body;\n\tvar o = ({\n\t\tfBuiltIn: flags & 0x01,\n\t\tfWantAdvise: (flags >>> 1) & 0x01,\n\t\tfWantPict: (flags >>> 2) & 0x01,\n\t\tfOle: (flags >>> 3) & 0x01,\n\t\tfOleLink: (flags >>> 4) & 0x01,\n\t\tcf: (flags >>> 5) & 0x3FF,\n\t\tfIcon: flags >>> 15 & 0x01\n\t}/*:any*/);\n\tif(opts.sbcch === 0x3A01) body = parse_AddinUdf(blob, length-2, opts);\n\t//else throw new Error(\"unsupported SupBook cch: \" + opts.sbcch);\n\to.body = body || blob.read_shift(length-2);\n\tif(typeof body === \"string\") o.Name = body;\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.150 TODO */\nvar XLSLblBuiltIn = [\n\t\"_xlnm.Consolidate_Area\",\n\t\"_xlnm.Auto_Open\",\n\t\"_xlnm.Auto_Close\",\n\t\"_xlnm.Extract\",\n\t\"_xlnm.Database\",\n\t\"_xlnm.Criteria\",\n\t\"_xlnm.Print_Area\",\n\t\"_xlnm.Print_Titles\",\n\t\"_xlnm.Recorder\",\n\t\"_xlnm.Data_Form\",\n\t\"_xlnm.Auto_Activate\",\n\t\"_xlnm.Auto_Deactivate\",\n\t\"_xlnm.Sheet_Title\",\n\t\"_xlnm._FilterDatabase\"\n];\nfunction parse_Lbl(blob, length, opts) {\n\tvar target = blob.l + length;\n\tvar flags = blob.read_shift(2);\n\tvar chKey = blob.read_shift(1);\n\tvar cch = blob.read_shift(1);\n\tvar cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\tvar itab = 0;\n\tif(!opts || opts.biff >= 5) {\n\t\tif(opts.biff != 5) blob.l += 2;\n\t\titab = blob.read_shift(2);\n\t\tif(opts.biff == 5) blob.l += 2;\n\t\tblob.l += 4;\n\t}\n\tvar name = parse_XLUnicodeStringNoCch(blob, cch, opts);\n\tif(flags & 0x20) name = XLSLblBuiltIn[name.charCodeAt(0)];\n\tvar npflen = target - blob.l; if(opts && opts.biff == 2) --npflen;\n\t/*jshint -W018 */\n\tvar rgce = (target == blob.l || cce === 0 || !(npflen > 0)) ? [] : parse_NameParsedFormula(blob, npflen, opts, cce);\n\t/*jshint +W018 */\n\treturn {\n\t\tchKey: chKey,\n\t\tName: name,\n\t\titab: itab,\n\t\trgce: rgce\n\t};\n}\n\n/* [MS-XLS] 2.4.106 TODO: verify filename encoding */\nfunction parse_ExternSheet(blob, length, opts) {\n\tif(opts.biff < 8) return parse_BIFF5ExternSheet(blob, length, opts);\n\tvar o = [], target = blob.l + length, len = blob.read_shift(opts.biff > 8 ? 4 : 2);\n\twhile(len-- !== 0) o.push(parse_XTI(blob, opts.biff > 8 ? 12 : 6, opts));\n\t\t// [iSupBook, itabFirst, itabLast];\n\tif(blob.l != target) throw new Error(\"Bad ExternSheet: \" + blob.l + \" != \" + target);\n\treturn o;\n}\nfunction parse_BIFF5ExternSheet(blob, length, opts) {\n\tif(blob[blob.l + 1] == 0x03) blob[blob.l]++;\n\tvar o = parse_ShortXLUnicodeString(blob, length, opts);\n\treturn o.charCodeAt(0) == 0x03 ? o.slice(1) : o;\n}\n\n/* [MS-XLS] 2.4.176 TODO: check older biff */\nfunction parse_NameCmt(blob, length, opts) {\n\tif(opts.biff < 8) { blob.l += length; return; }\n\tvar cchName = blob.read_shift(2);\n\tvar cchComment = blob.read_shift(2);\n\tvar name = parse_XLUnicodeStringNoCch(blob, cchName, opts);\n\tvar comment = parse_XLUnicodeStringNoCch(blob, cchComment, opts);\n\treturn [name, comment];\n}\n\n/* [MS-XLS] 2.4.260 */\nfunction parse_ShrFmla(blob, length, opts) {\n\tvar ref = parse_RefU(blob, 6);\n\tblob.l++;\n\tvar cUse = blob.read_shift(1);\n\tlength -= 8;\n\treturn [parse_SharedParsedFormula(blob, length, opts), cUse, ref];\n}\n\n/* [MS-XLS] 2.4.4 TODO */\nfunction parse_Array(blob, length, opts) {\n\tvar ref = parse_Ref(blob, 6);\n\t/* TODO: fAlwaysCalc */\n\tswitch(opts.biff) {\n\t\tcase 2: blob.l ++; length -= 7; break;\n\t\tcase 3: case 4: blob.l += 2; length -= 8; break;\n\t\tdefault: blob.l += 6; length -= 12;\n\t}\n\treturn [ref, parse_ArrayParsedFormula(blob, length, opts, ref)];\n}\n\n/* [MS-XLS] 2.4.173 */\nfunction parse_MTRSettings(blob) {\n\tvar fMTREnabled = blob.read_shift(4) !== 0x00;\n\tvar fUserSetThreadCount = blob.read_shift(4) !== 0x00;\n\tvar cUserThreadCount = blob.read_shift(4);\n\treturn [fMTREnabled, fUserSetThreadCount, cUserThreadCount];\n}\n\n/* [MS-XLS] 2.5.186 TODO: BIFF5 */\nfunction parse_NoteSh(blob, length, opts) {\n\tif(opts.biff < 8) return;\n\tvar row = blob.read_shift(2), col = blob.read_shift(2);\n\tvar flags = blob.read_shift(2), idObj = blob.read_shift(2);\n\tvar stAuthor = parse_XLUnicodeString2(blob, 0, opts);\n\tif(opts.biff < 8) blob.read_shift(1);\n\treturn [{r:row,c:col}, stAuthor, idObj, flags];\n}\n\n/* [MS-XLS] 2.4.179 */\nfunction parse_Note(blob, length, opts) {\n\t/* TODO: Support revisions */\n\treturn parse_NoteSh(blob, length, opts);\n}\n\n/* [MS-XLS] 2.4.168 */\nfunction parse_MergeCells(blob, length)/*:Array<Range>*/ {\n\tvar merges/*:Array<Range>*/ = [];\n\tvar cmcs = blob.read_shift(2);\n\twhile (cmcs--) merges.push(parse_Ref8U(blob,length));\n\treturn merges;\n}\nfunction write_MergeCells(merges/*:Array<Range>*/) {\n\tvar o = new_buf(2 + merges.length * 8);\n\to.write_shift(2, merges.length);\n\tfor(var i = 0; i < merges.length; ++i) write_Ref8U(merges[i], o);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.181 TODO: parse all the things! */\nfunction parse_Obj(blob, length, opts) {\n\tif(opts && opts.biff < 8) return parse_BIFF5Obj(blob, length, opts);\n\tvar cmo = parse_FtCmo(blob, 22); // id, ot, flags\n\tvar fts = parse_FtArray(blob, length-22, cmo[1]);\n\treturn { cmo: cmo, ft:fts };\n}\n/* from older spec */\nvar parse_BIFF5OT = {\n0x08: function(blob, length) {\n\tvar tgt = blob.l + length;\n\tblob.l += 10; // todo\n\tvar cf = blob.read_shift(2);\n\tblob.l += 4;\n\tblob.l += 2; //var cbPictFmla = blob.read_shift(2);\n\tblob.l += 2;\n\tblob.l += 2; //var grbit = blob.read_shift(2);\n\tblob.l += 4;\n\tvar cchName = blob.read_shift(1);\n\tblob.l += cchName; // TODO: stName\n\tblob.l = tgt; // TODO: fmla\n\treturn { fmt:cf };\n}\n};\n\nfunction parse_BIFF5Obj(blob, length, opts) {\n\tblob.l += 4; //var cnt = blob.read_shift(4);\n\tvar ot = blob.read_shift(2);\n\tvar id = blob.read_shift(2);\n\tvar grbit = blob.read_shift(2);\n\tblob.l += 2; //var colL = blob.read_shift(2);\n\tblob.l += 2; //var dxL = blob.read_shift(2);\n\tblob.l += 2; //var rwT = blob.read_shift(2);\n\tblob.l += 2; //var dyT = blob.read_shift(2);\n\tblob.l += 2; //var colR = blob.read_shift(2);\n\tblob.l += 2; //var dxR = blob.read_shift(2);\n\tblob.l += 2; //var rwB = blob.read_shift(2);\n\tblob.l += 2; //var dyB = blob.read_shift(2);\n\tblob.l += 2; //var cbMacro = blob.read_shift(2);\n\tblob.l += 6;\n\tlength -= 36;\n\tvar fts = [];\n\tfts.push((parse_BIFF5OT[ot]||parsenoop)(blob, length, opts));\n\treturn { cmo: [id, ot, grbit], ft:fts };\n}\n\n/* [MS-XLS] 2.4.329 TODO: parse properly */\nfunction parse_TxO(blob, length, opts) {\n\tvar s = blob.l;\n\tvar texts = \"\";\ntry {\n\tblob.l += 4;\n\tvar ot = (opts.lastobj||{cmo:[0,0]}).cmo[1];\n\tvar controlInfo; // eslint-disable-line no-unused-vars\n\tif([0,5,7,11,12,14].indexOf(ot) == -1) blob.l += 6;\n\telse controlInfo = parse_ControlInfo(blob, 6, opts); // eslint-disable-line no-unused-vars\n\tvar cchText = blob.read_shift(2);\n\t/*var cbRuns = */blob.read_shift(2);\n\t/*var ifntEmpty = */parseuint16(blob, 2);\n\tvar len = blob.read_shift(2);\n\tblob.l += len;\n\t//var fmla = parse_ObjFmla(blob, s + length - blob.l);\n\n\tfor(var i = 1; i < blob.lens.length-1; ++i) {\n\t\tif(blob.l-s != blob.lens[i]) throw new Error(\"TxO: bad continue record\");\n\t\tvar hdr = blob[blob.l];\n\t\tvar t = parse_XLUnicodeStringNoCch(blob, blob.lens[i+1]-blob.lens[i]-1);\n\t\ttexts += t;\n\t\tif(texts.length >= (hdr ? cchText : 2*cchText)) break;\n\t}\n\tif(texts.length !== cchText && texts.length !== cchText*2) {\n\t\tthrow new Error(\"cchText: \" + cchText + \" != \" + texts.length);\n\t}\n\n\tblob.l = s + length;\n\t/* [MS-XLS] 2.5.272 TxORuns */\n//\tvar rgTxoRuns = [];\n//\tfor(var j = 0; j != cbRuns/8-1; ++j) blob.l += 8;\n//\tvar cchText2 = blob.read_shift(2);\n//\tif(cchText2 !== cchText) throw new Error(\"TxOLastRun mismatch: \" + cchText2 + \" \" + cchText);\n//\tblob.l += 6;\n//\tif(s + length != blob.l) throw new Error(\"TxO \" + (s + length) + \", at \" + blob.l);\n\treturn { t: texts };\n} catch(e) { blob.l = s + length; return { t: texts }; }\n}\n\n/* [MS-XLS] 2.4.140 */\nfunction parse_HLink(blob, length) {\n\tvar ref = parse_Ref8U(blob, 8);\n\tblob.l += 16; /* CLSID */\n\tvar hlink = parse_Hyperlink(blob, length-24);\n\treturn [ref, hlink];\n}\nfunction write_HLink(hl) {\n\tvar O = new_buf(24);\n\tvar ref = decode_cell(hl[0]);\n\tO.write_shift(2, ref.r); O.write_shift(2, ref.r);\n\tO.write_shift(2, ref.c); O.write_shift(2, ref.c);\n\tvar clsid = \"d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b\".split(\" \");\n\tfor(var i = 0; i < 16; ++i) O.write_shift(1, parseInt(clsid[i], 16));\n\treturn bconcat([O, write_Hyperlink(hl[1])]);\n}\n\n\n/* [MS-XLS] 2.4.141 */\nfunction parse_HLinkTooltip(blob, length) {\n\tblob.read_shift(2);\n\tvar ref = parse_Ref8U(blob, 8);\n\tvar wzTooltip = blob.read_shift((length-10)/2, 'dbcs-cont');\n\twzTooltip = wzTooltip.replace(chr0,\"\");\n\treturn [ref, wzTooltip];\n}\nfunction write_HLinkTooltip(hl) {\n\tvar TT = hl[1].Tooltip;\n\tvar O = new_buf(10 + 2 * (TT.length + 1));\n\tO.write_shift(2, 0x0800);\n\tvar ref = decode_cell(hl[0]);\n\tO.write_shift(2, ref.r); O.write_shift(2, ref.r);\n\tO.write_shift(2, ref.c); O.write_shift(2, ref.c);\n\tfor(var i = 0; i < TT.length; ++i) O.write_shift(2, TT.charCodeAt(i));\n\tO.write_shift(2, 0);\n\treturn O;\n}\n\n/* [MS-XLS] 2.4.63 */\nfunction parse_Country(blob)/*:[string|number, string|number]*/ {\n\tvar o = [0,0], d;\n\td = blob.read_shift(2); o[0] = CountryEnum[d] || d;\n\td = blob.read_shift(2); o[1] = CountryEnum[d] || d;\n\treturn o;\n}\nfunction write_Country(o) {\n\tif(!o) o = new_buf(4);\n\to.write_shift(2, 0x01);\n\to.write_shift(2, 0x01);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.50 ClrtClient */\nfunction parse_ClrtClient(blob) {\n\tvar ccv = blob.read_shift(2);\n\tvar o = [];\n\twhile(ccv-->0) o.push(parse_LongRGB(blob, 8));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.188 */\nfunction parse_Palette(blob) {\n\tvar ccv = blob.read_shift(2);\n\tvar o = [];\n\twhile(ccv-->0) o.push(parse_LongRGB(blob, 8));\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.354 */\nfunction parse_XFCRC(blob) {\n\tblob.l += 2;\n\tvar o = {cxfs:0, crc:0};\n\to.cxfs = blob.read_shift(2);\n\to.crc = blob.read_shift(4);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.53 TODO: parse flags */\n/* [MS-XLSB] 2.4.323 TODO: parse flags */\nfunction parse_ColInfo(blob, length, opts) {\n\tif(!opts.cellStyles) return parsenoop(blob, length);\n\tvar w = opts && opts.biff >= 12 ? 4 : 2;\n\tvar colFirst = blob.read_shift(w);\n\tvar colLast = blob.read_shift(w);\n\tvar coldx = blob.read_shift(w);\n\tvar ixfe = blob.read_shift(w);\n\tvar flags = blob.read_shift(2);\n\tif(w == 2) blob.l += 2;\n\tvar o = ({s:colFirst, e:colLast, w:coldx, ixfe:ixfe, flags:flags}/*:any*/);\n\tif(opts.biff >= 5 || !opts.biff) o.level = (flags >> 8) & 0x7;\n\treturn o;\n}\nfunction write_ColInfo(col, idx) {\n\tvar o = new_buf(12);\n\to.write_shift(2, idx);\n\to.write_shift(2, idx);\n\to.write_shift(2, col.width * 256);\n\to.write_shift(2, 0);\n\tvar f = 0;\n\tif(col.hidden) f |= 1;\n\to.write_shift(1, f);\n\tf = col.level || 0;\n\to.write_shift(1, f);\n\to.write_shift(2, 0);\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.257 */\nfunction parse_Setup(blob, length) {\n\tvar o = {};\n\tif(length < 32) return o;\n\tblob.l += 16;\n\to.header = parse_Xnum(blob, 8);\n\to.footer = parse_Xnum(blob, 8);\n\tblob.l += 2;\n\treturn o;\n}\n\n/* [MS-XLS] 2.4.261 */\nfunction parse_ShtProps(blob, length, opts) {\n\tvar def = {area:false};\n\tif(opts.biff != 5) { blob.l += length; return def; }\n\tvar d = blob.read_shift(1); blob.l += 3;\n\tif((d & 0x10)) def.area = true;\n\treturn def;\n}\n\n/* [MS-XLS] 2.4.241 */\nfunction write_RRTabId(n/*:number*/) {\n\tvar out = new_buf(2 * n);\n\tfor(var i = 0; i < n; ++i) out.write_shift(2, i+1);\n\treturn out;\n}\n\nvar parse_Blank = parse_XLSCell; /* [MS-XLS] 2.4.20 Just the cell */\nvar parse_Scl = parseuint16a; /* [MS-XLS] 2.4.247 num, den */\nvar parse_String = parse_XLUnicodeString; /* [MS-XLS] 2.4.268 */\n\n/* --- Specific to versions before BIFF8 --- */\nfunction parse_ImData(blob) {\n\tvar cf = blob.read_shift(2);\n\tvar env = blob.read_shift(2);\n\tvar lcb = blob.read_shift(4);\n\tvar o = {fmt:cf, env:env, len:lcb, data:blob.slice(blob.l,blob.l+lcb)};\n\tblob.l += lcb;\n\treturn o;\n}\n\n/* BIFF2_??? where ??? is the name from [XLS] */\nfunction parse_BIFF2STR(blob, length, opts) {\n\tif(opts.biffguess && opts.biff == 5) opts.biff = 2;\n\tvar cell = parse_XLSCell(blob, 6);\n\t++blob.l;\n\tvar str = parse_XLUnicodeString2(blob, length-7, opts);\n\tcell.t = 'str';\n\tcell.val = str;\n\treturn cell;\n}\n\nfunction parse_BIFF2NUM(blob/*::, length*/) {\n\tvar cell = parse_XLSCell(blob, 6);\n\t++blob.l;\n\tvar num = parse_Xnum(blob, 8);\n\tcell.t = 'n';\n\tcell.val = num;\n\treturn cell;\n}\nfunction write_BIFF2NUM(r/*:number*/, c/*:number*/, val/*:number*/) {\n\tvar out = new_buf(15);\n\twrite_BIFF2Cell(out, r, c);\n\tout.write_shift(8, val, 'f');\n\treturn out;\n}\n\nfunction parse_BIFF2INT(blob) {\n\tvar cell = parse_XLSCell(blob, 6);\n\t++blob.l;\n\tvar num = blob.read_shift(2);\n\tcell.t = 'n';\n\tcell.val = num;\n\treturn cell;\n}\nfunction write_BIFF2INT(r/*:number*/, c/*:number*/, val/*:number*/) {\n\tvar out = new_buf(9);\n\twrite_BIFF2Cell(out, r, c);\n\tout.write_shift(2, val);\n\treturn out;\n}\n\nfunction parse_BIFF2STRING(blob) {\n\tvar cch = blob.read_shift(1);\n\tif(cch === 0) { blob.l++; return \"\"; }\n\treturn blob.read_shift(cch, 'sbcs-cont');\n}\n\n/* TODO: convert to BIFF8 font struct */\nfunction parse_BIFF2FONTXTRA(blob, length) {\n\tblob.l += 6; // unknown\n\tblob.l += 2; // font weight \"bls\"\n\tblob.l += 1; // charset\n\tblob.l += 3; // unknown\n\tblob.l += 1; // font family\n\tblob.l += length - 13;\n}\n\n/* TODO: parse rich text runs */\nfunction parse_RString(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar cell = parse_XLSCell(blob, 6);\n\tvar cch = blob.read_shift(2);\n\tvar str = parse_XLUnicodeStringNoCch(blob, cch, opts);\n\tblob.l = end;\n\tcell.t = 'str';\n\tcell.val = str;\n\treturn cell;\n}\n/* from js-harb (C) 2014-present  SheetJS */\nvar DBF_SUPPORTED_VERSIONS = [0x02, 0x03, 0x30, 0x31, 0x83, 0x8B, 0x8C, 0xF5];\nvar DBF = /*#__PURE__*/(function() {\nvar dbf_codepage_map = {\n\t/* Code Pages Supported by Visual FoxPro */\n\t/*::[*/0x01/*::]*/:   437,           /*::[*/0x02/*::]*/:   850,\n\t/*::[*/0x03/*::]*/:  1252,           /*::[*/0x04/*::]*/: 10000,\n\t/*::[*/0x64/*::]*/:   852,           /*::[*/0x65/*::]*/:   866,\n\t/*::[*/0x66/*::]*/:   865,           /*::[*/0x67/*::]*/:   861,\n\t/*::[*/0x68/*::]*/:   895,           /*::[*/0x69/*::]*/:   620,\n\t/*::[*/0x6A/*::]*/:   737,           /*::[*/0x6B/*::]*/:   857,\n\t/*::[*/0x78/*::]*/:   950,           /*::[*/0x79/*::]*/:   949,\n\t/*::[*/0x7A/*::]*/:   936,           /*::[*/0x7B/*::]*/:   932,\n\t/*::[*/0x7C/*::]*/:   874,           /*::[*/0x7D/*::]*/:  1255,\n\t/*::[*/0x7E/*::]*/:  1256,           /*::[*/0x96/*::]*/: 10007,\n\t/*::[*/0x97/*::]*/: 10029,           /*::[*/0x98/*::]*/: 10006,\n\t/*::[*/0xC8/*::]*/:  1250,           /*::[*/0xC9/*::]*/:  1251,\n\t/*::[*/0xCA/*::]*/:  1254,           /*::[*/0xCB/*::]*/:  1253,\n\n\t/* shapefile DBF extension */\n\t/*::[*/0x00/*::]*/: 20127,           /*::[*/0x08/*::]*/:   865,\n\t/*::[*/0x09/*::]*/:   437,           /*::[*/0x0A/*::]*/:   850,\n\t/*::[*/0x0B/*::]*/:   437,           /*::[*/0x0D/*::]*/:   437,\n\t/*::[*/0x0E/*::]*/:   850,           /*::[*/0x0F/*::]*/:   437,\n\t/*::[*/0x10/*::]*/:   850,           /*::[*/0x11/*::]*/:   437,\n\t/*::[*/0x12/*::]*/:   850,           /*::[*/0x13/*::]*/:   932,\n\t/*::[*/0x14/*::]*/:   850,           /*::[*/0x15/*::]*/:   437,\n\t/*::[*/0x16/*::]*/:   850,           /*::[*/0x17/*::]*/:   865,\n\t/*::[*/0x18/*::]*/:   437,           /*::[*/0x19/*::]*/:   437,\n\t/*::[*/0x1A/*::]*/:   850,           /*::[*/0x1B/*::]*/:   437,\n\t/*::[*/0x1C/*::]*/:   863,           /*::[*/0x1D/*::]*/:   850,\n\t/*::[*/0x1F/*::]*/:   852,           /*::[*/0x22/*::]*/:   852,\n\t/*::[*/0x23/*::]*/:   852,           /*::[*/0x24/*::]*/:   860,\n\t/*::[*/0x25/*::]*/:   850,           /*::[*/0x26/*::]*/:   866,\n\t/*::[*/0x37/*::]*/:   850,           /*::[*/0x40/*::]*/:   852,\n\t/*::[*/0x4D/*::]*/:   936,           /*::[*/0x4E/*::]*/:   949,\n\t/*::[*/0x4F/*::]*/:   950,           /*::[*/0x50/*::]*/:   874,\n\t/*::[*/0x57/*::]*/:  1252,           /*::[*/0x58/*::]*/:  1252,\n\t/*::[*/0x59/*::]*/:  1252,           /*::[*/0x6C/*::]*/:   863,\n\t/*::[*/0x86/*::]*/:   737,           /*::[*/0x87/*::]*/:   852,\n\t/*::[*/0x88/*::]*/:   857,           /*::[*/0xCC/*::]*/:  1257,\n\n\t/*::[*/0xFF/*::]*/: 16969\n};\nvar dbf_reverse_map = evert({\n\t/*::[*/0x01/*::]*/:   437,           /*::[*/0x02/*::]*/:   850,\n\t/*::[*/0x03/*::]*/:  1252,           /*::[*/0x04/*::]*/: 10000,\n\t/*::[*/0x64/*::]*/:   852,           /*::[*/0x65/*::]*/:   866,\n\t/*::[*/0x66/*::]*/:   865,           /*::[*/0x67/*::]*/:   861,\n\t/*::[*/0x68/*::]*/:   895,           /*::[*/0x69/*::]*/:   620,\n\t/*::[*/0x6A/*::]*/:   737,           /*::[*/0x6B/*::]*/:   857,\n\t/*::[*/0x78/*::]*/:   950,           /*::[*/0x79/*::]*/:   949,\n\t/*::[*/0x7A/*::]*/:   936,           /*::[*/0x7B/*::]*/:   932,\n\t/*::[*/0x7C/*::]*/:   874,           /*::[*/0x7D/*::]*/:  1255,\n\t/*::[*/0x7E/*::]*/:  1256,           /*::[*/0x96/*::]*/: 10007,\n\t/*::[*/0x97/*::]*/: 10029,           /*::[*/0x98/*::]*/: 10006,\n\t/*::[*/0xC8/*::]*/:  1250,           /*::[*/0xC9/*::]*/:  1251,\n\t/*::[*/0xCA/*::]*/:  1254,           /*::[*/0xCB/*::]*/:  1253,\n\t/*::[*/0x00/*::]*/: 20127\n});\n/* TODO: find an actual specification */\nfunction dbf_to_aoa(buf, opts)/*:AOA*/ {\n\tvar out/*:AOA*/ = [];\n\tvar d/*:Block*/ = (new_raw_buf(1)/*:any*/);\n\tswitch(opts.type) {\n\t\tcase 'base64': d = s2a(Base64_decode(buf)); break;\n\t\tcase 'binary': d = s2a(buf); break;\n\t\tcase 'buffer':\n\t\tcase 'array': d = buf; break;\n\t}\n\tprep_blob(d, 0);\n\n\t/* header */\n\tvar ft = d.read_shift(1);\n\tvar memo = !!(ft & 0x88);\n\tvar vfp = false, l7 = false;\n\tswitch(ft) {\n\t\tcase 0x02: break; // dBASE II\n\t\tcase 0x03: break; // dBASE III\n\t\tcase 0x30: vfp = true; memo = true; break; // VFP\n\t\tcase 0x31: vfp = true; memo = true; break; // VFP with autoincrement\n\t\t// 0x43 dBASE IV SQL table files\n\t\t// 0x63 dBASE IV SQL system files\n\t\tcase 0x83: break; // dBASE III with memo\n\t\tcase 0x8B: break; // dBASE IV with memo\n\t\tcase 0x8C: l7 = true; break; // dBASE Level 7 with memo\n\t\t// case 0xCB dBASE IV SQL table files with memo\n\t\tcase 0xF5: break; // FoxPro 2.x with memo\n\t\t// case 0xFB FoxBASE\n\t\tdefault: throw new Error(\"DBF Unsupported Version: \" + ft.toString(16));\n\t}\n\n\tvar nrow = 0, fpos = 0x0209;\n\tif(ft == 0x02) nrow = d.read_shift(2);\n\td.l += 3; // dBASE II stores DDMMYY date, others use YYMMDD\n\tif(ft != 0x02) nrow = d.read_shift(4);\n\tif(nrow > 1048576) nrow = 1e6;\n\n\tif(ft != 0x02) fpos = d.read_shift(2); // header length\n\tvar rlen = d.read_shift(2); // record length\n\n\tvar /*flags = 0,*/ current_cp = opts.codepage || 1252;\n\tif(ft != 0x02) { // 20 reserved bytes\n\t\td.l+=16;\n\t\t/*flags = */d.read_shift(1);\n\t\t//if(memo && ((flags & 0x02) === 0)) throw new Error(\"DBF Flags \" + flags.toString(16) + \" ft \" + ft.toString(16));\n\n\t\t/* codepage present in FoxPro and dBASE Level 7 */\n\t\tif(d[d.l] !== 0) current_cp = dbf_codepage_map[d[d.l]];\n\t\td.l+=1;\n\n\t\td.l+=2;\n\t}\n\tif(l7) d.l += 36; // Level 7: 32 byte \"Language driver name\", 4 byte reserved\n\n/*:: type DBFField = { name:string; len:number; type:string; } */\n\tvar fields/*:Array<DBFField>*/ = [], field/*:DBFField*/ = ({}/*:any*/);\n\tvar hend = Math.min(d.length, (ft == 0x02 ? 0x209 : (fpos - 10 - (vfp ? 264 : 0))));\n\tvar ww = l7 ? 32 : 11;\n\twhile(d.l < hend && d[d.l] != 0x0d) {\n\t\tfield = ({}/*:any*/);\n\t\tfield.name = $cptable.utils.decode(current_cp, d.slice(d.l, d.l+ww)).replace(/[\\u0000\\r\\n].*$/g,\"\");\n\t\td.l += ww;\n\t\tfield.type = String.fromCharCode(d.read_shift(1));\n\t\tif(ft != 0x02 && !l7) field.offset = d.read_shift(4);\n\t\tfield.len = d.read_shift(1);\n\t\tif(ft == 0x02) field.offset = d.read_shift(2);\n\t\tfield.dec = d.read_shift(1);\n\t\tif(field.name.length) fields.push(field);\n\t\tif(ft != 0x02) d.l += l7 ? 13 : 14;\n\t\tswitch(field.type) {\n\t\t\tcase 'B': // Double (VFP) / Binary (dBASE L7)\n\t\t\t\tif((!vfp || field.len != 8) && opts.WTF) console.log('Skipping ' + field.name + ':' + field.type);\n\t\t\t\tbreak;\n\t\t\tcase 'G': // General (FoxPro and dBASE L7)\n\t\t\tcase 'P': // Picture (FoxPro and dBASE L7)\n\t\t\t\tif(opts.WTF) console.log('Skipping ' + field.name + ':' + field.type);\n\t\t\t\tbreak;\n\t\t\tcase '+': // Autoincrement (dBASE L7 only)\n\t\t\tcase '0': // _NullFlags (VFP only)\n\t\t\tcase '@': // Timestamp (dBASE L7 only)\n\t\t\tcase 'C': // Character (dBASE II)\n\t\t\tcase 'D': // Date (dBASE III)\n\t\t\tcase 'F': // Float (dBASE IV)\n\t\t\tcase 'I': // Long (VFP and dBASE L7)\n\t\t\tcase 'L': // Logical (dBASE II)\n\t\t\tcase 'M': // Memo (dBASE III)\n\t\t\tcase 'N': // Number (dBASE II)\n\t\t\tcase 'O': // Double (dBASE L7 only)\n\t\t\tcase 'T': // Datetime (VFP only)\n\t\t\tcase 'Y': // Currency (VFP only)\n\t\t\t\tbreak;\n\t\t\tdefault: throw new Error('Unknown Field Type: ' + field.type);\n\t\t}\n\t}\n\n\tif(d[d.l] !== 0x0D) d.l = fpos-1;\n\tif(d.read_shift(1) !== 0x0D) throw new Error(\"DBF Terminator not found \" + d.l + \" \" + d[d.l]);\n\td.l = fpos;\n\n\t/* data */\n\tvar R = 0, C = 0;\n\tout[0] = [];\n\tfor(C = 0; C != fields.length; ++C) out[0][C] = fields[C].name;\n\twhile(nrow-- > 0) {\n\t\tif(d[d.l] === 0x2A) {\n\t\t\t// TODO: record marked as deleted -- create a hidden row?\n\t\t\td.l+=rlen;\n\t\t\tcontinue;\n\t\t}\n\t\t++d.l;\n\t\tout[++R] = []; C = 0;\n\t\tfor(C = 0; C != fields.length; ++C) {\n\t\t\tvar dd = d.slice(d.l, d.l+fields[C].len); d.l+=fields[C].len;\n\t\t\tprep_blob(dd, 0);\n\t\t\tvar s = $cptable.utils.decode(current_cp, dd);\n\t\t\tswitch(fields[C].type) {\n\t\t\t\tcase 'C':\n\t\t\t\t\t// NOTE: it is conventional to write '  /  /  ' for empty dates\n\t\t\t\t\tif(s.trim().length) out[R][C] = s.replace(/\\s+$/,\"\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'D':\n\t\t\t\t\tif(s.length === 8) out[R][C] = new Date(+s.slice(0,4), +s.slice(4,6)-1, +s.slice(6,8));\n\t\t\t\t\telse out[R][C] = s;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'F': out[R][C] = parseFloat(s.trim()); break;\n\t\t\t\tcase '+': case 'I': out[R][C] = l7 ? dd.read_shift(-4, 'i') ^ 0x80000000 : dd.read_shift(4, 'i'); break;\n\t\t\t\tcase 'L': switch(s.trim().toUpperCase()) {\n\t\t\t\t\tcase 'Y': case 'T': out[R][C] = true; break;\n\t\t\t\t\tcase 'N': case 'F': out[R][C] = false; break;\n\t\t\t\t\tcase '': case '?': break;\n\t\t\t\t\tdefault: throw new Error(\"DBF Unrecognized L:|\" + s + \"|\");\n\t\t\t\t\t} break;\n\t\t\t\tcase 'M': /* TODO: handle memo files */\n\t\t\t\t\tif(!memo) throw new Error(\"DBF Unexpected MEMO for type \" + ft.toString(16));\n\t\t\t\t\tout[R][C] = \"##MEMO##\" + (l7 ? parseInt(s.trim(), 10): dd.read_shift(4));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'N':\n\t\t\t\t\ts = s.replace(/\\u0000/g,\"\").trim();\n\t\t\t\t\t// NOTE: dBASE II interprets \"  .  \" as 0\n\t\t\t\t\tif(s && s != \".\") out[R][C] = +s || 0; break;\n\t\t\t\tcase '@':\n\t\t\t\t\t// NOTE: dBASE specs appear to be incorrect\n\t\t\t\t\tout[R][C] = new Date(dd.read_shift(-8, 'f') - 0x388317533400);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'T': out[R][C] = new Date((dd.read_shift(4) - 0x253D8C) * 0x5265C00 + dd.read_shift(4)); break;\n\t\t\t\tcase 'Y': out[R][C] = dd.read_shift(4,'i')/1e4 + (dd.read_shift(4, 'i')/1e4)*Math.pow(2,32); break;\n\t\t\t\tcase 'O': out[R][C] = -dd.read_shift(-8, 'f'); break;\n\t\t\t\tcase 'B': if(vfp && fields[C].len == 8) { out[R][C] = dd.read_shift(8,'f'); break; }\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 'G': case 'P': dd.l += fields[C].len; break;\n\t\t\t\tcase '0':\n\t\t\t\t\tif(fields[C].name === '_NullFlags') break;\n\t\t\t\t\t/* falls through */\n\t\t\t\tdefault: throw new Error(\"DBF Unsupported data type \" + fields[C].type);\n\t\t\t}\n\t\t}\n\t}\n\tif(ft != 0x02) if(d.l < d.length && d[d.l++] != 0x1A) throw new Error(\"DBF EOF Marker missing \" + (d.l-1) + \" of \" + d.length + \" \" + d[d.l-1].toString(16));\n\tif(opts && opts.sheetRows) out = out.slice(0, opts.sheetRows);\n\topts.DBF = fields;\n\treturn out;\n}\n\nfunction dbf_to_sheet(buf, opts)/*:Worksheet*/ {\n\tvar o = opts || {};\n\tif(!o.dateNF) o.dateNF = \"yyyymmdd\";\n\tvar ws = aoa_to_sheet(dbf_to_aoa(buf, o), o);\n\tws[\"!cols\"] = o.DBF.map(function(field) { return {\n\t\twch: field.len,\n\t\tDBF: field\n\t};});\n\tdelete o.DBF;\n\treturn ws;\n}\n\nfunction dbf_to_workbook(buf, opts)/*:Workbook*/ {\n\ttry { return sheet_to_workbook(dbf_to_sheet(buf, opts), opts); }\n\tcatch(e) { if(opts && opts.WTF) throw e; }\n\treturn ({SheetNames:[],Sheets:{}});\n}\n\nvar _RLEN = { 'B': 8, 'C': 250, 'L': 1, 'D': 8, '?': 0, '': 0 };\nfunction sheet_to_dbf(ws/*:Worksheet*/, opts/*:WriteOpts*/) {\n\tvar o = opts || {};\n\tif(+o.codepage >= 0) set_cp(+o.codepage);\n\tif(o.type == \"string\") throw new Error(\"Cannot write DBF to JS string\");\n\tvar ba = buf_array();\n\tvar aoa/*:AOA*/ = sheet_to_json(ws, {header:1, raw:true, cellDates:true});\n\tvar headers = aoa[0], data = aoa.slice(1), cols = ws[\"!cols\"] || [];\n\tvar i = 0, j = 0, hcnt = 0, rlen = 1;\n\tfor(i = 0; i < headers.length; ++i) {\n\t\tif(((cols[i]||{}).DBF||{}).name) { headers[i] = cols[i].DBF.name; ++hcnt; continue; }\n\t\tif(headers[i] == null) continue;\n\t\t++hcnt;\n\t\tif(typeof headers[i] === 'number') headers[i] = headers[i].toString(10);\n\t\tif(typeof headers[i] !== 'string') throw new Error(\"DBF Invalid column name \" + headers[i] + \" |\" + (typeof headers[i]) + \"|\");\n\t\tif(headers.indexOf(headers[i]) !== i) for(j=0; j<1024;++j)\n\t\t\tif(headers.indexOf(headers[i] + \"_\" + j) == -1) { headers[i] += \"_\" + j; break; }\n\t}\n\tvar range = safe_decode_range(ws['!ref']);\n\tvar coltypes/*:Array<string>*/ = [];\n\tvar colwidths/*:Array<number>*/ = [];\n\tvar coldecimals/*:Array<number>*/ = [];\n\tfor(i = 0; i <= range.e.c - range.s.c; ++i) {\n\t\tvar guess = '', _guess = '', maxlen = 0;\n\t\tvar col/*:Array<any>*/ = [];\n\t\tfor(j=0; j < data.length; ++j) {\n\t\t\tif(data[j][i] != null) col.push(data[j][i]);\n\t\t}\n\t\tif(col.length == 0 || headers[i] == null) { coltypes[i] = '?'; continue; }\n\t\tfor(j = 0; j < col.length; ++j) {\n\t\t\tswitch(typeof col[j]) {\n\t\t\t\t/* TODO: check if L2 compat is desired */\n\t\t\t\tcase 'number': _guess = 'B'; break;\n\t\t\t\tcase 'string': _guess = 'C'; break;\n\t\t\t\tcase 'boolean': _guess = 'L'; break;\n\t\t\t\tcase 'object': _guess = col[j] instanceof Date ? 'D' : 'C'; break;\n\t\t\t\tdefault: _guess = 'C';\n\t\t\t}\n\t\t\tmaxlen = Math.max(maxlen, String(col[j]).length);\n\t\t\tguess = guess && guess != _guess ? 'C' : _guess;\n\t\t\t//if(guess == 'C') break;\n\t\t}\n\t\tif(maxlen > 250) maxlen = 250;\n\t\t_guess = ((cols[i]||{}).DBF||{}).type;\n\t\t/* TODO: more fine grained control over DBF type resolution */\n\t\tif(_guess == 'C') {\n\t\t\tif(cols[i].DBF.len > maxlen) maxlen = cols[i].DBF.len;\n\t\t}\n\t\tif(guess == 'B' && _guess == 'N') {\n\t\t\tguess = 'N';\n\t\t\tcoldecimals[i] = cols[i].DBF.dec;\n\t\t\tmaxlen = cols[i].DBF.len;\n\t\t}\n\t\tcolwidths[i] = guess == 'C' || _guess == 'N' ? maxlen : (_RLEN[guess] || 0);\n\t\trlen += colwidths[i];\n\t\tcoltypes[i] = guess;\n\t}\n\n\tvar h = ba.next(32);\n\th.write_shift(4, 0x13021130);\n\th.write_shift(4, data.length);\n\th.write_shift(2, 296 + 32 * hcnt);\n\th.write_shift(2, rlen);\n\tfor(i=0; i < 4; ++i) h.write_shift(4, 0);\n\th.write_shift(4, 0x00000000 | ((+dbf_reverse_map[/*::String(*/current_ansi/*::)*/] || 0x03)<<8));\n\n\tfor(i = 0, j = 0; i < headers.length; ++i) {\n\t\tif(headers[i] == null) continue;\n\t\tvar hf = ba.next(32);\n\t\tvar _f = (headers[i].slice(-10) + \"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\").slice(0, 11);\n\t\thf.write_shift(1, _f, \"sbcs\");\n\t\thf.write_shift(1, coltypes[i] == '?' ? 'C' : coltypes[i], \"sbcs\");\n\t\thf.write_shift(4, j);\n\t\thf.write_shift(1, colwidths[i] || _RLEN[coltypes[i]] || 0);\n\t\thf.write_shift(1, coldecimals[i] || 0);\n\t\thf.write_shift(1, 0x02);\n\t\thf.write_shift(4, 0);\n\t\thf.write_shift(1, 0);\n\t\thf.write_shift(4, 0);\n\t\thf.write_shift(4, 0);\n\t\tj += (colwidths[i] || _RLEN[coltypes[i]] || 0);\n\t}\n\n\tvar hb = ba.next(264);\n\thb.write_shift(4, 0x0000000D);\n\tfor(i=0; i < 65;++i) hb.write_shift(4, 0x00000000);\n\tfor(i=0; i < data.length; ++i) {\n\t\tvar rout = ba.next(rlen);\n\t\trout.write_shift(1, 0);\n\t\tfor(j=0; j<headers.length; ++j) {\n\t\t\tif(headers[j] == null) continue;\n\t\t\tswitch(coltypes[j]) {\n\t\t\t\tcase 'L': rout.write_shift(1, data[i][j] == null ? 0x3F : data[i][j] ? 0x54 : 0x46); break;\n\t\t\t\tcase 'B': rout.write_shift(8, data[i][j]||0, 'f'); break;\n\t\t\t\tcase 'N':\n\t\t\t\t\tvar _n = \"0\";\n\t\t\t\t\tif(typeof data[i][j] == \"number\") _n = data[i][j].toFixed(coldecimals[j]||0);\n\t\t\t\t\tfor(hcnt=0; hcnt < colwidths[j]-_n.length; ++hcnt) rout.write_shift(1, 0x20);\n\t\t\t\t\trout.write_shift(1, _n, \"sbcs\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'D':\n\t\t\t\t\tif(!data[i][j]) rout.write_shift(8, \"00000000\", \"sbcs\");\n\t\t\t\t\telse {\n\t\t\t\t\t\trout.write_shift(4, (\"0000\"+data[i][j].getFullYear()).slice(-4), \"sbcs\");\n\t\t\t\t\t\trout.write_shift(2, (\"00\"+(data[i][j].getMonth()+1)).slice(-2), \"sbcs\");\n\t\t\t\t\t\trout.write_shift(2, (\"00\"+data[i][j].getDate()).slice(-2), \"sbcs\");\n\t\t\t\t\t} break;\n\t\t\t\tcase 'C':\n\t\t\t\t\tvar _s = String(data[i][j] != null ? data[i][j] : \"\").slice(0, colwidths[j]);\n\t\t\t\t\trout.write_shift(1, _s, \"sbcs\");\n\t\t\t\t\tfor(hcnt=0; hcnt < colwidths[j]-_s.length; ++hcnt) rout.write_shift(1, 0x20); break;\n\t\t\t}\n\t\t}\n\t\t// data\n\t}\n\tba.next(1).write_shift(1, 0x1A);\n\treturn ba.end();\n}\n\treturn {\n\t\tto_workbook: dbf_to_workbook,\n\t\tto_sheet: dbf_to_sheet,\n\t\tfrom_sheet: sheet_to_dbf\n\t};\n})();\n\nvar SYLK = /*#__PURE__*/(function() {\n\t/* TODO: stress test sequences */\n\tvar sylk_escapes = ({\n\t\tAA:'À', BA:'Á', CA:'Â', DA:195, HA:'Ä', JA:197,\n\t\tAE:'È', BE:'É', CE:'Ê',         HE:'Ë',\n\t\tAI:'Ì', BI:'Í', CI:'Î',         HI:'Ï',\n\t\tAO:'Ò', BO:'Ó', CO:'Ô', DO:213, HO:'Ö',\n\t\tAU:'Ù', BU:'Ú', CU:'Û',         HU:'Ü',\n\t\tAa:'à', Ba:'á', Ca:'â', Da:227, Ha:'ä', Ja:229,\n\t\tAe:'è', Be:'é', Ce:'ê',         He:'ë',\n\t\tAi:'ì', Bi:'í', Ci:'î',         Hi:'ï',\n\t\tAo:'ò', Bo:'ó', Co:'ô', Do:245, Ho:'ö',\n\t\tAu:'ù', Bu:'ú', Cu:'û',         Hu:'ü',\n\t\tKC:'Ç', Kc:'ç', q:'æ',  z:'œ',  a:'Æ',  j:'Œ',\n\t\tDN:209, Dn:241, Hy:255,\n\t\tS:169,  c:170,  R:174,  \"B \":180,\n\t\t/*::[*/0/*::]*/:176,    /*::[*/1/*::]*/:177,  /*::[*/2/*::]*/:178,\n\t\t/*::[*/3/*::]*/:179,    /*::[*/5/*::]*/:181,  /*::[*/6/*::]*/:182,\n\t\t/*::[*/7/*::]*/:183,    Q:185,  k:186,  b:208,  i:216,  l:222,  s:240,  y:248,\n\t\t\"!\":161, '\"':162, \"#\":163, \"(\":164, \"%\":165, \"'\":167, \"H \":168,\n\t\t\"+\":171, \";\":187, \"<\":188, \"=\":189, \">\":190, \"?\":191, \"{\":223\n\t}/*:any*/);\n\tvar sylk_char_regex = new RegExp(\"\\u001BN(\" + keys(sylk_escapes).join(\"|\").replace(/\\|\\|\\|/, \"|\\\\||\").replace(/([?()+])/g,\"\\\\$1\") + \"|\\\\|)\", \"gm\");\n\tvar sylk_char_fn = function(_, $1){ var o = sylk_escapes[$1]; return typeof o == \"number\" ? _getansi(o) : o; };\n\tvar decode_sylk_char = function($$, $1, $2) { var newcc = (($1.charCodeAt(0) - 0x20)<<4) | ($2.charCodeAt(0) - 0x30); return newcc == 59 ? $$ : _getansi(newcc); };\n\tsylk_escapes[\"|\"] = 254;\n\t/* TODO: find an actual specification */\n\tfunction sylk_to_aoa(d/*:RawData*/, opts)/*:[AOA, Worksheet]*/ {\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': return sylk_to_aoa_str(Base64_decode(d), opts);\n\t\t\tcase 'binary': return sylk_to_aoa_str(d, opts);\n\t\t\tcase 'buffer': return sylk_to_aoa_str(has_buf && Buffer.isBuffer(d) ? d.toString('binary') : a2s(d), opts);\n\t\t\tcase 'array': return sylk_to_aoa_str(cc2str(d), opts);\n\t\t}\n\t\tthrow new Error(\"Unrecognized type \" + opts.type);\n\t}\n\tfunction sylk_to_aoa_str(str/*:string*/, opts)/*:[AOA, Worksheet]*/ {\n\t\tvar records = str.split(/[\\n\\r]+/), R = -1, C = -1, ri = 0, rj = 0, arr/*:AOA*/ = [];\n\t\tvar formats/*:Array<string>*/ = [];\n\t\tvar next_cell_format/*:string|null*/ = null;\n\t\tvar sht = {}, rowinfo/*:Array<RowInfo>*/ = [], colinfo/*:Array<ColInfo>*/ = [], cw/*:Array<string>*/ = [];\n\t\tvar Mval = 0, j;\n\t\tif(+opts.codepage >= 0) set_cp(+opts.codepage);\n\t\tfor (; ri !== records.length; ++ri) {\n\t\t\tMval = 0;\n\t\t\tvar rstr=records[ri].trim().replace(/\\x1B([\\x20-\\x2F])([\\x30-\\x3F])/g, decode_sylk_char).replace(sylk_char_regex, sylk_char_fn);\n\t\t\tvar record=rstr.replace(/;;/g, \"\\u0000\").split(\";\").map(function(x) { return x.replace(/\\u0000/g, \";\"); });\n\t\t\tvar RT=record[0], val;\n\t\t\tif(rstr.length > 0) switch(RT) {\n\t\t\tcase 'ID': break; /* header */\n\t\t\tcase 'E': break; /* EOF */\n\t\t\tcase 'B': break; /* dimensions */\n\t\t\tcase 'O': break; /* options? */\n\t\t\tcase 'W': break; /* window? */\n\t\t\tcase 'P':\n\t\t\t\tif(record[1].charAt(0) == 'P')\n\t\t\t\t\tformats.push(rstr.slice(3).replace(/;;/g, \";\"));\n\t\t\t\tbreak;\n\t\t\tcase 'C':\n\t\t\tvar C_seen_K = false, C_seen_X = false, C_seen_S = false, C_seen_E = false, _R = -1, _C = -1;\n\t\t\tfor(rj=1; rj<record.length; ++rj) switch(record[rj].charAt(0)) {\n\t\t\t\tcase 'A': break; // TODO: comment\n\t\t\t\tcase 'X': C = parseInt(record[rj].slice(1))-1; C_seen_X = true; break;\n\t\t\t\tcase 'Y':\n\t\t\t\t\tR = parseInt(record[rj].slice(1))-1; if(!C_seen_X) C = 0;\n\t\t\t\t\tfor(j = arr.length; j <= R; ++j) arr[j] = [];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'K':\n\t\t\t\t\tval = record[rj].slice(1);\n\t\t\t\t\tif(val.charAt(0) === '\"') val = val.slice(1,val.length - 1);\n\t\t\t\t\telse if(val === 'TRUE') val = true;\n\t\t\t\t\telse if(val === 'FALSE') val = false;\n\t\t\t\t\telse if(!isNaN(fuzzynum(val))) {\n\t\t\t\t\t\tval = fuzzynum(val);\n\t\t\t\t\t\tif(next_cell_format !== null && fmt_is_date(next_cell_format)) val = numdate(val);\n\t\t\t\t\t} else if(!isNaN(fuzzydate(val).getDate())) {\n\t\t\t\t\t\tval = parseDate(val);\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof $cptable !== 'undefined' && typeof val == \"string\" && ((opts||{}).type != \"string\") && (opts||{}).codepage) val = $cptable.utils.decode(opts.codepage, val);\n\t\t\t\t\tC_seen_K = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'E':\n\t\t\t\t\tC_seen_E = true;\n\t\t\t\t\tvar formula = rc_to_a1(record[rj].slice(1), {r:R,c:C});\n\t\t\t\t\tarr[R][C] = [arr[R][C], formula];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'S':\n\t\t\t\t\tC_seen_S = true;\n\t\t\t\t\tarr[R][C] = [arr[R][C], \"S5S\"];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'G': break; // unknown\n\t\t\t\tcase 'R': _R = parseInt(record[rj].slice(1))-1; break;\n\t\t\t\tcase 'C': _C = parseInt(record[rj].slice(1))-1; break;\n\t\t\t\tdefault: if(opts && opts.WTF) throw new Error(\"SYLK bad record \" + rstr);\n\t\t\t}\n\t\t\tif(C_seen_K) {\n\t\t\t\tif(arr[R][C] && arr[R][C].length == 2) arr[R][C][0] = val;\n\t\t\t\telse arr[R][C] = val;\n\t\t\t\tnext_cell_format = null;\n\t\t\t}\n\t\t\tif(C_seen_S) {\n\t\t\t\tif(C_seen_E) throw new Error(\"SYLK shared formula cannot have own formula\");\n\t\t\t\tvar shrbase = _R > -1 && arr[_R][_C];\n\t\t\t\tif(!shrbase || !shrbase[1]) throw new Error(\"SYLK shared formula cannot find base\");\n\t\t\t\tarr[R][C][1] = shift_formula_str(shrbase[1], {r: R - _R, c: C - _C});\n\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 'F':\n\t\t\tvar F_seen = 0;\n\t\t\tfor(rj=1; rj<record.length; ++rj) switch(record[rj].charAt(0)) {\n\t\t\t\tcase 'X': C = parseInt(record[rj].slice(1))-1; ++F_seen; break;\n\t\t\t\tcase 'Y':\n\t\t\t\t\tR = parseInt(record[rj].slice(1))-1; /*C = 0;*/\n\t\t\t\t\tfor(j = arr.length; j <= R; ++j) arr[j] = [];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'M': Mval = parseInt(record[rj].slice(1)) / 20; break;\n\t\t\t\tcase 'F': break; /* ??? */\n\t\t\t\tcase 'G': break; /* hide grid */\n\t\t\t\tcase 'P':\n\t\t\t\t\tnext_cell_format = formats[parseInt(record[rj].slice(1))];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'S': break; /* cell style */\n\t\t\t\tcase 'D': break; /* column */\n\t\t\t\tcase 'N': break; /* font */\n\t\t\t\tcase 'W':\n\t\t\t\t\tcw = record[rj].slice(1).split(\" \");\n\t\t\t\t\tfor(j = parseInt(cw[0], 10); j <= parseInt(cw[1], 10); ++j) {\n\t\t\t\t\t\tMval = parseInt(cw[2], 10);\n\t\t\t\t\t\tcolinfo[j-1] = Mval === 0 ? {hidden:true}: {wch:Mval}; process_col(colinfo[j-1]);\n\t\t\t\t\t} break;\n\t\t\t\tcase 'C': /* default column format */\n\t\t\t\t\tC = parseInt(record[rj].slice(1))-1;\n\t\t\t\t\tif(!colinfo[C]) colinfo[C] = {};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'R': /* row properties */\n\t\t\t\t\tR = parseInt(record[rj].slice(1))-1;\n\t\t\t\t\tif(!rowinfo[R]) rowinfo[R] = {};\n\t\t\t\t\tif(Mval > 0) { rowinfo[R].hpt = Mval; rowinfo[R].hpx = pt2px(Mval); }\n\t\t\t\t\telse if(Mval === 0) rowinfo[R].hidden = true;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: if(opts && opts.WTF) throw new Error(\"SYLK bad record \" + rstr);\n\t\t\t}\n\t\t\tif(F_seen < 1) next_cell_format = null; break;\n\t\t\tdefault: if(opts && opts.WTF) throw new Error(\"SYLK bad record \" + rstr);\n\t\t\t}\n\t\t}\n\t\tif(rowinfo.length > 0) sht['!rows'] = rowinfo;\n\t\tif(colinfo.length > 0) sht['!cols'] = colinfo;\n\t\tif(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);\n\t\treturn [arr, sht];\n\t}\n\n\tfunction sylk_to_sheet(d/*:RawData*/, opts)/*:Worksheet*/ {\n\t\tvar aoasht = sylk_to_aoa(d, opts);\n\t\tvar aoa = aoasht[0], ws = aoasht[1];\n\t\tvar o = aoa_to_sheet(aoa, opts);\n\t\tkeys(ws).forEach(function(k) { o[k] = ws[k]; });\n\t\treturn o;\n\t}\n\n\tfunction sylk_to_workbook(d/*:RawData*/, opts)/*:Workbook*/ { return sheet_to_workbook(sylk_to_sheet(d, opts), opts); }\n\n\tfunction write_ws_cell_sylk(cell/*:Cell*/, ws/*:Worksheet*/, R/*:number*/, C/*:number*//*::, opts*/)/*:string*/ {\n\t\tvar o = \"C;Y\" + (R+1) + \";X\" + (C+1) + \";K\";\n\t\tswitch(cell.t) {\n\t\t\tcase 'n':\n\t\t\t\to += (cell.v||0);\n\t\t\t\tif(cell.f && !cell.F) o += \";E\" + a1_to_rc(cell.f, {r:R, c:C}); break;\n\t\t\tcase 'b': o += cell.v ? \"TRUE\" : \"FALSE\"; break;\n\t\t\tcase 'e': o += cell.w || cell.v; break;\n\t\t\tcase 'd': o += '\"' + (cell.w || cell.v) + '\"'; break;\n\t\t\tcase 's': o += '\"' + cell.v.replace(/\"/g,\"\").replace(/;/g, \";;\") + '\"'; break;\n\t\t}\n\t\treturn o;\n\t}\n\n\tfunction write_ws_cols_sylk(out, cols) {\n\t\tcols.forEach(function(col, i) {\n\t\t\tvar rec = \"F;W\" + (i+1) + \" \" + (i+1) + \" \";\n\t\t\tif(col.hidden) rec += \"0\";\n\t\t\telse {\n\t\t\t\tif(typeof col.width == 'number' && !col.wpx) col.wpx = width2px(col.width);\n\t\t\t\tif(typeof col.wpx == 'number' && !col.wch) col.wch = px2char(col.wpx);\n\t\t\t\tif(typeof col.wch == 'number') rec += Math.round(col.wch);\n\t\t\t}\n\t\t\tif(rec.charAt(rec.length - 1) != \" \") out.push(rec);\n\t\t});\n\t}\n\n\tfunction write_ws_rows_sylk(out/*:Array<string>*/, rows/*:Array<RowInfo>*/) {\n\t\trows.forEach(function(row, i) {\n\t\t\tvar rec = \"F;\";\n\t\t\tif(row.hidden) rec += \"M0;\";\n\t\t\telse if(row.hpt) rec += \"M\" + 20 * row.hpt + \";\";\n\t\t\telse if(row.hpx) rec += \"M\" + 20 * px2pt(row.hpx) + \";\";\n\t\t\tif(rec.length > 2) out.push(rec + \"R\" + (i+1));\n\t\t});\n\t}\n\n\tfunction sheet_to_sylk(ws/*:Worksheet*/, opts/*:?any*/)/*:string*/ {\n\t\tvar preamble/*:Array<string>*/ = [\"ID;PWXL;N;E\"], o/*:Array<string>*/ = [];\n\t\tvar r = safe_decode_range(ws['!ref']), cell/*:Cell*/;\n\t\tvar dense = Array.isArray(ws);\n\t\tvar RS = \"\\r\\n\";\n\n\t\tpreamble.push(\"P;PGeneral\");\n\t\tpreamble.push(\"F;P0;DG0G8;M255\");\n\t\tif(ws['!cols']) write_ws_cols_sylk(preamble, ws['!cols']);\n\t\tif(ws['!rows']) write_ws_rows_sylk(preamble, ws['!rows']);\n\n\t\tpreamble.push(\"B;Y\" + (r.e.r - r.s.r + 1) + \";X\" + (r.e.c - r.s.c + 1) + \";D\" + [r.s.c,r.s.r,r.e.c,r.e.r].join(\" \"));\n\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tvar coord = encode_cell({r:R,c:C});\n\t\t\t\tcell = dense ? (ws[R]||[])[C]: ws[coord];\n\t\t\t\tif(!cell || (cell.v == null && (!cell.f || cell.F))) continue;\n\t\t\t\to.push(write_ws_cell_sylk(cell, ws, R, C, opts));\n\t\t\t}\n\t\t}\n\t\treturn preamble.join(RS) + RS + o.join(RS) + RS + \"E\" + RS;\n\t}\n\n\treturn {\n\t\tto_workbook: sylk_to_workbook,\n\t\tto_sheet: sylk_to_sheet,\n\t\tfrom_sheet: sheet_to_sylk\n\t};\n})();\n\nvar DIF = /*#__PURE__*/(function() {\n\tfunction dif_to_aoa(d/*:RawData*/, opts)/*:AOA*/ {\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': return dif_to_aoa_str(Base64_decode(d), opts);\n\t\t\tcase 'binary': return dif_to_aoa_str(d, opts);\n\t\t\tcase 'buffer': return dif_to_aoa_str(has_buf && Buffer.isBuffer(d) ? d.toString('binary') : a2s(d), opts);\n\t\t\tcase 'array': return dif_to_aoa_str(cc2str(d), opts);\n\t\t}\n\t\tthrow new Error(\"Unrecognized type \" + opts.type);\n\t}\n\tfunction dif_to_aoa_str(str/*:string*/, opts)/*:AOA*/ {\n\t\tvar records = str.split('\\n'), R = -1, C = -1, ri = 0, arr/*:AOA*/ = [];\n\t\tfor (; ri !== records.length; ++ri) {\n\t\t\tif (records[ri].trim() === 'BOT') { arr[++R] = []; C = 0; continue; }\n\t\t\tif (R < 0) continue;\n\t\t\tvar metadata = records[ri].trim().split(\",\");\n\t\t\tvar type = metadata[0], value = metadata[1];\n\t\t\t++ri;\n\t\t\tvar data = records[ri] || \"\";\n\t\t\twhile(((data.match(/[\"]/g)||[]).length & 1) && ri < records.length - 1) data += \"\\n\" + records[++ri];\n\t\t\tdata = data.trim();\n\t\t\tswitch (+type) {\n\t\t\t\tcase -1:\n\t\t\t\t\tif (data === 'BOT') { arr[++R] = []; C = 0; continue; }\n\t\t\t\t\telse if (data !== 'EOD') throw new Error(\"Unrecognized DIF special command \" + data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0:\n\t\t\t\t\tif(data === 'TRUE') arr[R][C] = true;\n\t\t\t\t\telse if(data === 'FALSE') arr[R][C] = false;\n\t\t\t\t\telse if(!isNaN(fuzzynum(value))) arr[R][C] = fuzzynum(value);\n\t\t\t\t\telse if(!isNaN(fuzzydate(value).getDate())) arr[R][C] = parseDate(value);\n\t\t\t\t\telse arr[R][C] = value;\n\t\t\t\t\t++C; break;\n\t\t\t\tcase 1:\n\t\t\t\t\tdata = data.slice(1,data.length-1);\n\t\t\t\t\tdata = data.replace(/\"\"/g, '\"');\n\t\t\t\t\tif(DIF_XL && data && data.match(/^=\".*\"$/)) data = data.slice(2, -1);\n\t\t\t\t\tarr[R][C++] = data !== '' ? data : null;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (data === 'EOD') break;\n\t\t}\n\t\tif(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);\n\t\treturn arr;\n\t}\n\n\tfunction dif_to_sheet(str/*:string*/, opts)/*:Worksheet*/ { return aoa_to_sheet(dif_to_aoa(str, opts), opts); }\n\tfunction dif_to_workbook(str/*:string*/, opts)/*:Workbook*/ { return sheet_to_workbook(dif_to_sheet(str, opts), opts); }\n\n\tvar sheet_to_dif = /*#__PURE__*/(function() {\n\t\tvar push_field = function pf(o/*:Array<string>*/, topic/*:string*/, v/*:number*/, n/*:number*/, s/*:string*/) {\n\t\t\to.push(topic);\n\t\t\to.push(v + \",\" + n);\n\t\t\to.push('\"' + s.replace(/\"/g,'\"\"') + '\"');\n\t\t};\n\t\tvar push_value = function po(o/*:Array<string>*/, type/*:number*/, v/*:any*/, s/*:string*/) {\n\t\t\to.push(type + \",\" + v);\n\t\t\to.push(type == 1 ? '\"' + s.replace(/\"/g,'\"\"') + '\"' : s);\n\t\t};\n\t\treturn function sheet_to_dif(ws/*:Worksheet*//*::, opts:?any*/)/*:string*/ {\n\t\t\tvar o/*:Array<string>*/ = [];\n\t\t\tvar r = safe_decode_range(ws['!ref']), cell/*:Cell*/;\n\t\t\tvar dense = Array.isArray(ws);\n\t\t\tpush_field(o, \"TABLE\", 0, 1, \"sheetjs\");\n\t\t\tpush_field(o, \"VECTORS\", 0, r.e.r - r.s.r + 1,\"\");\n\t\t\tpush_field(o, \"TUPLES\", 0, r.e.c - r.s.c + 1,\"\");\n\t\t\tpush_field(o, \"DATA\", 0, 0,\"\");\n\t\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\t\tpush_value(o, -1, 0, \"BOT\");\n\t\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\t\tvar coord = encode_cell({r:R,c:C});\n\t\t\t\t\tcell = dense ? (ws[R]||[])[C] : ws[coord];\n\t\t\t\t\tif(!cell) { push_value(o, 1, 0, \"\"); continue;}\n\t\t\t\t\tswitch(cell.t) {\n\t\t\t\t\t\tcase 'n':\n\t\t\t\t\t\t\tvar val = DIF_XL ? cell.w : cell.v;\n\t\t\t\t\t\t\tif(!val && cell.v != null) val = cell.v;\n\t\t\t\t\t\t\tif(val == null) {\n\t\t\t\t\t\t\t\tif(DIF_XL && cell.f && !cell.F) push_value(o, 1, 0, \"=\" + cell.f);\n\t\t\t\t\t\t\t\telse push_value(o, 1, 0, \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse push_value(o, 0, val, \"V\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\t\tpush_value(o, 0, cell.v ? 1 : 0, cell.v ? \"TRUE\" : \"FALSE\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\tpush_value(o, 1, 0, (!DIF_XL || isNaN(cell.v)) ? cell.v : '=\"' + cell.v + '\"');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\tif(!cell.w) cell.w = SSF_format(cell.z || table_fmt[14], datenum(parseDate(cell.v)));\n\t\t\t\t\t\t\tif(DIF_XL) push_value(o, 0, cell.w, \"V\");\n\t\t\t\t\t\t\telse push_value(o, 1, 0, cell.w);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault: push_value(o, 1, 0, \"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tpush_value(o, -1, 0, \"EOD\");\n\t\t\tvar RS = \"\\r\\n\";\n\t\t\tvar oo = o.join(RS);\n\t\t\t//while((oo.length & 0x7F) != 0) oo += \"\\0\";\n\t\t\treturn oo;\n\t\t};\n\t})();\n\treturn {\n\t\tto_workbook: dif_to_workbook,\n\t\tto_sheet: dif_to_sheet,\n\t\tfrom_sheet: sheet_to_dif\n\t};\n})();\n\nvar ETH = /*#__PURE__*/(function() {\n\tfunction decode(s/*:string*/)/*:string*/ { return s.replace(/\\\\b/g,\"\\\\\").replace(/\\\\c/g,\":\").replace(/\\\\n/g,\"\\n\"); }\n\tfunction encode(s/*:string*/)/*:string*/ { return s.replace(/\\\\/g, \"\\\\b\").replace(/:/g, \"\\\\c\").replace(/\\n/g,\"\\\\n\"); }\n\n\tfunction eth_to_aoa(str/*:string*/, opts)/*:AOA*/ {\n\t\tvar records = str.split('\\n'), R = -1, C = -1, ri = 0, arr/*:AOA*/ = [];\n\t\tfor (; ri !== records.length; ++ri) {\n\t\t\tvar record = records[ri].trim().split(\":\");\n\t\t\tif(record[0] !== 'cell') continue;\n\t\t\tvar addr = decode_cell(record[1]);\n\t\t\tif(arr.length <= addr.r) for(R = arr.length; R <= addr.r; ++R) if(!arr[R]) arr[R] = [];\n\t\t\tR = addr.r; C = addr.c;\n\t\t\tswitch(record[2]) {\n\t\t\t\tcase 't': arr[R][C] = decode(record[3]); break;\n\t\t\t\tcase 'v': arr[R][C] = +record[3]; break;\n\t\t\t\tcase 'vtf': var _f = record[record.length - 1];\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 'vtc':\n\t\t\t\t\tswitch(record[3]) {\n\t\t\t\t\t\tcase 'nl': arr[R][C] = +record[4] ? true : false; break;\n\t\t\t\t\t\tdefault: arr[R][C] = +record[4]; break;\n\t\t\t\t\t}\n\t\t\t\t\tif(record[2] == 'vtf') arr[R][C] = [arr[R][C], _f];\n\t\t\t}\n\t\t}\n\t\tif(opts && opts.sheetRows) arr = arr.slice(0, opts.sheetRows);\n\t\treturn arr;\n\t}\n\n\tfunction eth_to_sheet(d/*:string*/, opts)/*:Worksheet*/ { return aoa_to_sheet(eth_to_aoa(d, opts), opts); }\n\tfunction eth_to_workbook(d/*:string*/, opts)/*:Workbook*/ { return sheet_to_workbook(eth_to_sheet(d, opts), opts); }\n\n\tvar header = [\n\t\t\"socialcalc:version:1.5\",\n\t\t\"MIME-Version: 1.0\",\n\t\t\"Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave\"\n\t].join(\"\\n\");\n\n\tvar sep = [\n\t\t\"--SocialCalcSpreadsheetControlSave\",\n\t\t\"Content-type: text/plain; charset=UTF-8\"\n\t].join(\"\\n\") + \"\\n\";\n\n\t/* TODO: the other parts */\n\tvar meta = [\n\t\t\"# SocialCalc Spreadsheet Control Save\",\n\t\t\"part:sheet\"\n\t].join(\"\\n\");\n\n\tvar end = \"--SocialCalcSpreadsheetControlSave--\";\n\n\tfunction sheet_to_eth_data(ws/*:Worksheet*/)/*:string*/ {\n\t\tif(!ws || !ws['!ref']) return \"\";\n\t\tvar o/*:Array<string>*/ = [], oo/*:Array<string>*/ = [], cell, coord = \"\";\n\t\tvar r = decode_range(ws['!ref']);\n\t\tvar dense = Array.isArray(ws);\n\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tcoord = encode_cell({r:R,c:C});\n\t\t\t\tcell = dense ? (ws[R]||[])[C] : ws[coord];\n\t\t\t\tif(!cell || cell.v == null || cell.t === 'z') continue;\n\t\t\t\too = [\"cell\", coord, 't'];\n\t\t\t\tswitch(cell.t) {\n\t\t\t\t\tcase 's': case 'str': oo.push(encode(cell.v)); break;\n\t\t\t\t\tcase 'n':\n\t\t\t\t\t\tif(!cell.f) { oo[2]='v'; oo[3]=cell.v; }\n\t\t\t\t\t\telse { oo[2]='vtf'; oo[3]='n'; oo[4]=cell.v; oo[5]=encode(cell.f); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'b':\n\t\t\t\t\t\too[2] = 'vt'+(cell.f?'f':'c'); oo[3]='nl'; oo[4]=cell.v?\"1\":\"0\";\n\t\t\t\t\t\too[5] = encode(cell.f||(cell.v?'TRUE':'FALSE'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'd':\n\t\t\t\t\t\tvar t = datenum(parseDate(cell.v));\n\t\t\t\t\t\too[2] = 'vtc'; oo[3] = 'nd'; oo[4] = \"\"+t;\n\t\t\t\t\t\too[5] = cell.w || SSF_format(cell.z || table_fmt[14], t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'e': continue;\n\t\t\t\t}\n\t\t\t\to.push(oo.join(\":\"));\n\t\t\t}\n\t\t}\n\t\to.push(\"sheet:c:\" + (r.e.c-r.s.c+1) + \":r:\" + (r.e.r-r.s.r+1) + \":tvf:1\");\n\t\to.push(\"valueformat:1:text-wiki\");\n\t\t//o.push(\"copiedfrom:\" + ws['!ref']); // clipboard only\n\t\treturn o.join(\"\\n\");\n\t}\n\n\tfunction sheet_to_eth(ws/*:Worksheet*//*::, opts:?any*/)/*:string*/ {\n\t\treturn [header, sep, meta, sep, sheet_to_eth_data(ws), end].join(\"\\n\");\n\t\t// return [\"version:1.5\", sheet_to_eth_data(ws)].join(\"\\n\"); // clipboard form\n\t}\n\n\treturn {\n\t\tto_workbook: eth_to_workbook,\n\t\tto_sheet: eth_to_sheet,\n\t\tfrom_sheet: sheet_to_eth\n\t};\n})();\n\nvar PRN = /*#__PURE__*/(function() {\n\tfunction set_text_arr(data/*:string*/, arr/*:AOA*/, R/*:number*/, C/*:number*/, o/*:any*/) {\n\t\tif(o.raw) arr[R][C] = data;\n\t\telse if(data === \"\"){/* empty */}\n\t\telse if(data === 'TRUE') arr[R][C] = true;\n\t\telse if(data === 'FALSE') arr[R][C] = false;\n\t\telse if(!isNaN(fuzzynum(data))) arr[R][C] = fuzzynum(data);\n\t\telse if(!isNaN(fuzzydate(data).getDate())) arr[R][C] = parseDate(data);\n\t\telse arr[R][C] = data;\n\t}\n\n\tfunction prn_to_aoa_str(f/*:string*/, opts)/*:AOA*/ {\n\t\tvar o = opts || {};\n\t\tvar arr/*:AOA*/ = ([]/*:any*/);\n\t\tif(!f || f.length === 0) return arr;\n\t\tvar lines = f.split(/[\\r\\n]/);\n\t\tvar L = lines.length - 1;\n\t\twhile(L >= 0 && lines[L].length === 0) --L;\n\t\tvar start = 10, idx = 0;\n\t\tvar R = 0;\n\t\tfor(; R <= L; ++R) {\n\t\t\tidx = lines[R].indexOf(\" \");\n\t\t\tif(idx == -1) idx = lines[R].length; else idx++;\n\t\t\tstart = Math.max(start, idx);\n\t\t}\n\t\tfor(R = 0; R <= L; ++R) {\n\t\t\tarr[R] = [];\n\t\t\t/* TODO: confirm that widths are always 10 */\n\t\t\tvar C = 0;\n\t\t\tset_text_arr(lines[R].slice(0, start).trim(), arr, R, C, o);\n\t\t\tfor(C = 1; C <= (lines[R].length - start)/10 + 1; ++C)\n\t\t\t\tset_text_arr(lines[R].slice(start+(C-1)*10,start+C*10).trim(),arr,R,C,o);\n\t\t}\n\t\tif(o.sheetRows) arr = arr.slice(0, o.sheetRows);\n\t\treturn arr;\n\t}\n\n\t// List of accepted CSV separators\n\tvar guess_seps = {\n\t\t/*::[*/0x2C/*::]*/: ',',\n\t\t/*::[*/0x09/*::]*/: \"\\t\",\n\t\t/*::[*/0x3B/*::]*/: ';',\n\t\t/*::[*/0x7C/*::]*/: '|'\n\t};\n\n\t// CSV separator weights to be used in case of equal numbers\n\tvar guess_sep_weights = {\n\t\t/*::[*/0x2C/*::]*/: 3,\n\t\t/*::[*/0x09/*::]*/: 2,\n\t\t/*::[*/0x3B/*::]*/: 1,\n\t\t/*::[*/0x7C/*::]*/: 0\n\t};\n\n\tfunction guess_sep(str) {\n\t\tvar cnt = {}, instr = false, end = 0, cc = 0;\n\t\tfor(;end < str.length;++end) {\n\t\t\tif((cc=str.charCodeAt(end)) == 0x22) instr = !instr;\n\t\t\telse if(!instr && cc in guess_seps) cnt[cc] = (cnt[cc]||0)+1;\n\t\t}\n\n\t\tcc = [];\n\t\tfor(end in cnt) if ( Object.prototype.hasOwnProperty.call(cnt, end) ) {\n\t\t\tcc.push([ cnt[end], end ]);\n\t\t}\n\n\t\tif ( !cc.length ) {\n\t\t\tcnt = guess_sep_weights;\n\t\t\tfor(end in cnt) if ( Object.prototype.hasOwnProperty.call(cnt, end) ) {\n\t\t\t\tcc.push([ cnt[end], end ]);\n\t\t\t}\n\t\t}\n\n\t\tcc.sort(function(a, b) { return a[0] - b[0] || guess_sep_weights[a[1]] - guess_sep_weights[b[1]]; });\n\n\t\treturn guess_seps[cc.pop()[1]] || 0x2C;\n\t}\n\n\tfunction dsv_to_sheet_str(str/*:string*/, opts)/*:Worksheet*/ {\n\t\tvar o = opts || {};\n\t\tvar sep = \"\";\n\t\tif(DENSE != null && o.dense == null) o.dense = DENSE;\n\t\tvar ws/*:Worksheet*/ = o.dense ? ([]/*:any*/) : ({}/*:any*/);\n\t\tvar range/*:Range*/ = ({s: {c:0, r:0}, e: {c:0, r:0}}/*:any*/);\n\n\t\tif(str.slice(0,4) == \"sep=\") {\n\t\t\t// If the line ends in \\r\\n\n\t\t\tif(str.charCodeAt(5) == 13 && str.charCodeAt(6) == 10 ) {\n\t\t\t\tsep = str.charAt(4); str = str.slice(7);\n\t\t\t}\n\t\t\t// If line ends in \\r OR \\n\n\t\t\telse if(str.charCodeAt(5) == 13 || str.charCodeAt(5) == 10 ) {\n\t\t\t\tsep = str.charAt(4); str = str.slice(6);\n\t\t\t}\n\t\t\telse sep = guess_sep(str.slice(0,1024));\n\t\t}\n\t\telse if(o && o.FS) sep = o.FS;\n\t\telse sep = guess_sep(str.slice(0,1024));\n\t\tvar R = 0, C = 0, v = 0;\n\t\tvar start = 0, end = 0, sepcc = sep.charCodeAt(0), instr = false, cc=0, startcc=str.charCodeAt(0);\n\t\tstr = str.replace(/\\r\\n/mg, \"\\n\");\n\t\tvar _re/*:?RegExp*/ = o.dateNF != null ? dateNF_regex(o.dateNF) : null;\n\t\tfunction finish_cell() {\n\t\t\tvar s = str.slice(start, end);\n\t\t\tvar cell = ({}/*:any*/);\n\t\t\tif(s.charAt(0) == '\"' && s.charAt(s.length - 1) == '\"') s = s.slice(1,-1).replace(/\"\"/g,'\"');\n\t\t\tif(s.length === 0) cell.t = 'z';\n\t\t\telse if(o.raw) { cell.t = 's'; cell.v = s; }\n\t\t\telse if(s.trim().length === 0) { cell.t = 's'; cell.v = s; }\n\t\t\telse if(s.charCodeAt(0) == 0x3D) {\n\t\t\t\tif(s.charCodeAt(1) == 0x22 && s.charCodeAt(s.length - 1) == 0x22) { cell.t = 's'; cell.v = s.slice(2,-1).replace(/\"\"/g,'\"'); }\n\t\t\t\telse if(fuzzyfmla(s)) { cell.t = 'n'; cell.f = s.slice(1); }\n\t\t\t\telse { cell.t = 's'; cell.v = s; } }\n\t\t\telse if(s == \"TRUE\") { cell.t = 'b'; cell.v = true; }\n\t\t\telse if(s == \"FALSE\") { cell.t = 'b'; cell.v = false; }\n\t\t\telse if(!isNaN(v = fuzzynum(s))) { cell.t = 'n'; if(o.cellText !== false) cell.w = s; cell.v = v; }\n\t\t\telse if(!isNaN(fuzzydate(s).getDate()) || _re && s.match(_re)) {\n\t\t\t\tcell.z = o.dateNF || table_fmt[14];\n\t\t\t\tvar k = 0;\n\t\t\t\tif(_re && s.match(_re)){ s=dateNF_fix(s, o.dateNF, (s.match(_re)||[])); k=1; }\n\t\t\t\tif(o.cellDates) { cell.t = 'd'; cell.v = parseDate(s, k); }\n\t\t\t\telse { cell.t = 'n'; cell.v = datenum(parseDate(s, k)); }\n\t\t\t\tif(o.cellText !== false) cell.w = SSF_format(cell.z, cell.v instanceof Date ? datenum(cell.v):cell.v);\n\t\t\t\tif(!o.cellNF) delete cell.z;\n\t\t\t} else {\n\t\t\t\tcell.t = 's';\n\t\t\t\tcell.v = s;\n\t\t\t}\n\t\t\tif(cell.t == 'z'){}\n\t\t\telse if(o.dense) { if(!ws[R]) ws[R] = []; ws[R][C] = cell; }\n\t\t\telse ws[encode_cell({c:C,r:R})] = cell;\n\t\t\tstart = end+1; startcc = str.charCodeAt(start);\n\t\t\tif(range.e.c < C) range.e.c = C;\n\t\t\tif(range.e.r < R) range.e.r = R;\n\t\t\tif(cc == sepcc) ++C; else { C = 0; ++R; if(o.sheetRows && o.sheetRows <= R) return true; }\n\t\t}\n\t\touter: for(;end < str.length;++end) switch((cc=str.charCodeAt(end))) {\n\t\t\tcase 0x22: if(startcc === 0x22) instr = !instr; break;\n\t\t\tcase sepcc: case 0x0a: case 0x0d: if(!instr && finish_cell()) break outer; break;\n\t\t\tdefault: break;\n\t\t}\n\t\tif(end - start > 0) finish_cell();\n\n\t\tws['!ref'] = encode_range(range);\n\t\treturn ws;\n\t}\n\n\tfunction prn_to_sheet_str(str/*:string*/, opts)/*:Worksheet*/ {\n\t\tif(!(opts && opts.PRN)) return dsv_to_sheet_str(str, opts);\n\t\tif(opts.FS) return dsv_to_sheet_str(str, opts);\n\t\tif(str.slice(0,4) == \"sep=\") return dsv_to_sheet_str(str, opts);\n\t\tif(str.indexOf(\"\\t\") >= 0 || str.indexOf(\",\") >= 0 || str.indexOf(\";\") >= 0) return dsv_to_sheet_str(str, opts);\n\t\treturn aoa_to_sheet(prn_to_aoa_str(str, opts), opts);\n\t}\n\n\tfunction prn_to_sheet(d/*:RawData*/, opts)/*:Worksheet*/ {\n\t\tvar str = \"\", bytes = opts.type == 'string' ? [0,0,0,0] : firstbyte(d, opts);\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': str = Base64_decode(d); break;\n\t\t\tcase 'binary': str = d; break;\n\t\t\tcase 'buffer':\n\t\t\t\tif(opts.codepage == 65001) str = d.toString('utf8'); // TODO: test if buf\n\t\t\t\telse if(opts.codepage && typeof $cptable !== 'undefined') str = $cptable.utils.decode(opts.codepage, d);\n\t\t\t\telse str = has_buf && Buffer.isBuffer(d) ? d.toString('binary') : a2s(d);\n\t\t\t\tbreak;\n\t\t\tcase 'array': str = cc2str(d); break;\n\t\t\tcase 'string': str = d; break;\n\t\t\tdefault: throw new Error(\"Unrecognized type \" + opts.type);\n\t\t}\n\t\tif(bytes[0] == 0xEF && bytes[1] == 0xBB && bytes[2] == 0xBF) str = utf8read(str.slice(3));\n\t\telse if(opts.type != 'string' && opts.type != 'buffer' && opts.codepage == 65001) str = utf8read(str);\n\t\telse if((opts.type == 'binary') && typeof $cptable !== 'undefined' && opts.codepage)  str = $cptable.utils.decode(opts.codepage, $cptable.utils.encode(28591,str));\n\t\tif(str.slice(0,19) == \"socialcalc:version:\") return ETH.to_sheet(opts.type == 'string' ? str : utf8read(str), opts);\n\t\treturn prn_to_sheet_str(str, opts);\n\t}\n\n\tfunction prn_to_workbook(d/*:RawData*/, opts)/*:Workbook*/ { return sheet_to_workbook(prn_to_sheet(d, opts), opts); }\n\n\tfunction sheet_to_prn(ws/*:Worksheet*//*::, opts:?any*/)/*:string*/ {\n\t\tvar o/*:Array<string>*/ = [];\n\t\tvar r = safe_decode_range(ws['!ref']), cell/*:Cell*/;\n\t\tvar dense = Array.isArray(ws);\n\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\tvar oo/*:Array<string>*/ = [];\n\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tvar coord = encode_cell({r:R,c:C});\n\t\t\t\tcell = dense ? (ws[R]||[])[C] : ws[coord];\n\t\t\t\tif(!cell || cell.v == null) { oo.push(\"          \"); continue; }\n\t\t\t\tvar w = (cell.w || (format_cell(cell), cell.w) || \"\").slice(0,10);\n\t\t\t\twhile(w.length < 10) w += \" \";\n\t\t\t\too.push(w + (C === 0 ? \" \" : \"\"));\n\t\t\t}\n\t\t\to.push(oo.join(\"\"));\n\t\t}\n\t\treturn o.join(\"\\n\");\n\t}\n\n\treturn {\n\t\tto_workbook: prn_to_workbook,\n\t\tto_sheet: prn_to_sheet,\n\t\tfrom_sheet: sheet_to_prn\n\t};\n})();\n\n/* Excel defaults to SYLK but warns if data is not valid */\nfunction read_wb_ID(d, opts) {\n\tvar o = opts || {}, OLD_WTF = !!o.WTF; o.WTF = true;\n\ttry {\n\t\tvar out = SYLK.to_workbook(d, o);\n\t\to.WTF = OLD_WTF;\n\t\treturn out;\n\t} catch(e) {\n\t\to.WTF = OLD_WTF;\n\t\tif(!e.message.match(/SYLK bad record ID/) && OLD_WTF) throw e;\n\t\treturn PRN.to_workbook(d, opts);\n\t}\n}\n\nvar WK_ = /*#__PURE__*/(function() {\n\tfunction lotushopper(data, cb/*:RecordHopperCB*/, opts/*:any*/) {\n\t\tif(!data) return;\n\t\tprep_blob(data, data.l || 0);\n\t\tvar Enum = opts.Enum || WK1Enum;\n\t\twhile(data.l < data.length) {\n\t\t\tvar RT = data.read_shift(2);\n\t\t\tvar R = Enum[RT] || Enum[0xFFFF];\n\t\t\tvar length = data.read_shift(2);\n\t\t\tvar tgt = data.l + length;\n\t\t\tvar d = R.f && R.f(data, length, opts);\n\t\t\tdata.l = tgt;\n\t\t\tif(cb(d, R, RT)) return;\n\t\t}\n\t}\n\n\tfunction lotus_to_workbook(d/*:RawData*/, opts) {\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': return lotus_to_workbook_buf(s2a(Base64_decode(d)), opts);\n\t\t\tcase 'binary': return lotus_to_workbook_buf(s2a(d), opts);\n\t\t\tcase 'buffer':\n\t\t\tcase 'array': return lotus_to_workbook_buf(d, opts);\n\t\t}\n\t\tthrow \"Unsupported type \" + opts.type;\n\t}\n\n\tfunction lotus_to_workbook_buf(d, opts)/*:Workbook*/ {\n\t\tif(!d) return d;\n\t\tvar o = opts || {};\n\t\tif(DENSE != null && o.dense == null) o.dense = DENSE;\n\t\tvar s/*:Worksheet*/ = ((o.dense ? [] : {})/*:any*/), n = \"Sheet1\", next_n = \"\", sidx = 0;\n\t\tvar sheets = {}, snames = [], realnames = [];\n\n\t\tvar refguess = {s: {r:0, c:0}, e: {r:0, c:0} };\n\t\tvar sheetRows = o.sheetRows || 0;\n\n\t\tif(d[2] == 0x00) {\n\t\t\tif(d[3] == 0x08 || d[3] == 0x09) {\n\t\t\t\tif(d.length >= 16 && d[14] == 0x05 && d[15] === 0x6c) throw new Error(\"Unsupported Works 3 for Mac file\");\n\t\t\t}\n\t\t}\n\n\t\tif(d[2] == 0x02) {\n\t\t\to.Enum = WK1Enum;\n\t\t\tlotushopper(d, function(val, R, RT) { switch(RT) {\n\t\t\t\tcase 0x00: /* BOF */\n\t\t\t\t\to.vers = val;\n\t\t\t\t\tif(val >= 0x1000) o.qpro = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x06: refguess = val; break; /* RANGE */\n\t\t\t\tcase 0xCC: if(val) next_n = val; break; /* SHEETNAMECS */\n\t\t\t\tcase 0xDE: next_n = val; break; /* SHEETNAMELP */\n\t\t\t\tcase 0x0F: /* LABEL */\n\t\t\t\tcase 0x33: /* STRING */\n\t\t\t\t\tif(!o.qpro) val[1].v = val[1].v.slice(1);\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 0x0D: /* INTEGER */\n\t\t\t\tcase 0x0E: /* NUMBER */\n\t\t\t\tcase 0x10: /* FORMULA */\n\t\t\t\t\t/* TODO: actual translation of the format code */\n\t\t\t\t\tif(RT == 0x0E && (val[2] & 0x70) == 0x70 && (val[2] & 0x0F) > 1 && (val[2] & 0x0F) < 15) {\n\t\t\t\t\t\tval[1].z = o.dateNF || table_fmt[14];\n\t\t\t\t\t\tif(o.cellDates) { val[1].t = 'd'; val[1].v = numdate(val[1].v); }\n\t\t\t\t\t}\n\n\t\t\t\t\tif(o.qpro) {\n\t\t\t\t\t\tif(val[3] > sidx) {\n\t\t\t\t\t\t\ts[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\t\t\tsheets[n] = s;\n\t\t\t\t\t\t\tsnames.push(n);\n\t\t\t\t\t\t\ts = (o.dense ? [] : {});\n\t\t\t\t\t\t\trefguess = {s: {r:0, c:0}, e: {r:0, c:0} };\n\t\t\t\t\t\t\tsidx = val[3]; n = next_n || \"Sheet\" + (sidx + 1); next_n = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar tmpcell = o.dense ? (s[val[0].r]||[])[val[0].c] : s[encode_cell(val[0])];\n\t\t\t\t\tif(tmpcell) {\n\t\t\t\t\t\ttmpcell.t = val[1].t; tmpcell.v = val[1].v;\n\t\t\t\t\t\tif(val[1].z != null) tmpcell.z = val[1].z;\n\t\t\t\t\t\tif(val[1].f != null) tmpcell.f = val[1].f;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(o.dense) {\n\t\t\t\t\t\tif(!s[val[0].r]) s[val[0].r] = [];\n\t\t\t\t\t\ts[val[0].r][val[0].c] = val[1];\n\t\t\t\t\t} else s[encode_cell(val[0])] = val[1];\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t}}, o);\n\t\t} else if(d[2] == 0x1A || d[2] == 0x0E) {\n\t\t\to.Enum = WK3Enum;\n\t\t\tif(d[2] == 0x0E) { o.qpro = true; d.l = 0; }\n\t\t\tlotushopper(d, function(val, R, RT) { switch(RT) {\n\t\t\t\tcase 0xCC: n = val; break; /* SHEETNAMECS */\n\t\t\t\tcase 0x16: /* LABEL16 */\n\t\t\t\t\tval[1].v = val[1].v.slice(1);\n\t\t\t\t\t/* falls through */\n\t\t\t\tcase 0x17: /* NUMBER17 */\n\t\t\t\tcase 0x18: /* NUMBER18 */\n\t\t\t\tcase 0x19: /* FORMULA19 */\n\t\t\t\tcase 0x25: /* NUMBER25 */\n\t\t\t\tcase 0x27: /* NUMBER27 */\n\t\t\t\tcase 0x28: /* FORMULA28 */\n\t\t\t\t\tif(val[3] > sidx) {\n\t\t\t\t\t\ts[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\t\tsheets[n] = s;\n\t\t\t\t\t\tsnames.push(n);\n\t\t\t\t\t\ts = (o.dense ? [] : {});\n\t\t\t\t\t\trefguess = {s: {r:0, c:0}, e: {r:0, c:0} };\n\t\t\t\t\t\tsidx = val[3]; n = \"Sheet\" + (sidx + 1);\n\t\t\t\t\t}\n\t\t\t\t\tif(sheetRows > 0 && val[0].r >= sheetRows) break;\n\t\t\t\t\tif(o.dense) {\n\t\t\t\t\t\tif(!s[val[0].r]) s[val[0].r] = [];\n\t\t\t\t\t\ts[val[0].r][val[0].c] = val[1];\n\t\t\t\t\t} else s[encode_cell(val[0])] = val[1];\n\t\t\t\t\tif(refguess.e.c < val[0].c) refguess.e.c = val[0].c;\n\t\t\t\t\tif(refguess.e.r < val[0].r) refguess.e.r = val[0].r;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x1B: /* XFORMAT */\n\t\t\t\t\tif(val[0x36b0]) realnames[val[0x36b0][0]] = val[0x36b0][1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0601: /* SHEETINFOQP */\n\t\t\t\t\trealnames[val[0]] = val[1]; if(val[0] == sidx) n = val[1]; break;\n\t\t\t\tdefault: break;\n\t\t\t}}, o);\n\t\t} else throw new Error(\"Unrecognized LOTUS BOF \" + d[2]);\n\t\ts[\"!ref\"] = encode_range(refguess);\n\t\tsheets[next_n || n] = s;\n\t\tsnames.push(next_n || n);\n\t\tif(!realnames.length) return { SheetNames: snames, Sheets: sheets };\n\t\tvar osheets = {}, rnames = [];\n\t\t/* TODO: verify no collisions */\n\t\tfor(var i = 0; i < realnames.length; ++i) if(sheets[snames[i]]) {\n\t\t\trnames.push(realnames[i] || snames[i]);\n\t\t\tosheets[realnames[i]] = sheets[realnames[i]] || sheets[snames[i]];\n\t\t} else {\n\t\t\trnames.push(realnames[i]);\n\t\t\tosheets[realnames[i]] = ({ \"!ref\": \"A1\" });\n\t\t}\n\t\treturn { SheetNames: rnames, Sheets: osheets };\n\t}\n\n\tfunction sheet_to_wk1(ws/*:Worksheet*/, opts/*:WriteOpts*/) {\n\t\tvar o = opts || {};\n\t\tif(+o.codepage >= 0) set_cp(+o.codepage);\n\t\tif(o.type == \"string\") throw new Error(\"Cannot write WK1 to JS string\");\n\t\tvar ba = buf_array();\n\t\tvar range = safe_decode_range(ws[\"!ref\"]);\n\t\tvar dense = Array.isArray(ws);\n\t\tvar cols = [];\n\n\t\twrite_biff_rec(ba, 0x00, write_BOF_WK1(0x0406));\n\t\twrite_biff_rec(ba, 0x06, write_RANGE(range));\n\t\tvar max_R = Math.min(range.e.r, 8191);\n\t\tfor(var R = range.s.r; R <= max_R; ++R) {\n\t\t\tvar rr = encode_row(R);\n\t\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\t\tvar ref = cols[C] + rr;\n\t\t\t\tvar cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\t\tif(!cell || cell.t == \"z\") continue;\n\t\t\t\t/* TODO: formula records */\n\t\t\t\tif(cell.t == \"n\") {\n\t\t\t\t\tif((cell.v|0)==cell.v && cell.v >= -32768 && cell.v <= 32767) write_biff_rec(ba, 0x0d, write_INTEGER(R, C, cell.v));\n\t\t\t\t\telse write_biff_rec(ba, 0x0e, write_NUMBER(R, C, cell.v));\n\t\t\t\t} else {\n\t\t\t\t\tvar str = format_cell(cell);\n\t\t\t\t\twrite_biff_rec(ba, 0x0F, write_LABEL(R, C, str.slice(0, 239)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twrite_biff_rec(ba, 0x01);\n\t\treturn ba.end();\n\t}\n\n\tfunction book_to_wk3(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\t\tvar o = opts || {};\n\t\tif(+o.codepage >= 0) set_cp(+o.codepage);\n\t\tif(o.type == \"string\") throw new Error(\"Cannot write WK3 to JS string\");\n\t\tvar ba = buf_array();\n\n\t\twrite_biff_rec(ba, 0x00, write_BOF_WK3(wb));\n\n\t\tfor(var i = 0, cnt = 0; i < wb.SheetNames.length; ++i) if((wb.Sheets[wb.SheetNames[i]] || {})[\"!ref\"]) write_biff_rec(ba, 0x1b, write_XFORMAT_SHEETNAME(wb.SheetNames[i], cnt++));\n\n\t\tvar wsidx = 0;\n\t\tfor(i = 0; i < wb.SheetNames.length; ++i) {\n\t\t\tvar ws = wb.Sheets[wb.SheetNames[i]];\n\t\t\tif(!ws || !ws[\"!ref\"]) continue;\n\t\t\tvar range = safe_decode_range(ws[\"!ref\"]);\n\t\t\tvar dense = Array.isArray(ws);\n\t\t\tvar cols = [];\n\t\t\tvar max_R = Math.min(range.e.r, 8191);\n\t\t\tfor(var R = range.s.r; R <= max_R; ++R) {\n\t\t\t\tvar rr = encode_row(R);\n\t\t\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\t\t\tvar ref = cols[C] + rr;\n\t\t\t\t\tvar cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\t\t\tif(!cell || cell.t == \"z\") continue;\n\t\t\t\t\t/* TODO: FORMULA19 NUMBER18 records */\n\t\t\t\t\tif(cell.t == \"n\") {\n\t\t\t\t\t\twrite_biff_rec(ba, 0x17, write_NUMBER_17(R, C, wsidx, cell.v));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar str = format_cell(cell);\n\t\t\t\t\t\t/* TODO: max len? */\n\t\t\t\t\t\twrite_biff_rec(ba, 0x16, write_LABEL_16(R, C, wsidx, str.slice(0, 239)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t++wsidx;\n\t\t}\n\n\t\twrite_biff_rec(ba, 0x01);\n\t\treturn ba.end();\n\t}\n\n\n\tfunction write_BOF_WK1(v/*:number*/) {\n\t\tvar out = new_buf(2);\n\t\tout.write_shift(2, v);\n\t\treturn out;\n\t}\n\n\tfunction write_BOF_WK3(wb/*:Workbook*/) {\n\t\tvar out = new_buf(26);\n\t\tout.write_shift(2, 0x1000);\n\t\tout.write_shift(2, 0x0004);\n\t\tout.write_shift(4, 0x0000);\n\t\tvar rows = 0, cols = 0, wscnt = 0;\n\t\tfor(var i = 0; i < wb.SheetNames.length; ++i) {\n\t\t\tvar name = wb.SheetNames[i];\n\t\t\tvar ws = wb.Sheets[name];\n\t\t\tif(!ws || !ws[\"!ref\"]) continue;\n\t\t\t++wscnt;\n\t\t\tvar range = decode_range(ws[\"!ref\"]);\n\t\t\tif(rows < range.e.r) rows = range.e.r;\n\t\t\tif(cols < range.e.c) cols = range.e.c;\n\t\t}\n\t\tif(rows > 8191) rows = 8191;\n\t\tout.write_shift(2, rows);\n\t\tout.write_shift(1, wscnt);\n\t\tout.write_shift(1, cols);\n\t\tout.write_shift(2, 0x00);\n\t\tout.write_shift(2, 0x00);\n\t\tout.write_shift(1, 0x01);\n\t\tout.write_shift(1, 0x02);\n\t\tout.write_shift(4, 0);\n\t\tout.write_shift(4, 0);\n\t\treturn out;\n\t}\n\n\tfunction parse_RANGE(blob, length, opts) {\n\t\tvar o = {s:{c:0,r:0},e:{c:0,r:0}};\n\t\tif(length == 8 && opts.qpro) {\n\t\t\to.s.c = blob.read_shift(1);\n\t\t\tblob.l++;\n\t\t\to.s.r = blob.read_shift(2);\n\t\t\to.e.c = blob.read_shift(1);\n\t\t\tblob.l++;\n\t\t\to.e.r = blob.read_shift(2);\n\t\t\treturn o;\n\t\t}\n\t\to.s.c = blob.read_shift(2);\n\t\to.s.r = blob.read_shift(2);\n\t\tif(length == 12 && opts.qpro) blob.l += 2;\n\t\to.e.c = blob.read_shift(2);\n\t\to.e.r = blob.read_shift(2);\n\t\tif(length == 12 && opts.qpro) blob.l += 2;\n\t\tif(o.s.c == 0xFFFF) o.s.c = o.e.c = o.s.r = o.e.r = 0;\n\t\treturn o;\n\t}\n\tfunction write_RANGE(range) {\n\t\tvar out = new_buf(8);\n\t\tout.write_shift(2, range.s.c);\n\t\tout.write_shift(2, range.s.r);\n\t\tout.write_shift(2, range.e.c);\n\t\tout.write_shift(2, range.e.r);\n\t\treturn out;\n\t}\n\n\tfunction parse_cell(blob, length, opts) {\n\t\tvar o = [{c:0,r:0}, {t:'n',v:0}, 0, 0];\n\t\tif(opts.qpro && opts.vers != 0x5120) {\n\t\t\to[0].c = blob.read_shift(1);\n\t\t\to[3] = blob.read_shift(1);\n\t\t\to[0].r = blob.read_shift(2);\n\t\t\tblob.l+=2;\n\t\t} else {\n\t\t\to[2] = blob.read_shift(1);\n\t\t\to[0].c = blob.read_shift(2); o[0].r = blob.read_shift(2);\n\t\t}\n\t\treturn o;\n\t}\n\n\tfunction parse_LABEL(blob, length, opts) {\n\t\tvar tgt = blob.l + length;\n\t\tvar o = parse_cell(blob, length, opts);\n\t\to[1].t = 's';\n\t\tif(opts.vers == 0x5120) {\n\t\t\tblob.l++;\n\t\t\tvar len = blob.read_shift(1);\n\t\t\to[1].v = blob.read_shift(len, 'utf8');\n\t\t\treturn o;\n\t\t}\n\t\tif(opts.qpro) blob.l++;\n\t\to[1].v = blob.read_shift(tgt - blob.l, 'cstr');\n\t\treturn o;\n\t}\n\tfunction write_LABEL(R, C, s) {\n\t\t/* TODO: encoding */\n\t\tvar o = new_buf(7 + s.length);\n\t\to.write_shift(1, 0xFF);\n\t\to.write_shift(2, C);\n\t\to.write_shift(2, R);\n\t\to.write_shift(1, 0x27); // ??\n\t\tfor(var i = 0; i < o.length; ++i) {\n\t\t\tvar cc = s.charCodeAt(i);\n\t\t\to.write_shift(1, cc >= 0x80 ? 0x5F : cc);\n\t\t}\n\t\to.write_shift(1, 0);\n\t\treturn o;\n\t}\n\n\tfunction parse_INTEGER(blob, length, opts) {\n\t\tvar o = parse_cell(blob, length, opts);\n\t\to[1].v = blob.read_shift(2, 'i');\n\t\treturn o;\n\t}\n\tfunction write_INTEGER(R, C, v) {\n\t\tvar o = new_buf(7);\n\t\to.write_shift(1, 0xFF);\n\t\to.write_shift(2, C);\n\t\to.write_shift(2, R);\n\t\to.write_shift(2, v, 'i');\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER(blob, length, opts) {\n\t\tvar o = parse_cell(blob, length, opts);\n\t\to[1].v = blob.read_shift(8, 'f');\n\t\treturn o;\n\t}\n\tfunction write_NUMBER(R, C, v) {\n\t\tvar o = new_buf(13);\n\t\to.write_shift(1, 0xFF);\n\t\to.write_shift(2, C);\n\t\to.write_shift(2, R);\n\t\to.write_shift(8, v, 'f');\n\t\treturn o;\n\t}\n\n\tfunction parse_FORMULA(blob, length, opts) {\n\t\tvar tgt = blob.l + length;\n\t\tvar o = parse_cell(blob, length, opts);\n\t\t/* TODO: formula */\n\t\to[1].v = blob.read_shift(8, 'f');\n\t\tif(opts.qpro) blob.l = tgt;\n\t\telse {\n\t\t\tvar flen = blob.read_shift(2);\n\t\t\twk1_fmla_to_csf(blob.slice(blob.l, blob.l + flen), o);\n\t\t\tblob.l += flen;\n\t\t}\n\t\treturn o;\n\t}\n\n\tfunction wk1_parse_rc(B, V, col) {\n\t\tvar rel = V & 0x8000;\n\t\tV &= ~0x8000;\n\t\tV = (rel ? B : 0) + ((V >= 0x2000) ? V - 0x4000 : V);\n\t\treturn (rel ? \"\" : \"$\") + (col ? encode_col(V) : encode_row(V));\n\t}\n\t/* var oprec = [\n\t\t8, 8, 8, 8, 8, 8, 8, 8, 6, 4, 4, 5, 5, 7, 3, 3,\n\t\t3, 3, 3, 3, 1, 1, 2, 6, 8, 8, 8, 8, 8, 8, 8, 8\n\t]; */\n\t/* TODO: flesh out */\n\tvar FuncTab = {\n\t\t0x33: [\"FALSE\", 0],\n\t\t0x34: [\"TRUE\", 0],\n\t\t0x46: [\"LEN\", 1],\n\t\t0x50: [\"SUM\", 69],\n\t\t0x51: [\"AVERAGEA\", 69],\n\t\t0x52: [\"COUNTA\", 69],\n\t\t0x53: [\"MINA\", 69],\n\t\t0x54: [\"MAXA\", 69],\n\t\t0x6F: [\"T\", 1]\n\t};\n\tvar BinOpTab = [\n\t\t  \"\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\", // eslint-disable-line no-mixed-spaces-and-tabs\n\t\t  \"\",  \"+\",  \"-\",  \"*\",  \"/\",  \"^\",  \"=\", \"<>\", // eslint-disable-line no-mixed-spaces-and-tabs\n\t\t\"<=\", \">=\",  \"<\",  \">\",   \"\",   \"\",   \"\",   \"\", // eslint-disable-line no-mixed-spaces-and-tabs\n\t\t \"&\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\",   \"\"  // eslint-disable-line no-mixed-spaces-and-tabs\n\t];\n\n\tfunction wk1_fmla_to_csf(blob, o) {\n\t\tprep_blob(blob, 0);\n\t\tvar out = [], argc = 0, R = \"\", C = \"\", argL = \"\", argR = \"\";\n\t\twhile(blob.l < blob.length) {\n\t\t\tvar cc = blob[blob.l++];\n\t\t\tswitch(cc) {\n\t\t\t\tcase 0x00: out.push(blob.read_shift(8, 'f')); break;\n\t\t\t\tcase 0x01: {\n\t\t\t\t\tC = wk1_parse_rc(o[0].c, blob.read_shift(2), true);\n\t\t\t\t\tR = wk1_parse_rc(o[0].r, blob.read_shift(2), false);\n\t\t\t\t\tout.push(C + R);\n\t\t\t\t} break;\n\t\t\t\tcase 0x02: {\n\t\t\t\t\tvar c = wk1_parse_rc(o[0].c, blob.read_shift(2), true);\n\t\t\t\t\tvar r = wk1_parse_rc(o[0].r, blob.read_shift(2), false);\n\t\t\t\t\tC = wk1_parse_rc(o[0].c, blob.read_shift(2), true);\n\t\t\t\t\tR = wk1_parse_rc(o[0].r, blob.read_shift(2), false);\n\t\t\t\t\tout.push(c + r + \":\" + C + R);\n\t\t\t\t} break;\n\t\t\t\tcase 0x03:\n\t\t\t\t\tif(blob.l < blob.length) { console.error(\"WK1 premature formula end\"); return; }\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x04: out.push(\"(\" + out.pop() + \")\"); break;\n\t\t\t\tcase 0x05: out.push(blob.read_shift(2)); break;\n\t\t\t\tcase 0x06: {\n\t\t\t\t\t/* TODO: text encoding */\n\t\t\t\t\tvar Z = \"\"; while((cc = blob[blob.l++])) Z += String.fromCharCode(cc);\n\t\t\t\t\tout.push('\"' + Z.replace(/\"/g, '\"\"') + '\"');\n\t\t\t\t} break;\n\n\t\t\t\tcase 0x08: out.push(\"-\" + out.pop()); break;\n\t\t\t\tcase 0x17: out.push(\"+\" + out.pop()); break;\n\t\t\t\tcase 0x16: out.push(\"NOT(\" + out.pop() + \")\"); break;\n\n\t\t\t\tcase 0x14: case 0x15: {\n\t\t\t\t\targR = out.pop(); argL = out.pop();\n\t\t\t\t\tout.push([\"AND\", \"OR\"][cc - 0x14] + \"(\" + argL + \",\" + argR + \")\");\n\t\t\t\t} break;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif(cc < 0x20 && BinOpTab[cc]) {\n\t\t\t\t\t\targR = out.pop(); argL = out.pop();\n\t\t\t\t\t\tout.push(argL + BinOpTab[cc] + argR);\n\t\t\t\t\t} else if(FuncTab[cc]) {\n\t\t\t\t\t\targc = FuncTab[cc][1];\n\t\t\t\t\t\tif(argc == 69) argc = blob[blob.l++];\n\t\t\t\t\t\tif(argc > out.length) { console.error(\"WK1 bad formula parse 0x\" + cc.toString(16) + \":|\" + out.join(\"|\") + \"|\"); return; }\n\t\t\t\t\t\tvar args = out.slice(-argc);\n\t\t\t\t\t\tout.length -= argc;\n\t\t\t\t\t\tout.push(FuncTab[cc][0] + \"(\" + args.join(\",\") + \")\");\n\t\t\t\t\t}\n\t\t\t\t\telse if(cc <= 0x07) return console.error(\"WK1 invalid opcode \" + cc.toString(16));\n\t\t\t\t\telse if(cc <= 0x18) return console.error(\"WK1 unsupported op \" + cc.toString(16));\n\t\t\t\t\telse if(cc <= 0x1E) return console.error(\"WK1 invalid opcode \" + cc.toString(16));\n\t\t\t\t\telse if(cc <= 0x73) return console.error(\"WK1 unsupported function opcode \" + cc.toString(16));\n\t\t\t\t\t// possible future functions ??\n\t\t\t\t\telse return console.error(\"WK1 unrecognized opcode \" + cc.toString(16));\n\t\t\t}\n\t\t}\n\t\tif(out.length == 1) o[1].f = \"\" + out[0];\n\t\telse console.error(\"WK1 bad formula parse |\" + out.join(\"|\") + \"|\");\n\t}\n\n\n\tfunction parse_cell_3(blob/*::, length*/) {\n\t\tvar o = [{c:0,r:0}, {t:'n',v:0}, 0];\n\t\to[0].r = blob.read_shift(2); o[3] = blob[blob.l++]; o[0].c = blob[blob.l++];\n\t\treturn o;\n\t}\n\n\tfunction parse_LABEL_16(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\to[1].t = 's';\n\t\to[1].v = blob.read_shift(length - 4, 'cstr');\n\t\treturn o;\n\t}\n\tfunction write_LABEL_16(R, C, wsidx, s) {\n\t\t/* TODO: encoding */\n\t\tvar o = new_buf(6 + s.length);\n\t\to.write_shift(2, R);\n\t\to.write_shift(1, wsidx);\n\t\to.write_shift(1, C);\n\t\to.write_shift(1, 0x27);\n\t\tfor(var i = 0; i < s.length; ++i) {\n\t\t\tvar cc = s.charCodeAt(i);\n\t\t\to.write_shift(1, cc >= 0x80 ? 0x5F : cc);\n\t\t}\n\t\to.write_shift(1, 0);\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_18(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\to[1].v = blob.read_shift(2);\n\t\tvar v = o[1].v >> 1;\n\t\tif(o[1].v & 0x1) {\n\t\t\tswitch(v & 0x07) {\n\t\t\t\tcase 0: v = (v >> 3) * 5000; break;\n\t\t\t\tcase 1: v = (v >> 3) * 500; break;\n\t\t\t\tcase 2: v = (v >> 3) / 20; break;\n\t\t\t\tcase 3: v = (v >> 3) / 200; break;\n\t\t\t\tcase 4: v = (v >> 3) / 2000; break;\n\t\t\t\tcase 5: v = (v >> 3) / 20000; break;\n\t\t\t\tcase 6: v = (v >> 3) / 16; break;\n\t\t\t\tcase 7: v = (v >> 3) / 64; break;\n\t\t\t}\n\t\t}\n\t\to[1].v = v;\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_17(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\tvar v1 = blob.read_shift(4);\n\t\tvar v2 = blob.read_shift(4);\n\t\tvar e = blob.read_shift(2);\n\t\tif(e == 0xFFFF) {\n\t\t\tif(v1 === 0 && v2 === 0xC0000000) { o[1].t = \"e\"; o[1].v = 0x0F; } // ERR -> #VALUE!\n\t\t\telse if(v1 === 0 && v2 === 0xD0000000) { o[1].t = \"e\"; o[1].v = 0x2A; } // NA -> #N/A\n\t\t\telse o[1].v = 0;\n\t\t\treturn o;\n\t\t}\n\t\tvar s = e & 0x8000; e = (e&0x7FFF) - 16446;\n\t\to[1].v = (1 - s*2) * (v2 * Math.pow(2, e+32) + v1 * Math.pow(2, e));\n\t\treturn o;\n\t}\n\tfunction write_NUMBER_17(R, C, wsidx, v) {\n\t\tvar o = new_buf(14);\n\t\to.write_shift(2, R);\n\t\to.write_shift(1, wsidx);\n\t\to.write_shift(1, C);\n\t\tif(v == 0) {\n\t\t\to.write_shift(4, 0);\n\t\t\to.write_shift(4, 0);\n\t\t\to.write_shift(2, 0xFFFF);\n\t\t\treturn o;\n\t\t}\n\t\tvar s = 0, e = 0, v1 = 0, v2 = 0;\n\t\tif(v < 0) { s = 1; v = -v; }\n\t\te = Math.log2(v) | 0;\n\t\tv /= Math.pow(2, e-31);\n\t\tv2 = (v)>>>0;\n\t\tif((v2&0x80000000) == 0) { v/=2; ++e; v2 = v >>> 0; }\n\t\tv -= v2;\n\t\tv2 |= 0x80000000;\n\t\tv2 >>>= 0;\n\t\tv *= Math.pow(2, 32);\n\t\tv1 = v>>>0;\n\t\to.write_shift(4, v1);\n\t\to.write_shift(4, v2);\n\t\te += 0x3FFF + (s ? 0x8000 : 0);\n\t\to.write_shift(2, e);\n\t\treturn o;\n\t}\n\n\tfunction parse_FORMULA_19(blob, length) {\n\t\tvar o = parse_NUMBER_17(blob, 14);\n\t\tblob.l += length - 14; /* TODO: WK3 formula */\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_25(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\tvar v1 = blob.read_shift(4);\n\t\to[1].v = v1 >> 6;\n\t\treturn o;\n\t}\n\n\tfunction parse_NUMBER_27(blob, length) {\n\t\tvar o = parse_cell_3(blob, length);\n\t\tvar v1 = blob.read_shift(8,'f');\n\t\to[1].v = v1;\n\t\treturn o;\n\t}\n\n\tfunction parse_FORMULA_28(blob, length) {\n\t\tvar o = parse_NUMBER_27(blob, 14);\n\t\tblob.l += length - 10; /* TODO: formula */\n\t\treturn o;\n\t}\n\n\tfunction parse_SHEETNAMECS(blob, length) {\n\t\treturn blob[blob.l + length - 1] == 0 ? blob.read_shift(length, 'cstr') : \"\";\n\t}\n\n\tfunction parse_SHEETNAMELP(blob, length) {\n\t\tvar len = blob[blob.l++];\n\t\tif(len > length - 1) len = length - 1;\n\t\tvar o = \"\"; while(o.length < len) o += String.fromCharCode(blob[blob.l++]);\n\t\treturn o;\n\t}\n\n\tfunction parse_SHEETINFOQP(blob, length, opts) {\n\t\tif(!opts.qpro || length < 21) return;\n\t\tvar id = blob.read_shift(1);\n\t\tblob.l += 17;\n\t\tblob.l += 1; //var len = blob.read_shift(1);\n\t\tblob.l += 2;\n\t\tvar nm = blob.read_shift(length - 21, 'cstr');\n\t\treturn [id, nm];\n\t}\n\n\tfunction parse_XFORMAT(blob, length) {\n\t\tvar o = {}, tgt = blob.l + length;\n\t\twhile(blob.l < tgt) {\n\t\t\tvar dt = blob.read_shift(2);\n\t\t\tif(dt == 0x36b0) {\n\t\t\t\to[dt] = [0, \"\"];\n\t\t\t\to[dt][0] = blob.read_shift(2);\n\t\t\t\twhile(blob[blob.l]) { o[dt][1] += String.fromCharCode(blob[blob.l]); blob.l++; } blob.l++;\n\t\t\t}\n\t\t\t// TODO: 0x3a99 ??\n\t\t}\n\t\treturn o;\n\t}\n\tfunction write_XFORMAT_SHEETNAME(name, wsidx) {\n\t\tvar out = new_buf(5 + name.length);\n\t\tout.write_shift(2, 0x36b0);\n\t\tout.write_shift(2, wsidx);\n\t\tfor(var i = 0; i < name.length; ++i) {\n\t\t\tvar cc = name.charCodeAt(i);\n\t\t\tout[out.l++] = cc > 0x7F ? 0x5F : cc;\n\t\t}\n\t\tout[out.l++] = 0;\n\t\treturn out;\n\t}\n\n\tvar WK1Enum = {\n\t\t/*::[*/0x0000/*::]*/: { n:\"BOF\", f:parseuint16 },\n\t\t/*::[*/0x0001/*::]*/: { n:\"EOF\" },\n\t\t/*::[*/0x0002/*::]*/: { n:\"CALCMODE\" },\n\t\t/*::[*/0x0003/*::]*/: { n:\"CALCORDER\" },\n\t\t/*::[*/0x0004/*::]*/: { n:\"SPLIT\" },\n\t\t/*::[*/0x0005/*::]*/: { n:\"SYNC\" },\n\t\t/*::[*/0x0006/*::]*/: { n:\"RANGE\", f:parse_RANGE },\n\t\t/*::[*/0x0007/*::]*/: { n:\"WINDOW1\" },\n\t\t/*::[*/0x0008/*::]*/: { n:\"COLW1\" },\n\t\t/*::[*/0x0009/*::]*/: { n:\"WINTWO\" },\n\t\t/*::[*/0x000A/*::]*/: { n:\"COLW2\" },\n\t\t/*::[*/0x000B/*::]*/: { n:\"NAME\" },\n\t\t/*::[*/0x000C/*::]*/: { n:\"BLANK\" },\n\t\t/*::[*/0x000D/*::]*/: { n:\"INTEGER\", f:parse_INTEGER },\n\t\t/*::[*/0x000E/*::]*/: { n:\"NUMBER\", f:parse_NUMBER },\n\t\t/*::[*/0x000F/*::]*/: { n:\"LABEL\", f:parse_LABEL },\n\t\t/*::[*/0x0010/*::]*/: { n:\"FORMULA\", f:parse_FORMULA },\n\t\t/*::[*/0x0018/*::]*/: { n:\"TABLE\" },\n\t\t/*::[*/0x0019/*::]*/: { n:\"ORANGE\" },\n\t\t/*::[*/0x001A/*::]*/: { n:\"PRANGE\" },\n\t\t/*::[*/0x001B/*::]*/: { n:\"SRANGE\" },\n\t\t/*::[*/0x001C/*::]*/: { n:\"FRANGE\" },\n\t\t/*::[*/0x001D/*::]*/: { n:\"KRANGE1\" },\n\t\t/*::[*/0x0020/*::]*/: { n:\"HRANGE\" },\n\t\t/*::[*/0x0023/*::]*/: { n:\"KRANGE2\" },\n\t\t/*::[*/0x0024/*::]*/: { n:\"PROTEC\" },\n\t\t/*::[*/0x0025/*::]*/: { n:\"FOOTER\" },\n\t\t/*::[*/0x0026/*::]*/: { n:\"HEADER\" },\n\t\t/*::[*/0x0027/*::]*/: { n:\"SETUP\" },\n\t\t/*::[*/0x0028/*::]*/: { n:\"MARGINS\" },\n\t\t/*::[*/0x0029/*::]*/: { n:\"LABELFMT\" },\n\t\t/*::[*/0x002A/*::]*/: { n:\"TITLES\" },\n\t\t/*::[*/0x002B/*::]*/: { n:\"SHEETJS\" },\n\t\t/*::[*/0x002D/*::]*/: { n:\"GRAPH\" },\n\t\t/*::[*/0x002E/*::]*/: { n:\"NGRAPH\" },\n\t\t/*::[*/0x002F/*::]*/: { n:\"CALCCOUNT\" },\n\t\t/*::[*/0x0030/*::]*/: { n:\"UNFORMATTED\" },\n\t\t/*::[*/0x0031/*::]*/: { n:\"CURSORW12\" },\n\t\t/*::[*/0x0032/*::]*/: { n:\"WINDOW\" },\n\t\t/*::[*/0x0033/*::]*/: { n:\"STRING\", f:parse_LABEL },\n\t\t/*::[*/0x0037/*::]*/: { n:\"PASSWORD\" },\n\t\t/*::[*/0x0038/*::]*/: { n:\"LOCKED\" },\n\t\t/*::[*/0x003C/*::]*/: { n:\"QUERY\" },\n\t\t/*::[*/0x003D/*::]*/: { n:\"QUERYNAME\" },\n\t\t/*::[*/0x003E/*::]*/: { n:\"PRINT\" },\n\t\t/*::[*/0x003F/*::]*/: { n:\"PRINTNAME\" },\n\t\t/*::[*/0x0040/*::]*/: { n:\"GRAPH2\" },\n\t\t/*::[*/0x0041/*::]*/: { n:\"GRAPHNAME\" },\n\t\t/*::[*/0x0042/*::]*/: { n:\"ZOOM\" },\n\t\t/*::[*/0x0043/*::]*/: { n:\"SYMSPLIT\" },\n\t\t/*::[*/0x0044/*::]*/: { n:\"NSROWS\" },\n\t\t/*::[*/0x0045/*::]*/: { n:\"NSCOLS\" },\n\t\t/*::[*/0x0046/*::]*/: { n:\"RULER\" },\n\t\t/*::[*/0x0047/*::]*/: { n:\"NNAME\" },\n\t\t/*::[*/0x0048/*::]*/: { n:\"ACOMM\" },\n\t\t/*::[*/0x0049/*::]*/: { n:\"AMACRO\" },\n\t\t/*::[*/0x004A/*::]*/: { n:\"PARSE\" },\n\t\t/*::[*/0x0066/*::]*/: { n:\"PRANGES??\" },\n\t\t/*::[*/0x0067/*::]*/: { n:\"RRANGES??\" },\n\t\t/*::[*/0x0068/*::]*/: { n:\"FNAME??\" },\n\t\t/*::[*/0x0069/*::]*/: { n:\"MRANGES??\" },\n\t\t/*::[*/0x00CC/*::]*/: { n:\"SHEETNAMECS\", f:parse_SHEETNAMECS },\n\t\t/*::[*/0x00DE/*::]*/: { n:\"SHEETNAMELP\", f:parse_SHEETNAMELP },\n\t\t/*::[*/0xFFFF/*::]*/: { n:\"\" }\n\t};\n\n\tvar WK3Enum = {\n\t\t/*::[*/0x0000/*::]*/: { n:\"BOF\" },\n\t\t/*::[*/0x0001/*::]*/: { n:\"EOF\" },\n\t\t/*::[*/0x0002/*::]*/: { n:\"PASSWORD\" },\n\t\t/*::[*/0x0003/*::]*/: { n:\"CALCSET\" },\n\t\t/*::[*/0x0004/*::]*/: { n:\"WINDOWSET\" },\n\t\t/*::[*/0x0005/*::]*/: { n:\"SHEETCELLPTR\" },\n\t\t/*::[*/0x0006/*::]*/: { n:\"SHEETLAYOUT\" },\n\t\t/*::[*/0x0007/*::]*/: { n:\"COLUMNWIDTH\" },\n\t\t/*::[*/0x0008/*::]*/: { n:\"HIDDENCOLUMN\" },\n\t\t/*::[*/0x0009/*::]*/: { n:\"USERRANGE\" },\n\t\t/*::[*/0x000A/*::]*/: { n:\"SYSTEMRANGE\" },\n\t\t/*::[*/0x000B/*::]*/: { n:\"ZEROFORCE\" },\n\t\t/*::[*/0x000C/*::]*/: { n:\"SORTKEYDIR\" },\n\t\t/*::[*/0x000D/*::]*/: { n:\"FILESEAL\" },\n\t\t/*::[*/0x000E/*::]*/: { n:\"DATAFILLNUMS\" },\n\t\t/*::[*/0x000F/*::]*/: { n:\"PRINTMAIN\" },\n\t\t/*::[*/0x0010/*::]*/: { n:\"PRINTSTRING\" },\n\t\t/*::[*/0x0011/*::]*/: { n:\"GRAPHMAIN\" },\n\t\t/*::[*/0x0012/*::]*/: { n:\"GRAPHSTRING\" },\n\t\t/*::[*/0x0013/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0014/*::]*/: { n:\"ERRCELL\" },\n\t\t/*::[*/0x0015/*::]*/: { n:\"NACELL\" },\n\t\t/*::[*/0x0016/*::]*/: { n:\"LABEL16\", f:parse_LABEL_16},\n\t\t/*::[*/0x0017/*::]*/: { n:\"NUMBER17\", f:parse_NUMBER_17 },\n\t\t/*::[*/0x0018/*::]*/: { n:\"NUMBER18\", f:parse_NUMBER_18 },\n\t\t/*::[*/0x0019/*::]*/: { n:\"FORMULA19\", f:parse_FORMULA_19},\n\t\t/*::[*/0x001A/*::]*/: { n:\"FORMULA1A\" },\n\t\t/*::[*/0x001B/*::]*/: { n:\"XFORMAT\", f:parse_XFORMAT },\n\t\t/*::[*/0x001C/*::]*/: { n:\"DTLABELMISC\" },\n\t\t/*::[*/0x001D/*::]*/: { n:\"DTLABELCELL\" },\n\t\t/*::[*/0x001E/*::]*/: { n:\"GRAPHWINDOW\" },\n\t\t/*::[*/0x001F/*::]*/: { n:\"CPA\" },\n\t\t/*::[*/0x0020/*::]*/: { n:\"LPLAUTO\" },\n\t\t/*::[*/0x0021/*::]*/: { n:\"QUERY\" },\n\t\t/*::[*/0x0022/*::]*/: { n:\"HIDDENSHEET\" },\n\t\t/*::[*/0x0023/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0025/*::]*/: { n:\"NUMBER25\", f:parse_NUMBER_25 },\n\t\t/*::[*/0x0026/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0027/*::]*/: { n:\"NUMBER27\", f:parse_NUMBER_27 },\n\t\t/*::[*/0x0028/*::]*/: { n:\"FORMULA28\", f:parse_FORMULA_28 },\n\t\t/*::[*/0x008E/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0093/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0096/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0097/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0098/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0099/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x009A/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x009B/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x009C/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00A3/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00AE/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00AF/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00B0/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00B1/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00B8/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00B9/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00BA/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00BB/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00BC/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00C3/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00C9/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00CC/*::]*/: { n:\"SHEETNAMECS\", f:parse_SHEETNAMECS },\n\t\t/*::[*/0x00CD/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00CE/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00CF/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x00D0/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0100/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0103/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0104/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0105/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0106/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0107/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0109/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x010A/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x010B/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x010C/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x010E/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x010F/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0180/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0185/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0186/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0189/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x018C/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0200/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0202/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0201/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0204/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0205/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0280/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0281/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0282/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0283/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0284/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0285/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0286/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0287/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0288/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0292/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0293/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0294/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0295/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0296/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0299/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x029A/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0300/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0304/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0601/*::]*/: { n:\"SHEETINFOQP\", f:parse_SHEETINFOQP },\n\t\t/*::[*/0x0640/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0642/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0701/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0702/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0703/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0704/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0780/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0800/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0801/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0804/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x0A80/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x2AF6/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x3231/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x6E49/*::]*/: { n:\"??\" },\n\t\t/*::[*/0x6F44/*::]*/: { n:\"??\" },\n\t\t/*::[*/0xFFFF/*::]*/: { n:\"\" }\n\t};\n\treturn {\n\t\tsheet_to_wk1: sheet_to_wk1,\n\t\tbook_to_wk3: book_to_wk3,\n\t\tto_workbook: lotus_to_workbook\n\t};\n})();\n/* 18.4.7 rPr CT_RPrElt */\nfunction parse_rpr(rpr) {\n\tvar font = {}, m = rpr.match(tagregex), i = 0;\n\tvar pass = false;\n\tif(m) for(;i!=m.length; ++i) {\n\t\tvar y = parsexmltag(m[i]);\n\t\tswitch(y[0].replace(/\\w*:/g,\"\")) {\n\t\t\t/* 18.8.12 condense CT_BooleanProperty */\n\t\t\t/* ** not required . */\n\t\t\tcase '<condense': break;\n\t\t\t/* 18.8.17 extend CT_BooleanProperty */\n\t\t\t/* ** not required . */\n\t\t\tcase '<extend': break;\n\t\t\t/* 18.8.36 shadow CT_BooleanProperty */\n\t\t\t/* ** not required . */\n\t\t\tcase '<shadow':\n\t\t\t\tif(!y.val) break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<shadow>':\n\t\t\tcase '<shadow/>': font.shadow = 1; break;\n\t\t\tcase '</shadow>': break;\n\n\t\t\t/* 18.4.1 charset CT_IntProperty TODO */\n\t\t\tcase '<charset':\n\t\t\t\tif(y.val == '1') break;\n\t\t\t\tfont.cp = CS2CP[parseInt(y.val, 10)];\n\t\t\t\tbreak;\n\n\t\t\t/* 18.4.2 outline CT_BooleanProperty TODO */\n\t\t\tcase '<outline':\n\t\t\t\tif(!y.val) break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<outline>':\n\t\t\tcase '<outline/>': font.outline = 1; break;\n\t\t\tcase '</outline>': break;\n\n\t\t\t/* 18.4.5 rFont CT_FontName */\n\t\t\tcase '<rFont': font.name = y.val; break;\n\n\t\t\t/* 18.4.11 sz CT_FontSize */\n\t\t\tcase '<sz': font.sz = y.val; break;\n\n\t\t\t/* 18.4.10 strike CT_BooleanProperty */\n\t\t\tcase '<strike':\n\t\t\t\tif(!y.val) break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<strike>':\n\t\t\tcase '<strike/>': font.strike = 1; break;\n\t\t\tcase '</strike>': break;\n\n\t\t\t/* 18.4.13 u CT_UnderlineProperty */\n\t\t\tcase '<u':\n\t\t\t\tif(!y.val) break;\n\t\t\t\tswitch(y.val) {\n\t\t\t\t\tcase 'double': font.uval = \"double\"; break;\n\t\t\t\t\tcase 'singleAccounting': font.uval = \"single-accounting\"; break;\n\t\t\t\t\tcase 'doubleAccounting': font.uval = \"double-accounting\"; break;\n\t\t\t\t}\n\t\t\t\t/* falls through */\n\t\t\tcase '<u>':\n\t\t\tcase '<u/>': font.u = 1; break;\n\t\t\tcase '</u>': break;\n\n\t\t\t/* 18.8.2 b */\n\t\t\tcase '<b':\n\t\t\t\tif(y.val == '0') break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<b>':\n\t\t\tcase '<b/>': font.b = 1; break;\n\t\t\tcase '</b>': break;\n\n\t\t\t/* 18.8.26 i */\n\t\t\tcase '<i':\n\t\t\t\tif(y.val == '0') break;\n\t\t\t\t/* falls through */\n\t\t\tcase '<i>':\n\t\t\tcase '<i/>': font.i = 1; break;\n\t\t\tcase '</i>': break;\n\n\t\t\t/* 18.3.1.15 color CT_Color TODO: tint, theme, auto, indexed */\n\t\t\tcase '<color':\n\t\t\t\tif(y.rgb) font.color = y.rgb.slice(2,8);\n\t\t\t\tbreak;\n\t\t\tcase '<color>': case '<color/>': case '</color>': break;\n\n\t\t\t/* 18.8.18 family ST_FontFamily */\n\t\t\tcase '<family': font.family = y.val; break;\n\t\t\tcase '<family>': case '<family/>': case '</family>': break;\n\n\t\t\t/* 18.4.14 vertAlign CT_VerticalAlignFontProperty TODO */\n\t\t\tcase '<vertAlign': font.valign = y.val; break;\n\t\t\tcase '<vertAlign>': case '<vertAlign/>': case '</vertAlign>': break;\n\n\t\t\t/* 18.8.35 scheme CT_FontScheme TODO */\n\t\t\tcase '<scheme': break;\n\t\t\tcase '<scheme>': case '<scheme/>': case '</scheme>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault:\n\t\t\t\tif(y[0].charCodeAt(1) !== 47 && !pass) throw new Error('Unrecognized rich format ' + y[0]);\n\t\t}\n\t}\n\treturn font;\n}\n\nvar parse_rs = /*#__PURE__*/(function() {\n\tvar tregex = matchtag(\"t\"), rpregex = matchtag(\"rPr\");\n\t/* 18.4.4 r CT_RElt */\n\tfunction parse_r(r) {\n\t\t/* 18.4.12 t ST_Xstring */\n\t\tvar t = r.match(tregex)/*, cp = 65001*/;\n\t\tif(!t) return {t:\"s\", v:\"\"};\n\n\t\tvar o/*:Cell*/ = ({t:'s', v:unescapexml(t[1])}/*:any*/);\n\t\tvar rpr = r.match(rpregex);\n\t\tif(rpr) o.s = parse_rpr(rpr[1]);\n\t\treturn o;\n\t}\n\tvar rregex = /<(?:\\w+:)?r>/g, rend = /<\\/(?:\\w+:)?r>/;\n\treturn function parse_rs(rs) {\n\t\treturn rs.replace(rregex,\"\").split(rend).map(parse_r).filter(function(r) { return r.v; });\n\t};\n})();\n\n\n/* Parse a list of <r> tags */\nvar rs_to_html = /*#__PURE__*/(function parse_rs_factory() {\n\tvar nlregex = /(\\r\\n|\\n)/g;\n\tfunction parse_rpr2(font, intro, outro) {\n\t\tvar style/*:Array<string>*/ = [];\n\n\t\tif(font.u) style.push(\"text-decoration: underline;\");\n\t\tif(font.uval) style.push(\"text-underline-style:\" + font.uval + \";\");\n\t\tif(font.sz) style.push(\"font-size:\" + font.sz + \"pt;\");\n\t\tif(font.outline) style.push(\"text-effect: outline;\");\n\t\tif(font.shadow) style.push(\"text-shadow: auto;\");\n\t\tintro.push('<span style=\"' + style.join(\"\") + '\">');\n\n\t\tif(font.b) { intro.push(\"<b>\"); outro.push(\"</b>\"); }\n\t\tif(font.i) { intro.push(\"<i>\"); outro.push(\"</i>\"); }\n\t\tif(font.strike) { intro.push(\"<s>\"); outro.push(\"</s>\"); }\n\n\t\tvar align = font.valign || \"\";\n\t\tif(align == \"superscript\" || align == \"super\") align = \"sup\";\n\t\telse if(align == \"subscript\") align = \"sub\";\n\t\tif(align != \"\") { intro.push(\"<\" + align + \">\"); outro.push(\"</\" + align + \">\"); }\n\n\t\toutro.push(\"</span>\");\n\t\treturn font;\n\t}\n\n\t/* 18.4.4 r CT_RElt */\n\tfunction r_to_html(r) {\n\t\tvar terms/*:[Array<string>, string, Array<string>]*/ = [[],r.v,[]];\n\t\tif(!r.v) return \"\";\n\n\t\tif(r.s) parse_rpr2(r.s, terms[0], terms[2]);\n\n\t\treturn terms[0].join(\"\") + terms[1].replace(nlregex,'<br/>') + terms[2].join(\"\");\n\t}\n\n\treturn function parse_rs(rs) {\n\t\treturn rs.map(r_to_html).join(\"\");\n\t};\n})();\n\n/* 18.4.8 si CT_Rst */\nvar sitregex = /<(?:\\w+:)?t[^>]*>([^<]*)<\\/(?:\\w+:)?t>/g, sirregex = /<(?:\\w+:)?r>/;\nvar sirphregex = /<(?:\\w+:)?rPh.*?>([\\s\\S]*?)<\\/(?:\\w+:)?rPh>/g;\nfunction parse_si(x, opts) {\n\tvar html = opts ? opts.cellHTML : true;\n\tvar z = {};\n\tif(!x) return { t: \"\" };\n\t//var y;\n\t/* 18.4.12 t ST_Xstring (Plaintext String) */\n\t// TODO: is whitespace actually valid here?\n\tif(x.match(/^\\s*<(?:\\w+:)?t[^>]*>/)) {\n\t\tz.t = unescapexml(utf8read(x.slice(x.indexOf(\">\")+1).split(/<\\/(?:\\w+:)?t>/)[0]||\"\"));\n\t\tz.r = utf8read(x);\n\t\tif(html) z.h = escapehtml(z.t);\n\t}\n\t/* 18.4.4 r CT_RElt (Rich Text Run) */\n\telse if((/*y = */x.match(sirregex))) {\n\t\tz.r = utf8read(x);\n\t\tz.t = unescapexml(utf8read((x.replace(sirphregex, '').match(sitregex)||[]).join(\"\").replace(tagregex,\"\")));\n\t\tif(html) z.h = rs_to_html(parse_rs(z.r));\n\t}\n\t/* 18.4.3 phoneticPr CT_PhoneticPr (TODO: needed for Asian support) */\n\t/* 18.4.6 rPh CT_PhoneticRun (TODO: needed for Asian support) */\n\treturn z;\n}\n\n/* 18.4 Shared String Table */\nvar sstr0 = /<(?:\\w+:)?sst([^>]*)>([\\s\\S]*)<\\/(?:\\w+:)?sst>/;\nvar sstr1 = /<(?:\\w+:)?(?:si|sstItem)>/g;\nvar sstr2 = /<\\/(?:\\w+:)?(?:si|sstItem)>/;\nfunction parse_sst_xml(data/*:string*/, opts)/*:SST*/ {\n\tvar s/*:SST*/ = ([]/*:any*/), ss = \"\";\n\tif(!data) return s;\n\t/* 18.4.9 sst CT_Sst */\n\tvar sst = data.match(sstr0);\n\tif(sst) {\n\t\tss = sst[2].replace(sstr1,\"\").split(sstr2);\n\t\tfor(var i = 0; i != ss.length; ++i) {\n\t\t\tvar o = parse_si(ss[i].trim(), opts);\n\t\t\tif(o != null) s[s.length] = o;\n\t\t}\n\t\tsst = parsexmltag(sst[1]); s.Count = sst.count; s.Unique = sst.uniqueCount;\n\t}\n\treturn s;\n}\n\nvar straywsregex = /^\\s|\\s$|[\\t\\n\\r]/;\nfunction write_sst_xml(sst/*:SST*/, opts)/*:string*/ {\n\tif(!opts.bookSST) return \"\";\n\tvar o = [XML_HEADER];\n\to[o.length] = (writextag('sst', null, {\n\t\txmlns: XMLNS_main[0],\n\t\tcount: sst.Count,\n\t\tuniqueCount: sst.Unique\n\t}));\n\tfor(var i = 0; i != sst.length; ++i) { if(sst[i] == null) continue;\n\t\tvar s/*:XLString*/ = sst[i];\n\t\tvar sitag = \"<si>\";\n\t\tif(s.r) sitag += s.r;\n\t\telse {\n\t\t\tsitag += \"<t\";\n\t\t\tif(!s.t) s.t = \"\";\n\t\t\tif(s.t.match(straywsregex)) sitag += ' xml:space=\"preserve\"';\n\t\t\tsitag += \">\" + escapexml(s.t) + \"</t>\";\n\t\t}\n\t\tsitag += \"</si>\";\n\t\to[o.length] = (sitag);\n\t}\n\tif(o.length>2){ o[o.length] = ('</sst>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.221 BrtBeginSst */\nfunction parse_BrtBeginSst(data) {\n\treturn [data.read_shift(4), data.read_shift(4)];\n}\n\n/* [MS-XLSB] 2.1.7.45 Shared Strings */\nfunction parse_sst_bin(data, opts)/*:SST*/ {\n\tvar s/*:SST*/ = ([]/*:any*/);\n\tvar pass = false;\n\trecordhopper(data, function hopper_sst(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x009F: /* BrtBeginSst */\n\t\t\t\ts.Count = val[0]; s.Unique = val[1]; break;\n\t\t\tcase 0x0013: /* BrtSSTItem */\n\t\t\t\ts.push(val); break;\n\t\t\tcase 0x00A0: /* BrtEndSst */\n\t\t\t\treturn true;\n\n\t\t\tcase 0x0023: /* BrtFRTBegin */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* BrtFRTEnd */\n\t\t\t\tpass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){}\n\t\t\t\tif(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn s;\n}\n\nfunction write_BrtBeginSst(sst, o) {\n\tif(!o) o = new_buf(8);\n\to.write_shift(4, sst.Count);\n\to.write_shift(4, sst.Unique);\n\treturn o;\n}\n\nvar write_BrtSSTItem = write_RichStr;\n\nfunction write_sst_bin(sst/*::, opts*/) {\n\tvar ba = buf_array();\n\twrite_record(ba, 0x009F /* BrtBeginSst */, write_BrtBeginSst(sst));\n\tfor(var i = 0; i < sst.length; ++i) write_record(ba, 0x0013 /* BrtSSTItem */, write_BrtSSTItem(sst[i]));\n\t/* FRTSST */\n\twrite_record(ba, 0x00A0 /* BrtEndSst */);\n\treturn ba.end();\n}\nfunction _JS2ANSI(str/*:string*/)/*:Array<number>*/ {\n\tif(typeof $cptable !== 'undefined') return $cptable.utils.encode(current_ansi, str);\n\tvar o/*:Array<number>*/ = [], oo = str.split(\"\");\n\tfor(var i = 0; i < oo.length; ++i) o[i] = oo[i].charCodeAt(0);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.4 Version */\nfunction parse_CRYPTOVersion(blob, length/*:?number*/) {\n\tvar o/*:any*/ = {};\n\to.Major = blob.read_shift(2);\n\to.Minor = blob.read_shift(2);\n\t/*:: if(length == null) return o; */\n\tif(length >= 4) blob.l += length - 4;\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.5 DataSpaceVersionInfo */\nfunction parse_DataSpaceVersionInfo(blob) {\n\tvar o = {};\n\to.id = blob.read_shift(0, 'lpp4');\n\to.R = parse_CRYPTOVersion(blob, 4);\n\to.U = parse_CRYPTOVersion(blob, 4);\n\to.W = parse_CRYPTOVersion(blob, 4);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.6.1 DataSpaceMapEntry Structure */\nfunction parse_DataSpaceMapEntry(blob) {\n\tvar len = blob.read_shift(4);\n\tvar end = blob.l + len - 4;\n\tvar o = {};\n\tvar cnt = blob.read_shift(4);\n\tvar comps/*:Array<{t:number, v:string}>*/ = [];\n\t/* [MS-OFFCRYPTO] 2.1.6.2 DataSpaceReferenceComponent Structure */\n\twhile(cnt-- > 0) comps.push({ t: blob.read_shift(4), v: blob.read_shift(0, 'lpp4') });\n\to.name = blob.read_shift(0, 'lpp4');\n\to.comps = comps;\n\tif(blob.l != end) throw new Error(\"Bad DataSpaceMapEntry: \" + blob.l + \" != \" + end);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.6 DataSpaceMap */\nfunction parse_DataSpaceMap(blob) {\n\tvar o = [];\n\tblob.l += 4; // must be 0x8\n\tvar cnt = blob.read_shift(4);\n\twhile(cnt-- > 0) o.push(parse_DataSpaceMapEntry(blob));\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.7 DataSpaceDefinition */\nfunction parse_DataSpaceDefinition(blob)/*:Array<string>*/ {\n\tvar o/*:Array<string>*/ = [];\n\tblob.l += 4; // must be 0x8\n\tvar cnt = blob.read_shift(4);\n\twhile(cnt-- > 0) o.push(blob.read_shift(0, 'lpp4'));\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.1.8 DataSpaceDefinition */\nfunction parse_TransformInfoHeader(blob) {\n\tvar o = {};\n\t/*var len = */blob.read_shift(4);\n\tblob.l += 4; // must be 0x1\n\to.id = blob.read_shift(0, 'lpp4');\n\to.name = blob.read_shift(0, 'lpp4');\n\to.R = parse_CRYPTOVersion(blob, 4);\n\to.U = parse_CRYPTOVersion(blob, 4);\n\to.W = parse_CRYPTOVersion(blob, 4);\n\treturn o;\n}\n\nfunction parse_Primary(blob) {\n\t/* [MS-OFFCRYPTO] 2.2.6 IRMDSTransformInfo */\n\tvar hdr = parse_TransformInfoHeader(blob);\n\t/* [MS-OFFCRYPTO] 2.1.9 EncryptionTransformInfo */\n\thdr.ename = blob.read_shift(0, '8lpp4');\n\thdr.blksz = blob.read_shift(4);\n\thdr.cmode = blob.read_shift(4);\n\tif(blob.read_shift(4) != 0x04) throw new Error(\"Bad !Primary record\");\n\treturn hdr;\n}\n\n/* [MS-OFFCRYPTO] 2.3.2 Encryption Header */\nfunction parse_EncryptionHeader(blob, length/*:number*/) {\n\tvar tgt = blob.l + length;\n\tvar o = {};\n\to.Flags = (blob.read_shift(4) & 0x3F);\n\tblob.l += 4;\n\to.AlgID = blob.read_shift(4);\n\tvar valid = false;\n\tswitch(o.AlgID) {\n\t\tcase 0x660E: case 0x660F: case 0x6610: valid = (o.Flags == 0x24); break;\n\t\tcase 0x6801: valid = (o.Flags == 0x04); break;\n\t\tcase 0: valid = (o.Flags == 0x10 || o.Flags == 0x04 || o.Flags == 0x24); break;\n\t\tdefault: throw 'Unrecognized encryption algorithm: ' + o.AlgID;\n\t}\n\tif(!valid) throw new Error(\"Encryption Flags/AlgID mismatch\");\n\to.AlgIDHash = blob.read_shift(4);\n\to.KeySize = blob.read_shift(4);\n\to.ProviderType = blob.read_shift(4);\n\tblob.l += 8;\n\to.CSPName = blob.read_shift((tgt-blob.l)>>1, 'utf16le');\n\tblob.l = tgt;\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.3 Encryption Verifier */\nfunction parse_EncryptionVerifier(blob, length/*:number*/) {\n\tvar o = {}, tgt = blob.l + length;\n\tblob.l += 4; // SaltSize must be 0x10\n\to.Salt = blob.slice(blob.l, blob.l+16); blob.l += 16;\n\to.Verifier = blob.slice(blob.l, blob.l+16); blob.l += 16;\n\t/*var sz = */blob.read_shift(4);\n\to.VerifierHash = blob.slice(blob.l, tgt); blob.l = tgt;\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.4.* EncryptionInfo Stream */\nfunction parse_EncryptionInfo(blob) {\n\tvar vers = parse_CRYPTOVersion(blob);\n\tswitch(vers.Minor) {\n\t\tcase 0x02: return [vers.Minor, parse_EncInfoStd(blob, vers)];\n\t\tcase 0x03: return [vers.Minor, parse_EncInfoExt(blob, vers)];\n\t\tcase 0x04: return [vers.Minor, parse_EncInfoAgl(blob, vers)];\n\t}\n\tthrow new Error(\"ECMA-376 Encrypted file unrecognized Version: \" + vers.Minor);\n}\n\n/* [MS-OFFCRYPTO] 2.3.4.5  EncryptionInfo Stream (Standard Encryption) */\nfunction parse_EncInfoStd(blob/*::, vers*/) {\n\tvar flags = blob.read_shift(4);\n\tif((flags & 0x3F) != 0x24) throw new Error(\"EncryptionInfo mismatch\");\n\tvar sz = blob.read_shift(4);\n\t//var tgt = blob.l + sz;\n\tvar hdr = parse_EncryptionHeader(blob, sz);\n\tvar verifier = parse_EncryptionVerifier(blob, blob.length - blob.l);\n\treturn { t:\"Std\", h:hdr, v:verifier };\n}\n/* [MS-OFFCRYPTO] 2.3.4.6  EncryptionInfo Stream (Extensible Encryption) */\nfunction parse_EncInfoExt(/*::blob, vers*/) { throw new Error(\"File is password-protected: ECMA-376 Extensible\"); }\n/* [MS-OFFCRYPTO] 2.3.4.10 EncryptionInfo Stream (Agile Encryption) */\nfunction parse_EncInfoAgl(blob/*::, vers*/) {\n\tvar KeyData = [\"saltSize\",\"blockSize\",\"keyBits\",\"hashSize\",\"cipherAlgorithm\",\"cipherChaining\",\"hashAlgorithm\",\"saltValue\"];\n\tblob.l+=4;\n\tvar xml = blob.read_shift(blob.length - blob.l, 'utf8');\n\tvar o = {};\n\txml.replace(tagregex, function xml_agile(x) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\t\t\tcase '<encryption': case '</encryption>': break;\n\t\t\tcase '<keyData': KeyData.forEach(function(k) { o[k] = y[k]; }); break;\n\t\t\tcase '<dataIntegrity': o.encryptedHmacKey = y.encryptedHmacKey; o.encryptedHmacValue = y.encryptedHmacValue; break;\n\t\t\tcase '<keyEncryptors>': case '<keyEncryptors': o.encs = []; break;\n\t\t\tcase '</keyEncryptors>': break;\n\n\t\t\tcase '<keyEncryptor': o.uri = y.uri; break;\n\t\t\tcase '</keyEncryptor>': break;\n\t\t\tcase '<encryptedKey': o.encs.push(y); break;\n\t\t\tdefault: throw y[0];\n\t\t}\n\t});\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.5.1 RC4 CryptoAPI Encryption Header */\nfunction parse_RC4CryptoHeader(blob, length/*:number*/) {\n\tvar o = {};\n\tvar vers = o.EncryptionVersionInfo = parse_CRYPTOVersion(blob, 4); length -= 4;\n\tif(vers.Minor != 2) throw new Error('unrecognized minor version code: ' + vers.Minor);\n\tif(vers.Major > 4 || vers.Major < 2) throw new Error('unrecognized major version code: ' + vers.Major);\n\to.Flags = blob.read_shift(4); length -= 4;\n\tvar sz = blob.read_shift(4); length -= 4;\n\to.EncryptionHeader = parse_EncryptionHeader(blob, sz); length -= sz;\n\to.EncryptionVerifier = parse_EncryptionVerifier(blob, length);\n\treturn o;\n}\n/* [MS-OFFCRYPTO] 2.3.6.1 RC4 Encryption Header */\nfunction parse_RC4Header(blob/*::, length*/) {\n\tvar o = {};\n\tvar vers = o.EncryptionVersionInfo = parse_CRYPTOVersion(blob, 4);\n\tif(vers.Major != 1 || vers.Minor != 1) throw 'unrecognized version code ' + vers.Major + ' : ' + vers.Minor;\n\to.Salt = blob.read_shift(16);\n\to.EncryptedVerifier = blob.read_shift(16);\n\to.EncryptedVerifierHash = blob.read_shift(16);\n\treturn o;\n}\n\n/* [MS-OFFCRYPTO] 2.3.7.1 Binary Document Password Verifier Derivation */\nfunction crypto_CreatePasswordVerifier_Method1(Password/*:string*/) {\n\tvar Verifier = 0x0000, PasswordArray;\n\tvar PasswordDecoded = _JS2ANSI(Password);\n\tvar len = PasswordDecoded.length + 1, i, PasswordByte;\n\tvar Intermediate1, Intermediate2, Intermediate3;\n\tPasswordArray = new_raw_buf(len);\n\tPasswordArray[0] = PasswordDecoded.length;\n\tfor(i = 1; i != len; ++i) PasswordArray[i] = PasswordDecoded[i-1];\n\tfor(i = len-1; i >= 0; --i) {\n\t\tPasswordByte = PasswordArray[i];\n\t\tIntermediate1 = ((Verifier & 0x4000) === 0x0000) ? 0 : 1;\n\t\tIntermediate2 = (Verifier << 1) & 0x7FFF;\n\t\tIntermediate3 = Intermediate1 | Intermediate2;\n\t\tVerifier = Intermediate3 ^ PasswordByte;\n\t}\n\treturn Verifier ^ 0xCE4B;\n}\n\n/* [MS-OFFCRYPTO] 2.3.7.2 Binary Document XOR Array Initialization */\nvar crypto_CreateXorArray_Method1 = /*#__PURE__*/(function() {\n\tvar PadArray = [0xBB, 0xFF, 0xFF, 0xBA, 0xFF, 0xFF, 0xB9, 0x80, 0x00, 0xBE, 0x0F, 0x00, 0xBF, 0x0F, 0x00];\n\tvar InitialCode = [0xE1F0, 0x1D0F, 0xCC9C, 0x84C0, 0x110C, 0x0E10, 0xF1CE, 0x313E, 0x1872, 0xE139, 0xD40F, 0x84F9, 0x280C, 0xA96A, 0x4EC3];\n\tvar XorMatrix = [0xAEFC, 0x4DD9, 0x9BB2, 0x2745, 0x4E8A, 0x9D14, 0x2A09, 0x7B61, 0xF6C2, 0xFDA5, 0xEB6B, 0xC6F7, 0x9DCF, 0x2BBF, 0x4563, 0x8AC6, 0x05AD, 0x0B5A, 0x16B4, 0x2D68, 0x5AD0, 0x0375, 0x06EA, 0x0DD4, 0x1BA8, 0x3750, 0x6EA0, 0xDD40, 0xD849, 0xA0B3, 0x5147, 0xA28E, 0x553D, 0xAA7A, 0x44D5, 0x6F45, 0xDE8A, 0xAD35, 0x4A4B, 0x9496, 0x390D, 0x721A, 0xEB23, 0xC667, 0x9CEF, 0x29FF, 0x53FE, 0xA7FC, 0x5FD9, 0x47D3, 0x8FA6, 0x0F6D, 0x1EDA, 0x3DB4, 0x7B68, 0xF6D0, 0xB861, 0x60E3, 0xC1C6, 0x93AD, 0x377B, 0x6EF6, 0xDDEC, 0x45A0, 0x8B40, 0x06A1, 0x0D42, 0x1A84, 0x3508, 0x6A10, 0xAA51, 0x4483, 0x8906, 0x022D, 0x045A, 0x08B4, 0x1168, 0x76B4, 0xED68, 0xCAF1, 0x85C3, 0x1BA7, 0x374E, 0x6E9C, 0x3730, 0x6E60, 0xDCC0, 0xA9A1, 0x4363, 0x86C6, 0x1DAD, 0x3331, 0x6662, 0xCCC4, 0x89A9, 0x0373, 0x06E6, 0x0DCC, 0x1021, 0x2042, 0x4084, 0x8108, 0x1231, 0x2462, 0x48C4];\n\tvar Ror = function(Byte) { return ((Byte/2) | (Byte*128)) & 0xFF; };\n\tvar XorRor = function(byte1, byte2) { return Ror(byte1 ^ byte2); };\n\tvar CreateXorKey_Method1 = function(Password) {\n\t\tvar XorKey = InitialCode[Password.length - 1];\n\t\tvar CurrentElement = 0x68;\n\t\tfor(var i = Password.length-1; i >= 0; --i) {\n\t\t\tvar Char = Password[i];\n\t\t\tfor(var j = 0; j != 7; ++j) {\n\t\t\t\tif(Char & 0x40) XorKey ^= XorMatrix[CurrentElement];\n\t\t\t\tChar *= 2; --CurrentElement;\n\t\t\t}\n\t\t}\n\t\treturn XorKey;\n\t};\n\treturn function(password/*:string*/) {\n\t\tvar Password = _JS2ANSI(password);\n\t\tvar XorKey = CreateXorKey_Method1(Password);\n\t\tvar Index = Password.length;\n\t\tvar ObfuscationArray = new_raw_buf(16);\n\t\tfor(var i = 0; i != 16; ++i) ObfuscationArray[i] = 0x00;\n\t\tvar Temp, PasswordLastChar, PadIndex;\n\t\tif((Index & 1) === 1) {\n\t\t\tTemp = XorKey >> 8;\n\t\t\tObfuscationArray[Index] = XorRor(PadArray[0], Temp);\n\t\t\t--Index;\n\t\t\tTemp = XorKey & 0xFF;\n\t\t\tPasswordLastChar = Password[Password.length - 1];\n\t\t\tObfuscationArray[Index] = XorRor(PasswordLastChar, Temp);\n\t\t}\n\t\twhile(Index > 0) {\n\t\t\t--Index;\n\t\t\tTemp = XorKey >> 8;\n\t\t\tObfuscationArray[Index] = XorRor(Password[Index], Temp);\n\t\t\t--Index;\n\t\t\tTemp = XorKey & 0xFF;\n\t\t\tObfuscationArray[Index] = XorRor(Password[Index], Temp);\n\t\t}\n\t\tIndex = 15;\n\t\tPadIndex = 15 - Password.length;\n\t\twhile(PadIndex > 0) {\n\t\t\tTemp = XorKey >> 8;\n\t\t\tObfuscationArray[Index] = XorRor(PadArray[PadIndex], Temp);\n\t\t\t--Index;\n\t\t\t--PadIndex;\n\t\t\tTemp = XorKey & 0xFF;\n\t\t\tObfuscationArray[Index] = XorRor(Password[Index], Temp);\n\t\t\t--Index;\n\t\t\t--PadIndex;\n\t\t}\n\t\treturn ObfuscationArray;\n\t};\n})();\n\n/* [MS-OFFCRYPTO] 2.3.7.3 Binary Document XOR Data Transformation Method 1 */\nvar crypto_DecryptData_Method1 = function(password/*:string*/, Data, XorArrayIndex, XorArray, O) {\n\t/* If XorArray is set, use it; if O is not set, make changes in-place */\n\tif(!O) O = Data;\n\tif(!XorArray) XorArray = crypto_CreateXorArray_Method1(password);\n\tvar Index, Value;\n\tfor(Index = 0; Index != Data.length; ++Index) {\n\t\tValue = Data[Index];\n\t\tValue ^= XorArray[XorArrayIndex];\n\t\tValue = ((Value>>5) | (Value<<3)) & 0xFF;\n\t\tO[Index] = Value;\n\t\t++XorArrayIndex;\n\t}\n\treturn [O, XorArrayIndex, XorArray];\n};\n\nvar crypto_MakeXorDecryptor = function(password/*:string*/) {\n\tvar XorArrayIndex = 0, XorArray = crypto_CreateXorArray_Method1(password);\n\treturn function(Data) {\n\t\tvar O = crypto_DecryptData_Method1(\"\", Data, XorArrayIndex, XorArray);\n\t\tXorArrayIndex = O[1];\n\t\treturn O[0];\n\t};\n};\n\n/* 2.5.343 */\nfunction parse_XORObfuscation(blob, length, opts, out) {\n\tvar o = ({ key: parseuint16(blob), verificationBytes: parseuint16(blob) }/*:any*/);\n\tif(opts.password) o.verifier = crypto_CreatePasswordVerifier_Method1(opts.password);\n\tout.valid = o.verificationBytes === o.verifier;\n\tif(out.valid) out.insitu = crypto_MakeXorDecryptor(opts.password);\n\treturn o;\n}\n\n/* 2.4.117 */\nfunction parse_FilePassHeader(blob, length/*:number*/, oo) {\n\tvar o = oo || {}; o.Info = blob.read_shift(2); blob.l -= 2;\n\tif(o.Info === 1) o.Data = parse_RC4Header(blob, length);\n\telse o.Data = parse_RC4CryptoHeader(blob, length);\n\treturn o;\n}\nfunction parse_FilePass(blob, length/*:number*/, opts) {\n\tvar o = ({ Type: opts.biff >= 8 ? blob.read_shift(2) : 0 }/*:any*/); /* wEncryptionType */\n\tif(o.Type) parse_FilePassHeader(blob, length-2, o);\n\telse parse_XORObfuscation(blob, opts.biff >= 8 ? length : length - 2, opts, o);\n\treturn o;\n}\n\n\nvar RTF = /*#__PURE__*/(function() {\n\tfunction rtf_to_sheet(d/*:RawData*/, opts)/*:Worksheet*/ {\n\t\tswitch(opts.type) {\n\t\t\tcase 'base64': return rtf_to_sheet_str(Base64_decode(d), opts);\n\t\t\tcase 'binary': return rtf_to_sheet_str(d, opts);\n\t\t\tcase 'buffer': return rtf_to_sheet_str(has_buf && Buffer.isBuffer(d) ? d.toString('binary') : a2s(d), opts);\n\t\t\tcase 'array':  return rtf_to_sheet_str(cc2str(d), opts);\n\t\t}\n\t\tthrow new Error(\"Unrecognized type \" + opts.type);\n\t}\n\n\t/* TODO: this is a stub */\n\tfunction rtf_to_sheet_str(str/*:string*/, opts)/*:Worksheet*/ {\n\t\tvar o = opts || {};\n\t\tvar ws/*:Worksheet*/ = o.dense ? ([]/*:any*/) : ({}/*:any*/);\n\n\t\tvar rows = str.match(/\\\\trowd.*?\\\\row\\b/g);\n\t\tif(!rows.length) throw new Error(\"RTF missing table\");\n\t\tvar range/*:Range*/ = ({s: {c:0, r:0}, e: {c:0, r:rows.length - 1}}/*:any*/);\n\t\trows.forEach(function(rowtf, R) {\n\t\t\tif(Array.isArray(ws)) ws[R] = [];\n\t\t\tvar rtfre = /\\\\\\w+\\b/g;\n\t\t\tvar last_index = 0;\n\t\t\tvar res;\n\t\t\tvar C = -1;\n\t\t\twhile((res = rtfre.exec(rowtf))) {\n\t\t\t\tswitch(res[0]) {\n\t\t\t\t\tcase \"\\\\cell\":\n\t\t\t\t\t\tvar data = rowtf.slice(last_index, rtfre.lastIndex - res[0].length);\n\t\t\t\t\t\tif(data[0] == \" \") data = data.slice(1);\n\t\t\t\t\t\t++C;\n\t\t\t\t\t\tif(data.length) {\n\t\t\t\t\t\t\t// TODO: value parsing, including codepage adjustments\n\t\t\t\t\t\t\tvar cell = {v: data, t:\"s\"};\n\t\t\t\t\t\t\tif(Array.isArray(ws)) ws[R][C] = cell;\n\t\t\t\t\t\t\telse ws[encode_cell({r:R, c:C})] = cell;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlast_index = rtfre.lastIndex;\n\t\t\t}\n\t\t\tif(C > range.e.c) range.e.c = C;\n\t\t});\n\t\tws['!ref'] = encode_range(range);\n\t\treturn ws;\n\t}\n\n\tfunction rtf_to_workbook(d/*:RawData*/, opts)/*:Workbook*/ { return sheet_to_workbook(rtf_to_sheet(d, opts), opts); }\n\n\t/* TODO: this is a stub */\n\tfunction sheet_to_rtf(ws/*:Worksheet*//*::, opts*/)/*:string*/ {\n\t\tvar o = [\"{\\\\rtf1\\\\ansi\"];\n\t\tvar r = safe_decode_range(ws['!ref']), cell/*:Cell*/;\n\t\tvar dense = Array.isArray(ws);\n\t\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\t\to.push(\"\\\\trowd\\\\trautofit1\");\n\t\t\tfor(var C = r.s.c; C <= r.e.c; ++C) o.push(\"\\\\cellx\" + (C+1));\n\t\t\to.push(\"\\\\pard\\\\intbl\");\n\t\t\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\t\t\tvar coord = encode_cell({r:R,c:C});\n\t\t\t\tcell = dense ? (ws[R]||[])[C]: ws[coord];\n\t\t\t\tif(!cell || cell.v == null && (!cell.f || cell.F)) continue;\n\t\t\t\to.push(\" \" + (cell.w || (format_cell(cell), cell.w)));\n\t\t\t\to.push(\"\\\\cell\");\n\t\t\t}\n\t\t\to.push(\"\\\\pard\\\\intbl\\\\row\");\n\t\t}\n\t\treturn o.join(\"\") + \"}\";\n\t}\n\n\treturn {\n\t\tto_workbook: rtf_to_workbook,\n\t\tto_sheet: rtf_to_sheet,\n\t\tfrom_sheet: sheet_to_rtf\n\t};\n})();\nfunction hex2RGB(h) {\n\tvar o = h.slice(h[0]===\"#\"?1:0).slice(0,6);\n\treturn [parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16)];\n}\nfunction rgb2Hex(rgb) {\n\tfor(var i=0,o=1; i!=3; ++i) o = o*256 + (rgb[i]>255?255:rgb[i]<0?0:rgb[i]);\n\treturn o.toString(16).toUpperCase().slice(1);\n}\n\nfunction rgb2HSL(rgb) {\n\tvar R = rgb[0]/255, G = rgb[1]/255, B=rgb[2]/255;\n\tvar M = Math.max(R, G, B), m = Math.min(R, G, B), C = M - m;\n\tif(C === 0) return [0, 0, R];\n\n\tvar H6 = 0, S = 0, L2 = (M + m);\n\tS = C / (L2 > 1 ? 2 - L2 : L2);\n\tswitch(M){\n\t\tcase R: H6 = ((G - B) / C + 6)%6; break;\n\t\tcase G: H6 = ((B - R) / C + 2); break;\n\t\tcase B: H6 = ((R - G) / C + 4); break;\n\t}\n\treturn [H6 / 6, S, L2 / 2];\n}\n\nfunction hsl2RGB(hsl){\n\tvar H = hsl[0], S = hsl[1], L = hsl[2];\n\tvar C = S * 2 * (L < 0.5 ? L : 1 - L), m = L - C/2;\n\tvar rgb = [m,m,m], h6 = 6*H;\n\n\tvar X;\n\tif(S !== 0) switch(h6|0) {\n\t\tcase 0: case 6: X = C * h6; rgb[0] += C; rgb[1] += X; break;\n\t\tcase 1: X = C * (2 - h6);   rgb[0] += X; rgb[1] += C; break;\n\t\tcase 2: X = C * (h6 - 2);   rgb[1] += C; rgb[2] += X; break;\n\t\tcase 3: X = C * (4 - h6);   rgb[1] += X; rgb[2] += C; break;\n\t\tcase 4: X = C * (h6 - 4);   rgb[2] += C; rgb[0] += X; break;\n\t\tcase 5: X = C * (6 - h6);   rgb[2] += X; rgb[0] += C; break;\n\t}\n\tfor(var i = 0; i != 3; ++i) rgb[i] = Math.round(rgb[i]*255);\n\treturn rgb;\n}\n\n/* 18.8.3 bgColor tint algorithm */\nfunction rgb_tint(hex, tint) {\n\tif(tint === 0) return hex;\n\tvar hsl = rgb2HSL(hex2RGB(hex));\n\tif (tint < 0) hsl[2] = hsl[2] * (1 + tint);\n\telse hsl[2] = 1 - (1 - hsl[2]) * (1 - tint);\n\treturn rgb2Hex(hsl2RGB(hsl));\n}\n\n/* 18.3.1.13 width calculations */\n/* [MS-OI29500] 2.1.595 Column Width & Formatting */\nvar DEF_MDW = 6, MAX_MDW = 15, MIN_MDW = 1, MDW = DEF_MDW;\nfunction width2px(width) { return Math.floor(( width + (Math.round(128/MDW))/256 )* MDW ); }\nfunction px2char(px) { return (Math.floor((px - 5)/MDW * 100 + 0.5))/100; }\nfunction char2width(chr) { return (Math.round((chr * MDW + 5)/MDW*256))/256; }\n//function px2char_(px) { return (((px - 5)/MDW * 100 + 0.5))/100; }\n//function char2width_(chr) { return (((chr * MDW + 5)/MDW*256))/256; }\nfunction cycle_width(collw) { return char2width(px2char(width2px(collw))); }\n/* XLSX/XLSB/XLS specify width in units of MDW */\nfunction find_mdw_colw(collw) {\n\tvar delta = Math.abs(collw - cycle_width(collw)), _MDW = MDW;\n\tif(delta > 0.005) for(MDW=MIN_MDW; MDW<MAX_MDW; ++MDW) if(Math.abs(collw - cycle_width(collw)) <= delta) { delta = Math.abs(collw - cycle_width(collw)); _MDW = MDW; }\n\tMDW = _MDW;\n}\n/* XLML specifies width in terms of pixels */\n/*function find_mdw_wpx(wpx) {\n\tvar delta = Infinity, guess = 0, _MDW = MIN_MDW;\n\tfor(MDW=MIN_MDW; MDW<MAX_MDW; ++MDW) {\n\t\tguess = char2width_(px2char_(wpx))*256;\n\t\tguess = (guess) % 1;\n\t\tif(guess > 0.5) guess--;\n\t\tif(Math.abs(guess) < delta) { delta = Math.abs(guess); _MDW = MDW; }\n\t}\n\tMDW = _MDW;\n}*/\n\nfunction process_col(coll/*:ColInfo*/) {\n\tif(coll.width) {\n\t\tcoll.wpx = width2px(coll.width);\n\t\tcoll.wch = px2char(coll.wpx);\n\t\tcoll.MDW = MDW;\n\t} else if(coll.wpx) {\n\t\tcoll.wch = px2char(coll.wpx);\n\t\tcoll.width = char2width(coll.wch);\n\t\tcoll.MDW = MDW;\n\t} else if(typeof coll.wch == 'number') {\n\t\tcoll.width = char2width(coll.wch);\n\t\tcoll.wpx = width2px(coll.width);\n\t\tcoll.MDW = MDW;\n\t}\n\tif(coll.customWidth) delete coll.customWidth;\n}\n\nvar DEF_PPI = 96, PPI = DEF_PPI;\nfunction px2pt(px) { return px * 96 / PPI; }\nfunction pt2px(pt) { return pt * PPI / 96; }\n\n/* [MS-EXSPXML3] 2.4.54 ST_enmPattern */\nvar XLMLPatternTypeMap = {\n\t\"None\": \"none\",\n\t\"Solid\": \"solid\",\n\t\"Gray50\": \"mediumGray\",\n\t\"Gray75\": \"darkGray\",\n\t\"Gray25\": \"lightGray\",\n\t\"HorzStripe\": \"darkHorizontal\",\n\t\"VertStripe\": \"darkVertical\",\n\t\"ReverseDiagStripe\": \"darkDown\",\n\t\"DiagStripe\": \"darkUp\",\n\t\"DiagCross\": \"darkGrid\",\n\t\"ThickDiagCross\": \"darkTrellis\",\n\t\"ThinHorzStripe\": \"lightHorizontal\",\n\t\"ThinVertStripe\": \"lightVertical\",\n\t\"ThinReverseDiagStripe\": \"lightDown\",\n\t\"ThinHorzCross\": \"lightGrid\"\n};\n\n/* 18.8.5 borders CT_Borders */\nfunction parse_borders(t, styles, themes, opts) {\n\tstyles.Borders = [];\n\tvar border = {};\n\tvar pass = false;\n\t(t[0].match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<borders': case '<borders>': case '</borders>': break;\n\n\t\t\t/* 18.8.4 border CT_Border */\n\t\t\tcase '<border': case '<border>': case '<border/>':\n\t\t\t\tborder = /*::(*/{}/*:: :any)*/;\n\t\t\t\tif(y.diagonalUp) border.diagonalUp = parsexmlbool(y.diagonalUp);\n\t\t\t\tif(y.diagonalDown) border.diagonalDown = parsexmlbool(y.diagonalDown);\n\t\t\t\tstyles.Borders.push(border);\n\t\t\t\tbreak;\n\t\t\tcase '</border>': break;\n\n\t\t\t/* note: not in spec, appears to be CT_BorderPr */\n\t\t\tcase '<left/>': break;\n\t\t\tcase '<left': case '<left>': break;\n\t\t\tcase '</left>': break;\n\n\t\t\t/* note: not in spec, appears to be CT_BorderPr */\n\t\t\tcase '<right/>': break;\n\t\t\tcase '<right': case '<right>': break;\n\t\t\tcase '</right>': break;\n\n\t\t\t/* 18.8.43 top CT_BorderPr */\n\t\t\tcase '<top/>': break;\n\t\t\tcase '<top': case '<top>': break;\n\t\t\tcase '</top>': break;\n\n\t\t\t/* 18.8.6 bottom CT_BorderPr */\n\t\t\tcase '<bottom/>': break;\n\t\t\tcase '<bottom': case '<bottom>': break;\n\t\t\tcase '</bottom>': break;\n\n\t\t\t/* 18.8.13 diagonal CT_BorderPr */\n\t\t\tcase '<diagonal': case '<diagonal>': case '<diagonal/>': break;\n\t\t\tcase '</diagonal>': break;\n\n\t\t\t/* 18.8.25 horizontal CT_BorderPr */\n\t\t\tcase '<horizontal': case '<horizontal>': case '<horizontal/>': break;\n\t\t\tcase '</horizontal>': break;\n\n\t\t\t/* 18.8.44 vertical CT_BorderPr */\n\t\t\tcase '<vertical': case '<vertical>': case '<vertical/>': break;\n\t\t\tcase '</vertical>': break;\n\n\t\t\t/* 18.8.37 start CT_BorderPr */\n\t\t\tcase '<start': case '<start>': case '<start/>': break;\n\t\t\tcase '</start>': break;\n\n\t\t\t/* 18.8.16 end CT_BorderPr */\n\t\t\tcase '<end': case '<end>': case '<end/>': break;\n\t\t\tcase '</end>': break;\n\n\t\t\t/* 18.8.? color CT_Color */\n\t\t\tcase '<color': case '<color>':\n\t\t\t\tbreak;\n\t\t\tcase '<color/>': case '</color>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in borders');\n\t\t\t}\n\t\t}\n\t});\n}\n\n/* 18.8.21 fills CT_Fills */\nfunction parse_fills(t, styles, themes, opts) {\n\tstyles.Fills = [];\n\tvar fill = {};\n\tvar pass = false;\n\t(t[0].match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<fills': case '<fills>': case '</fills>': break;\n\n\t\t\t/* 18.8.20 fill CT_Fill */\n\t\t\tcase '<fill>': case '<fill': case '<fill/>':\n\t\t\t\tfill = {}; styles.Fills.push(fill); break;\n\t\t\tcase '</fill>': break;\n\n\t\t\t/* 18.8.24 gradientFill CT_GradientFill */\n\t\t\tcase '<gradientFill>': break;\n\t\t\tcase '<gradientFill':\n\t\t\tcase '</gradientFill>': styles.Fills.push(fill); fill = {}; break;\n\n\t\t\t/* 18.8.32 patternFill CT_PatternFill */\n\t\t\tcase '<patternFill': case '<patternFill>':\n\t\t\t\tif(y.patternType) fill.patternType = y.patternType;\n\t\t\t\tbreak;\n\t\t\tcase '<patternFill/>': case '</patternFill>': break;\n\n\t\t\t/* 18.8.3 bgColor CT_Color */\n\t\t\tcase '<bgColor':\n\t\t\t\tif(!fill.bgColor) fill.bgColor = {};\n\t\t\t\tif(y.indexed) fill.bgColor.indexed = parseInt(y.indexed, 10);\n\t\t\t\tif(y.theme) fill.bgColor.theme = parseInt(y.theme, 10);\n\t\t\t\tif(y.tint) fill.bgColor.tint = parseFloat(y.tint);\n\t\t\t\t/* Excel uses ARGB strings */\n\t\t\t\tif(y.rgb) fill.bgColor.rgb = y.rgb.slice(-6);\n\t\t\t\tbreak;\n\t\t\tcase '<bgColor/>': case '</bgColor>': break;\n\n\t\t\t/* 18.8.19 fgColor CT_Color */\n\t\t\tcase '<fgColor':\n\t\t\t\tif(!fill.fgColor) fill.fgColor = {};\n\t\t\t\tif(y.theme) fill.fgColor.theme = parseInt(y.theme, 10);\n\t\t\t\tif(y.tint) fill.fgColor.tint = parseFloat(y.tint);\n\t\t\t\t/* Excel uses ARGB strings */\n\t\t\t\tif(y.rgb != null) fill.fgColor.rgb = y.rgb.slice(-6);\n\t\t\t\tbreak;\n\t\t\tcase '<fgColor/>': case '</fgColor>': break;\n\n\t\t\t/* 18.8.38 stop CT_GradientStop */\n\t\t\tcase '<stop': case '<stop/>': break;\n\t\t\tcase '</stop>': break;\n\n\t\t\t/* 18.8.? color CT_Color */\n\t\t\tcase '<color': case '<color/>': break;\n\t\t\tcase '</color>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in fills');\n\t\t\t}\n\t\t}\n\t});\n}\n\n/* 18.8.23 fonts CT_Fonts */\nfunction parse_fonts(t, styles, themes, opts) {\n\tstyles.Fonts = [];\n\tvar font = {};\n\tvar pass = false;\n\t(t[0].match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<fonts': case '<fonts>': case '</fonts>': break;\n\n\t\t\t/* 18.8.22 font CT_Font */\n\t\t\tcase '<font': case '<font>': break;\n\t\t\tcase '</font>': case '<font/>':\n\t\t\t\tstyles.Fonts.push(font);\n\t\t\t\tfont = {};\n\t\t\t\tbreak;\n\n\t\t\t/* 18.8.29 name CT_FontName */\n\t\t\tcase '<name': if(y.val) font.name = utf8read(y.val); break;\n\t\t\tcase '<name/>': case '</name>': break;\n\n\t\t\t/* 18.8.2  b CT_BooleanProperty */\n\t\t\tcase '<b': font.bold = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<b/>': font.bold = 1; break;\n\n\t\t\t/* 18.8.26 i CT_BooleanProperty */\n\t\t\tcase '<i': font.italic = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<i/>': font.italic = 1; break;\n\n\t\t\t/* 18.4.13 u CT_UnderlineProperty */\n\t\t\tcase '<u':\n\t\t\t\tswitch(y.val) {\n\t\t\t\t\tcase \"none\": font.underline = 0x00; break;\n\t\t\t\t\tcase \"single\": font.underline = 0x01; break;\n\t\t\t\t\tcase \"double\": font.underline = 0x02; break;\n\t\t\t\t\tcase \"singleAccounting\": font.underline = 0x21; break;\n\t\t\t\t\tcase \"doubleAccounting\": font.underline = 0x22; break;\n\t\t\t\t} break;\n\t\t\tcase '<u/>': font.underline = 1; break;\n\n\t\t\t/* 18.4.10 strike CT_BooleanProperty */\n\t\t\tcase '<strike': font.strike = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<strike/>': font.strike = 1; break;\n\n\t\t\t/* 18.4.2  outline CT_BooleanProperty */\n\t\t\tcase '<outline': font.outline = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<outline/>': font.outline = 1; break;\n\n\t\t\t/* 18.8.36 shadow CT_BooleanProperty */\n\t\t\tcase '<shadow': font.shadow = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<shadow/>': font.shadow = 1; break;\n\n\t\t\t/* 18.8.12 condense CT_BooleanProperty */\n\t\t\tcase '<condense': font.condense = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<condense/>': font.condense = 1; break;\n\n\t\t\t/* 18.8.17 extend CT_BooleanProperty */\n\t\t\tcase '<extend': font.extend = y.val ? parsexmlbool(y.val) : 1; break;\n\t\t\tcase '<extend/>': font.extend = 1; break;\n\n\t\t\t/* 18.4.11 sz CT_FontSize */\n\t\t\tcase '<sz': if(y.val) font.sz = +y.val; break;\n\t\t\tcase '<sz/>': case '</sz>': break;\n\n\t\t\t/* 18.4.14 vertAlign CT_VerticalAlignFontProperty */\n\t\t\tcase '<vertAlign': if(y.val) font.vertAlign = y.val; break;\n\t\t\tcase '<vertAlign/>': case '</vertAlign>': break;\n\n\t\t\t/* 18.8.18 family CT_FontFamily */\n\t\t\tcase '<family': if(y.val) font.family = parseInt(y.val,10); break;\n\t\t\tcase '<family/>': case '</family>': break;\n\n\t\t\t/* 18.8.35 scheme CT_FontScheme */\n\t\t\tcase '<scheme': if(y.val) font.scheme = y.val; break;\n\t\t\tcase '<scheme/>': case '</scheme>': break;\n\n\t\t\t/* 18.4.1 charset CT_IntProperty */\n\t\t\tcase '<charset':\n\t\t\t\tif(y.val == '1') break;\n\t\t\t\ty.codepage = CS2CP[parseInt(y.val, 10)];\n\t\t\t\tbreak;\n\n\t\t\t/* 18.?.? color CT_Color */\n\t\t\tcase '<color':\n\t\t\t\tif(!font.color) font.color = {};\n\t\t\t\tif(y.auto) font.color.auto = parsexmlbool(y.auto);\n\n\t\t\t\tif(y.rgb) font.color.rgb = y.rgb.slice(-6);\n\t\t\t\telse if(y.indexed) {\n\t\t\t\t\tfont.color.index = parseInt(y.indexed, 10);\n\t\t\t\t\tvar icv = XLSIcv[font.color.index];\n\t\t\t\t\tif(font.color.index == 81) icv = XLSIcv[1];\n\t\t\t\t\tif(!icv) icv = XLSIcv[1]; //throw new Error(x); // note: 206 is valid\n\t\t\t\t\tfont.color.rgb = icv[0].toString(16) + icv[1].toString(16) + icv[2].toString(16);\n\t\t\t\t} else if(y.theme) {\n\t\t\t\t\tfont.color.theme = parseInt(y.theme, 10);\n\t\t\t\t\tif(y.tint) font.color.tint = parseFloat(y.tint);\n\t\t\t\t\tif(y.theme && themes.themeElements && themes.themeElements.clrScheme) {\n\t\t\t\t\t\tfont.color.rgb = rgb_tint(themes.themeElements.clrScheme[font.color.theme].rgb, font.color.tint || 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase '<color/>': case '</color>': break;\n\n\t\t\t/* note: sometimes mc:AlternateContent appears bare */\n\t\t\tcase '<AlternateContent': pass = true; break;\n\t\t\tcase '</AlternateContent>': pass = false; break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in fonts');\n\t\t\t}\n\t\t}\n\t});\n}\n\n/* 18.8.31 numFmts CT_NumFmts */\nfunction parse_numFmts(t, styles, opts) {\n\tstyles.NumberFmt = [];\n\tvar k/*Array<number>*/ = (keys(table_fmt)/*:any*/);\n\tfor(var i=0; i < k.length; ++i) styles.NumberFmt[k[i]] = table_fmt[k[i]];\n\tvar m = t[0].match(tagregex);\n\tif(!m) return;\n\tfor(i=0; i < m.length; ++i) {\n\t\tvar y = parsexmltag(m[i]);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<numFmts': case '</numFmts>': case '<numFmts/>': case '<numFmts>': break;\n\t\t\tcase '<numFmt': {\n\t\t\t\tvar f=unescapexml(utf8read(y.formatCode)), j=parseInt(y.numFmtId,10);\n\t\t\t\tstyles.NumberFmt[j] = f;\n\t\t\t\tif(j>0) {\n\t\t\t\t\tif(j > 0x188) {\n\t\t\t\t\t\tfor(j = 0x188; j > 0x3c; --j) if(styles.NumberFmt[j] == null) break;\n\t\t\t\t\t\tstyles.NumberFmt[j] = f;\n\t\t\t\t\t}\n\t\t\t\t\tSSF_load(f,j);\n\t\t\t\t}\n\t\t\t} break;\n\t\t\tcase '</numFmt>': break;\n\t\t\tdefault: if(opts.WTF) throw new Error('unrecognized ' + y[0] + ' in numFmts');\n\t\t}\n\t}\n}\n\nfunction write_numFmts(NF/*:{[n:number|string]:string}*//*::, opts*/) {\n\tvar o = [\"<numFmts>\"];\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) o[o.length] = (writextag('numFmt',null,{numFmtId:i,formatCode:escapexml(NF[i])}));\n\t});\n\tif(o.length === 1) return \"\";\n\to[o.length] = (\"</numFmts>\");\n\to[0] = writextag('numFmts', null, { count:o.length-2 }).replace(\"/>\", \">\");\n\treturn o.join(\"\");\n}\n\n/* 18.8.10 cellXfs CT_CellXfs */\nvar cellXF_uint = [ \"numFmtId\", \"fillId\", \"fontId\", \"borderId\", \"xfId\" ];\nvar cellXF_bool = [ \"applyAlignment\", \"applyBorder\", \"applyFill\", \"applyFont\", \"applyNumberFormat\", \"applyProtection\", \"pivotButton\", \"quotePrefix\" ];\nfunction parse_cellXfs(t, styles, opts) {\n\tstyles.CellXf = [];\n\tvar xf;\n\tvar pass = false;\n\t(t[0].match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x), i = 0;\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<cellXfs': case '<cellXfs>': case '<cellXfs/>': case '</cellXfs>': break;\n\n\t\t\t/* 18.8.45 xf CT_Xf */\n\t\t\tcase '<xf': case '<xf/>':\n\t\t\t\txf = y;\n\t\t\t\tdelete xf[0];\n\t\t\t\tfor(i = 0; i < cellXF_uint.length; ++i) if(xf[cellXF_uint[i]])\n\t\t\t\t\txf[cellXF_uint[i]] = parseInt(xf[cellXF_uint[i]], 10);\n\t\t\t\tfor(i = 0; i < cellXF_bool.length; ++i) if(xf[cellXF_bool[i]])\n\t\t\t\t\txf[cellXF_bool[i]] = parsexmlbool(xf[cellXF_bool[i]]);\n\t\t\t\tif(styles.NumberFmt && xf.numFmtId > 0x188) {\n\t\t\t\t\tfor(i = 0x188; i > 0x3c; --i) if(styles.NumberFmt[xf.numFmtId] == styles.NumberFmt[i]) { xf.numFmtId = i; break; }\n\t\t\t\t}\n\t\t\t\tstyles.CellXf.push(xf); break;\n\t\t\tcase '</xf>': break;\n\n\t\t\t/* 18.8.1 alignment CT_CellAlignment */\n\t\t\tcase '<alignment': case '<alignment/>':\n\t\t\t\tvar alignment = {};\n\t\t\t\tif(y.vertical) alignment.vertical = y.vertical;\n\t\t\t\tif(y.horizontal) alignment.horizontal = y.horizontal;\n\t\t\t\tif(y.textRotation != null) alignment.textRotation = y.textRotation;\n\t\t\t\tif(y.indent) alignment.indent = y.indent;\n\t\t\t\tif(y.wrapText) alignment.wrapText = parsexmlbool(y.wrapText);\n\t\t\t\txf.alignment = alignment;\n\t\t\t\tbreak;\n\t\t\tcase '</alignment>': break;\n\n\t\t\t/* 18.8.33 protection CT_CellProtection */\n\t\t\tcase '<protection':\n\t\t\t\tbreak;\n\t\t\tcase '</protection>': case '<protection/>': break;\n\n\t\t\t/* note: sometimes mc:AlternateContent appears bare */\n\t\t\tcase '<AlternateContent': pass = true; break;\n\t\t\tcase '</AlternateContent>': pass = false; break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': break;\n\t\t\tcase '<ext': pass = true; break;\n\t\t\tcase '</ext>': pass = false; break;\n\t\t\tdefault: if(opts && opts.WTF) {\n\t\t\t\tif(!pass) throw new Error('unrecognized ' + y[0] + ' in cellXfs');\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction write_cellXfs(cellXfs)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\to[o.length] = (writextag('cellXfs',null));\n\tcellXfs.forEach(function(c) {\n\t\to[o.length] = (writextag('xf', null, c));\n\t});\n\to[o.length] = (\"</cellXfs>\");\n\tif(o.length === 2) return \"\";\n\to[0] = writextag('cellXfs',null, {count:o.length-2}).replace(\"/>\",\">\");\n\treturn o.join(\"\");\n}\n\n/* 18.8 Styles CT_Stylesheet*/\nvar parse_sty_xml= /*#__PURE__*/(function make_pstyx() {\nvar numFmtRegex = /<(?:\\w+:)?numFmts([^>]*)>[\\S\\s]*?<\\/(?:\\w+:)?numFmts>/;\nvar cellXfRegex = /<(?:\\w+:)?cellXfs([^>]*)>[\\S\\s]*?<\\/(?:\\w+:)?cellXfs>/;\nvar fillsRegex = /<(?:\\w+:)?fills([^>]*)>[\\S\\s]*?<\\/(?:\\w+:)?fills>/;\nvar fontsRegex = /<(?:\\w+:)?fonts([^>]*)>[\\S\\s]*?<\\/(?:\\w+:)?fonts>/;\nvar bordersRegex = /<(?:\\w+:)?borders([^>]*)>[\\S\\s]*?<\\/(?:\\w+:)?borders>/;\n\nreturn function parse_sty_xml(data, themes, opts) {\n\tvar styles = {};\n\tif(!data) return styles;\n\tdata = data.replace(/<!--([\\s\\S]*?)-->/mg,\"\").replace(/<!DOCTYPE[^\\[]*\\[[^\\]]*\\]>/gm,\"\");\n\t/* 18.8.39 styleSheet CT_Stylesheet */\n\tvar t;\n\n\t/* 18.8.31 numFmts CT_NumFmts ? */\n\tif((t=data.match(numFmtRegex))) parse_numFmts(t, styles, opts);\n\n\t/* 18.8.23 fonts CT_Fonts ? */\n\tif((t=data.match(fontsRegex))) parse_fonts(t, styles, themes, opts);\n\n\t/* 18.8.21 fills CT_Fills ? */\n\tif((t=data.match(fillsRegex))) parse_fills(t, styles, themes, opts);\n\n\t/* 18.8.5  borders CT_Borders ? */\n\tif((t=data.match(bordersRegex))) parse_borders(t, styles, themes, opts);\n\n\t/* 18.8.9  cellStyleXfs CT_CellStyleXfs ? */\n\t/* 18.8.8  cellStyles CT_CellStyles ? */\n\n\t/* 18.8.10 cellXfs CT_CellXfs ? */\n\tif((t=data.match(cellXfRegex))) parse_cellXfs(t, styles, opts);\n\n\t/* 18.8.15 dxfs CT_Dxfs ? */\n\t/* 18.8.42 tableStyles CT_TableStyles ? */\n\t/* 18.8.11 colors CT_Colors ? */\n\t/* 18.2.10 extLst CT_ExtensionList ? */\n\n\treturn styles;\n};\n})();\n\nfunction write_sty_xml(wb/*:Workbook*/, opts)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('styleSheet', null, {\n\t\t'xmlns': XMLNS_main[0],\n\t\t'xmlns:vt': XMLNS.vt\n\t})], w;\n\tif(wb.SSF && (w = write_numFmts(wb.SSF)) != null) o[o.length] = w;\n\to[o.length] = ('<fonts count=\"1\"><font><sz val=\"12\"/><color theme=\"1\"/><name val=\"Calibri\"/><family val=\"2\"/><scheme val=\"minor\"/></font></fonts>');\n\to[o.length] = ('<fills count=\"2\"><fill><patternFill patternType=\"none\"/></fill><fill><patternFill patternType=\"gray125\"/></fill></fills>');\n\to[o.length] = ('<borders count=\"1\"><border><left/><right/><top/><bottom/><diagonal/></border></borders>');\n\to[o.length] = ('<cellStyleXfs count=\"1\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\"/></cellStyleXfs>');\n\tif((w = write_cellXfs(opts.cellXfs))) o[o.length] = (w);\n\to[o.length] = ('<cellStyles count=\"1\"><cellStyle name=\"Normal\" xfId=\"0\" builtinId=\"0\"/></cellStyles>');\n\to[o.length] = ('<dxfs count=\"0\"/>');\n\to[o.length] = ('<tableStyles count=\"0\" defaultTableStyle=\"TableStyleMedium9\" defaultPivotStyle=\"PivotStyleMedium4\"/>');\n\n\tif(o.length>2){ o[o.length] = ('</styleSheet>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.657 BrtFmt */\nfunction parse_BrtFmt(data, length/*:number*/) {\n\tvar numFmtId = data.read_shift(2);\n\tvar stFmtCode = parse_XLWideString(data,length-2);\n\treturn [numFmtId, stFmtCode];\n}\nfunction write_BrtFmt(i/*:number*/, f/*:string*/, o) {\n\tif(!o) o = new_buf(6 + 4 * f.length);\n\to.write_shift(2, i);\n\twrite_XLWideString(f, o);\n\tvar out = (o.length > o.l) ? o.slice(0, o.l) : o;\n\tif(o.l == null) o.l = o.length;\n\treturn out;\n}\n\n/* [MS-XLSB] 2.4.659 BrtFont TODO */\nfunction parse_BrtFont(data, length/*:number*/, opts) {\n\tvar out = ({}/*:any*/);\n\n\tout.sz = data.read_shift(2) / 20;\n\n\tvar grbit = parse_FontFlags(data, 2, opts);\n\tif(grbit.fItalic) out.italic = 1;\n\tif(grbit.fCondense) out.condense = 1;\n\tif(grbit.fExtend) out.extend = 1;\n\tif(grbit.fShadow) out.shadow = 1;\n\tif(grbit.fOutline) out.outline = 1;\n\tif(grbit.fStrikeout) out.strike = 1;\n\n\tvar bls = data.read_shift(2);\n\tif(bls === 0x02BC) out.bold = 1;\n\n\tswitch(data.read_shift(2)) {\n\t\t/* case 0: out.vertAlign = \"baseline\"; break; */\n\t\tcase 1: out.vertAlign = \"superscript\"; break;\n\t\tcase 2: out.vertAlign = \"subscript\"; break;\n\t}\n\n\tvar underline = data.read_shift(1);\n\tif(underline != 0) out.underline = underline;\n\n\tvar family = data.read_shift(1);\n\tif(family > 0) out.family = family;\n\n\tvar bCharSet = data.read_shift(1);\n\tif(bCharSet > 0) out.charset = bCharSet;\n\n\tdata.l++;\n\tout.color = parse_BrtColor(data, 8);\n\n\tswitch(data.read_shift(1)) {\n\t\t/* case 0: out.scheme = \"none\": break; */\n\t\tcase 1: out.scheme = \"major\"; break;\n\t\tcase 2: out.scheme = \"minor\"; break;\n\t}\n\n\tout.name = parse_XLWideString(data, length - 21);\n\n\treturn out;\n}\nfunction write_BrtFont(font/*:any*/, o) {\n\tif(!o) o = new_buf(25+4*32);\n\to.write_shift(2, font.sz * 20);\n\twrite_FontFlags(font, o);\n\to.write_shift(2, font.bold ? 0x02BC : 0x0190);\n\tvar sss = 0;\n\tif(font.vertAlign == \"superscript\") sss = 1;\n\telse if(font.vertAlign == \"subscript\") sss = 2;\n\to.write_shift(2, sss);\n\to.write_shift(1, font.underline || 0);\n\to.write_shift(1, font.family || 0);\n\to.write_shift(1, font.charset || 0);\n\to.write_shift(1, 0);\n\twrite_BrtColor(font.color, o);\n\tvar scheme = 0;\n\tif(font.scheme == \"major\") scheme = 1;\n\tif(font.scheme == \"minor\") scheme = 2;\n\to.write_shift(1, scheme);\n\twrite_XLWideString(font.name, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.650 BrtFill */\nvar XLSBFillPTNames = [\n\t\"none\",\n\t\"solid\",\n\t\"mediumGray\",\n\t\"darkGray\",\n\t\"lightGray\",\n\t\"darkHorizontal\",\n\t\"darkVertical\",\n\t\"darkDown\",\n\t\"darkUp\",\n\t\"darkGrid\",\n\t\"darkTrellis\",\n\t\"lightHorizontal\",\n\t\"lightVertical\",\n\t\"lightDown\",\n\t\"lightUp\",\n\t\"lightGrid\",\n\t\"lightTrellis\",\n\t\"gray125\",\n\t\"gray0625\"\n];\nvar rev_XLSBFillPTNames/*:EvertNumType*/;\n/* TODO: gradient fill representation */\nvar parse_BrtFill = parsenoop;\nfunction write_BrtFill(fill, o) {\n\tif(!o) o = new_buf(4*3 + 8*7 + 16*1);\n\tif(!rev_XLSBFillPTNames) rev_XLSBFillPTNames = (evert(XLSBFillPTNames)/*:any*/);\n\tvar fls/*:number*/ = rev_XLSBFillPTNames[fill.patternType];\n\tif(fls == null) fls = 0x28;\n\to.write_shift(4, fls);\n\tvar j = 0;\n\tif(fls != 0x28) {\n\t\t/* TODO: custom FG Color */\n\t\twrite_BrtColor({auto:1}, o);\n\t\t/* TODO: custom BG Color */\n\t\twrite_BrtColor({auto:1}, o);\n\n\t\tfor(; j < 12; ++j) o.write_shift(4, 0);\n\t} else {\n\t\tfor(; j < 4; ++j) o.write_shift(4, 0);\n\n\t\tfor(; j < 12; ++j) o.write_shift(4, 0); /* TODO */\n\t\t/* iGradientType */\n\t\t/* xnumDegree */\n\t\t/* xnumFillToLeft */\n\t\t/* xnumFillToRight */\n\t\t/* xnumFillToTop */\n\t\t/* xnumFillToBottom */\n\t\t/* cNumStop */\n\t\t/* xfillGradientStop */\n\t}\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.824 BrtXF */\nfunction parse_BrtXF(data, length/*:number*/) {\n\tvar tgt = data.l + length;\n\tvar ixfeParent = data.read_shift(2);\n\tvar ifmt = data.read_shift(2);\n\tdata.l = tgt;\n\treturn {ixfe:ixfeParent, numFmtId:ifmt };\n}\nfunction write_BrtXF(data, ixfeP, o) {\n\tif(!o) o = new_buf(16);\n\to.write_shift(2, ixfeP||0);\n\to.write_shift(2, data.numFmtId||0);\n\to.write_shift(2, 0); /* iFont */\n\to.write_shift(2, 0); /* iFill */\n\to.write_shift(2, 0); /* ixBorder */\n\to.write_shift(1, 0); /* trot */\n\to.write_shift(1, 0); /* indent */\n\tvar flow = 0;\n\to.write_shift(1, flow); /* flags */\n\to.write_shift(1, 0); /* flags */\n\to.write_shift(1, 0); /* xfGrbitAtr */\n\to.write_shift(1, 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.5.4 Blxf TODO */\nfunction write_Blxf(data, o) {\n\tif(!o) o = new_buf(10);\n\to.write_shift(1, 0); /* dg */\n\to.write_shift(1, 0);\n\to.write_shift(4, 0); /* color */\n\to.write_shift(4, 0); /* color */\n\treturn o;\n}\n/* [MS-XLSB] 2.4.302 BrtBorder TODO */\nvar parse_BrtBorder = parsenoop;\nfunction write_BrtBorder(border, o) {\n\tif(!o) o = new_buf(51);\n\to.write_shift(1, 0); /* diagonal */\n\twrite_Blxf(null, o); /* top */\n\twrite_Blxf(null, o); /* bottom */\n\twrite_Blxf(null, o); /* left */\n\twrite_Blxf(null, o); /* right */\n\twrite_Blxf(null, o); /* diag */\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.763 BrtStyle TODO */\nfunction write_BrtStyle(style, o) {\n\tif(!o) o = new_buf(12+4*10);\n\to.write_shift(4, style.xfId);\n\to.write_shift(2, 1);\n\to.write_shift(1, +style.builtinId);\n\to.write_shift(1, 0); /* iLevel */\n\twrite_XLNullableWideString(style.name || \"\", o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.272 BrtBeginTableStyles */\nfunction write_BrtBeginTableStyles(cnt, defTableStyle, defPivotStyle) {\n\tvar o = new_buf(4+256*2*4);\n\to.write_shift(4, cnt);\n\twrite_XLNullableWideString(defTableStyle, o);\n\twrite_XLNullableWideString(defPivotStyle, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.1.7.50 Styles */\nfunction parse_sty_bin(data, themes, opts) {\n\tvar styles = {};\n\tstyles.NumberFmt = ([]/*:any*/);\n\tfor(var y in table_fmt) styles.NumberFmt[y] = table_fmt[y];\n\n\tstyles.CellXf = [];\n\tstyles.Fonts = [];\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false;\n\trecordhopper(data, function hopper_sty(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x002C: /* BrtFmt */\n\t\t\t\tstyles.NumberFmt[val[0]] = val[1]; SSF_load(val[1], val[0]);\n\t\t\t\tbreak;\n\t\t\tcase 0x002B: /* BrtFont */\n\t\t\t\tstyles.Fonts.push(val);\n\t\t\t\tif(val.color.theme != null && themes && themes.themeElements && themes.themeElements.clrScheme) {\n\t\t\t\t\tval.color.rgb = rgb_tint(themes.themeElements.clrScheme[val.color.theme].rgb, val.color.tint || 0);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 0x0401: /* BrtKnownFonts */ break;\n\t\t\tcase 0x002D: /* BrtFill */\n\t\t\t\tbreak;\n\t\t\tcase 0x002E: /* BrtBorder */\n\t\t\t\tbreak;\n\t\t\tcase 0x002F: /* BrtXF */\n\t\t\t\tif(state[state.length - 1] == 0x0269 /* BrtBeginCellXFs */) {\n\t\t\t\t\tstyles.CellXf.push(val);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 0x0030: /* BrtStyle */\n\t\t\tcase 0x01FB: /* BrtDXF */\n\t\t\tcase 0x023C: /* BrtMRUColor */\n\t\t\tcase 0x01DB: /* BrtIndexedColor */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0493: /* BrtDXF14 */\n\t\t\tcase 0x0836: /* BrtDXF15 */\n\t\t\tcase 0x046A: /* BrtSlicerStyleElement */\n\t\t\tcase 0x0200: /* BrtTableStyleElement */\n\t\t\tcase 0x082F: /* BrtTimelineStyleElement */\n\t\t\tcase 0x0C00: /* BrtUid */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* BrtFRTBegin */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* BrtFRTEnd */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* BrtACBegin */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0026: /* BrtACEnd */\n\t\t\t\tstate.pop(); pass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T > 0) state.push(RT);\n\t\t\t\telse if(R.T < 0) state.pop();\n\t\t\t\telse if(!pass || (opts.WTF && state[state.length-1] != 0x0025 /* BrtACBegin */)) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn styles;\n}\n\nfunction write_FMTS_bin(ba, NF/*:?SSFTable*/) {\n\tif(!NF) return;\n\tvar cnt = 0;\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\t/*:: if(!NF) return; */\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) ++cnt;\n\t});\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x0267 /* BrtBeginFmts */, write_UInt32LE(cnt));\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\t/*:: if(!NF) return; */\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) write_record(ba, 0x002C /* BrtFmt */, write_BrtFmt(i, NF[i]));\n\t});\n\twrite_record(ba, 0x0268 /* BrtEndFmts */);\n}\n\nfunction write_FONTS_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x0263 /* BrtBeginFonts */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002B /* BrtFont */, write_BrtFont({\n\t\tsz:12,\n\t\tcolor: {theme:1},\n\t\tname: \"Calibri\",\n\t\tfamily: 2,\n\t\tscheme: \"minor\"\n\t}));\n\t/* 1*65491BrtFont [ACFONTS] */\n\twrite_record(ba, 0x0264 /* BrtEndFonts */);\n}\n\nfunction write_FILLS_bin(ba/*::, data*/) {\n\tvar cnt = 2;\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x025B /* BrtBeginFills */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002D /* BrtFill */, write_BrtFill({patternType:\"none\"}));\n\twrite_record(ba, 0x002D /* BrtFill */, write_BrtFill({patternType:\"gray125\"}));\n\t/* 1*65431BrtFill */\n\twrite_record(ba, 0x025C /* BrtEndFills */);\n}\n\nfunction write_BORDERS_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\n\tif(cnt == 0) return;\n\twrite_record(ba, 0x0265 /* BrtBeginBorders */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002E /* BrtBorder */, write_BrtBorder({}));\n\t/* 1*65430BrtBorder */\n\twrite_record(ba, 0x0266 /* BrtEndBorders */);\n}\n\nfunction write_CELLSTYLEXFS_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\twrite_record(ba, 0x0272 /* BrtBeginCellStyleXFs */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x002F /* BrtXF */, write_BrtXF({\n\t\tnumFmtId: 0,\n\t\tfontId:   0,\n\t\tfillId:   0,\n\t\tborderId: 0\n\t}, 0xFFFF));\n\t/* 1*65430(BrtXF *FRT) */\n\twrite_record(ba, 0x0273 /* BrtEndCellStyleXFs */);\n}\n\nfunction write_CELLXFS_bin(ba, data) {\n\twrite_record(ba, 0x0269 /* BrtBeginCellXFs */, write_UInt32LE(data.length));\n\tdata.forEach(function(c) { write_record(ba, 0x002F /* BrtXF */, write_BrtXF(c,0)); });\n\t/* 1*65430(BrtXF *FRT) */\n\twrite_record(ba, 0x026A /* BrtEndCellXFs */);\n}\n\nfunction write_STYLES_bin(ba/*::, data*/) {\n\tvar cnt = 1;\n\n\twrite_record(ba, 0x026B /* BrtBeginStyles */, write_UInt32LE(cnt));\n\twrite_record(ba, 0x0030 /* BrtStyle */, write_BrtStyle({\n\t\txfId:0,\n\t\tbuiltinId:0,\n\t\tname:\"Normal\"\n\t}));\n\t/* 1*65430(BrtStyle *FRT) */\n\twrite_record(ba, 0x026C /* BrtEndStyles */);\n}\n\nfunction write_DXFS_bin(ba/*::, data*/) {\n\tvar cnt = 0;\n\n\twrite_record(ba, 0x01F9 /* BrtBeginDXFs */, write_UInt32LE(cnt));\n\t/* *2147483647(BrtDXF *FRT) */\n\twrite_record(ba, 0x01FA /* BrtEndDXFs */);\n}\n\nfunction write_TABLESTYLES_bin(ba/*::, data*/) {\n\tvar cnt = 0;\n\n\twrite_record(ba, 0x01FC /* BrtBeginTableStyles */, write_BrtBeginTableStyles(cnt, \"TableStyleMedium9\", \"PivotStyleMedium4\"));\n\t/* *TABLESTYLE */\n\twrite_record(ba, 0x01FD /* BrtEndTableStyles */);\n}\n\nfunction write_COLORPALETTE_bin(/*::ba, data*/) {\n\treturn;\n\t/* BrtBeginColorPalette [INDEXEDCOLORS] [MRUCOLORS] BrtEndColorPalette */\n}\n\n/* [MS-XLSB] 2.1.7.50 Styles */\nfunction write_sty_bin(wb, opts) {\n\tvar ba = buf_array();\n\twrite_record(ba, 0x0116 /* BrtBeginStyleSheet */);\n\twrite_FMTS_bin(ba, wb.SSF);\n\twrite_FONTS_bin(ba, wb);\n\twrite_FILLS_bin(ba, wb);\n\twrite_BORDERS_bin(ba, wb);\n\twrite_CELLSTYLEXFS_bin(ba, wb);\n\twrite_CELLXFS_bin(ba, opts.cellXfs);\n\twrite_STYLES_bin(ba, wb);\n\twrite_DXFS_bin(ba, wb);\n\twrite_TABLESTYLES_bin(ba, wb);\n\twrite_COLORPALETTE_bin(ba, wb);\n\t/* FRTSTYLESHEET*/\n\twrite_record(ba, 0x0117 /* BrtEndStyleSheet */);\n\treturn ba.end();\n}\n/* Even though theme layout is dk1 lt1 dk2 lt2, true order is lt1 dk1 lt2 dk2 */\nvar XLSXThemeClrScheme = [\n\t'</a:lt1>', '</a:dk1>', '</a:lt2>', '</a:dk2>',\n\t'</a:accent1>', '</a:accent2>', '</a:accent3>',\n\t'</a:accent4>', '</a:accent5>', '</a:accent6>',\n\t'</a:hlink>', '</a:folHlink>'\n];\n/* 20.1.6.2 clrScheme CT_ColorScheme */\nfunction parse_clrScheme(t, themes, opts) {\n\tthemes.themeElements.clrScheme = [];\n\tvar color = {};\n\t(t[0].match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(y[0]) {\n\t\t\t/* 20.1.6.2 clrScheme (Color Scheme) CT_ColorScheme */\n\t\t\tcase '<a:clrScheme': case '</a:clrScheme>': break;\n\n\t\t\t/* 20.1.2.3.32 srgbClr CT_SRgbColor */\n\t\t\tcase '<a:srgbClr':\n\t\t\t\tcolor.rgb = y.val; break;\n\n\t\t\t/* 20.1.2.3.33 sysClr CT_SystemColor */\n\t\t\tcase '<a:sysClr':\n\t\t\t\tcolor.rgb = y.lastClr; break;\n\n\t\t\t/* 20.1.4.1.1 accent1 (Accent 1) */\n\t\t\t/* 20.1.4.1.2 accent2 (Accent 2) */\n\t\t\t/* 20.1.4.1.3 accent3 (Accent 3) */\n\t\t\t/* 20.1.4.1.4 accent4 (Accent 4) */\n\t\t\t/* 20.1.4.1.5 accent5 (Accent 5) */\n\t\t\t/* 20.1.4.1.6 accent6 (Accent 6) */\n\t\t\t/* 20.1.4.1.9 dk1 (Dark 1) */\n\t\t\t/* 20.1.4.1.10 dk2 (Dark 2) */\n\t\t\t/* 20.1.4.1.15 folHlink (Followed Hyperlink) */\n\t\t\t/* 20.1.4.1.19 hlink (Hyperlink) */\n\t\t\t/* 20.1.4.1.22 lt1 (Light 1) */\n\t\t\t/* 20.1.4.1.23 lt2 (Light 2) */\n\t\t\tcase '<a:dk1>': case '</a:dk1>':\n\t\t\tcase '<a:lt1>': case '</a:lt1>':\n\t\t\tcase '<a:dk2>': case '</a:dk2>':\n\t\t\tcase '<a:lt2>': case '</a:lt2>':\n\t\t\tcase '<a:accent1>': case '</a:accent1>':\n\t\t\tcase '<a:accent2>': case '</a:accent2>':\n\t\t\tcase '<a:accent3>': case '</a:accent3>':\n\t\t\tcase '<a:accent4>': case '</a:accent4>':\n\t\t\tcase '<a:accent5>': case '</a:accent5>':\n\t\t\tcase '<a:accent6>': case '</a:accent6>':\n\t\t\tcase '<a:hlink>': case '</a:hlink>':\n\t\t\tcase '<a:folHlink>': case '</a:folHlink>':\n\t\t\t\tif (y[0].charAt(1) === '/') {\n\t\t\t\t\tthemes.themeElements.clrScheme[XLSXThemeClrScheme.indexOf(y[0])] = color;\n\t\t\t\t\tcolor = {};\n\t\t\t\t} else {\n\t\t\t\t\tcolor.name = y[0].slice(3, y[0].length - 1);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tdefault: if(opts && opts.WTF) throw new Error('Unrecognized ' + y[0] + ' in clrScheme');\n\t\t}\n\t});\n}\n\n/* 20.1.4.1.18 fontScheme CT_FontScheme */\nfunction parse_fontScheme(/*::t, themes, opts*/) { }\n\n/* 20.1.4.1.15 fmtScheme CT_StyleMatrix */\nfunction parse_fmtScheme(/*::t, themes, opts*/) { }\n\nvar clrsregex = /<a:clrScheme([^>]*)>[\\s\\S]*<\\/a:clrScheme>/;\nvar fntsregex = /<a:fontScheme([^>]*)>[\\s\\S]*<\\/a:fontScheme>/;\nvar fmtsregex = /<a:fmtScheme([^>]*)>[\\s\\S]*<\\/a:fmtScheme>/;\n\n/* 20.1.6.10 themeElements CT_BaseStyles */\nfunction parse_themeElements(data, themes, opts) {\n\tthemes.themeElements = {};\n\n\tvar t;\n\n\t[\n\t\t/* clrScheme CT_ColorScheme */\n\t\t['clrScheme', clrsregex, parse_clrScheme],\n\t\t/* fontScheme CT_FontScheme */\n\t\t['fontScheme', fntsregex, parse_fontScheme],\n\t\t/* fmtScheme CT_StyleMatrix */\n\t\t['fmtScheme', fmtsregex, parse_fmtScheme]\n\t].forEach(function(m) {\n\t\tif(!(t=data.match(m[1]))) throw new Error(m[0] + ' not found in themeElements');\n\t\tm[2](t, themes, opts);\n\t});\n}\n\nvar themeltregex = /<a:themeElements([^>]*)>[\\s\\S]*<\\/a:themeElements>/;\n\n/* 14.2.7 Theme Part */\nfunction parse_theme_xml(data/*:string*/, opts) {\n\t/* 20.1.6.9 theme CT_OfficeStyleSheet */\n\tif(!data || data.length === 0) data = write_theme();\n\n\tvar t;\n\tvar themes = {};\n\n\t/* themeElements CT_BaseStyles */\n\tif(!(t=data.match(themeltregex))) throw new Error('themeElements not found in theme');\n\tparse_themeElements(t[0], themes, opts);\n\tthemes.raw = data;\n\treturn themes;\n}\n\nfunction write_theme(Themes, opts)/*:string*/ {\n\tif(opts && opts.themeXLSX) return opts.themeXLSX;\n\tif(Themes && typeof Themes.raw == \"string\") return Themes.raw;\n\tvar o = [XML_HEADER];\n\to[o.length] = '<a:theme xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" name=\"Office Theme\">';\n\to[o.length] =  '<a:themeElements>';\n\n\to[o.length] =   '<a:clrScheme name=\"Office\">';\n\to[o.length] =    '<a:dk1><a:sysClr val=\"windowText\" lastClr=\"000000\"/></a:dk1>';\n\to[o.length] =    '<a:lt1><a:sysClr val=\"window\" lastClr=\"FFFFFF\"/></a:lt1>';\n\to[o.length] =    '<a:dk2><a:srgbClr val=\"1F497D\"/></a:dk2>';\n\to[o.length] =    '<a:lt2><a:srgbClr val=\"EEECE1\"/></a:lt2>';\n\to[o.length] =    '<a:accent1><a:srgbClr val=\"4F81BD\"/></a:accent1>';\n\to[o.length] =    '<a:accent2><a:srgbClr val=\"C0504D\"/></a:accent2>';\n\to[o.length] =    '<a:accent3><a:srgbClr val=\"9BBB59\"/></a:accent3>';\n\to[o.length] =    '<a:accent4><a:srgbClr val=\"8064A2\"/></a:accent4>';\n\to[o.length] =    '<a:accent5><a:srgbClr val=\"4BACC6\"/></a:accent5>';\n\to[o.length] =    '<a:accent6><a:srgbClr val=\"F79646\"/></a:accent6>';\n\to[o.length] =    '<a:hlink><a:srgbClr val=\"0000FF\"/></a:hlink>';\n\to[o.length] =    '<a:folHlink><a:srgbClr val=\"800080\"/></a:folHlink>';\n\to[o.length] =   '</a:clrScheme>';\n\n\to[o.length] =   '<a:fontScheme name=\"Office\">';\n\to[o.length] =    '<a:majorFont>';\n\to[o.length] =     '<a:latin typeface=\"Cambria\"/>';\n\to[o.length] =     '<a:ea typeface=\"\"/>';\n\to[o.length] =     '<a:cs typeface=\"\"/>';\n\to[o.length] =     '<a:font script=\"Jpan\" typeface=\"ＭＳ Ｐゴシック\"/>';\n\to[o.length] =     '<a:font script=\"Hang\" typeface=\"맑은 고딕\"/>';\n\to[o.length] =     '<a:font script=\"Hans\" typeface=\"宋体\"/>';\n\to[o.length] =     '<a:font script=\"Hant\" typeface=\"新細明體\"/>';\n\to[o.length] =     '<a:font script=\"Arab\" typeface=\"Times New Roman\"/>';\n\to[o.length] =     '<a:font script=\"Hebr\" typeface=\"Times New Roman\"/>';\n\to[o.length] =     '<a:font script=\"Thai\" typeface=\"Tahoma\"/>';\n\to[o.length] =     '<a:font script=\"Ethi\" typeface=\"Nyala\"/>';\n\to[o.length] =     '<a:font script=\"Beng\" typeface=\"Vrinda\"/>';\n\to[o.length] =     '<a:font script=\"Gujr\" typeface=\"Shruti\"/>';\n\to[o.length] =     '<a:font script=\"Khmr\" typeface=\"MoolBoran\"/>';\n\to[o.length] =     '<a:font script=\"Knda\" typeface=\"Tunga\"/>';\n\to[o.length] =     '<a:font script=\"Guru\" typeface=\"Raavi\"/>';\n\to[o.length] =     '<a:font script=\"Cans\" typeface=\"Euphemia\"/>';\n\to[o.length] =     '<a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/>';\n\to[o.length] =     '<a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/>';\n\to[o.length] =     '<a:font script=\"Thaa\" typeface=\"MV Boli\"/>';\n\to[o.length] =     '<a:font script=\"Deva\" typeface=\"Mangal\"/>';\n\to[o.length] =     '<a:font script=\"Telu\" typeface=\"Gautami\"/>';\n\to[o.length] =     '<a:font script=\"Taml\" typeface=\"Latha\"/>';\n\to[o.length] =     '<a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/>';\n\to[o.length] =     '<a:font script=\"Orya\" typeface=\"Kalinga\"/>';\n\to[o.length] =     '<a:font script=\"Mlym\" typeface=\"Kartika\"/>';\n\to[o.length] =     '<a:font script=\"Laoo\" typeface=\"DokChampa\"/>';\n\to[o.length] =     '<a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/>';\n\to[o.length] =     '<a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Viet\" typeface=\"Times New Roman\"/>';\n\to[o.length] =     '<a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/>';\n\to[o.length] =     '<a:font script=\"Geor\" typeface=\"Sylfaen\"/>';\n\to[o.length] =    '</a:majorFont>';\n\to[o.length] =    '<a:minorFont>';\n\to[o.length] =     '<a:latin typeface=\"Calibri\"/>';\n\to[o.length] =     '<a:ea typeface=\"\"/>';\n\to[o.length] =     '<a:cs typeface=\"\"/>';\n\to[o.length] =     '<a:font script=\"Jpan\" typeface=\"ＭＳ Ｐゴシック\"/>';\n\to[o.length] =     '<a:font script=\"Hang\" typeface=\"맑은 고딕\"/>';\n\to[o.length] =     '<a:font script=\"Hans\" typeface=\"宋体\"/>';\n\to[o.length] =     '<a:font script=\"Hant\" typeface=\"新細明體\"/>';\n\to[o.length] =     '<a:font script=\"Arab\" typeface=\"Arial\"/>';\n\to[o.length] =     '<a:font script=\"Hebr\" typeface=\"Arial\"/>';\n\to[o.length] =     '<a:font script=\"Thai\" typeface=\"Tahoma\"/>';\n\to[o.length] =     '<a:font script=\"Ethi\" typeface=\"Nyala\"/>';\n\to[o.length] =     '<a:font script=\"Beng\" typeface=\"Vrinda\"/>';\n\to[o.length] =     '<a:font script=\"Gujr\" typeface=\"Shruti\"/>';\n\to[o.length] =     '<a:font script=\"Khmr\" typeface=\"DaunPenh\"/>';\n\to[o.length] =     '<a:font script=\"Knda\" typeface=\"Tunga\"/>';\n\to[o.length] =     '<a:font script=\"Guru\" typeface=\"Raavi\"/>';\n\to[o.length] =     '<a:font script=\"Cans\" typeface=\"Euphemia\"/>';\n\to[o.length] =     '<a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/>';\n\to[o.length] =     '<a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/>';\n\to[o.length] =     '<a:font script=\"Thaa\" typeface=\"MV Boli\"/>';\n\to[o.length] =     '<a:font script=\"Deva\" typeface=\"Mangal\"/>';\n\to[o.length] =     '<a:font script=\"Telu\" typeface=\"Gautami\"/>';\n\to[o.length] =     '<a:font script=\"Taml\" typeface=\"Latha\"/>';\n\to[o.length] =     '<a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/>';\n\to[o.length] =     '<a:font script=\"Orya\" typeface=\"Kalinga\"/>';\n\to[o.length] =     '<a:font script=\"Mlym\" typeface=\"Kartika\"/>';\n\to[o.length] =     '<a:font script=\"Laoo\" typeface=\"DokChampa\"/>';\n\to[o.length] =     '<a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/>';\n\to[o.length] =     '<a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/>';\n\to[o.length] =     '<a:font script=\"Viet\" typeface=\"Arial\"/>';\n\to[o.length] =     '<a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/>';\n\to[o.length] =     '<a:font script=\"Geor\" typeface=\"Sylfaen\"/>';\n\to[o.length] =    '</a:minorFont>';\n\to[o.length] =   '</a:fontScheme>';\n\n\to[o.length] =   '<a:fmtScheme name=\"Office\">';\n\to[o.length] =    '<a:fillStyleLst>';\n\to[o.length] =     '<a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"50000\"/><a:satMod val=\"300000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"35000\"><a:schemeClr val=\"phClr\"><a:tint val=\"37000\"/><a:satMod val=\"300000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:tint val=\"15000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:lin ang=\"16200000\" scaled=\"1\"/>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"100000\"/><a:shade val=\"100000\"/><a:satMod val=\"130000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:tint val=\"50000\"/><a:shade val=\"100000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:lin ang=\"16200000\" scaled=\"0\"/>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =    '</a:fillStyleLst>';\n\to[o.length] =    '<a:lnStyleLst>';\n\to[o.length] =     '<a:ln w=\"9525\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"><a:shade val=\"95000\"/><a:satMod val=\"105000\"/></a:schemeClr></a:solidFill><a:prstDash val=\"solid\"/></a:ln>';\n\to[o.length] =     '<a:ln w=\"25400\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/></a:ln>';\n\to[o.length] =     '<a:ln w=\"38100\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/></a:ln>';\n\to[o.length] =    '</a:lnStyleLst>';\n\to[o.length] =    '<a:effectStyleLst>';\n\to[o.length] =     '<a:effectStyle>';\n\to[o.length] =      '<a:effectLst>';\n\to[o.length] =       '<a:outerShdw blurRad=\"40000\" dist=\"20000\" dir=\"5400000\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"38000\"/></a:srgbClr></a:outerShdw>';\n\to[o.length] =      '</a:effectLst>';\n\to[o.length] =     '</a:effectStyle>';\n\to[o.length] =     '<a:effectStyle>';\n\to[o.length] =      '<a:effectLst>';\n\to[o.length] =       '<a:outerShdw blurRad=\"40000\" dist=\"23000\" dir=\"5400000\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"35000\"/></a:srgbClr></a:outerShdw>';\n\to[o.length] =      '</a:effectLst>';\n\to[o.length] =     '</a:effectStyle>';\n\to[o.length] =     '<a:effectStyle>';\n\to[o.length] =      '<a:effectLst>';\n\to[o.length] =       '<a:outerShdw blurRad=\"40000\" dist=\"23000\" dir=\"5400000\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"35000\"/></a:srgbClr></a:outerShdw>';\n\to[o.length] =      '</a:effectLst>';\n\to[o.length] =      '<a:scene3d><a:camera prst=\"orthographicFront\"><a:rot lat=\"0\" lon=\"0\" rev=\"0\"/></a:camera><a:lightRig rig=\"threePt\" dir=\"t\"><a:rot lat=\"0\" lon=\"0\" rev=\"1200000\"/></a:lightRig></a:scene3d>';\n\to[o.length] =      '<a:sp3d><a:bevelT w=\"63500\" h=\"25400\"/></a:sp3d>';\n\to[o.length] =     '</a:effectStyle>';\n\to[o.length] =    '</a:effectStyleLst>';\n\to[o.length] =    '<a:bgFillStyleLst>';\n\to[o.length] =     '<a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"40000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"40000\"><a:schemeClr val=\"phClr\"><a:tint val=\"45000\"/><a:shade val=\"99000\"/><a:satMod val=\"350000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:shade val=\"20000\"/><a:satMod val=\"255000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:path path=\"circle\"><a:fillToRect l=\"50000\" t=\"-80000\" r=\"50000\" b=\"180000\"/></a:path>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =     '<a:gradFill rotWithShape=\"1\">';\n\to[o.length] =      '<a:gsLst>';\n\to[o.length] =       '<a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"80000\"/><a:satMod val=\"300000\"/></a:schemeClr></a:gs>';\n\to[o.length] =       '<a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:shade val=\"30000\"/><a:satMod val=\"200000\"/></a:schemeClr></a:gs>';\n\to[o.length] =      '</a:gsLst>';\n\to[o.length] =      '<a:path path=\"circle\"><a:fillToRect l=\"50000\" t=\"50000\" r=\"50000\" b=\"50000\"/></a:path>';\n\to[o.length] =     '</a:gradFill>';\n\to[o.length] =    '</a:bgFillStyleLst>';\n\to[o.length] =   '</a:fmtScheme>';\n\to[o.length] =  '</a:themeElements>';\n\n\to[o.length] =  '<a:objectDefaults>';\n\to[o.length] =   '<a:spDef>';\n\to[o.length] =    '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx=\"1\"><a:schemeClr val=\"accent1\"/></a:lnRef><a:fillRef idx=\"3\"><a:schemeClr val=\"accent1\"/></a:fillRef><a:effectRef idx=\"2\"><a:schemeClr val=\"accent1\"/></a:effectRef><a:fontRef idx=\"minor\"><a:schemeClr val=\"lt1\"/></a:fontRef></a:style>';\n\to[o.length] =   '</a:spDef>';\n\to[o.length] =   '<a:lnDef>';\n\to[o.length] =    '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx=\"2\"><a:schemeClr val=\"accent1\"/></a:lnRef><a:fillRef idx=\"0\"><a:schemeClr val=\"accent1\"/></a:fillRef><a:effectRef idx=\"1\"><a:schemeClr val=\"accent1\"/></a:effectRef><a:fontRef idx=\"minor\"><a:schemeClr val=\"tx1\"/></a:fontRef></a:style>';\n\to[o.length] =   '</a:lnDef>';\n\to[o.length] =  '</a:objectDefaults>';\n\to[o.length] =  '<a:extraClrSchemeLst/>';\n\to[o.length] = '</a:theme>';\n\treturn o.join(\"\");\n}\n/* [MS-XLS] 2.4.326 TODO: payload is a zip file */\nfunction parse_Theme(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar dwThemeVersion = blob.read_shift(4);\n\tif(dwThemeVersion === 124226) return;\n\tif(!opts.cellStyles) { blob.l = end; return; }\n\tvar data = blob.slice(blob.l);\n\tblob.l = end;\n\tvar zip; try { zip = zip_read(data, {type: \"array\"}); } catch(e) { return; }\n\tvar themeXML = getzipstr(zip, \"theme/theme/theme1.xml\", true);\n\tif(!themeXML) return;\n\treturn parse_theme_xml(themeXML, opts);\n}\n\n/* 2.5.49 */\nfunction parse_ColorTheme(blob/*::, length*/) { return blob.read_shift(4); }\n\n/* 2.5.155 */\nfunction parse_FullColorExt(blob/*::, length*/) {\n\tvar o = {};\n\to.xclrType = blob.read_shift(2);\n\to.nTintShade = blob.read_shift(2);\n\tswitch(o.xclrType) {\n\t\tcase 0: blob.l += 4; break;\n\t\tcase 1: o.xclrValue = parse_IcvXF(blob, 4); break;\n\t\tcase 2: o.xclrValue = parse_LongRGBA(blob, 4); break;\n\t\tcase 3: o.xclrValue = parse_ColorTheme(blob, 4); break;\n\t\tcase 4: blob.l += 4; break;\n\t}\n\tblob.l += 8;\n\treturn o;\n}\n\n/* 2.5.164 TODO: read 7 bits*/\nfunction parse_IcvXF(blob, length) {\n\treturn parsenoop(blob, length);\n}\n\n/* 2.5.280 */\nfunction parse_XFExtGradient(blob, length) {\n\treturn parsenoop(blob, length);\n}\n\n/* [MS-XLS] 2.5.108 */\nfunction parse_ExtProp(blob/*::, length*/)/*:Array<any>*/ {\n\tvar extType = blob.read_shift(2);\n\tvar cb = blob.read_shift(2) - 4;\n\tvar o = [extType];\n\tswitch(extType) {\n\t\tcase 0x04: case 0x05: case 0x07: case 0x08:\n\t\tcase 0x09: case 0x0A: case 0x0B: case 0x0D:\n\t\t\to[1] = parse_FullColorExt(blob, cb); break;\n\t\tcase 0x06: o[1] = parse_XFExtGradient(blob, cb); break;\n\t\tcase 0x0E: case 0x0F: o[1] = blob.read_shift(cb === 1 ? 1 : 2); break;\n\t\tdefault: throw new Error(\"Unrecognized ExtProp type: \" + extType + \" \" + cb);\n\t}\n\treturn o;\n}\n\n/* 2.4.355 */\nfunction parse_XFExt(blob, length) {\n\tvar end = blob.l + length;\n\tblob.l += 2;\n\tvar ixfe = blob.read_shift(2);\n\tblob.l += 2;\n\tvar cexts = blob.read_shift(2);\n\tvar ext/*:AOA*/ = [];\n\twhile(cexts-- > 0) ext.push(parse_ExtProp(blob, end-blob.l));\n\treturn {ixfe:ixfe, ext:ext};\n}\n\n/* xf is an XF, see parse_XFExt for xfext */\nfunction update_xfext(xf, xfext) {\n\txfext.forEach(function(xfe) {\n\t\tswitch(xfe[0]) { /* 2.5.108 extPropData */\n\t\t\tcase 0x04: break; /* foreground color */\n\t\t\tcase 0x05: break; /* background color */\n\t\t\tcase 0x06: break; /* gradient fill */\n\t\t\tcase 0x07: break; /* top cell border color */\n\t\t\tcase 0x08: break; /* bottom cell border color */\n\t\t\tcase 0x09: break; /* left cell border color */\n\t\t\tcase 0x0a: break; /* right cell border color */\n\t\t\tcase 0x0b: break; /* diagonal cell border color */\n\t\t\tcase 0x0d: /* text color */\n\t\t\t\tbreak;\n\t\t\tcase 0x0e: break; /* font scheme */\n\t\t\tcase 0x0f: break; /* indentation level */\n\t\t}\n\t});\n}\n\nfunction parse_BrtMdtinfo(data, length) {\n  return {\n    flags: data.read_shift(4),\n    version: data.read_shift(4),\n    name: parse_XLWideString(data, length - 8)\n  };\n}\nfunction write_BrtMdtinfo(data) {\n  var o = new_buf(12 + 2 * data.name.length);\n  o.write_shift(4, data.flags);\n  o.write_shift(4, data.version);\n  write_XLWideString(data.name, o);\n  return o.slice(0, o.l);\n}\nfunction parse_BrtMdb(data) {\n  var out = [];\n  var cnt = data.read_shift(4);\n  while (cnt-- > 0)\n    out.push([data.read_shift(4), data.read_shift(4)]);\n  return out;\n}\nfunction write_BrtMdb(mdb) {\n  var o = new_buf(4 + 8 * mdb.length);\n  o.write_shift(4, mdb.length);\n  for (var i = 0; i < mdb.length; ++i) {\n    o.write_shift(4, mdb[i][0]);\n    o.write_shift(4, mdb[i][1]);\n  }\n  return o;\n}\nfunction write_BrtBeginEsfmd(cnt, name) {\n  var o = new_buf(8 + 2 * name.length);\n  o.write_shift(4, cnt);\n  write_XLWideString(name, o);\n  return o.slice(0, o.l);\n}\nfunction parse_BrtBeginEsmdb(data) {\n  data.l += 4;\n  return data.read_shift(4) != 0;\n}\nfunction write_BrtBeginEsmdb(cnt, cm) {\n  var o = new_buf(8);\n  o.write_shift(4, cnt);\n  o.write_shift(4, cm ? 1 : 0);\n  return o;\n}\nfunction parse_xlmeta_bin(data, name, _opts) {\n  var out = { Types: [], Cell: [], Value: [] };\n  var opts = _opts || {};\n  var state = [];\n  var pass = false;\n  var metatype = 2;\n  recordhopper(data, function(val, R, RT) {\n    switch (RT) {\n      case 335:\n        out.Types.push({ name: val.name });\n        break;\n      case 51:\n        val.forEach(function(r) {\n          if (metatype == 1)\n            out.Cell.push({ type: out.Types[r[0] - 1].name, index: r[1] });\n          else if (metatype == 0)\n            out.Value.push({ type: out.Types[r[0] - 1].name, index: r[1] });\n        });\n        break;\n      case 337:\n        metatype = val ? 1 : 0;\n        break;\n      case 338:\n        metatype = 2;\n        break;\n      case 35:\n        state.push(RT);\n        pass = true;\n        break;\n      case 36:\n        state.pop();\n        pass = false;\n        break;\n      default:\n        if (R.T) {\n        } else if (!pass || opts.WTF && state[state.length - 1] != 35)\n          throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n    }\n  });\n  return out;\n}\nfunction write_xlmeta_bin() {\n  var ba = buf_array();\n  write_record(ba, 332);\n  write_record(ba, 334, write_UInt32LE(1));\n  write_record(ba, 335, write_BrtMdtinfo({\n    name: \"XLDAPR\",\n    version: 12e4,\n    flags: 3496657072\n  }));\n  write_record(ba, 336);\n  write_record(ba, 339, write_BrtBeginEsfmd(1, \"XLDAPR\"));\n  write_record(ba, 52);\n  write_record(ba, 35, write_UInt32LE(514));\n  write_record(ba, 4096, write_UInt32LE(0));\n  write_record(ba, 4097, writeuint16(1));\n  write_record(ba, 36);\n  write_record(ba, 53);\n  write_record(ba, 340);\n  write_record(ba, 337, write_BrtBeginEsmdb(1, true));\n  write_record(ba, 51, write_BrtMdb([[1, 0]]));\n  write_record(ba, 338);\n  write_record(ba, 333);\n  return ba.end();\n}\nfunction parse_xlmeta_xml(data, name, opts) {\n  var out = { Types: [], Cell: [], Value: [] };\n  if (!data)\n    return out;\n  var pass = false;\n  var metatype = 2;\n  var lastmeta;\n  data.replace(tagregex, function(x) {\n    var y = parsexmltag(x);\n    switch (strip_ns(y[0])) {\n      case \"<?xml\":\n        break;\n      case \"<metadata\":\n      case \"</metadata>\":\n        break;\n      case \"<metadataTypes\":\n      case \"</metadataTypes>\":\n        break;\n      case \"<metadataType\":\n        out.Types.push({ name: y.name });\n        break;\n      case \"</metadataType>\":\n        break;\n      case \"<futureMetadata\":\n        for (var j = 0; j < out.Types.length; ++j)\n          if (out.Types[j].name == y.name)\n            lastmeta = out.Types[j];\n        break;\n      case \"</futureMetadata>\":\n        break;\n      case \"<bk>\":\n        break;\n      case \"</bk>\":\n        break;\n      case \"<rc\":\n        if (metatype == 1)\n          out.Cell.push({ type: out.Types[y.t - 1].name, index: +y.v });\n        else if (metatype == 0)\n          out.Value.push({ type: out.Types[y.t - 1].name, index: +y.v });\n        break;\n      case \"</rc>\":\n        break;\n      case \"<cellMetadata\":\n        metatype = 1;\n        break;\n      case \"</cellMetadata>\":\n        metatype = 2;\n        break;\n      case \"<valueMetadata\":\n        metatype = 0;\n        break;\n      case \"</valueMetadata>\":\n        metatype = 2;\n        break;\n      case \"<extLst\":\n      case \"<extLst>\":\n      case \"</extLst>\":\n      case \"<extLst/>\":\n        break;\n      case \"<ext\":\n        pass = true;\n        break;\n      case \"</ext>\":\n        pass = false;\n        break;\n      case \"<rvb\":\n        if (!lastmeta)\n          break;\n        if (!lastmeta.offsets)\n          lastmeta.offsets = [];\n        lastmeta.offsets.push(+y.i);\n        break;\n      default:\n        if (!pass && opts.WTF)\n          throw new Error(\"unrecognized \" + y[0] + \" in metadata\");\n    }\n    return x;\n  });\n  return out;\n}\nfunction write_xlmeta_xml() {\n  var o = [XML_HEADER];\n  o.push('<metadata xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:xlrd=\"http://schemas.microsoft.com/office/spreadsheetml/2017/richdata\" xmlns:xda=\"http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray\">\\n  <metadataTypes count=\"1\">\\n    <metadataType name=\"XLDAPR\" minSupportedVersion=\"120000\" copy=\"1\" pasteAll=\"1\" pasteValues=\"1\" merge=\"1\" splitFirst=\"1\" rowColShift=\"1\" clearFormats=\"1\" clearComments=\"1\" assign=\"1\" coerce=\"1\" cellMeta=\"1\"/>\\n  </metadataTypes>\\n  <futureMetadata name=\"XLDAPR\" count=\"1\">\\n    <bk>\\n      <extLst>\\n        <ext uri=\"{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}\">\\n          <xda:dynamicArrayProperties fDynamic=\"1\" fCollapsed=\"0\"/>\\n        </ext>\\n      </extLst>\\n    </bk>\\n  </futureMetadata>\\n  <cellMetadata count=\"1\">\\n    <bk>\\n      <rc t=\"1\" v=\"0\"/>\\n    </bk>\\n  </cellMetadata>\\n</metadata>');\n  return o.join(\"\");\n}\n/* 18.6 Calculation Chain */\nfunction parse_cc_xml(data/*::, name, opts*/)/*:Array<any>*/ {\n\tvar d = [];\n\tif(!data) return d;\n\tvar i = 1;\n\t(data.match(tagregex)||[]).forEach(function(x) {\n\t\tvar y = parsexmltag(x);\n\t\tswitch(y[0]) {\n\t\t\tcase '<?xml': break;\n\t\t\t/* 18.6.2  calcChain CT_CalcChain 1 */\n\t\t\tcase '<calcChain': case '<calcChain>': case '</calcChain>': break;\n\t\t\t/* 18.6.1  c CT_CalcCell 1 */\n\t\t\tcase '<c': delete y[0]; if(y.i) i = y.i; else y.i = i; d.push(y); break;\n\t\t}\n\t});\n\treturn d;\n}\n\n//function write_cc_xml(data, opts) { }\n\n/* [MS-XLSB] 2.6.4.1 */\nfunction parse_BrtCalcChainItem$(data) {\n\tvar out = {};\n\tout.i = data.read_shift(4);\n\tvar cell = {};\n\tcell.r = data.read_shift(4);\n\tcell.c = data.read_shift(4);\n\tout.r = encode_cell(cell);\n\tvar flags = data.read_shift(1);\n\tif(flags & 0x2) out.l = '1';\n\tif(flags & 0x8) out.a = '1';\n\treturn out;\n}\n\n/* 18.6 Calculation Chain */\nfunction parse_cc_bin(data, name, opts) {\n\tvar out = [];\n\tvar pass = false;\n\trecordhopper(data, function hopper_cc(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x003F: /* 'BrtCalcChainItem$' */\n\t\t\t\tout.push(val); break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn out;\n}\n\n//function write_cc_bin(data, opts) { }\n/* 18.14 Supplementary Workbook Data */\nfunction parse_xlink_xml(/*::data, rel, name:string, _opts*/) {\n\t//var opts = _opts || {};\n\t//if(opts.WTF) throw \"XLSX External Link\";\n}\n\n/* [MS-XLSB] 2.1.7.25 External Link */\nfunction parse_xlink_bin(data, rel, name/*:string*/, _opts) {\n\tif(!data) return data;\n\tvar opts = _opts || {};\n\n\tvar pass = false, end = false;\n\n\trecordhopper(data, function xlink_parse(val, R, RT) {\n\t\tif(end) return;\n\t\tswitch(RT) {\n\t\t\tcase 0x0167: /* 'BrtSupTabs' */\n\t\t\tcase 0x016B: /* 'BrtExternTableStart' */\n\t\t\tcase 0x016C: /* 'BrtExternTableEnd' */\n\t\t\tcase 0x016E: /* 'BrtExternRowHdr' */\n\t\t\tcase 0x016F: /* 'BrtExternCellBlank' */\n\t\t\tcase 0x0170: /* 'BrtExternCellReal' */\n\t\t\tcase 0x0171: /* 'BrtExternCellBool' */\n\t\t\tcase 0x0172: /* 'BrtExternCellError' */\n\t\t\tcase 0x0173: /* 'BrtExternCellString' */\n\t\t\tcase 0x01D8: /* 'BrtExternValueMeta' */\n\t\t\tcase 0x0241: /* 'BrtSupNameStart' */\n\t\t\tcase 0x0242: /* 'BrtSupNameValueStart' */\n\t\t\tcase 0x0243: /* 'BrtSupNameValueEnd' */\n\t\t\tcase 0x0244: /* 'BrtSupNameNum' */\n\t\t\tcase 0x0245: /* 'BrtSupNameErr' */\n\t\t\tcase 0x0246: /* 'BrtSupNameSt' */\n\t\t\tcase 0x0247: /* 'BrtSupNameNil' */\n\t\t\tcase 0x0248: /* 'BrtSupNameBool' */\n\t\t\tcase 0x0249: /* 'BrtSupNameFmla' */\n\t\t\tcase 0x024A: /* 'BrtSupNameBits' */\n\t\t\tcase 0x024B: /* 'BrtSupNameEnd' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n}\n/* 20.5 DrawingML - SpreadsheetML Drawing */\n/* 20.5.2.35 wsDr CT_Drawing */\nfunction parse_drawing(data, rels/*:any*/) {\n\tif(!data) return \"??\";\n\t/*\n\t  Chartsheet Drawing:\n\t   - 20.5.2.35 wsDr CT_Drawing\n\t    - 20.5.2.1  absoluteAnchor CT_AbsoluteAnchor\n\t     - 20.5.2.16 graphicFrame CT_GraphicalObjectFrame\n\t      - 20.1.2.2.16 graphic CT_GraphicalObject\n\t       - 20.1.2.2.17 graphicData CT_GraphicalObjectData\n          - chart reference\n\t   the actual type is based on the URI of the graphicData\n\t\tTODO: handle embedded charts and other types of graphics\n\t*/\n\tvar id = (data.match(/<c:chart [^>]*r:id=\"([^\"]*)\"/)||[\"\",\"\"])[1];\n\n\treturn rels['!id'][id].Target;\n}\n\n/* L.5.5.2 SpreadsheetML Comments + VML Schema */\nvar _shapeid = 1024;\nfunction write_comments_vml(rId/*:number*/, comments) {\n\tvar csize = [21600, 21600];\n\t/* L.5.2.1.2 Path Attribute */\n\tvar bbox = [\"m0,0l0\",csize[1],csize[0],csize[1],csize[0],\"0xe\"].join(\",\");\n\tvar o = [\n\t\twritextag(\"xml\", null, { 'xmlns:v': XLMLNS.v, 'xmlns:o': XLMLNS.o, 'xmlns:x': XLMLNS.x, 'xmlns:mv': XLMLNS.mv }).replace(/\\/>/,\">\"),\n\t\twritextag(\"o:shapelayout\", writextag(\"o:idmap\", null, {'v:ext':\"edit\", 'data':rId}), {'v:ext':\"edit\"}),\n\t\twritextag(\"v:shapetype\", [\n\t\t\twritextag(\"v:stroke\", null, {joinstyle:\"miter\"}),\n\t\t\twritextag(\"v:path\", null, {gradientshapeok:\"t\", 'o:connecttype':\"rect\"})\n\t\t].join(\"\"), {id:\"_x0000_t202\", 'o:spt':202, coordsize:csize.join(\",\"),path:bbox})\n\t];\n\twhile(_shapeid < rId * 1000) _shapeid += 1000;\n\n\tcomments.forEach(function(x) {\n\tvar c = decode_cell(x[0]);\n\tvar fillopts = /*::(*/{'color2':\"#BEFF82\", 'type':\"gradient\"}/*:: :any)*/;\n\tif(fillopts.type == \"gradient\") fillopts.angle = \"-180\";\n\tvar fillparm = fillopts.type == \"gradient\" ? writextag(\"o:fill\", null, {type:\"gradientUnscaled\", 'v:ext':\"view\"}) : null;\n\tvar fillxml = writextag('v:fill', fillparm, fillopts);\n\n\tvar shadata = ({on:\"t\", 'obscured':\"t\"}/*:any*/);\n\t++_shapeid;\n\n\to = o.concat([\n\t'<v:shape' + wxt_helper({\n\t\tid:'_x0000_s' + _shapeid,\n\t\ttype:\"#_x0000_t202\",\n\t\tstyle:\"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10\" + (x[1].hidden ? \";visibility:hidden\" : \"\") ,\n\t\tfillcolor:\"#ECFAD4\",\n\t\tstrokecolor:\"#edeaa1\"\n\t}) + '>',\n\t\tfillxml,\n\t\twritextag(\"v:shadow\", null, shadata),\n\t\twritextag(\"v:path\", null, {'o:connecttype':\"none\"}),\n\t\t'<v:textbox><div style=\"text-align:left\"></div></v:textbox>',\n\t\t'<x:ClientData ObjectType=\"Note\">',\n\t\t\t'<x:MoveWithCells/>',\n\t\t\t'<x:SizeWithCells/>',\n\t\t\t/* Part 4 19.4.2.3 Anchor (Anchor) */\n\t\t\twritetag('x:Anchor', [c.c+1, 0, c.r+1, 0, c.c+3, 20, c.r+5, 20].join(\",\")),\n\t\t\twritetag('x:AutoFill', \"False\"),\n\t\t\twritetag('x:Row', String(c.r)),\n\t\t\twritetag('x:Column', String(c.c)),\n\t\t\tx[1].hidden ? '' : '<x:Visible/>',\n\t\t'</x:ClientData>',\n\t'</v:shape>'\n\t]); });\n\to.push('</xml>');\n\treturn o.join(\"\");\n}\nfunction sheet_insert_comments(sheet, comments/*:Array<RawComment>*/, threaded/*:boolean*/, people/*:?Array<any>*/) {\n\tvar dense = Array.isArray(sheet);\n\tvar cell/*:Cell*/;\n\tcomments.forEach(function(comment) {\n\t\tvar r = decode_cell(comment.ref);\n\t\tif(dense) {\n\t\t\tif(!sheet[r.r]) sheet[r.r] = [];\n\t\t\tcell = sheet[r.r][r.c];\n\t\t} else cell = sheet[comment.ref];\n\t\tif (!cell) {\n\t\t\tcell = ({t:\"z\"}/*:any*/);\n\t\t\tif(dense) sheet[r.r][r.c] = cell;\n\t\t\telse sheet[comment.ref] = cell;\n\t\t\tvar range = safe_decode_range(sheet[\"!ref\"]||\"BDWGO1000001:A1\");\n\t\t\tif(range.s.r > r.r) range.s.r = r.r;\n\t\t\tif(range.e.r < r.r) range.e.r = r.r;\n\t\t\tif(range.s.c > r.c) range.s.c = r.c;\n\t\t\tif(range.e.c < r.c) range.e.c = r.c;\n\t\t\tvar encoded = encode_range(range);\n\t\t\tif (encoded !== sheet[\"!ref\"]) sheet[\"!ref\"] = encoded;\n\t\t}\n\n\t\tif (!cell.c) cell.c = [];\n\t\tvar o/*:Comment*/ = ({a: comment.author, t: comment.t, r: comment.r, T: threaded});\n\t\tif(comment.h) o.h = comment.h;\n\n\t\t/* threaded comments always override */\n\t\tfor(var i = cell.c.length - 1; i >= 0; --i) {\n\t\t\tif(!threaded && cell.c[i].T) return;\n\t\t\tif(threaded && !cell.c[i].T) cell.c.splice(i, 1);\n\t\t}\n\t\tif(threaded && people) for(i = 0; i < people.length; ++i) {\n\t\t\tif(o.a == people[i].id) { o.a = people[i].name || o.a; break; }\n\t\t}\n\t\tcell.c.push(o);\n\t});\n}\n\n/* 18.7 Comments */\nfunction parse_comments_xml(data/*:string*/, opts)/*:Array<RawComment>*/ {\n\t/* 18.7.6 CT_Comments */\n\tif(data.match(/<(?:\\w+:)?comments *\\/>/)) return [];\n\tvar authors/*:Array<string>*/ = [];\n\tvar commentList/*:Array<RawComment>*/ = [];\n\tvar authtag = data.match(/<(?:\\w+:)?authors>([\\s\\S]*)<\\/(?:\\w+:)?authors>/);\n\tif(authtag && authtag[1]) authtag[1].split(/<\\/\\w*:?author>/).forEach(function(x) {\n\t\tif(x === \"\" || x.trim() === \"\") return;\n\t\tvar a = x.match(/<(?:\\w+:)?author[^>]*>(.*)/);\n\t\tif(a) authors.push(a[1]);\n\t});\n\tvar cmnttag = data.match(/<(?:\\w+:)?commentList>([\\s\\S]*)<\\/(?:\\w+:)?commentList>/);\n\tif(cmnttag && cmnttag[1]) cmnttag[1].split(/<\\/\\w*:?comment>/).forEach(function(x) {\n\t\tif(x === \"\" || x.trim() === \"\") return;\n\t\tvar cm = x.match(/<(?:\\w+:)?comment[^>]*>/);\n\t\tif(!cm) return;\n\t\tvar y = parsexmltag(cm[0]);\n\t\tvar comment/*:RawComment*/ = ({ author: y.authorId && authors[y.authorId] || \"sheetjsghost\", ref: y.ref, guid: y.guid }/*:any*/);\n\t\tvar cell = decode_cell(y.ref);\n\t\tif(opts.sheetRows && opts.sheetRows <= cell.r) return;\n\t\tvar textMatch = x.match(/<(?:\\w+:)?text>([\\s\\S]*)<\\/(?:\\w+:)?text>/);\n\t\tvar rt = !!textMatch && !!textMatch[1] && parse_si(textMatch[1]) || {r:\"\",t:\"\",h:\"\"};\n\t\tcomment.r = rt.r;\n\t\tif(rt.r == \"<t></t>\") rt.t = rt.h = \"\";\n\t\tcomment.t = (rt.t||\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\");\n\t\tif(opts.cellHTML) comment.h = rt.h;\n\t\tcommentList.push(comment);\n\t});\n\treturn commentList;\n}\n\nfunction write_comments_xml(data/*::, opts*/) {\n\tvar o = [XML_HEADER, writextag('comments', null, { 'xmlns': XMLNS_main[0] })];\n\n\tvar iauthor/*:Array<string>*/ = [];\n\to.push(\"<authors>\");\n\tdata.forEach(function(x) { x[1].forEach(function(w) { var a = escapexml(w.a);\n\t\tif(iauthor.indexOf(a) == -1) {\n\t\t\tiauthor.push(a);\n\t\t\to.push(\"<author>\" + a + \"</author>\");\n\t\t}\n\t\tif(w.T && w.ID && iauthor.indexOf(\"tc=\" + w.ID) == -1) {\n\t\t\tiauthor.push(\"tc=\" + w.ID);\n\t\t\to.push(\"<author>\" + \"tc=\" + w.ID + \"</author>\");\n\t\t}\n\t}); });\n\tif(iauthor.length == 0) { iauthor.push(\"SheetJ5\"); o.push(\"<author>SheetJ5</author>\"); }\n\to.push(\"</authors>\");\n\to.push(\"<commentList>\");\n\tdata.forEach(function(d) {\n\t\t/* 18.7.3 CT_Comment */\n\t\tvar lastauthor = 0, ts = [];\n\t\tif(d[1][0] && d[1][0].T && d[1][0].ID) lastauthor = iauthor.indexOf(\"tc=\" + d[1][0].ID);\n\t\telse d[1].forEach(function(c) {\n\t\t\tif(c.a) lastauthor = iauthor.indexOf(escapexml(c.a));\n\t\t\tts.push(c.t||\"\");\n\t\t});\n\t\to.push('<comment ref=\"' + d[0] + '\" authorId=\"' + lastauthor + '\"><text>');\n\t\tif(ts.length <= 1) o.push(writetag(\"t\", escapexml(ts[0]||\"\")));\n\t\telse {\n\t\t\t/* based on Threaded Comments -> Comments projection */\n\t\t\tvar t = \"Comment:\\n    \" + (ts[0]) + \"\\n\";\n\t\t\tfor(var i = 1; i < ts.length; ++i) t += \"Reply:\\n    \" + ts[i] + \"\\n\";\n\t\t\to.push(writetag(\"t\", escapexml(t)));\n\t\t}\n\t\to.push('</text></comment>');\n\t});\n\to.push(\"</commentList>\");\n\tif(o.length>2) { o[o.length] = ('</comments>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n\n/* [MS-XLSX] 2.1.17 */\nfunction parse_tcmnt_xml(data/*:string*/, opts)/*:Array<RawComment>*/ {\n\tvar out = [];\n\tvar pass = false, comment = {}, tidx = 0;\n\tdata.replace(tagregex, function xml_tcmnt(x, idx) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\n\t\t\t/* 2.6.207 ThreadedComments CT_ThreadedComments */\n\t\t\tcase '<ThreadedComments': break;\n\t\t\tcase '</ThreadedComments>': break;\n\n\t\t\t/* 2.6.205 threadedComment CT_ThreadedComment */\n\t\t\tcase '<threadedComment': comment = {author: y.personId, guid: y.id, ref: y.ref, T: 1}; break;\n\t\t\tcase '</threadedComment>': if(comment.t != null) out.push(comment); break;\n\n\t\t\tcase '<text>': case '<text': tidx = idx + x.length; break;\n\t\t\tcase '</text>': comment.t = data.slice(tidx, idx).replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\"); break;\n\n\t\t\t/* 2.6.206 mentions CT_ThreadedCommentMentions TODO */\n\t\t\tcase '<mentions': case '<mentions>': pass = true; break;\n\t\t\tcase '</mentions>': pass = false; break;\n\n\t\t\t/* 2.6.202 mention CT_Mention TODO */\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': case '<extLst/>': break;\n\t\t\t/* 18.2.7  ext CT_Extension + */\n\t\t\tcase '<ext': pass=true; break;\n\t\t\tcase '</ext>': pass=false; break;\n\n\t\t\tdefault: if(!pass && opts.WTF) throw new Error('unrecognized ' + y[0] + ' in threaded comments');\n\t\t}\n\t\treturn x;\n\t});\n\treturn out;\n}\n\nfunction write_tcmnt_xml(comments, people, opts) {\n\tvar o = [XML_HEADER, writextag('ThreadedComments', null, { 'xmlns': XMLNS.TCMNT }).replace(/[\\/]>/, \">\")];\n\tcomments.forEach(function(carr) {\n\t\tvar rootid = \"\";\n\t\t(carr[1] || []).forEach(function(c, idx) {\n\t\t\tif(!c.T) { delete c.ID; return; }\n\t\t\tif(c.a && people.indexOf(c.a) == -1) people.push(c.a);\n\t\t\tvar tcopts = {\n\t\t\t\tref: carr[0],\n\t\t\t\tid: \"{54EE7951-7262-4200-6969-\" + (\"000000000000\" + opts.tcid++).slice(-12) + \"}\"\n\t\t\t};\n\t\t\tif(idx == 0) rootid = tcopts.id;\n\t\t\telse tcopts.parentId = rootid;\n\t\t\tc.ID = tcopts.id;\n\t\t\tif(c.a) tcopts.personId = \"{54EE7950-7262-4200-6969-\" + (\"000000000000\" + people.indexOf(c.a)).slice(-12) + \"}\";\n\t\t\to.push(writextag('threadedComment', writetag('text', c.t||\"\"), tcopts));\n\t\t});\n\t});\n\to.push('</ThreadedComments>');\n\treturn o.join(\"\");\n}\n\n/* [MS-XLSX] 2.1.18 */\nfunction parse_people_xml(data/*:string*/, opts) {\n\tvar out = [];\n\tvar pass = false;\n\tdata.replace(tagregex, function xml_tcmnt(x) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\n\t\t\t/* 2.4.85 personList CT_PersonList */\n\t\t\tcase '<personList': break;\n\t\t\tcase '</personList>': break;\n\n\t\t\t/* 2.6.203 person CT_Person TODO: providers */\n\t\t\tcase '<person': out.push({name: y.displayname, id: y.id }); break;\n\t\t\tcase '</person>': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': case '<extLst/>': break;\n\t\t\t/* 18.2.7  ext CT_Extension + */\n\t\t\tcase '<ext': pass=true; break;\n\t\t\tcase '</ext>': pass=false; break;\n\n\t\t\tdefault: if(!pass && opts.WTF) throw new Error('unrecognized ' + y[0] + ' in threaded comments');\n\t\t}\n\t\treturn x;\n\t});\n\treturn out;\n}\nfunction write_people_xml(people/*, opts*/) {\n\tvar o = [XML_HEADER, writextag('personList', null, {\n\t\t'xmlns': XMLNS.TCMNT,\n\t\t'xmlns:x': XMLNS_main[0]\n\t}).replace(/[\\/]>/, \">\")];\n\tpeople.forEach(function(person, idx) {\n\t\to.push(writextag('person', null, {\n\t\t\tdisplayName: person,\n\t\t\tid: \"{54EE7950-7262-4200-6969-\" + (\"000000000000\" + idx).slice(-12) + \"}\",\n\t\t\tuserId: person,\n\t\t\tproviderId: \"None\"\n\t\t}));\n\t});\n\to.push(\"</personList>\");\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.28 BrtBeginComment */\nfunction parse_BrtBeginComment(data) {\n\tvar out = {};\n\tout.iauthor = data.read_shift(4);\n\tvar rfx = parse_UncheckedRfX(data, 16);\n\tout.rfx = rfx.s;\n\tout.ref = encode_cell(rfx.s);\n\tdata.l += 16; /*var guid = parse_GUID(data); */\n\treturn out;\n}\nfunction write_BrtBeginComment(data, o) {\n\tif(o == null) o = new_buf(36);\n\to.write_shift(4, data[1].iauthor);\n\twrite_UncheckedRfX((data[0]/*:any*/), o);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\to.write_shift(4, 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.327 BrtCommentAuthor */\nvar parse_BrtCommentAuthor = parse_XLWideString;\nfunction write_BrtCommentAuthor(data) { return write_XLWideString(data.slice(0, 54)); }\n\n/* [MS-XLSB] 2.1.7.8 Comments */\nfunction parse_comments_bin(data, opts)/*:Array<RawComment>*/ {\n\tvar out/*:Array<RawComment>*/ = [];\n\tvar authors/*:Array<string>*/ = [];\n\tvar c = {};\n\tvar pass = false;\n\trecordhopper(data, function hopper_cmnt(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x0278: /* 'BrtCommentAuthor' */\n\t\t\t\tauthors.push(val); break;\n\t\t\tcase 0x027B: /* 'BrtBeginComment' */\n\t\t\t\tc = val; break;\n\t\t\tcase 0x027D: /* 'BrtCommentText' */\n\t\t\t\tc.t = val.t; c.h = val.h; c.r = val.r; break;\n\t\t\tcase 0x027C: /* 'BrtEndComment' */\n\t\t\t\tc.author = authors[c.iauthor];\n\t\t\t\tdelete (c/*:any*/).iauthor;\n\t\t\t\tif(opts.sheetRows && c.rfx && opts.sheetRows <= c.rfx.r) break;\n\t\t\t\tif(!c.t) c.t = \"\";\n\t\t\t\tdelete c.rfx; out.push(c); break;\n\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */ break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */ break;\n\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t});\n\treturn out;\n}\n\nfunction write_comments_bin(data/*::, opts*/) {\n\tvar ba = buf_array();\n\tvar iauthor/*:Array<string>*/ = [];\n\twrite_record(ba, 0x0274 /* BrtBeginComments */);\n\n\twrite_record(ba, 0x0276 /* BrtBeginCommentAuthors */);\n\tdata.forEach(function(comment) {\n\t\tcomment[1].forEach(function(c) {\n\t\t\tif(iauthor.indexOf(c.a) > -1) return;\n\t\t\tiauthor.push(c.a.slice(0,54));\n\t\t\twrite_record(ba, 0x0278 /* BrtCommentAuthor */, write_BrtCommentAuthor(c.a));\n\t\t});\n\t});\n\twrite_record(ba, 0x0277 /* BrtEndCommentAuthors */);\n\n\twrite_record(ba, 0x0279 /* BrtBeginCommentList */);\n\tdata.forEach(function(comment) {\n\t\tcomment[1].forEach(function(c) {\n\t\t\tc.iauthor = iauthor.indexOf(c.a);\n\t\t\tvar range = {s:decode_cell(comment[0]),e:decode_cell(comment[0])};\n\t\t\twrite_record(ba, 0x027B /* BrtBeginComment */, write_BrtBeginComment([range, c]));\n\t\t\tif(c.t && c.t.length > 0) write_record(ba, 0x027D /* BrtCommentText */, write_BrtCommentText(c));\n\t\t\twrite_record(ba, 0x027C /* BrtEndComment */);\n\t\t\tdelete c.iauthor;\n\t\t});\n\t});\n\twrite_record(ba, 0x027A /* BrtEndCommentList */);\n\n\twrite_record(ba, 0x0275 /* BrtEndComments */);\n\treturn ba.end();\n}\nvar CT_VBA = \"application/vnd.ms-office.vbaProject\";\nfunction make_vba_xls(cfb) {\n  var newcfb = CFB.utils.cfb_new({ root: \"R\" });\n  cfb.FullPaths.forEach(function(p, i) {\n    if (p.slice(-1) === \"/\" || !p.match(/_VBA_PROJECT_CUR/))\n      return;\n    var newpath = p.replace(/^[^\\/]*/, \"R\").replace(/\\/_VBA_PROJECT_CUR\\u0000*/, \"\");\n    CFB.utils.cfb_add(newcfb, newpath, cfb.FileIndex[i].content);\n  });\n  return CFB.write(newcfb);\n}\nfunction fill_vba_xls(cfb, vba) {\n  vba.FullPaths.forEach(function(p, i) {\n    if (i == 0)\n      return;\n    var newpath = p.replace(/[^\\/]*[\\/]/, \"/_VBA_PROJECT_CUR/\");\n    if (newpath.slice(-1) !== \"/\")\n      CFB.utils.cfb_add(cfb, newpath, vba.FileIndex[i].content);\n  });\n}\nvar VBAFMTS = [\"xlsb\", \"xlsm\", \"xlam\", \"biff8\", \"xla\"];\n/* macro and dialog sheet stubs */\nfunction parse_ds_bin(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'dialog'}; }\nfunction parse_ds_xml(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'dialog'}; }\nfunction parse_ms_bin(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'macro'}; }\nfunction parse_ms_xml(/*::data:any, opts, idx:number, rels, wb, themes, styles*/)/*:Worksheet*/ { return {'!type':'macro'}; }\n/* TODO: it will be useful to parse the function str */\nvar rc_to_a1 = /*#__PURE__*/(function(){\n\tvar rcregex = /(^|[^A-Za-z_])R(\\[?-?\\d+\\]|[1-9]\\d*|)C(\\[?-?\\d+\\]|[1-9]\\d*|)(?![A-Za-z0-9_])/g;\n\tvar rcbase/*:Cell*/ = ({r:0,c:0}/*:any*/);\n\tfunction rcfunc($$,$1,$2,$3) {\n\t\tvar cRel = false, rRel = false;\n\n\t\tif($2.length == 0) rRel = true;\n\t\telse if($2.charAt(0) == \"[\") { rRel = true; $2 = $2.slice(1, -1); }\n\n\t\tif($3.length == 0) cRel = true;\n\t\telse if($3.charAt(0) == \"[\") { cRel = true; $3 = $3.slice(1, -1); }\n\n\t\tvar R = $2.length>0?parseInt($2,10)|0:0, C = $3.length>0?parseInt($3,10)|0:0;\n\n\t\tif(cRel) C += rcbase.c; else --C;\n\t\tif(rRel) R += rcbase.r; else --R;\n\t\treturn $1 + (cRel ? \"\" : \"$\") + encode_col(C) + (rRel ? \"\" : \"$\") + encode_row(R);\n\t}\n\treturn function rc_to_a1(fstr/*:string*/, base/*:Cell*/)/*:string*/ {\n\t\trcbase = base;\n\t\treturn fstr.replace(rcregex, rcfunc);\n\t};\n})();\n\nvar crefregex = /(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\\d{4}|104[0-7]\\d{3}|1048[0-4]\\d{2}|10485[0-6]\\d|104857[0-6]|[1-9]\\d{0,5})(?![_.\\(A-Za-z0-9])/g;\nvar a1_to_rc = /*#__PURE__*/(function(){\n\treturn function a1_to_rc(fstr/*:string*/, base/*:CellAddress*/) {\n\t\treturn fstr.replace(crefregex, function($0, $1, $2, $3, $4, $5) {\n\t\t\tvar c = decode_col($3) - ($2 ? 0 : base.c);\n\t\t\tvar r = decode_row($5) - ($4 ? 0 : base.r);\n\t\t\tvar R = (r == 0 ? \"\" : !$4 ? \"[\" + r + \"]\" : (r+1));\n\t\t\tvar C = (c == 0 ? \"\" : !$2 ? \"[\" + c + \"]\" : (c+1));\n\t\t\treturn $1 + \"R\" + R + \"C\" + C;\n\t\t});\n\t};\n})();\n\n/* no defined name can collide with a valid cell address A1:XFD1048576 ... except LOG10! */\nfunction shift_formula_str(f/*:string*/, delta/*:Cell*/)/*:string*/ {\n\treturn f.replace(crefregex, function($0, $1, $2, $3, $4, $5) {\n\t\treturn $1+($2==\"$\" ? $2+$3 : encode_col(decode_col($3)+delta.c))+($4==\"$\" ? $4+$5 : encode_row(decode_row($5) + delta.r));\n\t});\n}\n\nfunction shift_formula_xlsx(f/*:string*/, range/*:string*/, cell/*:string*/)/*:string*/ {\n\tvar r = decode_range(range), s = r.s, c = decode_cell(cell);\n\tvar delta = {r:c.r - s.r, c:c.c - s.c};\n\treturn shift_formula_str(f, delta);\n}\n\n/* TODO: parse formula */\nfunction fuzzyfmla(f/*:string*/)/*:boolean*/ {\n\tif(f.length == 1) return false;\n\treturn true;\n}\n\nfunction _xlfn(f/*:string*/)/*:string*/ {\n\treturn f.replace(/_xlfn\\./g,\"\");\n}\nfunction parseread1(blob) { blob.l+=1; return; }\n\n/* [MS-XLS] 2.5.51 */\nfunction parse_ColRelU(blob, length) {\n\tvar c = blob.read_shift(length == 1 ? 1 : 2);\n\treturn [c & 0x3FFF, (c >> 14) & 1, (c >> 15) & 1];\n}\n\n/* [MS-XLS] 2.5.198.105 ; [MS-XLSB] 2.5.97.89 */\nfunction parse_RgceArea(blob, length, opts) {\n\tvar w = 2;\n\tif(opts) {\n\t\tif(opts.biff >= 2 && opts.biff <= 5) return parse_RgceArea_BIFF2(blob, length, opts);\n\t\telse if(opts.biff == 12) w = 4;\n\t}\n\tvar r=blob.read_shift(w), R=blob.read_shift(w);\n\tvar c=parse_ColRelU(blob, 2);\n\tvar C=parse_ColRelU(blob, 2);\n\treturn { s:{r:r, c:c[0], cRel:c[1], rRel:c[2]}, e:{r:R, c:C[0], cRel:C[1], rRel:C[2]} };\n}\n/* BIFF 2-5 encodes flags in the row field */\nfunction parse_RgceArea_BIFF2(blob/*::, length, opts*/) {\n\tvar r=parse_ColRelU(blob, 2), R=parse_ColRelU(blob, 2);\n\tvar c=blob.read_shift(1);\n\tvar C=blob.read_shift(1);\n\treturn { s:{r:r[0], c:c, cRel:r[1], rRel:r[2]}, e:{r:R[0], c:C, cRel:R[1], rRel:R[2]} };\n}\n\n/* [MS-XLS] 2.5.198.105 ; [MS-XLSB] 2.5.97.90 */\nfunction parse_RgceAreaRel(blob, length, opts) {\n\tif(opts.biff < 8) return parse_RgceArea_BIFF2(blob, length, opts);\n\tvar r=blob.read_shift(opts.biff == 12 ? 4 : 2), R=blob.read_shift(opts.biff == 12 ? 4 : 2);\n\tvar c=parse_ColRelU(blob, 2);\n\tvar C=parse_ColRelU(blob, 2);\n\treturn { s:{r:r, c:c[0], cRel:c[1], rRel:c[2]}, e:{r:R, c:C[0], cRel:C[1], rRel:C[2]} };\n}\n\n/* [MS-XLS] 2.5.198.109 ; [MS-XLSB] 2.5.97.91 */\nfunction parse_RgceLoc(blob, length, opts) {\n\tif(opts && opts.biff >= 2 && opts.biff <= 5) return parse_RgceLoc_BIFF2(blob, length, opts);\n\tvar r = blob.read_shift(opts && opts.biff == 12 ? 4 : 2);\n\tvar c = parse_ColRelU(blob, 2);\n\treturn {r:r, c:c[0], cRel:c[1], rRel:c[2]};\n}\nfunction parse_RgceLoc_BIFF2(blob/*::, length, opts*/) {\n\tvar r = parse_ColRelU(blob, 2);\n\tvar c = blob.read_shift(1);\n\treturn {r:r[0], c:c, cRel:r[1], rRel:r[2]};\n}\n\n/* [MS-XLS] 2.5.198.107, 2.5.47 */\nfunction parse_RgceElfLoc(blob/*::, length, opts*/) {\n\tvar r = blob.read_shift(2);\n\tvar c = blob.read_shift(2);\n\treturn {r:r, c:c & 0xFF, fQuoted:!!(c & 0x4000), cRel:c>>15, rRel:c>>15 };\n}\n\n/* [MS-XLS] 2.5.198.111 ; [MS-XLSB] 2.5.97.92 TODO */\nfunction parse_RgceLocRel(blob, length, opts) {\n\tvar biff = opts && opts.biff ? opts.biff : 8;\n\tif(biff >= 2 && biff <= 5) return parse_RgceLocRel_BIFF2(blob, length, opts);\n\tvar r = blob.read_shift(biff >= 12 ? 4 : 2);\n\tvar cl = blob.read_shift(2);\n\tvar cRel = (cl & 0x4000) >> 14, rRel = (cl & 0x8000) >> 15;\n\tcl &= 0x3FFF;\n\tif(rRel == 1) while(r > 0x7FFFF) r -= 0x100000;\n\tif(cRel == 1) while(cl > 0x1FFF) cl = cl - 0x4000;\n\treturn {r:r,c:cl,cRel:cRel,rRel:rRel};\n}\nfunction parse_RgceLocRel_BIFF2(blob/*::, length:number, opts*/) {\n\tvar rl = blob.read_shift(2);\n\tvar c = blob.read_shift(1);\n\tvar rRel = (rl & 0x8000) >> 15, cRel = (rl & 0x4000) >> 14;\n\trl &= 0x3FFF;\n\tif(rRel == 1 && rl >= 0x2000) rl = rl - 0x4000;\n\tif(cRel == 1 && c >= 0x80) c = c - 0x100;\n\treturn {r:rl,c:c,cRel:cRel,rRel:rRel};\n}\n\n/* [MS-XLS] 2.5.198.27 ; [MS-XLSB] 2.5.97.18 */\nfunction parse_PtgArea(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar area = parse_RgceArea(blob, opts.biff >= 2 && opts.biff <= 5 ? 6 : 8, opts);\n\treturn [type, area];\n}\n\n/* [MS-XLS] 2.5.198.28 ; [MS-XLSB] 2.5.97.19 */\nfunction parse_PtgArea3d(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar ixti = blob.read_shift(2, 'i');\n\tvar w = 8;\n\tif(opts) switch(opts.biff) {\n\t\tcase 5: blob.l += 12; w = 6; break;\n\t\tcase 12: w = 12; break;\n\t}\n\tvar area = parse_RgceArea(blob, w, opts);\n\treturn [type, ixti, area];\n}\n\n/* [MS-XLS] 2.5.198.29 ; [MS-XLSB] 2.5.97.20 */\nfunction parse_PtgAreaErr(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tblob.l += opts && (opts.biff > 8) ? 12 : (opts.biff < 8 ? 6 : 8);\n\treturn [type];\n}\n/* [MS-XLS] 2.5.198.30 ; [MS-XLSB] 2.5.97.21 */\nfunction parse_PtgAreaErr3d(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar ixti = blob.read_shift(2);\n\tvar w = 8;\n\tif(opts) switch(opts.biff) {\n\t\tcase 5: blob.l += 12; w = 6; break;\n\t\tcase 12: w = 12; break;\n\t}\n\tblob.l += w;\n\treturn [type, ixti];\n}\n\n/* [MS-XLS] 2.5.198.31 ; [MS-XLSB] 2.5.97.22 */\nfunction parse_PtgAreaN(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar area = parse_RgceAreaRel(blob, length - 1, opts);\n\treturn [type, area];\n}\n\n/* [MS-XLS] 2.5.198.32 ; [MS-XLSB] 2.5.97.23 */\nfunction parse_PtgArray(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tblob.l += opts.biff == 2 ? 6 : opts.biff == 12 ? 14 : 7;\n\treturn [type];\n}\n\n/* [MS-XLS] 2.5.198.33 ; [MS-XLSB] 2.5.97.24 */\nfunction parse_PtgAttrBaxcel(blob) {\n\tvar bitSemi = blob[blob.l+1] & 0x01; /* 1 = volatile */\n\tvar bitBaxcel = 1;\n\tblob.l += 4;\n\treturn [bitSemi, bitBaxcel];\n}\n\n/* [MS-XLS] 2.5.198.34 ; [MS-XLSB] 2.5.97.25 */\nfunction parse_PtgAttrChoose(blob, length, opts)/*:Array<number>*/ {\n\tblob.l +=2;\n\tvar offset = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\tvar o/*:Array<number>*/ = [];\n\t/* offset is 1 less than the number of elements */\n\tfor(var i = 0; i <= offset; ++i) o.push(blob.read_shift(opts && opts.biff == 2 ? 1 : 2));\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.198.35 ; [MS-XLSB] 2.5.97.26 */\nfunction parse_PtgAttrGoto(blob, length, opts) {\n\tvar bitGoto = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += 2;\n\treturn [bitGoto, blob.read_shift(opts && opts.biff == 2 ? 1 : 2)];\n}\n\n/* [MS-XLS] 2.5.198.36 ; [MS-XLSB] 2.5.97.27 */\nfunction parse_PtgAttrIf(blob, length, opts) {\n\tvar bitIf = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += 2;\n\treturn [bitIf, blob.read_shift(opts && opts.biff == 2 ? 1 : 2)];\n}\n\n/* [MS-XLSB] 2.5.97.28 */\nfunction parse_PtgAttrIfError(blob) {\n\tvar bitIf = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += 2;\n\treturn [bitIf, blob.read_shift(2)];\n}\n\n/* [MS-XLS] 2.5.198.37 ; [MS-XLSB] 2.5.97.29 */\nfunction parse_PtgAttrSemi(blob, length, opts) {\n\tvar bitSemi = (blob[blob.l+1] & 0xFF) ? 1 : 0;\n\tblob.l += opts && opts.biff == 2 ? 3 : 4;\n\treturn [bitSemi];\n}\n\n/* [MS-XLS] 2.5.198.40 ; [MS-XLSB] 2.5.97.32 */\nfunction parse_PtgAttrSpaceType(blob/*::, length*/) {\n\tvar type = blob.read_shift(1), cch = blob.read_shift(1);\n\treturn [type, cch];\n}\n\n/* [MS-XLS] 2.5.198.38 ; [MS-XLSB] 2.5.97.30 */\nfunction parse_PtgAttrSpace(blob) {\n\tblob.read_shift(2);\n\treturn parse_PtgAttrSpaceType(blob, 2);\n}\n\n/* [MS-XLS] 2.5.198.39 ; [MS-XLSB] 2.5.97.31 */\nfunction parse_PtgAttrSpaceSemi(blob) {\n\tblob.read_shift(2);\n\treturn parse_PtgAttrSpaceType(blob, 2);\n}\n\n/* [MS-XLS] 2.5.198.84 ; [MS-XLSB] 2.5.97.68 TODO */\nfunction parse_PtgRef(blob, length, opts) {\n\t//var ptg = blob[blob.l] & 0x1F;\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar loc = parse_RgceLoc(blob, 0, opts);\n\treturn [type, loc];\n}\n\n/* [MS-XLS] 2.5.198.88 ; [MS-XLSB] 2.5.97.72 TODO */\nfunction parse_PtgRefN(blob, length, opts) {\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar loc = parse_RgceLocRel(blob, 0, opts);\n\treturn [type, loc];\n}\n\n/* [MS-XLS] 2.5.198.85 ; [MS-XLSB] 2.5.97.69 TODO */\nfunction parse_PtgRef3d(blob, length, opts) {\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar ixti = blob.read_shift(2); // XtiIndex\n\tif(opts && opts.biff == 5) blob.l += 12;\n\tvar loc = parse_RgceLoc(blob, 0, opts); // TODO: or RgceLocRel\n\treturn [type, ixti, loc];\n}\n\n\n/* [MS-XLS] 2.5.198.62 ; [MS-XLSB] 2.5.97.45 TODO */\nfunction parse_PtgFunc(blob, length, opts) {\n\t//var ptg = blob[blob.l] & 0x1F;\n\tvar type = (blob[blob.l] & 0x60)>>5;\n\tblob.l += 1;\n\tvar iftab = blob.read_shift(opts && opts.biff <= 3 ? 1 : 2);\n\treturn [FtabArgc[iftab], Ftab[iftab], type];\n}\n/* [MS-XLS] 2.5.198.63 ; [MS-XLSB] 2.5.97.46 TODO */\nfunction parse_PtgFuncVar(blob, length, opts) {\n\tvar type = blob[blob.l++];\n\tvar cparams = blob.read_shift(1), tab = opts && opts.biff <= 3 ? [(type == 0x58 ? -1 : 0), blob.read_shift(1)]: parsetab(blob);\n\treturn [cparams, (tab[0] === 0 ? Ftab : Cetab)[tab[1]]];\n}\n\nfunction parsetab(blob) {\n\treturn [blob[blob.l+1]>>7, blob.read_shift(2) & 0x7FFF];\n}\n\n/* [MS-XLS] 2.5.198.41 ; [MS-XLSB] 2.5.97.33 */\nfunction parse_PtgAttrSum(blob, length, opts) {\n\tblob.l += opts && opts.biff == 2 ? 3 : 4; return;\n}\n\n/* [MS-XLS] 2.5.198.58 ; [MS-XLSB] 2.5.97.40 */\nfunction parse_PtgExp(blob, length, opts) {\n\tblob.l++;\n\tif(opts && opts.biff == 12) return [blob.read_shift(4, 'i'), 0];\n\tvar row = blob.read_shift(2);\n\tvar col = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\treturn [row, col];\n}\n\n/* [MS-XLS] 2.5.198.57 ; [MS-XLSB] 2.5.97.39 */\nfunction parse_PtgErr(blob) { blob.l++; return BErr[blob.read_shift(1)]; }\n\n/* [MS-XLS] 2.5.198.66 ; [MS-XLSB] 2.5.97.49 */\nfunction parse_PtgInt(blob) { blob.l++; return blob.read_shift(2); }\n\n/* [MS-XLS] 2.5.198.42 ; [MS-XLSB] 2.5.97.34 */\nfunction parse_PtgBool(blob) { blob.l++; return blob.read_shift(1)!==0;}\n\n/* [MS-XLS] 2.5.198.79 ; [MS-XLSB] 2.5.97.63 */\nfunction parse_PtgNum(blob) { blob.l++; return parse_Xnum(blob, 8); }\n\n/* [MS-XLS] 2.5.198.89 ; [MS-XLSB] 2.5.97.74 */\nfunction parse_PtgStr(blob, length, opts) { blob.l++; return parse_ShortXLUnicodeString(blob, length-1, opts); }\n\n/* [MS-XLS] 2.5.192.112 + 2.5.192.11{3,4,5,6,7} */\n/* [MS-XLSB] 2.5.97.93 + 2.5.97.9{4,5,6,7} */\nfunction parse_SerAr(blob, biff/*:number*/) {\n\tvar val = [blob.read_shift(1)];\n\tif(biff == 12) switch(val[0]) {\n\t\tcase 0x02: val[0] = 0x04; break; /* SerBool */\n\t\tcase 0x04: val[0] = 0x10; break; /* SerErr */\n\t\tcase 0x00: val[0] = 0x01; break; /* SerNum */\n\t\tcase 0x01: val[0] = 0x02; break; /* SerStr */\n\t}\n\tswitch(val[0]) {\n\t\tcase 0x04: /* SerBool -- boolean */\n\t\t\tval[1] = parsebool(blob, 1) ? 'TRUE' : 'FALSE';\n\t\t\tif(biff != 12) blob.l += 7; break;\n\t\tcase 0x25: /* appears to be an alias */\n\t\tcase 0x10: /* SerErr -- error */\n\t\t\tval[1] = BErr[blob[blob.l]];\n\t\t\tblob.l += ((biff == 12) ? 4 : 8); break;\n\t\tcase 0x00: /* SerNil -- honestly, I'm not sure how to reproduce this */\n\t\t\tblob.l += 8; break;\n\t\tcase 0x01: /* SerNum -- Xnum */\n\t\t\tval[1] = parse_Xnum(blob, 8); break;\n\t\tcase 0x02: /* SerStr -- XLUnicodeString (<256 chars) */\n\t\t\tval[1] = parse_XLUnicodeString2(blob, 0, {biff:biff > 0 && biff < 8 ? 2 : biff}); break;\n\t\tdefault: throw new Error(\"Bad SerAr: \" + val[0]); /* Unreachable */\n\t}\n\treturn val;\n}\n\n/* [MS-XLS] 2.5.198.61 ; [MS-XLSB] 2.5.97.44 */\nfunction parse_PtgExtraMem(blob, cce, opts) {\n\tvar count = blob.read_shift((opts.biff == 12) ? 4 : 2);\n\tvar out/*:Array<Range>*/ = [];\n\tfor(var i = 0; i != count; ++i) out.push(((opts.biff == 12) ? parse_UncheckedRfX : parse_Ref8U)(blob, 8));\n\treturn out;\n}\n\n/* [MS-XLS] 2.5.198.59 ; [MS-XLSB] 2.5.97.41 */\nfunction parse_PtgExtraArray(blob, length, opts) {\n\tvar rows = 0, cols = 0;\n\tif(opts.biff == 12) {\n\t\trows = blob.read_shift(4); // DRw\n\t\tcols = blob.read_shift(4); // DCol\n\t} else {\n\t\tcols = 1 + blob.read_shift(1); //DColByteU\n\t\trows = 1 + blob.read_shift(2); //DRw\n\t}\n\tif(opts.biff >= 2 && opts.biff < 8) { --rows; if(--cols == 0) cols = 0x100; }\n\t// $FlowIgnore\n\tfor(var i = 0, o/*:Array<Array<any>>*/ = []; i != rows && (o[i] = []); ++i)\n\t\tfor(var j = 0; j != cols; ++j) o[i][j] = parse_SerAr(blob, opts.biff);\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.198.76 ; [MS-XLSB] 2.5.97.60 */\nfunction parse_PtgName(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar w = (!opts || (opts.biff >= 8)) ? 4 : 2;\n\tvar nameindex = blob.read_shift(w);\n\tswitch(opts.biff) {\n\t\tcase 2: blob.l += 5; break;\n\t\tcase 3: case 4: blob.l += 8; break;\n\t\tcase 5: blob.l += 12; break;\n\t}\n\treturn [type, 0, nameindex];\n}\n\n/* [MS-XLS] 2.5.198.77 ; [MS-XLSB] 2.5.97.61 */\nfunction parse_PtgNameX(blob, length, opts) {\n\tif(opts.biff == 5) return parse_PtgNameX_BIFF5(blob, length, opts);\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar ixti = blob.read_shift(2); // XtiIndex\n\tvar nameindex = blob.read_shift(4);\n\treturn [type, ixti, nameindex];\n}\nfunction parse_PtgNameX_BIFF5(blob/*::, length, opts*/) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar ixti = blob.read_shift(2, 'i'); // XtiIndex\n\tblob.l += 8;\n\tvar nameindex = blob.read_shift(2);\n\tblob.l += 12;\n\treturn [type, ixti, nameindex];\n}\n\n/* [MS-XLS] 2.5.198.70 ; [MS-XLSB] 2.5.97.54 */\nfunction parse_PtgMemArea(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tblob.l += (opts && opts.biff == 2 ? 3 : 4);\n\tvar cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\treturn [type, cce];\n}\n\n/* [MS-XLS] 2.5.198.72 ; [MS-XLSB] 2.5.97.56 */\nfunction parse_PtgMemFunc(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar cce = blob.read_shift(opts && opts.biff == 2 ? 1 : 2);\n\treturn [type, cce];\n}\n\n\n/* [MS-XLS] 2.5.198.86 ; [MS-XLSB] 2.5.97.69 */\nfunction parse_PtgRefErr(blob, length, opts) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tblob.l += 4;\n\tif(opts.biff < 8) blob.l--;\n\tif(opts.biff == 12) blob.l += 2;\n\treturn [type];\n}\n\n/* [MS-XLS] 2.5.198.87 ; [MS-XLSB] 2.5.97.71 */\nfunction parse_PtgRefErr3d(blob, length, opts) {\n\tvar type = (blob[blob.l++] & 0x60) >> 5;\n\tvar ixti = blob.read_shift(2);\n\tvar w = 4;\n\tif(opts) switch(opts.biff) {\n\t\tcase 5: w = 15; break;\n\t\tcase 12: w = 6; break;\n\t}\n\tblob.l += w;\n\treturn [type, ixti];\n}\n\n/* [MS-XLS] 2.5.198.71 ; [MS-XLSB] 2.5.97.55 */\nvar parse_PtgMemErr = parsenoop;\n/* [MS-XLS] 2.5.198.73  ; [MS-XLSB] 2.5.97.57 */\nvar parse_PtgMemNoMem = parsenoop;\n/* [MS-XLS] 2.5.198.92 */\nvar parse_PtgTbl = parsenoop;\n\nfunction parse_PtgElfLoc(blob, length, opts) {\n\tblob.l += 2;\n\treturn [parse_RgceElfLoc(blob, 4, opts)];\n}\nfunction parse_PtgElfNoop(blob/*::, length, opts*/) {\n\tblob.l += 6;\n\treturn [];\n}\n/* [MS-XLS] 2.5.198.46 */\nvar parse_PtgElfCol = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.47 */\nvar parse_PtgElfColS = parse_PtgElfNoop;\n/* [MS-XLS] 2.5.198.48 */\nvar parse_PtgElfColSV = parse_PtgElfNoop;\n/* [MS-XLS] 2.5.198.49 */\nvar parse_PtgElfColV = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.50 */\nfunction parse_PtgElfLel(blob/*::, length, opts*/) {\n\tblob.l += 2;\n\treturn [parseuint16(blob), blob.read_shift(2) & 0x01];\n}\n/* [MS-XLS] 2.5.198.51 */\nvar parse_PtgElfRadical = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.52 */\nvar parse_PtgElfRadicalLel = parse_PtgElfLel;\n/* [MS-XLS] 2.5.198.53 */\nvar parse_PtgElfRadicalS = parse_PtgElfNoop;\n/* [MS-XLS] 2.5.198.54 */\nvar parse_PtgElfRw = parse_PtgElfLoc;\n/* [MS-XLS] 2.5.198.55 */\nvar parse_PtgElfRwV = parse_PtgElfLoc;\n\n/* [MS-XLSB] 2.5.97.52 TODO */\nvar PtgListRT = [\n\t\"Data\",\n\t\"All\",\n\t\"Headers\",\n\t\"??\",\n\t\"?Data2\",\n\t\"??\",\n\t\"?DataHeaders\",\n\t\"??\",\n\t\"Totals\",\n\t\"??\",\n\t\"??\",\n\t\"??\",\n\t\"?DataTotals\",\n\t\"??\",\n\t\"??\",\n\t\"??\",\n\t\"?Current\"\n];\nfunction parse_PtgList(blob/*::, length, opts*/) {\n\tblob.l += 2;\n\tvar ixti = blob.read_shift(2);\n\tvar flags = blob.read_shift(2);\n\tvar idx = blob.read_shift(4);\n\tvar c = blob.read_shift(2);\n\tvar C = blob.read_shift(2);\n\tvar rt = PtgListRT[(flags >> 2) & 0x1F];\n\treturn {ixti: ixti, coltype:(flags&0x3), rt:rt, idx:idx, c:c, C:C};\n}\n/* [MS-XLS] 2.5.198.91 ; [MS-XLSB] 2.5.97.76 */\nfunction parse_PtgSxName(blob/*::, length, opts*/) {\n\tblob.l += 2;\n\treturn [blob.read_shift(4)];\n}\n\n/* [XLS] old spec */\nfunction parse_PtgSheet(blob, length, opts) {\n\tblob.l += 5;\n\tblob.l += 2;\n\tblob.l += (opts.biff == 2 ? 1 : 4);\n\treturn [\"PTGSHEET\"];\n}\nfunction parse_PtgEndSheet(blob, length, opts) {\n\tblob.l += (opts.biff == 2 ? 4 : 5);\n\treturn [\"PTGENDSHEET\"];\n}\nfunction parse_PtgMemAreaN(blob/*::, length, opts*/) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar cce = blob.read_shift(2);\n\treturn [type, cce];\n}\nfunction parse_PtgMemNoMemN(blob/*::, length, opts*/) {\n\tvar type = (blob.read_shift(1) >>> 5) & 0x03;\n\tvar cce = blob.read_shift(2);\n\treturn [type, cce];\n}\nfunction parse_PtgAttrNoop(blob/*::, length, opts*/) {\n\tblob.l += 4;\n\treturn [0, 0];\n}\n\n/* [MS-XLS] 2.5.198.25 ; [MS-XLSB] 2.5.97.16 */\nvar PtgTypes = {\n\t/*::[*/0x01/*::]*/: { n:'PtgExp', f:parse_PtgExp },\n\t/*::[*/0x02/*::]*/: { n:'PtgTbl', f:parse_PtgTbl },\n\t/*::[*/0x03/*::]*/: { n:'PtgAdd', f:parseread1 },\n\t/*::[*/0x04/*::]*/: { n:'PtgSub', f:parseread1 },\n\t/*::[*/0x05/*::]*/: { n:'PtgMul', f:parseread1 },\n\t/*::[*/0x06/*::]*/: { n:'PtgDiv', f:parseread1 },\n\t/*::[*/0x07/*::]*/: { n:'PtgPower', f:parseread1 },\n\t/*::[*/0x08/*::]*/: { n:'PtgConcat', f:parseread1 },\n\t/*::[*/0x09/*::]*/: { n:'PtgLt', f:parseread1 },\n\t/*::[*/0x0A/*::]*/: { n:'PtgLe', f:parseread1 },\n\t/*::[*/0x0B/*::]*/: { n:'PtgEq', f:parseread1 },\n\t/*::[*/0x0C/*::]*/: { n:'PtgGe', f:parseread1 },\n\t/*::[*/0x0D/*::]*/: { n:'PtgGt', f:parseread1 },\n\t/*::[*/0x0E/*::]*/: { n:'PtgNe', f:parseread1 },\n\t/*::[*/0x0F/*::]*/: { n:'PtgIsect', f:parseread1 },\n\t/*::[*/0x10/*::]*/: { n:'PtgUnion', f:parseread1 },\n\t/*::[*/0x11/*::]*/: { n:'PtgRange', f:parseread1 },\n\t/*::[*/0x12/*::]*/: { n:'PtgUplus', f:parseread1 },\n\t/*::[*/0x13/*::]*/: { n:'PtgUminus', f:parseread1 },\n\t/*::[*/0x14/*::]*/: { n:'PtgPercent', f:parseread1 },\n\t/*::[*/0x15/*::]*/: { n:'PtgParen', f:parseread1 },\n\t/*::[*/0x16/*::]*/: { n:'PtgMissArg', f:parseread1 },\n\t/*::[*/0x17/*::]*/: { n:'PtgStr', f:parse_PtgStr },\n\t/*::[*/0x1A/*::]*/: { n:'PtgSheet', f:parse_PtgSheet },\n\t/*::[*/0x1B/*::]*/: { n:'PtgEndSheet', f:parse_PtgEndSheet },\n\t/*::[*/0x1C/*::]*/: { n:'PtgErr', f:parse_PtgErr },\n\t/*::[*/0x1D/*::]*/: { n:'PtgBool', f:parse_PtgBool },\n\t/*::[*/0x1E/*::]*/: { n:'PtgInt', f:parse_PtgInt },\n\t/*::[*/0x1F/*::]*/: { n:'PtgNum', f:parse_PtgNum },\n\t/*::[*/0x20/*::]*/: { n:'PtgArray', f:parse_PtgArray },\n\t/*::[*/0x21/*::]*/: { n:'PtgFunc', f:parse_PtgFunc },\n\t/*::[*/0x22/*::]*/: { n:'PtgFuncVar', f:parse_PtgFuncVar },\n\t/*::[*/0x23/*::]*/: { n:'PtgName', f:parse_PtgName },\n\t/*::[*/0x24/*::]*/: { n:'PtgRef', f:parse_PtgRef },\n\t/*::[*/0x25/*::]*/: { n:'PtgArea', f:parse_PtgArea },\n\t/*::[*/0x26/*::]*/: { n:'PtgMemArea', f:parse_PtgMemArea },\n\t/*::[*/0x27/*::]*/: { n:'PtgMemErr', f:parse_PtgMemErr },\n\t/*::[*/0x28/*::]*/: { n:'PtgMemNoMem', f:parse_PtgMemNoMem },\n\t/*::[*/0x29/*::]*/: { n:'PtgMemFunc', f:parse_PtgMemFunc },\n\t/*::[*/0x2A/*::]*/: { n:'PtgRefErr', f:parse_PtgRefErr },\n\t/*::[*/0x2B/*::]*/: { n:'PtgAreaErr', f:parse_PtgAreaErr },\n\t/*::[*/0x2C/*::]*/: { n:'PtgRefN', f:parse_PtgRefN },\n\t/*::[*/0x2D/*::]*/: { n:'PtgAreaN', f:parse_PtgAreaN },\n\t/*::[*/0x2E/*::]*/: { n:'PtgMemAreaN', f:parse_PtgMemAreaN },\n\t/*::[*/0x2F/*::]*/: { n:'PtgMemNoMemN', f:parse_PtgMemNoMemN },\n\t/*::[*/0x39/*::]*/: { n:'PtgNameX', f:parse_PtgNameX },\n\t/*::[*/0x3A/*::]*/: { n:'PtgRef3d', f:parse_PtgRef3d },\n\t/*::[*/0x3B/*::]*/: { n:'PtgArea3d', f:parse_PtgArea3d },\n\t/*::[*/0x3C/*::]*/: { n:'PtgRefErr3d', f:parse_PtgRefErr3d },\n\t/*::[*/0x3D/*::]*/: { n:'PtgAreaErr3d', f:parse_PtgAreaErr3d },\n\t/*::[*/0xFF/*::]*/: {}\n};\n/* These are duplicated in the PtgTypes table */\nvar PtgDupes = {\n\t/*::[*/0x40/*::]*/: 0x20, /*::[*/0x60/*::]*/: 0x20,\n\t/*::[*/0x41/*::]*/: 0x21, /*::[*/0x61/*::]*/: 0x21,\n\t/*::[*/0x42/*::]*/: 0x22, /*::[*/0x62/*::]*/: 0x22,\n\t/*::[*/0x43/*::]*/: 0x23, /*::[*/0x63/*::]*/: 0x23,\n\t/*::[*/0x44/*::]*/: 0x24, /*::[*/0x64/*::]*/: 0x24,\n\t/*::[*/0x45/*::]*/: 0x25, /*::[*/0x65/*::]*/: 0x25,\n\t/*::[*/0x46/*::]*/: 0x26, /*::[*/0x66/*::]*/: 0x26,\n\t/*::[*/0x47/*::]*/: 0x27, /*::[*/0x67/*::]*/: 0x27,\n\t/*::[*/0x48/*::]*/: 0x28, /*::[*/0x68/*::]*/: 0x28,\n\t/*::[*/0x49/*::]*/: 0x29, /*::[*/0x69/*::]*/: 0x29,\n\t/*::[*/0x4A/*::]*/: 0x2A, /*::[*/0x6A/*::]*/: 0x2A,\n\t/*::[*/0x4B/*::]*/: 0x2B, /*::[*/0x6B/*::]*/: 0x2B,\n\t/*::[*/0x4C/*::]*/: 0x2C, /*::[*/0x6C/*::]*/: 0x2C,\n\t/*::[*/0x4D/*::]*/: 0x2D, /*::[*/0x6D/*::]*/: 0x2D,\n\t/*::[*/0x4E/*::]*/: 0x2E, /*::[*/0x6E/*::]*/: 0x2E,\n\t/*::[*/0x4F/*::]*/: 0x2F, /*::[*/0x6F/*::]*/: 0x2F,\n\t/*::[*/0x58/*::]*/: 0x22, /*::[*/0x78/*::]*/: 0x22,\n\t/*::[*/0x59/*::]*/: 0x39, /*::[*/0x79/*::]*/: 0x39,\n\t/*::[*/0x5A/*::]*/: 0x3A, /*::[*/0x7A/*::]*/: 0x3A,\n\t/*::[*/0x5B/*::]*/: 0x3B, /*::[*/0x7B/*::]*/: 0x3B,\n\t/*::[*/0x5C/*::]*/: 0x3C, /*::[*/0x7C/*::]*/: 0x3C,\n\t/*::[*/0x5D/*::]*/: 0x3D, /*::[*/0x7D/*::]*/: 0x3D\n};\n\nvar Ptg18 = {\n\t/*::[*/0x01/*::]*/: { n:'PtgElfLel', f:parse_PtgElfLel },\n\t/*::[*/0x02/*::]*/: { n:'PtgElfRw', f:parse_PtgElfRw },\n\t/*::[*/0x03/*::]*/: { n:'PtgElfCol', f:parse_PtgElfCol },\n\t/*::[*/0x06/*::]*/: { n:'PtgElfRwV', f:parse_PtgElfRwV },\n\t/*::[*/0x07/*::]*/: { n:'PtgElfColV', f:parse_PtgElfColV },\n\t/*::[*/0x0A/*::]*/: { n:'PtgElfRadical', f:parse_PtgElfRadical },\n\t/*::[*/0x0B/*::]*/: { n:'PtgElfRadicalS', f:parse_PtgElfRadicalS },\n\t/*::[*/0x0D/*::]*/: { n:'PtgElfColS', f:parse_PtgElfColS },\n\t/*::[*/0x0F/*::]*/: { n:'PtgElfColSV', f:parse_PtgElfColSV },\n\t/*::[*/0x10/*::]*/: { n:'PtgElfRadicalLel', f:parse_PtgElfRadicalLel },\n\t/*::[*/0x19/*::]*/: { n:'PtgList', f:parse_PtgList },\n\t/*::[*/0x1D/*::]*/: { n:'PtgSxName', f:parse_PtgSxName },\n\t/*::[*/0xFF/*::]*/: {}\n};\nvar Ptg19 = {\n\t/*::[*/0x00/*::]*/: { n:'PtgAttrNoop', f:parse_PtgAttrNoop },\n\t/*::[*/0x01/*::]*/: { n:'PtgAttrSemi', f:parse_PtgAttrSemi },\n\t/*::[*/0x02/*::]*/: { n:'PtgAttrIf', f:parse_PtgAttrIf },\n\t/*::[*/0x04/*::]*/: { n:'PtgAttrChoose', f:parse_PtgAttrChoose },\n\t/*::[*/0x08/*::]*/: { n:'PtgAttrGoto', f:parse_PtgAttrGoto },\n\t/*::[*/0x10/*::]*/: { n:'PtgAttrSum', f:parse_PtgAttrSum },\n\t/*::[*/0x20/*::]*/: { n:'PtgAttrBaxcel', f:parse_PtgAttrBaxcel },\n\t/*::[*/0x21/*::]*/: { n:'PtgAttrBaxcel', f:parse_PtgAttrBaxcel },\n\t/*::[*/0x40/*::]*/: { n:'PtgAttrSpace', f:parse_PtgAttrSpace },\n\t/*::[*/0x41/*::]*/: { n:'PtgAttrSpaceSemi', f:parse_PtgAttrSpaceSemi },\n\t/*::[*/0x80/*::]*/: { n:'PtgAttrIfError', f:parse_PtgAttrIfError },\n\t/*::[*/0xFF/*::]*/: {}\n};\n\n/* [MS-XLS] 2.5.198.103 ; [MS-XLSB] 2.5.97.87 */\nfunction parse_RgbExtra(blob, length, rgce, opts) {\n\tif(opts.biff < 8) return parsenoop(blob, length);\n\tvar target = blob.l + length;\n\tvar o = [];\n\tfor(var i = 0; i !== rgce.length; ++i) {\n\t\tswitch(rgce[i][0]) {\n\t\t\tcase 'PtgArray': /* PtgArray -> PtgExtraArray */\n\t\t\t\trgce[i][1] = parse_PtgExtraArray(blob, 0, opts);\n\t\t\t\to.push(rgce[i][1]);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgMemArea': /* PtgMemArea -> PtgExtraMem */\n\t\t\t\trgce[i][2] = parse_PtgExtraMem(blob, rgce[i][1], opts);\n\t\t\t\to.push(rgce[i][2]);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgExp': /* PtgExp -> PtgExtraCol */\n\t\t\t\tif(opts && opts.biff == 12) {\n\t\t\t\t\trgce[i][1][1] = blob.read_shift(4);\n\t\t\t\t\to.push(rgce[i][1]);\n\t\t\t\t} break;\n\t\t\tcase 'PtgList': /* TODO: PtgList -> PtgExtraList */\n\t\t\tcase 'PtgElfRadicalS': /* TODO: PtgElfRadicalS -> PtgExtraElf */\n\t\t\tcase 'PtgElfColS': /* TODO: PtgElfColS -> PtgExtraElf */\n\t\t\tcase 'PtgElfColSV': /* TODO: PtgElfColSV -> PtgExtraElf */\n\t\t\t\tthrow \"Unsupported \" + rgce[i][0];\n\t\t\tdefault: break;\n\t\t}\n\t}\n\tlength = target - blob.l;\n\t/* note: this is technically an error but Excel disregards */\n\t//if(target !== blob.l && blob.l !== target - length) throw new Error(target + \" != \" + blob.l);\n\tif(length !== 0) o.push(parsenoop(blob, length));\n\treturn o;\n}\n\n/* [MS-XLS] 2.5.198.104 ; [MS-XLSB] 2.5.97.88 */\nfunction parse_Rgce(blob, length, opts) {\n\tvar target = blob.l + length;\n\tvar R, id, ptgs = [];\n\twhile(target != blob.l) {\n\t\tlength = target - blob.l;\n\t\tid = blob[blob.l];\n\t\tR = PtgTypes[id] || PtgTypes[PtgDupes[id]];\n\t\tif(id === 0x18 || id === 0x19) R = (id === 0x18 ? Ptg18 : Ptg19)[blob[blob.l + 1]];\n\t\tif(!R || !R.f) { /*ptgs.push*/(parsenoop(blob, length)); }\n\t\telse { ptgs.push([R.n, R.f(blob, length, opts)]); }\n\t}\n\treturn ptgs;\n}\n\nfunction stringify_array(f/*:Array<Array<string>>*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tfor(var i = 0; i < f.length; ++i) {\n\t\tvar x = f[i], r/*:Array<string>*/ = [];\n\t\tfor(var j = 0; j < x.length; ++j) {\n\t\t\tvar y = x[j];\n\t\t\tif(y) switch(y[0]) {\n\t\t\t\t// TODO: handle embedded quotes\n\t\t\t\tcase 0x02:\n\t\t\t\t\t/*:: if(typeof y[1] != 'string') throw \"unreachable\"; */\n\t\t\t\t\tr.push('\"' + y[1].replace(/\"/g,'\"\"') + '\"'); break;\n\t\t\t\tdefault: r.push(y[1]);\n\t\t\t} else r.push(\"\");\n\t\t}\n\t\to.push(r.join(\",\"));\n\t}\n\treturn o.join(\";\");\n}\n\n/* [MS-XLS] 2.2.2 ; [MS-XLSB] 2.2.2 TODO */\nvar PtgBinOp = {\n\tPtgAdd: \"+\",\n\tPtgConcat: \"&\",\n\tPtgDiv: \"/\",\n\tPtgEq: \"=\",\n\tPtgGe: \">=\",\n\tPtgGt: \">\",\n\tPtgLe: \"<=\",\n\tPtgLt: \"<\",\n\tPtgMul: \"*\",\n\tPtgNe: \"<>\",\n\tPtgPower: \"^\",\n\tPtgSub: \"-\"\n};\n\n// List of invalid characters needs to be tested further\nfunction formula_quote_sheet_name(sname/*:string*/, opts)/*:string*/ {\n\tif(!sname && !(opts && opts.biff <= 5 && opts.biff >= 2)) throw new Error(\"empty sheet name\");\n\tif (/[^\\w\\u4E00-\\u9FFF\\u3040-\\u30FF]/.test(sname)) return \"'\" + sname + \"'\";\n\treturn sname;\n}\nfunction get_ixti_raw(supbooks, ixti/*:number*/, opts)/*:string*/ {\n\tif(!supbooks) return \"SH33TJSERR0\";\n\tif(opts.biff > 8 && (!supbooks.XTI || !supbooks.XTI[ixti])) return supbooks.SheetNames[ixti];\n\tif(!supbooks.XTI) return \"SH33TJSERR6\";\n\tvar XTI = supbooks.XTI[ixti];\n\tif(opts.biff < 8) {\n\t\tif(ixti > 10000) ixti-= 65536;\n\t\tif(ixti < 0) ixti = -ixti;\n\t\treturn ixti == 0 ? \"\" : supbooks.XTI[ixti - 1];\n\t}\n\tif(!XTI) return \"SH33TJSERR1\";\n\tvar o = \"\";\n\tif(opts.biff > 8) switch(supbooks[XTI[0]][0]) {\n\t\tcase 0x0165: /* 'BrtSupSelf' */\n\t\t\to = XTI[1] == -1 ? \"#REF\" : supbooks.SheetNames[XTI[1]];\n\t\t\treturn XTI[1] == XTI[2] ? o : o + \":\" + supbooks.SheetNames[XTI[2]];\n\t\tcase 0x0166: /* 'BrtSupSame' */\n\t\t\tif(opts.SID != null) return supbooks.SheetNames[opts.SID];\n\t\t\treturn \"SH33TJSSAME\" + supbooks[XTI[0]][0];\n\t\tcase 0x0163: /* 'BrtSupBookSrc' */\n\t\t\t/* falls through */\n\t\tdefault: return \"SH33TJSSRC\" + supbooks[XTI[0]][0];\n\t}\n\tswitch(supbooks[XTI[0]][0][0]) {\n\t\tcase 0x0401:\n\t\t\to = XTI[1] == -1 ? \"#REF\" : (supbooks.SheetNames[XTI[1]] || \"SH33TJSERR3\");\n\t\t\treturn XTI[1] == XTI[2] ? o : o + \":\" + supbooks.SheetNames[XTI[2]];\n\t\tcase 0x3A01: return supbooks[XTI[0]].slice(1).map(function(name) { return name.Name; }).join(\";;\"); //return \"SH33TJSERR8\";\n\t\tdefault:\n\t\t\tif(!supbooks[XTI[0]][0][3]) return \"SH33TJSERR2\";\n\t\t\to = XTI[1] == -1 ? \"#REF\" : (supbooks[XTI[0]][0][3][XTI[1]] || \"SH33TJSERR4\");\n\t\t\treturn XTI[1] == XTI[2] ? o : o + \":\" + supbooks[XTI[0]][0][3][XTI[2]];\n\t}\n}\nfunction get_ixti(supbooks, ixti/*:number*/, opts)/*:string*/ {\n\tvar ixtiraw = get_ixti_raw(supbooks, ixti, opts);\n\treturn ixtiraw == \"#REF\" ? ixtiraw : formula_quote_sheet_name(ixtiraw, opts);\n}\nfunction stringify_formula(formula/*Array<any>*/, range, cell/*:any*/, supbooks, opts)/*:string*/ {\n\tvar biff = (opts && opts.biff) || 8;\n\tvar _range = /*range != null ? range :*/ {s:{c:0, r:0},e:{c:0, r:0}};\n\tvar stack/*:Array<string>*/ = [], e1, e2, /*::type,*/ c/*:CellAddress*/, ixti=0, nameidx=0, r, sname=\"\";\n\tif(!formula[0] || !formula[0][0]) return \"\";\n\tvar last_sp = -1, sp = \"\";\n\tfor(var ff = 0, fflen = formula[0].length; ff < fflen; ++ff) {\n\t\tvar f = formula[0][ff];\n\t\tswitch(f[0]) {\n\t\t\tcase 'PtgUminus': /* [MS-XLS] 2.5.198.93 */\n\t\t\t\tstack.push(\"-\" + stack.pop()); break;\n\t\t\tcase 'PtgUplus': /* [MS-XLS] 2.5.198.95 */\n\t\t\t\tstack.push(\"+\" + stack.pop()); break;\n\t\t\tcase 'PtgPercent': /* [MS-XLS] 2.5.198.81 */\n\t\t\t\tstack.push(stack.pop() + \"%\"); break;\n\n\t\t\tcase 'PtgAdd':    /* [MS-XLS] 2.5.198.26 */\n\t\t\tcase 'PtgConcat': /* [MS-XLS] 2.5.198.43 */\n\t\t\tcase 'PtgDiv':    /* [MS-XLS] 2.5.198.45 */\n\t\t\tcase 'PtgEq':     /* [MS-XLS] 2.5.198.56 */\n\t\t\tcase 'PtgGe':     /* [MS-XLS] 2.5.198.64 */\n\t\t\tcase 'PtgGt':     /* [MS-XLS] 2.5.198.65 */\n\t\t\tcase 'PtgLe':     /* [MS-XLS] 2.5.198.68 */\n\t\t\tcase 'PtgLt':     /* [MS-XLS] 2.5.198.69 */\n\t\t\tcase 'PtgMul':    /* [MS-XLS] 2.5.198.75 */\n\t\t\tcase 'PtgNe':     /* [MS-XLS] 2.5.198.78 */\n\t\t\tcase 'PtgPower':  /* [MS-XLS] 2.5.198.82 */\n\t\t\tcase 'PtgSub':    /* [MS-XLS] 2.5.198.90 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tif(last_sp >= 0) {\n\t\t\t\t\tswitch(formula[0][last_sp][1][0]) {\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tsp = fill(\" \", formula[0][last_sp][1][1]); break;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tsp = fill(\"\\r\", formula[0][last_sp][1][1]); break;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tsp = \"\";\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tif(opts.WTF) throw new Error(\"Unexpected PtgAttrSpaceType \" + formula[0][last_sp][1][0]);\n\t\t\t\t\t}\n\t\t\t\t\te2 = e2 + sp;\n\t\t\t\t\tlast_sp = -1;\n\t\t\t\t}\n\t\t\t\tstack.push(e2+PtgBinOp[f[0]]+e1);\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgIsect': /* [MS-XLS] 2.5.198.67 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tstack.push(e2+\" \"+e1);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgUnion': /* [MS-XLS] 2.5.198.94 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tstack.push(e2+\",\"+e1);\n\t\t\t\tbreak;\n\t\t\tcase 'PtgRange': /* [MS-XLS] 2.5.198.83 */\n\t\t\t\te1 = stack.pop(); e2 = stack.pop();\n\t\t\t\tstack.push(e2+\":\"+e1);\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAttrChoose': /* [MS-XLS] 2.5.198.34 */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrGoto': /* [MS-XLS] 2.5.198.35 */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrIf': /* [MS-XLS] 2.5.198.36 */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrIfError': /* [MS-XLSB] 2.5.97.28 */\n\t\t\t\tbreak;\n\n\n\t\t\tcase 'PtgRef': /* [MS-XLS] 2.5.198.84 */\n\t\t\t\t/*::type = f[1][0]; */c = shift_cell_xls((f[1][1]/*:any*/), _range, opts);\n\t\t\t\tstack.push(encode_cell_xls(c, biff));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgRefN': /* [MS-XLS] 2.5.198.88 */\n\t\t\t\t/*::type = f[1][0]; */c = cell ? shift_cell_xls((f[1][1]/*:any*/), cell, opts) : (f[1][1]/*:any*/);\n\t\t\t\tstack.push(encode_cell_xls(c, biff));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgRef3d': /* [MS-XLS] 2.5.198.85 */\n\t\t\t\t/*::type = f[1][0]; */ixti = /*::Number(*/f[1][1]/*::)*/; c = shift_cell_xls((f[1][2]/*:any*/), _range, opts);\n\t\t\t\tsname = get_ixti(supbooks, ixti, opts);\n\t\t\t\tvar w = sname; /* IE9 fails on defined names */ // eslint-disable-line no-unused-vars\n\t\t\t\tstack.push(sname + \"!\" + encode_cell_xls(c, biff));\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgFunc': /* [MS-XLS] 2.5.198.62 */\n\t\t\tcase 'PtgFuncVar': /* [MS-XLS] 2.5.198.63 */\n\t\t\t\t/* f[1] = [argc, func, type] */\n\t\t\t\tvar argc/*:number*/ = (f[1][0]/*:any*/), func/*:string*/ = (f[1][1]/*:any*/);\n\t\t\t\tif(!argc) argc = 0;\n\t\t\t\targc &= 0x7F;\n\t\t\t\tvar args = argc == 0 ? [] : stack.slice(-argc);\n\t\t\t\tstack.length -= argc;\n\t\t\t\tif(func === 'User') func = args.shift();\n\t\t\t\tstack.push(func + \"(\" + args.join(\",\") + \")\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgBool': /* [MS-XLS] 2.5.198.42 */\n\t\t\t\tstack.push(f[1] ? \"TRUE\" : \"FALSE\"); break;\n\t\t\tcase 'PtgInt': /* [MS-XLS] 2.5.198.66 */\n\t\t\t\tstack.push(/*::String(*/f[1]/*::)*/); break;\n\t\t\tcase 'PtgNum': /* [MS-XLS] 2.5.198.79 TODO: precision? */\n\t\t\t\tstack.push(String(f[1])); break;\n\t\t\tcase 'PtgStr': /* [MS-XLS] 2.5.198.89 */\n\t\t\t\t// $FlowIgnore\n\t\t\t\tstack.push('\"' + f[1].replace(/\"/g, '\"\"') + '\"'); break;\n\t\t\tcase 'PtgErr': /* [MS-XLS] 2.5.198.57 */\n\t\t\t\tstack.push(/*::String(*/f[1]/*::)*/); break;\n\t\t\tcase 'PtgAreaN': /* [MS-XLS] 2.5.198.31 TODO */\n\t\t\t\t/*::type = f[1][0]; */r = shift_range_xls(f[1][1], cell ? {s:cell} : _range, opts);\n\t\t\t\tstack.push(encode_range_xls((r/*:any*/), opts));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgArea': /* [MS-XLS] 2.5.198.27 TODO: fixed points */\n\t\t\t\t/*::type = f[1][0]; */r = shift_range_xls(f[1][1], _range, opts);\n\t\t\t\tstack.push(encode_range_xls((r/*:any*/), opts));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgArea3d': /* [MS-XLS] 2.5.198.28 TODO */\n\t\t\t\t/*::type = f[1][0]; */ixti = /*::Number(*/f[1][1]/*::)*/; r = f[1][2];\n\t\t\t\tsname = get_ixti(supbooks, ixti, opts);\n\t\t\t\tstack.push(sname + \"!\" + encode_range_xls((r/*:any*/), opts));\n\t\t\t\tbreak;\n\t\t\tcase 'PtgAttrSum': /* [MS-XLS] 2.5.198.41 */\n\t\t\t\tstack.push(\"SUM(\" + stack.pop() + \")\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAttrBaxcel': /* [MS-XLS] 2.5.198.33 */\n\t\t\tcase 'PtgAttrSemi': /* [MS-XLS] 2.5.198.37 */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgName': /* [MS-XLS] 2.5.198.76 ; [MS-XLSB] 2.5.97.60 TODO: revisions */\n\t\t\t\t/* f[1] = type, 0, nameindex */\n\t\t\t\tnameidx = (f[1][2]/*:any*/);\n\t\t\t\tvar lbl = (supbooks.names||[])[nameidx-1] || (supbooks[0]||[])[nameidx];\n\t\t\t\tvar name = lbl ? lbl.Name : \"SH33TJSNAME\" + String(nameidx);\n\t\t\t\t/* [MS-XLSB] 2.5.97.10 Ftab -- last verified 20220204 */\n\t\t\t\tif(name && name.slice(0,6) == \"_xlfn.\" && !opts.xlfn) name = name.slice(6);\n\t\t\t\tstack.push(name);\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgNameX': /* [MS-XLS] 2.5.198.77 ; [MS-XLSB] 2.5.97.61 TODO: revisions */\n\t\t\t\t/* f[1] = type, ixti, nameindex */\n\t\t\t\tvar bookidx/*:number*/ = (f[1][1]/*:any*/); nameidx = (f[1][2]/*:any*/); var externbook;\n\t\t\t\t/* TODO: Properly handle missing values -- this should be using get_ixti_raw primarily */\n\t\t\t\tif(opts.biff <= 5) {\n\t\t\t\t\tif(bookidx < 0) bookidx = -bookidx;\n\t\t\t\t\tif(supbooks[bookidx]) externbook = supbooks[bookidx][nameidx];\n\t\t\t\t} else {\n\t\t\t\t\tvar o = \"\";\n\t\t\t\t\tif(((supbooks[bookidx]||[])[0]||[])[0] == 0x3A01){/* empty */}\n\t\t\t\t\telse if(((supbooks[bookidx]||[])[0]||[])[0] == 0x0401){\n\t\t\t\t\t\tif(supbooks[bookidx][nameidx] && supbooks[bookidx][nameidx].itab > 0) {\n\t\t\t\t\t\t\to = supbooks.SheetNames[supbooks[bookidx][nameidx].itab-1] + \"!\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse o = supbooks.SheetNames[nameidx-1]+ \"!\";\n\t\t\t\t\tif(supbooks[bookidx] && supbooks[bookidx][nameidx]) o += supbooks[bookidx][nameidx].Name;\n\t\t\t\t\telse if(supbooks[0] && supbooks[0][nameidx]) o += supbooks[0][nameidx].Name;\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar ixtidata = (get_ixti_raw(supbooks, bookidx, opts)||\"\").split(\";;\");\n\t\t\t\t\t\tif(ixtidata[nameidx - 1]) o = ixtidata[nameidx - 1]; // TODO: confirm this is correct\n\t\t\t\t\t\telse o += \"SH33TJSERRX\";\n\t\t\t\t\t}\n\t\t\t\t\tstack.push(o);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(!externbook) externbook = {Name: \"SH33TJSERRY\"};\n\t\t\t\tstack.push(externbook.Name);\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgParen': /* [MS-XLS] 2.5.198.80 */\n\t\t\t\tvar lp = '(', rp = ')';\n\t\t\t\tif(last_sp >= 0) {\n\t\t\t\t\tsp = \"\";\n\t\t\t\t\tswitch(formula[0][last_sp][1][0]) {\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 2: lp = fill(\" \", formula[0][last_sp][1][1]) + lp; break;\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 3: lp = fill(\"\\r\", formula[0][last_sp][1][1]) + lp; break;\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 4: rp = fill(\" \", formula[0][last_sp][1][1]) + rp; break;\n\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\tcase 5: rp = fill(\"\\r\", formula[0][last_sp][1][1]) + rp; break;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\t\t\tif(opts.WTF) throw new Error(\"Unexpected PtgAttrSpaceType \" + formula[0][last_sp][1][0]);\n\t\t\t\t\t}\n\t\t\t\t\tlast_sp = -1;\n\t\t\t\t}\n\t\t\t\tstack.push(lp + stack.pop() + rp); break;\n\n\t\t\tcase 'PtgRefErr': /* [MS-XLS] 2.5.198.86 */\n\t\t\t\tstack.push('#REF!'); break;\n\n\t\t\tcase 'PtgRefErr3d': /* [MS-XLS] 2.5.198.87 */\n\t\t\t\tstack.push('#REF!'); break;\n\n\t\t\tcase 'PtgExp': /* [MS-XLS] 2.5.198.58 TODO */\n\t\t\t\tc = {c:(f[1][1]/*:any*/),r:(f[1][0]/*:any*/)};\n\t\t\t\tvar q = ({c: cell.c, r:cell.r}/*:any*/);\n\t\t\t\tif(supbooks.sharedf[encode_cell(c)]) {\n\t\t\t\t\tvar parsedf = (supbooks.sharedf[encode_cell(c)]);\n\t\t\t\t\tstack.push(stringify_formula(parsedf, _range, q, supbooks, opts));\n\t\t\t\t} else {\n\t\t\t\t\tvar fnd = false;\n\t\t\t\t\tfor(e1=0;e1!=supbooks.arrayf.length; ++e1) {\n\t\t\t\t\t\t/* TODO: should be something like range_has */\n\t\t\t\t\t\te2 = supbooks.arrayf[e1];\n\t\t\t\t\t\tif(c.c < e2[0].s.c || c.c > e2[0].e.c) continue;\n\t\t\t\t\t\tif(c.r < e2[0].s.r || c.r > e2[0].e.r) continue;\n\t\t\t\t\t\tstack.push(stringify_formula(e2[1], _range, q, supbooks, opts));\n\t\t\t\t\t\tfnd = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(!fnd) stack.push(/*::String(*/f[1]/*::)*/);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgArray': /* [MS-XLS] 2.5.198.32 TODO */\n\t\t\t\tstack.push(\"{\" + stringify_array(/*::(*/f[1]/*:: :any)*/) + \"}\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemArea': /* [MS-XLS] 2.5.198.70 TODO: confirm this is a non-display */\n\t\t\t\t//stack.push(\"(\" + f[2].map(encode_range).join(\",\") + \")\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAttrSpace': /* [MS-XLS] 2.5.198.38 */\n\t\t\tcase 'PtgAttrSpaceSemi': /* [MS-XLS] 2.5.198.39 */\n\t\t\t\tlast_sp = ff;\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgTbl': /* [MS-XLS] 2.5.198.92 TODO */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemErr': /* [MS-XLS] 2.5.198.71 */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMissArg': /* [MS-XLS] 2.5.198.74 */\n\t\t\t\tstack.push(\"\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgAreaErr': /* [MS-XLS] 2.5.198.29 */\n\t\t\t\tstack.push(\"#REF!\"); break;\n\n\t\t\tcase 'PtgAreaErr3d': /* [MS-XLS] 2.5.198.30 */\n\t\t\t\tstack.push(\"#REF!\"); break;\n\n\t\t\tcase 'PtgList': /* [MS-XLSB] 2.5.97.52 */\n\t\t\t\t// $FlowIgnore\n\t\t\t\tstack.push(\"Table\" + f[1].idx + \"[#\" + f[1].rt + \"]\");\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemAreaN':\n\t\t\tcase 'PtgMemNoMemN':\n\t\t\tcase 'PtgAttrNoop':\n\t\t\tcase 'PtgSheet':\n\t\t\tcase 'PtgEndSheet':\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgMemFunc': /* [MS-XLS] 2.5.198.72 TODO */\n\t\t\t\tbreak;\n\t\t\tcase 'PtgMemNoMem': /* [MS-XLS] 2.5.198.73 TODO */\n\t\t\t\tbreak;\n\n\t\t\tcase 'PtgElfCol': /* [MS-XLS] 2.5.198.46 */\n\t\t\tcase 'PtgElfColS': /* [MS-XLS] 2.5.198.47 */\n\t\t\tcase 'PtgElfColSV': /* [MS-XLS] 2.5.198.48 */\n\t\t\tcase 'PtgElfColV': /* [MS-XLS] 2.5.198.49 */\n\t\t\tcase 'PtgElfLel': /* [MS-XLS] 2.5.198.50 */\n\t\t\tcase 'PtgElfRadical': /* [MS-XLS] 2.5.198.51 */\n\t\t\tcase 'PtgElfRadicalLel': /* [MS-XLS] 2.5.198.52 */\n\t\t\tcase 'PtgElfRadicalS': /* [MS-XLS] 2.5.198.53 */\n\t\t\tcase 'PtgElfRw': /* [MS-XLS] 2.5.198.54 */\n\t\t\tcase 'PtgElfRwV': /* [MS-XLS] 2.5.198.55 */\n\t\t\t\tthrow new Error(\"Unsupported ELFs\");\n\n\t\t\tcase 'PtgSxName': /* [MS-XLS] 2.5.198.91 TODO -- find a test case */\n\t\t\t\tthrow new Error('Unrecognized Formula Token: ' + String(f));\n\t\t\tdefault: throw new Error('Unrecognized Formula Token: ' + String(f));\n\t\t}\n\t\tvar PtgNonDisp = ['PtgAttrSpace', 'PtgAttrSpaceSemi', 'PtgAttrGoto'];\n\t\tif(opts.biff != 3) if(last_sp >= 0 && PtgNonDisp.indexOf(formula[0][ff][0]) == -1) {\n\t\t\tf = formula[0][last_sp];\n\t\t\tvar _left = true;\n\t\t\tswitch(f[1][0]) {\n\t\t\t\t/* note: some bad XLSB files omit the PtgParen */\n\t\t\t\tcase 4: _left = false;\n\t\t\t\t/* falls through */\n\t\t\t\tcase 0:\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tsp = fill(\" \", f[1][1]); break;\n\t\t\t\tcase 5: _left = false;\n\t\t\t\t/* falls through */\n\t\t\t\tcase 1:\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tsp = fill(\"\\r\", f[1][1]); break;\n\t\t\t\tdefault:\n\t\t\t\t\tsp = \"\";\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tif(opts.WTF) throw new Error(\"Unexpected PtgAttrSpaceType \" + f[1][0]);\n\t\t\t}\n\t\t\tstack.push((_left ? sp : \"\") + stack.pop() + (_left ? \"\" : sp));\n\t\t\tlast_sp = -1;\n\t\t}\n\t}\n\tif(stack.length > 1 && opts.WTF) throw new Error(\"bad formula stack\");\n\treturn stack[0];\n}\n\n/* [MS-XLS] 2.5.198.1 TODO */\nfunction parse_ArrayParsedFormula(blob, length, opts/*::, ref*/) {\n\tvar target = blob.l + length, len = opts.biff == 2 ? 1 : 2;\n\tvar rgcb, cce = blob.read_shift(len); // length of rgce\n\tif(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tif(length !== cce + len) rgcb = parse_RgbExtra(blob, length - cce - len, rgce, opts);\n\tblob.l = target;\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.198.3 TODO */\nfunction parse_XLSCellParsedFormula(blob, length, opts) {\n\tvar target = blob.l + length, len = opts.biff == 2 ? 1 : 2;\n\tvar rgcb, cce = blob.read_shift(len); // length of rgce\n\tif(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tif(length !== cce + len) rgcb = parse_RgbExtra(blob, length - cce - len, rgce, opts);\n\tblob.l = target;\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.198.21 */\nfunction parse_NameParsedFormula(blob, length, opts, cce) {\n\tvar target = blob.l + length;\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tvar rgcb;\n\tif(target !== blob.l) rgcb = parse_RgbExtra(blob, target - blob.l, rgce, opts);\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.198.118 TODO */\nfunction parse_SharedParsedFormula(blob, length, opts) {\n\tvar target = blob.l + length;\n\tvar rgcb, cce = blob.read_shift(2); // length of rgce\n\tvar rgce = parse_Rgce(blob, cce, opts);\n\tif(cce == 0xFFFF) return [[],parsenoop(blob, length-2)];\n\tif(length !== cce + 2) rgcb = parse_RgbExtra(blob, target - cce - 2, rgce, opts);\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLS] 2.5.133 TODO: how to emit empty strings? */\nfunction parse_FormulaValue(blob/*::, length*/) {\n\tvar b;\n\tif(__readUInt16LE(blob,blob.l + 6) !== 0xFFFF) return [parse_Xnum(blob),'n'];\n\tswitch(blob[blob.l]) {\n\t\tcase 0x00: blob.l += 8; return [\"String\", 's'];\n\t\tcase 0x01: b = blob[blob.l+2] === 0x1; blob.l += 8; return [b,'b'];\n\t\tcase 0x02: b = blob[blob.l+2]; blob.l += 8; return [b,'e'];\n\t\tcase 0x03: blob.l += 8; return [\"\",'s'];\n\t}\n\treturn [];\n}\nfunction write_FormulaValue(value) {\n\tif(value == null) {\n\t\t// Blank String Value\n\t\tvar o = new_buf(8);\n\t\to.write_shift(1, 0x03);\n\t\to.write_shift(1, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0);\n\t\to.write_shift(2, 0xFFFF);\n\t\treturn o;\n\t} else if(typeof value == \"number\") return write_Xnum(value);\n\treturn write_Xnum(0);\n}\n\n/* [MS-XLS] 2.4.127 TODO */\nfunction parse_Formula(blob, length, opts) {\n\tvar end = blob.l + length;\n\tvar cell = parse_XLSCell(blob, 6);\n\tif(opts.biff == 2) ++blob.l;\n\tvar val = parse_FormulaValue(blob,8);\n\tvar flags = blob.read_shift(1);\n\tif(opts.biff != 2) {\n\t\tblob.read_shift(1);\n\t\tif(opts.biff >= 5) {\n\t\t\t/*var chn = */blob.read_shift(4);\n\t\t}\n\t}\n\tvar cbf = parse_XLSCellParsedFormula(blob, end - blob.l, opts);\n\treturn {cell:cell, val:val[0], formula:cbf, shared: (flags >> 3) & 1, tt:val[1]};\n}\nfunction write_Formula(cell/*:Cell*/, R/*:number*/, C/*:number*/, opts, os/*:number*/) {\n\t// Cell\n\tvar o1 = write_XLSCell(R, C, os);\n\n\t// FormulaValue\n\tvar o2 = write_FormulaValue(cell.v);\n\n\t// flags + cache\n\tvar o3 = new_buf(6);\n\tvar flags = 0x01 | 0x20;\n\to3.write_shift(2, flags);\n\to3.write_shift(4, 0);\n\n\t// CellParsedFormula\n\tvar bf = new_buf(cell.bf.length);\n\tfor(var i = 0; i < cell.bf.length; ++i) bf[i] = cell.bf[i];\n\n\tvar out = bconcat([o1, o2, o3, bf]);\n\treturn out;\n}\n\n\n/* XLSB Parsed Formula records have the same shape */\nfunction parse_XLSBParsedFormula(data, length, opts) {\n\tvar cce = data.read_shift(4);\n\tvar rgce = parse_Rgce(data, cce, opts);\n\tvar cb = data.read_shift(4);\n\tvar rgcb = cb > 0 ? parse_RgbExtra(data, cb, rgce, opts) : null;\n\treturn [rgce, rgcb];\n}\n\n/* [MS-XLSB] 2.5.97.1 ArrayParsedFormula */\nvar parse_XLSBArrayParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.4 CellParsedFormula */\nvar parse_XLSBCellParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.8 DVParsedFormula */\n//var parse_XLSBDVParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.9 FRTParsedFormula */\n//var parse_XLSBFRTParsedFormula = parse_XLSBParsedFormula2;\n/* [MS-XLSB] 2.5.97.12 NameParsedFormula */\nvar parse_XLSBNameParsedFormula = parse_XLSBParsedFormula;\n/* [MS-XLSB] 2.5.97.98 SharedParsedFormula */\nvar parse_XLSBSharedParsedFormula = parse_XLSBParsedFormula;\nvar Cetab = {\n  0: \"BEEP\",\n  1: \"OPEN\",\n  2: \"OPEN.LINKS\",\n  3: \"CLOSE.ALL\",\n  4: \"SAVE\",\n  5: \"SAVE.AS\",\n  6: \"FILE.DELETE\",\n  7: \"PAGE.SETUP\",\n  8: \"PRINT\",\n  9: \"PRINTER.SETUP\",\n  10: \"QUIT\",\n  11: \"NEW.WINDOW\",\n  12: \"ARRANGE.ALL\",\n  13: \"WINDOW.SIZE\",\n  14: \"WINDOW.MOVE\",\n  15: \"FULL\",\n  16: \"CLOSE\",\n  17: \"RUN\",\n  22: \"SET.PRINT.AREA\",\n  23: \"SET.PRINT.TITLES\",\n  24: \"SET.PAGE.BREAK\",\n  25: \"REMOVE.PAGE.BREAK\",\n  26: \"FONT\",\n  27: \"DISPLAY\",\n  28: \"PROTECT.DOCUMENT\",\n  29: \"PRECISION\",\n  30: \"A1.R1C1\",\n  31: \"CALCULATE.NOW\",\n  32: \"CALCULATION\",\n  34: \"DATA.FIND\",\n  35: \"EXTRACT\",\n  36: \"DATA.DELETE\",\n  37: \"SET.DATABASE\",\n  38: \"SET.CRITERIA\",\n  39: \"SORT\",\n  40: \"DATA.SERIES\",\n  41: \"TABLE\",\n  42: \"FORMAT.NUMBER\",\n  43: \"ALIGNMENT\",\n  44: \"STYLE\",\n  45: \"BORDER\",\n  46: \"CELL.PROTECTION\",\n  47: \"COLUMN.WIDTH\",\n  48: \"UNDO\",\n  49: \"CUT\",\n  50: \"COPY\",\n  51: \"PASTE\",\n  52: \"CLEAR\",\n  53: \"PASTE.SPECIAL\",\n  54: \"EDIT.DELETE\",\n  55: \"INSERT\",\n  56: \"FILL.RIGHT\",\n  57: \"FILL.DOWN\",\n  61: \"DEFINE.NAME\",\n  62: \"CREATE.NAMES\",\n  63: \"FORMULA.GOTO\",\n  64: \"FORMULA.FIND\",\n  65: \"SELECT.LAST.CELL\",\n  66: \"SHOW.ACTIVE.CELL\",\n  67: \"GALLERY.AREA\",\n  68: \"GALLERY.BAR\",\n  69: \"GALLERY.COLUMN\",\n  70: \"GALLERY.LINE\",\n  71: \"GALLERY.PIE\",\n  72: \"GALLERY.SCATTER\",\n  73: \"COMBINATION\",\n  74: \"PREFERRED\",\n  75: \"ADD.OVERLAY\",\n  76: \"GRIDLINES\",\n  77: \"SET.PREFERRED\",\n  78: \"AXES\",\n  79: \"LEGEND\",\n  80: \"ATTACH.TEXT\",\n  81: \"ADD.ARROW\",\n  82: \"SELECT.CHART\",\n  83: \"SELECT.PLOT.AREA\",\n  84: \"PATTERNS\",\n  85: \"MAIN.CHART\",\n  86: \"OVERLAY\",\n  87: \"SCALE\",\n  88: \"FORMAT.LEGEND\",\n  89: \"FORMAT.TEXT\",\n  90: \"EDIT.REPEAT\",\n  91: \"PARSE\",\n  92: \"JUSTIFY\",\n  93: \"HIDE\",\n  94: \"UNHIDE\",\n  95: \"WORKSPACE\",\n  96: \"FORMULA\",\n  97: \"FORMULA.FILL\",\n  98: \"FORMULA.ARRAY\",\n  99: \"DATA.FIND.NEXT\",\n  100: \"DATA.FIND.PREV\",\n  101: \"FORMULA.FIND.NEXT\",\n  102: \"FORMULA.FIND.PREV\",\n  103: \"ACTIVATE\",\n  104: \"ACTIVATE.NEXT\",\n  105: \"ACTIVATE.PREV\",\n  106: \"UNLOCKED.NEXT\",\n  107: \"UNLOCKED.PREV\",\n  108: \"COPY.PICTURE\",\n  109: \"SELECT\",\n  110: \"DELETE.NAME\",\n  111: \"DELETE.FORMAT\",\n  112: \"VLINE\",\n  113: \"HLINE\",\n  114: \"VPAGE\",\n  115: \"HPAGE\",\n  116: \"VSCROLL\",\n  117: \"HSCROLL\",\n  118: \"ALERT\",\n  119: \"NEW\",\n  120: \"CANCEL.COPY\",\n  121: \"SHOW.CLIPBOARD\",\n  122: \"MESSAGE\",\n  124: \"PASTE.LINK\",\n  125: \"APP.ACTIVATE\",\n  126: \"DELETE.ARROW\",\n  127: \"ROW.HEIGHT\",\n  128: \"FORMAT.MOVE\",\n  129: \"FORMAT.SIZE\",\n  130: \"FORMULA.REPLACE\",\n  131: \"SEND.KEYS\",\n  132: \"SELECT.SPECIAL\",\n  133: \"APPLY.NAMES\",\n  134: \"REPLACE.FONT\",\n  135: \"FREEZE.PANES\",\n  136: \"SHOW.INFO\",\n  137: \"SPLIT\",\n  138: \"ON.WINDOW\",\n  139: \"ON.DATA\",\n  140: \"DISABLE.INPUT\",\n  142: \"OUTLINE\",\n  143: \"LIST.NAMES\",\n  144: \"FILE.CLOSE\",\n  145: \"SAVE.WORKBOOK\",\n  146: \"DATA.FORM\",\n  147: \"COPY.CHART\",\n  148: \"ON.TIME\",\n  149: \"WAIT\",\n  150: \"FORMAT.FONT\",\n  151: \"FILL.UP\",\n  152: \"FILL.LEFT\",\n  153: \"DELETE.OVERLAY\",\n  155: \"SHORT.MENUS\",\n  159: \"SET.UPDATE.STATUS\",\n  161: \"COLOR.PALETTE\",\n  162: \"DELETE.STYLE\",\n  163: \"WINDOW.RESTORE\",\n  164: \"WINDOW.MAXIMIZE\",\n  166: \"CHANGE.LINK\",\n  167: \"CALCULATE.DOCUMENT\",\n  168: \"ON.KEY\",\n  169: \"APP.RESTORE\",\n  170: \"APP.MOVE\",\n  171: \"APP.SIZE\",\n  172: \"APP.MINIMIZE\",\n  173: \"APP.MAXIMIZE\",\n  174: \"BRING.TO.FRONT\",\n  175: \"SEND.TO.BACK\",\n  185: \"MAIN.CHART.TYPE\",\n  186: \"OVERLAY.CHART.TYPE\",\n  187: \"SELECT.END\",\n  188: \"OPEN.MAIL\",\n  189: \"SEND.MAIL\",\n  190: \"STANDARD.FONT\",\n  191: \"CONSOLIDATE\",\n  192: \"SORT.SPECIAL\",\n  193: \"GALLERY.3D.AREA\",\n  194: \"GALLERY.3D.COLUMN\",\n  195: \"GALLERY.3D.LINE\",\n  196: \"GALLERY.3D.PIE\",\n  197: \"VIEW.3D\",\n  198: \"GOAL.SEEK\",\n  199: \"WORKGROUP\",\n  200: \"FILL.GROUP\",\n  201: \"UPDATE.LINK\",\n  202: \"PROMOTE\",\n  203: \"DEMOTE\",\n  204: \"SHOW.DETAIL\",\n  206: \"UNGROUP\",\n  207: \"OBJECT.PROPERTIES\",\n  208: \"SAVE.NEW.OBJECT\",\n  209: \"SHARE\",\n  210: \"SHARE.NAME\",\n  211: \"DUPLICATE\",\n  212: \"APPLY.STYLE\",\n  213: \"ASSIGN.TO.OBJECT\",\n  214: \"OBJECT.PROTECTION\",\n  215: \"HIDE.OBJECT\",\n  216: \"SET.EXTRACT\",\n  217: \"CREATE.PUBLISHER\",\n  218: \"SUBSCRIBE.TO\",\n  219: \"ATTRIBUTES\",\n  220: \"SHOW.TOOLBAR\",\n  222: \"PRINT.PREVIEW\",\n  223: \"EDIT.COLOR\",\n  224: \"SHOW.LEVELS\",\n  225: \"FORMAT.MAIN\",\n  226: \"FORMAT.OVERLAY\",\n  227: \"ON.RECALC\",\n  228: \"EDIT.SERIES\",\n  229: \"DEFINE.STYLE\",\n  240: \"LINE.PRINT\",\n  243: \"ENTER.DATA\",\n  249: \"GALLERY.RADAR\",\n  250: \"MERGE.STYLES\",\n  251: \"EDITION.OPTIONS\",\n  252: \"PASTE.PICTURE\",\n  253: \"PASTE.PICTURE.LINK\",\n  254: \"SPELLING\",\n  256: \"ZOOM\",\n  259: \"INSERT.OBJECT\",\n  260: \"WINDOW.MINIMIZE\",\n  265: \"SOUND.NOTE\",\n  266: \"SOUND.PLAY\",\n  267: \"FORMAT.SHAPE\",\n  268: \"EXTEND.POLYGON\",\n  269: \"FORMAT.AUTO\",\n  272: \"GALLERY.3D.BAR\",\n  273: \"GALLERY.3D.SURFACE\",\n  274: \"FILL.AUTO\",\n  276: \"CUSTOMIZE.TOOLBAR\",\n  277: \"ADD.TOOL\",\n  278: \"EDIT.OBJECT\",\n  279: \"ON.DOUBLECLICK\",\n  280: \"ON.ENTRY\",\n  281: \"WORKBOOK.ADD\",\n  282: \"WORKBOOK.MOVE\",\n  283: \"WORKBOOK.COPY\",\n  284: \"WORKBOOK.OPTIONS\",\n  285: \"SAVE.WORKSPACE\",\n  288: \"CHART.WIZARD\",\n  289: \"DELETE.TOOL\",\n  290: \"MOVE.TOOL\",\n  291: \"WORKBOOK.SELECT\",\n  292: \"WORKBOOK.ACTIVATE\",\n  293: \"ASSIGN.TO.TOOL\",\n  295: \"COPY.TOOL\",\n  296: \"RESET.TOOL\",\n  297: \"CONSTRAIN.NUMERIC\",\n  298: \"PASTE.TOOL\",\n  302: \"WORKBOOK.NEW\",\n  305: \"SCENARIO.CELLS\",\n  306: \"SCENARIO.DELETE\",\n  307: \"SCENARIO.ADD\",\n  308: \"SCENARIO.EDIT\",\n  309: \"SCENARIO.SHOW\",\n  310: \"SCENARIO.SHOW.NEXT\",\n  311: \"SCENARIO.SUMMARY\",\n  312: \"PIVOT.TABLE.WIZARD\",\n  313: \"PIVOT.FIELD.PROPERTIES\",\n  314: \"PIVOT.FIELD\",\n  315: \"PIVOT.ITEM\",\n  316: \"PIVOT.ADD.FIELDS\",\n  318: \"OPTIONS.CALCULATION\",\n  319: \"OPTIONS.EDIT\",\n  320: \"OPTIONS.VIEW\",\n  321: \"ADDIN.MANAGER\",\n  322: \"MENU.EDITOR\",\n  323: \"ATTACH.TOOLBARS\",\n  324: \"VBAActivate\",\n  325: \"OPTIONS.CHART\",\n  328: \"VBA.INSERT.FILE\",\n  330: \"VBA.PROCEDURE.DEFINITION\",\n  336: \"ROUTING.SLIP\",\n  338: \"ROUTE.DOCUMENT\",\n  339: \"MAIL.LOGON\",\n  342: \"INSERT.PICTURE\",\n  343: \"EDIT.TOOL\",\n  344: \"GALLERY.DOUGHNUT\",\n  350: \"CHART.TREND\",\n  352: \"PIVOT.ITEM.PROPERTIES\",\n  354: \"WORKBOOK.INSERT\",\n  355: \"OPTIONS.TRANSITION\",\n  356: \"OPTIONS.GENERAL\",\n  370: \"FILTER.ADVANCED\",\n  373: \"MAIL.ADD.MAILER\",\n  374: \"MAIL.DELETE.MAILER\",\n  375: \"MAIL.REPLY\",\n  376: \"MAIL.REPLY.ALL\",\n  377: \"MAIL.FORWARD\",\n  378: \"MAIL.NEXT.LETTER\",\n  379: \"DATA.LABEL\",\n  380: \"INSERT.TITLE\",\n  381: \"FONT.PROPERTIES\",\n  382: \"MACRO.OPTIONS\",\n  383: \"WORKBOOK.HIDE\",\n  384: \"WORKBOOK.UNHIDE\",\n  385: \"WORKBOOK.DELETE\",\n  386: \"WORKBOOK.NAME\",\n  388: \"GALLERY.CUSTOM\",\n  390: \"ADD.CHART.AUTOFORMAT\",\n  391: \"DELETE.CHART.AUTOFORMAT\",\n  392: \"CHART.ADD.DATA\",\n  393: \"AUTO.OUTLINE\",\n  394: \"TAB.ORDER\",\n  395: \"SHOW.DIALOG\",\n  396: \"SELECT.ALL\",\n  397: \"UNGROUP.SHEETS\",\n  398: \"SUBTOTAL.CREATE\",\n  399: \"SUBTOTAL.REMOVE\",\n  400: \"RENAME.OBJECT\",\n  412: \"WORKBOOK.SCROLL\",\n  413: \"WORKBOOK.NEXT\",\n  414: \"WORKBOOK.PREV\",\n  415: \"WORKBOOK.TAB.SPLIT\",\n  416: \"FULL.SCREEN\",\n  417: \"WORKBOOK.PROTECT\",\n  420: \"SCROLLBAR.PROPERTIES\",\n  421: \"PIVOT.SHOW.PAGES\",\n  422: \"TEXT.TO.COLUMNS\",\n  423: \"FORMAT.CHARTTYPE\",\n  424: \"LINK.FORMAT\",\n  425: \"TRACER.DISPLAY\",\n  430: \"TRACER.NAVIGATE\",\n  431: \"TRACER.CLEAR\",\n  432: \"TRACER.ERROR\",\n  433: \"PIVOT.FIELD.GROUP\",\n  434: \"PIVOT.FIELD.UNGROUP\",\n  435: \"CHECKBOX.PROPERTIES\",\n  436: \"LABEL.PROPERTIES\",\n  437: \"LISTBOX.PROPERTIES\",\n  438: \"EDITBOX.PROPERTIES\",\n  439: \"PIVOT.REFRESH\",\n  440: \"LINK.COMBO\",\n  441: \"OPEN.TEXT\",\n  442: \"HIDE.DIALOG\",\n  443: \"SET.DIALOG.FOCUS\",\n  444: \"ENABLE.OBJECT\",\n  445: \"PUSHBUTTON.PROPERTIES\",\n  446: \"SET.DIALOG.DEFAULT\",\n  447: \"FILTER\",\n  448: \"FILTER.SHOW.ALL\",\n  449: \"CLEAR.OUTLINE\",\n  450: \"FUNCTION.WIZARD\",\n  451: \"ADD.LIST.ITEM\",\n  452: \"SET.LIST.ITEM\",\n  453: \"REMOVE.LIST.ITEM\",\n  454: \"SELECT.LIST.ITEM\",\n  455: \"SET.CONTROL.VALUE\",\n  456: \"SAVE.COPY.AS\",\n  458: \"OPTIONS.LISTS.ADD\",\n  459: \"OPTIONS.LISTS.DELETE\",\n  460: \"SERIES.AXES\",\n  461: \"SERIES.X\",\n  462: \"SERIES.Y\",\n  463: \"ERRORBAR.X\",\n  464: \"ERRORBAR.Y\",\n  465: \"FORMAT.CHART\",\n  466: \"SERIES.ORDER\",\n  467: \"MAIL.LOGOFF\",\n  468: \"CLEAR.ROUTING.SLIP\",\n  469: \"APP.ACTIVATE.MICROSOFT\",\n  470: \"MAIL.EDIT.MAILER\",\n  471: \"ON.SHEET\",\n  472: \"STANDARD.WIDTH\",\n  473: \"SCENARIO.MERGE\",\n  474: \"SUMMARY.INFO\",\n  475: \"FIND.FILE\",\n  476: \"ACTIVE.CELL.FONT\",\n  477: \"ENABLE.TIPWIZARD\",\n  478: \"VBA.MAKE.ADDIN\",\n  480: \"INSERTDATATABLE\",\n  481: \"WORKGROUP.OPTIONS\",\n  482: \"MAIL.SEND.MAILER\",\n  485: \"AUTOCORRECT\",\n  489: \"POST.DOCUMENT\",\n  491: \"PICKLIST\",\n  493: \"VIEW.SHOW\",\n  494: \"VIEW.DEFINE\",\n  495: \"VIEW.DELETE\",\n  509: \"SHEET.BACKGROUND\",\n  510: \"INSERT.MAP.OBJECT\",\n  511: \"OPTIONS.MENONO\",\n  517: \"MSOCHECKS\",\n  518: \"NORMAL\",\n  519: \"LAYOUT\",\n  520: \"RM.PRINT.AREA\",\n  521: \"CLEAR.PRINT.AREA\",\n  522: \"ADD.PRINT.AREA\",\n  523: \"MOVE.BRK\",\n  545: \"HIDECURR.NOTE\",\n  546: \"HIDEALL.NOTES\",\n  547: \"DELETE.NOTE\",\n  548: \"TRAVERSE.NOTES\",\n  549: \"ACTIVATE.NOTES\",\n  620: \"PROTECT.REVISIONS\",\n  621: \"UNPROTECT.REVISIONS\",\n  647: \"OPTIONS.ME\",\n  653: \"WEB.PUBLISH\",\n  667: \"NEWWEBQUERY\",\n  673: \"PIVOT.TABLE.CHART\",\n  753: \"OPTIONS.SAVE\",\n  755: \"OPTIONS.SPELL\",\n  808: \"HIDEALL.INKANNOTS\"\n};\nvar Ftab = {\n  0: \"COUNT\",\n  1: \"IF\",\n  2: \"ISNA\",\n  3: \"ISERROR\",\n  4: \"SUM\",\n  5: \"AVERAGE\",\n  6: \"MIN\",\n  7: \"MAX\",\n  8: \"ROW\",\n  9: \"COLUMN\",\n  10: \"NA\",\n  11: \"NPV\",\n  12: \"STDEV\",\n  13: \"DOLLAR\",\n  14: \"FIXED\",\n  15: \"SIN\",\n  16: \"COS\",\n  17: \"TAN\",\n  18: \"ATAN\",\n  19: \"PI\",\n  20: \"SQRT\",\n  21: \"EXP\",\n  22: \"LN\",\n  23: \"LOG10\",\n  24: \"ABS\",\n  25: \"INT\",\n  26: \"SIGN\",\n  27: \"ROUND\",\n  28: \"LOOKUP\",\n  29: \"INDEX\",\n  30: \"REPT\",\n  31: \"MID\",\n  32: \"LEN\",\n  33: \"VALUE\",\n  34: \"TRUE\",\n  35: \"FALSE\",\n  36: \"AND\",\n  37: \"OR\",\n  38: \"NOT\",\n  39: \"MOD\",\n  40: \"DCOUNT\",\n  41: \"DSUM\",\n  42: \"DAVERAGE\",\n  43: \"DMIN\",\n  44: \"DMAX\",\n  45: \"DSTDEV\",\n  46: \"VAR\",\n  47: \"DVAR\",\n  48: \"TEXT\",\n  49: \"LINEST\",\n  50: \"TREND\",\n  51: \"LOGEST\",\n  52: \"GROWTH\",\n  53: \"GOTO\",\n  54: \"HALT\",\n  55: \"RETURN\",\n  56: \"PV\",\n  57: \"FV\",\n  58: \"NPER\",\n  59: \"PMT\",\n  60: \"RATE\",\n  61: \"MIRR\",\n  62: \"IRR\",\n  63: \"RAND\",\n  64: \"MATCH\",\n  65: \"DATE\",\n  66: \"TIME\",\n  67: \"DAY\",\n  68: \"MONTH\",\n  69: \"YEAR\",\n  70: \"WEEKDAY\",\n  71: \"HOUR\",\n  72: \"MINUTE\",\n  73: \"SECOND\",\n  74: \"NOW\",\n  75: \"AREAS\",\n  76: \"ROWS\",\n  77: \"COLUMNS\",\n  78: \"OFFSET\",\n  79: \"ABSREF\",\n  80: \"RELREF\",\n  81: \"ARGUMENT\",\n  82: \"SEARCH\",\n  83: \"TRANSPOSE\",\n  84: \"ERROR\",\n  85: \"STEP\",\n  86: \"TYPE\",\n  87: \"ECHO\",\n  88: \"SET.NAME\",\n  89: \"CALLER\",\n  90: \"DEREF\",\n  91: \"WINDOWS\",\n  92: \"SERIES\",\n  93: \"DOCUMENTS\",\n  94: \"ACTIVE.CELL\",\n  95: \"SELECTION\",\n  96: \"RESULT\",\n  97: \"ATAN2\",\n  98: \"ASIN\",\n  99: \"ACOS\",\n  100: \"CHOOSE\",\n  101: \"HLOOKUP\",\n  102: \"VLOOKUP\",\n  103: \"LINKS\",\n  104: \"INPUT\",\n  105: \"ISREF\",\n  106: \"GET.FORMULA\",\n  107: \"GET.NAME\",\n  108: \"SET.VALUE\",\n  109: \"LOG\",\n  110: \"EXEC\",\n  111: \"CHAR\",\n  112: \"LOWER\",\n  113: \"UPPER\",\n  114: \"PROPER\",\n  115: \"LEFT\",\n  116: \"RIGHT\",\n  117: \"EXACT\",\n  118: \"TRIM\",\n  119: \"REPLACE\",\n  120: \"SUBSTITUTE\",\n  121: \"CODE\",\n  122: \"NAMES\",\n  123: \"DIRECTORY\",\n  124: \"FIND\",\n  125: \"CELL\",\n  126: \"ISERR\",\n  127: \"ISTEXT\",\n  128: \"ISNUMBER\",\n  129: \"ISBLANK\",\n  130: \"T\",\n  131: \"N\",\n  132: \"FOPEN\",\n  133: \"FCLOSE\",\n  134: \"FSIZE\",\n  135: \"FREADLN\",\n  136: \"FREAD\",\n  137: \"FWRITELN\",\n  138: \"FWRITE\",\n  139: \"FPOS\",\n  140: \"DATEVALUE\",\n  141: \"TIMEVALUE\",\n  142: \"SLN\",\n  143: \"SYD\",\n  144: \"DDB\",\n  145: \"GET.DEF\",\n  146: \"REFTEXT\",\n  147: \"TEXTREF\",\n  148: \"INDIRECT\",\n  149: \"REGISTER\",\n  150: \"CALL\",\n  151: \"ADD.BAR\",\n  152: \"ADD.MENU\",\n  153: \"ADD.COMMAND\",\n  154: \"ENABLE.COMMAND\",\n  155: \"CHECK.COMMAND\",\n  156: \"RENAME.COMMAND\",\n  157: \"SHOW.BAR\",\n  158: \"DELETE.MENU\",\n  159: \"DELETE.COMMAND\",\n  160: \"GET.CHART.ITEM\",\n  161: \"DIALOG.BOX\",\n  162: \"CLEAN\",\n  163: \"MDETERM\",\n  164: \"MINVERSE\",\n  165: \"MMULT\",\n  166: \"FILES\",\n  167: \"IPMT\",\n  168: \"PPMT\",\n  169: \"COUNTA\",\n  170: \"CANCEL.KEY\",\n  171: \"FOR\",\n  172: \"WHILE\",\n  173: \"BREAK\",\n  174: \"NEXT\",\n  175: \"INITIATE\",\n  176: \"REQUEST\",\n  177: \"POKE\",\n  178: \"EXECUTE\",\n  179: \"TERMINATE\",\n  180: \"RESTART\",\n  181: \"HELP\",\n  182: \"GET.BAR\",\n  183: \"PRODUCT\",\n  184: \"FACT\",\n  185: \"GET.CELL\",\n  186: \"GET.WORKSPACE\",\n  187: \"GET.WINDOW\",\n  188: \"GET.DOCUMENT\",\n  189: \"DPRODUCT\",\n  190: \"ISNONTEXT\",\n  191: \"GET.NOTE\",\n  192: \"NOTE\",\n  193: \"STDEVP\",\n  194: \"VARP\",\n  195: \"DSTDEVP\",\n  196: \"DVARP\",\n  197: \"TRUNC\",\n  198: \"ISLOGICAL\",\n  199: \"DCOUNTA\",\n  200: \"DELETE.BAR\",\n  201: \"UNREGISTER\",\n  204: \"USDOLLAR\",\n  205: \"FINDB\",\n  206: \"SEARCHB\",\n  207: \"REPLACEB\",\n  208: \"LEFTB\",\n  209: \"RIGHTB\",\n  210: \"MIDB\",\n  211: \"LENB\",\n  212: \"ROUNDUP\",\n  213: \"ROUNDDOWN\",\n  214: \"ASC\",\n  215: \"DBCS\",\n  216: \"RANK\",\n  219: \"ADDRESS\",\n  220: \"DAYS360\",\n  221: \"TODAY\",\n  222: \"VDB\",\n  223: \"ELSE\",\n  224: \"ELSE.IF\",\n  225: \"END.IF\",\n  226: \"FOR.CELL\",\n  227: \"MEDIAN\",\n  228: \"SUMPRODUCT\",\n  229: \"SINH\",\n  230: \"COSH\",\n  231: \"TANH\",\n  232: \"ASINH\",\n  233: \"ACOSH\",\n  234: \"ATANH\",\n  235: \"DGET\",\n  236: \"CREATE.OBJECT\",\n  237: \"VOLATILE\",\n  238: \"LAST.ERROR\",\n  239: \"CUSTOM.UNDO\",\n  240: \"CUSTOM.REPEAT\",\n  241: \"FORMULA.CONVERT\",\n  242: \"GET.LINK.INFO\",\n  243: \"TEXT.BOX\",\n  244: \"INFO\",\n  245: \"GROUP\",\n  246: \"GET.OBJECT\",\n  247: \"DB\",\n  248: \"PAUSE\",\n  251: \"RESUME\",\n  252: \"FREQUENCY\",\n  253: \"ADD.TOOLBAR\",\n  254: \"DELETE.TOOLBAR\",\n  255: \"User\",\n  256: \"RESET.TOOLBAR\",\n  257: \"EVALUATE\",\n  258: \"GET.TOOLBAR\",\n  259: \"GET.TOOL\",\n  260: \"SPELLING.CHECK\",\n  261: \"ERROR.TYPE\",\n  262: \"APP.TITLE\",\n  263: \"WINDOW.TITLE\",\n  264: \"SAVE.TOOLBAR\",\n  265: \"ENABLE.TOOL\",\n  266: \"PRESS.TOOL\",\n  267: \"REGISTER.ID\",\n  268: \"GET.WORKBOOK\",\n  269: \"AVEDEV\",\n  270: \"BETADIST\",\n  271: \"GAMMALN\",\n  272: \"BETAINV\",\n  273: \"BINOMDIST\",\n  274: \"CHIDIST\",\n  275: \"CHIINV\",\n  276: \"COMBIN\",\n  277: \"CONFIDENCE\",\n  278: \"CRITBINOM\",\n  279: \"EVEN\",\n  280: \"EXPONDIST\",\n  281: \"FDIST\",\n  282: \"FINV\",\n  283: \"FISHER\",\n  284: \"FISHERINV\",\n  285: \"FLOOR\",\n  286: \"GAMMADIST\",\n  287: \"GAMMAINV\",\n  288: \"CEILING\",\n  289: \"HYPGEOMDIST\",\n  290: \"LOGNORMDIST\",\n  291: \"LOGINV\",\n  292: \"NEGBINOMDIST\",\n  293: \"NORMDIST\",\n  294: \"NORMSDIST\",\n  295: \"NORMINV\",\n  296: \"NORMSINV\",\n  297: \"STANDARDIZE\",\n  298: \"ODD\",\n  299: \"PERMUT\",\n  300: \"POISSON\",\n  301: \"TDIST\",\n  302: \"WEIBULL\",\n  303: \"SUMXMY2\",\n  304: \"SUMX2MY2\",\n  305: \"SUMX2PY2\",\n  306: \"CHITEST\",\n  307: \"CORREL\",\n  308: \"COVAR\",\n  309: \"FORECAST\",\n  310: \"FTEST\",\n  311: \"INTERCEPT\",\n  312: \"PEARSON\",\n  313: \"RSQ\",\n  314: \"STEYX\",\n  315: \"SLOPE\",\n  316: \"TTEST\",\n  317: \"PROB\",\n  318: \"DEVSQ\",\n  319: \"GEOMEAN\",\n  320: \"HARMEAN\",\n  321: \"SUMSQ\",\n  322: \"KURT\",\n  323: \"SKEW\",\n  324: \"ZTEST\",\n  325: \"LARGE\",\n  326: \"SMALL\",\n  327: \"QUARTILE\",\n  328: \"PERCENTILE\",\n  329: \"PERCENTRANK\",\n  330: \"MODE\",\n  331: \"TRIMMEAN\",\n  332: \"TINV\",\n  334: \"MOVIE.COMMAND\",\n  335: \"GET.MOVIE\",\n  336: \"CONCATENATE\",\n  337: \"POWER\",\n  338: \"PIVOT.ADD.DATA\",\n  339: \"GET.PIVOT.TABLE\",\n  340: \"GET.PIVOT.FIELD\",\n  341: \"GET.PIVOT.ITEM\",\n  342: \"RADIANS\",\n  343: \"DEGREES\",\n  344: \"SUBTOTAL\",\n  345: \"SUMIF\",\n  346: \"COUNTIF\",\n  347: \"COUNTBLANK\",\n  348: \"SCENARIO.GET\",\n  349: \"OPTIONS.LISTS.GET\",\n  350: \"ISPMT\",\n  351: \"DATEDIF\",\n  352: \"DATESTRING\",\n  353: \"NUMBERSTRING\",\n  354: \"ROMAN\",\n  355: \"OPEN.DIALOG\",\n  356: \"SAVE.DIALOG\",\n  357: \"VIEW.GET\",\n  358: \"GETPIVOTDATA\",\n  359: \"HYPERLINK\",\n  360: \"PHONETIC\",\n  361: \"AVERAGEA\",\n  362: \"MAXA\",\n  363: \"MINA\",\n  364: \"STDEVPA\",\n  365: \"VARPA\",\n  366: \"STDEVA\",\n  367: \"VARA\",\n  368: \"BAHTTEXT\",\n  369: \"THAIDAYOFWEEK\",\n  370: \"THAIDIGIT\",\n  371: \"THAIMONTHOFYEAR\",\n  372: \"THAINUMSOUND\",\n  373: \"THAINUMSTRING\",\n  374: \"THAISTRINGLENGTH\",\n  375: \"ISTHAIDIGIT\",\n  376: \"ROUNDBAHTDOWN\",\n  377: \"ROUNDBAHTUP\",\n  378: \"THAIYEAR\",\n  379: \"RTD\",\n  380: \"CUBEVALUE\",\n  381: \"CUBEMEMBER\",\n  382: \"CUBEMEMBERPROPERTY\",\n  383: \"CUBERANKEDMEMBER\",\n  384: \"HEX2BIN\",\n  385: \"HEX2DEC\",\n  386: \"HEX2OCT\",\n  387: \"DEC2BIN\",\n  388: \"DEC2HEX\",\n  389: \"DEC2OCT\",\n  390: \"OCT2BIN\",\n  391: \"OCT2HEX\",\n  392: \"OCT2DEC\",\n  393: \"BIN2DEC\",\n  394: \"BIN2OCT\",\n  395: \"BIN2HEX\",\n  396: \"IMSUB\",\n  397: \"IMDIV\",\n  398: \"IMPOWER\",\n  399: \"IMABS\",\n  400: \"IMSQRT\",\n  401: \"IMLN\",\n  402: \"IMLOG2\",\n  403: \"IMLOG10\",\n  404: \"IMSIN\",\n  405: \"IMCOS\",\n  406: \"IMEXP\",\n  407: \"IMARGUMENT\",\n  408: \"IMCONJUGATE\",\n  409: \"IMAGINARY\",\n  410: \"IMREAL\",\n  411: \"COMPLEX\",\n  412: \"IMSUM\",\n  413: \"IMPRODUCT\",\n  414: \"SERIESSUM\",\n  415: \"FACTDOUBLE\",\n  416: \"SQRTPI\",\n  417: \"QUOTIENT\",\n  418: \"DELTA\",\n  419: \"GESTEP\",\n  420: \"ISEVEN\",\n  421: \"ISODD\",\n  422: \"MROUND\",\n  423: \"ERF\",\n  424: \"ERFC\",\n  425: \"BESSELJ\",\n  426: \"BESSELK\",\n  427: \"BESSELY\",\n  428: \"BESSELI\",\n  429: \"XIRR\",\n  430: \"XNPV\",\n  431: \"PRICEMAT\",\n  432: \"YIELDMAT\",\n  433: \"INTRATE\",\n  434: \"RECEIVED\",\n  435: \"DISC\",\n  436: \"PRICEDISC\",\n  437: \"YIELDDISC\",\n  438: \"TBILLEQ\",\n  439: \"TBILLPRICE\",\n  440: \"TBILLYIELD\",\n  441: \"PRICE\",\n  442: \"YIELD\",\n  443: \"DOLLARDE\",\n  444: \"DOLLARFR\",\n  445: \"NOMINAL\",\n  446: \"EFFECT\",\n  447: \"CUMPRINC\",\n  448: \"CUMIPMT\",\n  449: \"EDATE\",\n  450: \"EOMONTH\",\n  451: \"YEARFRAC\",\n  452: \"COUPDAYBS\",\n  453: \"COUPDAYS\",\n  454: \"COUPDAYSNC\",\n  455: \"COUPNCD\",\n  456: \"COUPNUM\",\n  457: \"COUPPCD\",\n  458: \"DURATION\",\n  459: \"MDURATION\",\n  460: \"ODDLPRICE\",\n  461: \"ODDLYIELD\",\n  462: \"ODDFPRICE\",\n  463: \"ODDFYIELD\",\n  464: \"RANDBETWEEN\",\n  465: \"WEEKNUM\",\n  466: \"AMORDEGRC\",\n  467: \"AMORLINC\",\n  468: \"CONVERT\",\n  724: \"SHEETJS\",\n  469: \"ACCRINT\",\n  470: \"ACCRINTM\",\n  471: \"WORKDAY\",\n  472: \"NETWORKDAYS\",\n  473: \"GCD\",\n  474: \"MULTINOMIAL\",\n  475: \"LCM\",\n  476: \"FVSCHEDULE\",\n  477: \"CUBEKPIMEMBER\",\n  478: \"CUBESET\",\n  479: \"CUBESETCOUNT\",\n  480: \"IFERROR\",\n  481: \"COUNTIFS\",\n  482: \"SUMIFS\",\n  483: \"AVERAGEIF\",\n  484: \"AVERAGEIFS\"\n};\nvar FtabArgc = {\n  2: 1,\n  3: 1,\n  10: 0,\n  15: 1,\n  16: 1,\n  17: 1,\n  18: 1,\n  19: 0,\n  20: 1,\n  21: 1,\n  22: 1,\n  23: 1,\n  24: 1,\n  25: 1,\n  26: 1,\n  27: 2,\n  30: 2,\n  31: 3,\n  32: 1,\n  33: 1,\n  34: 0,\n  35: 0,\n  38: 1,\n  39: 2,\n  40: 3,\n  41: 3,\n  42: 3,\n  43: 3,\n  44: 3,\n  45: 3,\n  47: 3,\n  48: 2,\n  53: 1,\n  61: 3,\n  63: 0,\n  65: 3,\n  66: 3,\n  67: 1,\n  68: 1,\n  69: 1,\n  70: 1,\n  71: 1,\n  72: 1,\n  73: 1,\n  74: 0,\n  75: 1,\n  76: 1,\n  77: 1,\n  79: 2,\n  80: 2,\n  83: 1,\n  85: 0,\n  86: 1,\n  89: 0,\n  90: 1,\n  94: 0,\n  95: 0,\n  97: 2,\n  98: 1,\n  99: 1,\n  101: 3,\n  102: 3,\n  105: 1,\n  106: 1,\n  108: 2,\n  111: 1,\n  112: 1,\n  113: 1,\n  114: 1,\n  117: 2,\n  118: 1,\n  119: 4,\n  121: 1,\n  126: 1,\n  127: 1,\n  128: 1,\n  129: 1,\n  130: 1,\n  131: 1,\n  133: 1,\n  134: 1,\n  135: 1,\n  136: 2,\n  137: 2,\n  138: 2,\n  140: 1,\n  141: 1,\n  142: 3,\n  143: 4,\n  144: 4,\n  161: 1,\n  162: 1,\n  163: 1,\n  164: 1,\n  165: 2,\n  172: 1,\n  175: 2,\n  176: 2,\n  177: 3,\n  178: 2,\n  179: 1,\n  184: 1,\n  186: 1,\n  189: 3,\n  190: 1,\n  195: 3,\n  196: 3,\n  197: 1,\n  198: 1,\n  199: 3,\n  201: 1,\n  207: 4,\n  210: 3,\n  211: 1,\n  212: 2,\n  213: 2,\n  214: 1,\n  215: 1,\n  225: 0,\n  229: 1,\n  230: 1,\n  231: 1,\n  232: 1,\n  233: 1,\n  234: 1,\n  235: 3,\n  244: 1,\n  247: 4,\n  252: 2,\n  257: 1,\n  261: 1,\n  271: 1,\n  273: 4,\n  274: 2,\n  275: 2,\n  276: 2,\n  277: 3,\n  278: 3,\n  279: 1,\n  280: 3,\n  281: 3,\n  282: 3,\n  283: 1,\n  284: 1,\n  285: 2,\n  286: 4,\n  287: 3,\n  288: 2,\n  289: 4,\n  290: 3,\n  291: 3,\n  292: 3,\n  293: 4,\n  294: 1,\n  295: 3,\n  296: 1,\n  297: 3,\n  298: 1,\n  299: 2,\n  300: 3,\n  301: 3,\n  302: 4,\n  303: 2,\n  304: 2,\n  305: 2,\n  306: 2,\n  307: 2,\n  308: 2,\n  309: 3,\n  310: 2,\n  311: 2,\n  312: 2,\n  313: 2,\n  314: 2,\n  315: 2,\n  316: 4,\n  325: 2,\n  326: 2,\n  327: 2,\n  328: 2,\n  331: 2,\n  332: 2,\n  337: 2,\n  342: 1,\n  343: 1,\n  346: 2,\n  347: 1,\n  350: 4,\n  351: 3,\n  352: 1,\n  353: 2,\n  360: 1,\n  368: 1,\n  369: 1,\n  370: 1,\n  371: 1,\n  372: 1,\n  373: 1,\n  374: 1,\n  375: 1,\n  376: 1,\n  377: 1,\n  378: 1,\n  382: 3,\n  385: 1,\n  392: 1,\n  393: 1,\n  396: 2,\n  397: 2,\n  398: 2,\n  399: 1,\n  400: 1,\n  401: 1,\n  402: 1,\n  403: 1,\n  404: 1,\n  405: 1,\n  406: 1,\n  407: 1,\n  408: 1,\n  409: 1,\n  410: 1,\n  414: 4,\n  415: 1,\n  416: 1,\n  417: 2,\n  420: 1,\n  421: 1,\n  422: 2,\n  424: 1,\n  425: 2,\n  426: 2,\n  427: 2,\n  428: 2,\n  430: 3,\n  438: 3,\n  439: 3,\n  440: 3,\n  443: 2,\n  444: 2,\n  445: 2,\n  446: 2,\n  447: 6,\n  448: 6,\n  449: 2,\n  450: 2,\n  464: 2,\n  468: 3,\n  476: 2,\n  479: 1,\n  480: 2,\n  65535: 0\n};\n/* Part 3 TODO: actually parse formulae */\nfunction ods_to_csf_formula(f/*:string*/)/*:string*/ {\n\tif(f.slice(0,3) == \"of:\") f = f.slice(3);\n\t/* 5.2 Basic Expressions */\n\tif(f.charCodeAt(0) == 61) {\n\t\tf = f.slice(1);\n\t\tif(f.charCodeAt(0) == 61) f = f.slice(1);\n\t}\n\tf = f.replace(/COM\\.MICROSOFT\\./g, \"\");\n\t/* Part 3 Section 5.8 References */\n\tf = f.replace(/\\[((?:\\.[A-Z]+[0-9]+)(?::\\.[A-Z]+[0-9]+)?)\\]/g, function($$, $1) { return $1.replace(/\\./g,\"\"); });\n\t/* TODO: something other than this */\n\tf = f.replace(/\\[.(#[A-Z]*[?!])\\]/g, \"$1\");\n\treturn f.replace(/[;~]/g,\",\").replace(/\\|/g,\";\");\n}\n\nfunction csf_to_ods_formula(f/*:string*/)/*:string*/ {\n\tvar o = \"of:=\" + f.replace(crefregex, \"$1[.$2$3$4$5]\").replace(/\\]:\\[/g,\":\");\n\t/* TODO: something other than this */\n\treturn o.replace(/;/g, \"|\").replace(/,/g,\";\");\n}\n\nfunction ods_to_csf_3D(r/*:string*/)/*:[string, string]*/ {\n\tvar a = r.split(\":\");\n\tvar s = a[0].split(\".\")[0];\n\treturn [s, a[0].split(\".\")[1] + (a.length > 1 ? (\":\" + (a[1].split(\".\")[1] || a[1].split(\".\")[0])) : \"\")];\n}\n\nfunction csf_to_ods_3D(r/*:string*/)/*:string*/ {\n\treturn r.replace(/\\./,\"!\");\n}\n\nvar strs = {}; // shared strings\nvar _ssfopts = {}; // spreadsheet formatting options\n\n\n/*global Map */\nvar browser_has_Map = typeof Map !== 'undefined';\n\nfunction get_sst_id(sst/*:SST*/, str/*:string*/, rev)/*:number*/ {\n\tvar i = 0, len = sst.length;\n\tif(rev) {\n\t\tif(browser_has_Map ? rev.has(str) : Object.prototype.hasOwnProperty.call(rev, str)) {\n\t\t\tvar revarr = browser_has_Map ? rev.get(str) : rev[str];\n\t\t\tfor(; i < revarr.length; ++i) {\n\t\t\t\tif(sst[revarr[i]].t === str) { sst.Count ++; return revarr[i]; }\n\t\t\t}\n\t\t}\n\t} else for(; i < len; ++i) {\n\t\tif(sst[i].t === str) { sst.Count ++; return i; }\n\t}\n\tsst[len] = ({t:str}/*:any*/); sst.Count ++; sst.Unique ++;\n\tif(rev) {\n\t\tif(browser_has_Map) {\n\t\t\tif(!rev.has(str)) rev.set(str, []);\n\t\t\trev.get(str).push(len);\n\t\t} else {\n\t\t\tif(!Object.prototype.hasOwnProperty.call(rev, str)) rev[str] = [];\n\t\t\trev[str].push(len);\n\t\t}\n\t}\n\treturn len;\n}\n\nfunction col_obj_w(C/*:number*/, col) {\n\tvar p = ({min:C+1,max:C+1}/*:any*/);\n\t/* wch (chars), wpx (pixels) */\n\tvar wch = -1;\n\tif(col.MDW) MDW = col.MDW;\n\tif(col.width != null) p.customWidth = 1;\n\telse if(col.wpx != null) wch = px2char(col.wpx);\n\telse if(col.wch != null) wch = col.wch;\n\tif(wch > -1) { p.width = char2width(wch); p.customWidth = 1; }\n\telse if(col.width != null) p.width = col.width;\n\tif(col.hidden) p.hidden = true;\n\tif(col.level != null) { p.outlineLevel = p.level = col.level; }\n\treturn p;\n}\n\nfunction default_margins(margins/*:Margins*/, mode/*:?string*/) {\n\tif(!margins) return;\n\tvar defs = [0.7, 0.7, 0.75, 0.75, 0.3, 0.3];\n\tif(mode == 'xlml') defs = [1, 1, 1, 1, 0.5, 0.5];\n\tif(margins.left   == null) margins.left   = defs[0];\n\tif(margins.right  == null) margins.right  = defs[1];\n\tif(margins.top    == null) margins.top    = defs[2];\n\tif(margins.bottom == null) margins.bottom = defs[3];\n\tif(margins.header == null) margins.header = defs[4];\n\tif(margins.footer == null) margins.footer = defs[5];\n}\n\nfunction get_cell_style(styles/*:Array<any>*/, cell/*:Cell*/, opts) {\n\tvar z = opts.revssf[cell.z != null ? cell.z : \"General\"];\n\tvar i = 0x3c, len = styles.length;\n\tif(z == null && opts.ssf) {\n\t\tfor(; i < 0x188; ++i) if(opts.ssf[i] == null) {\n\t\t\tSSF_load(cell.z, i);\n\t\t\t// $FlowIgnore\n\t\t\topts.ssf[i] = cell.z;\n\t\t\topts.revssf[cell.z] = z = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor(i = 0; i != len; ++i) if(styles[i].numFmtId === z) return i;\n\tstyles[len] = {\n\t\tnumFmtId:z,\n\t\tfontId:0,\n\t\tfillId:0,\n\t\tborderId:0,\n\t\txfId:0,\n\t\tapplyNumberFormat:1\n\t};\n\treturn len;\n}\n\nfunction safe_format(p/*:Cell*/, fmtid/*:number*/, fillid/*:?number*/, opts, themes, styles) {\n\ttry {\n\t\tif(opts.cellNF) p.z = table_fmt[fmtid];\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(p.t === 'z' && !opts.cellStyles) return;\n\tif(p.t === 'd' && typeof p.v === 'string') p.v = parseDate(p.v);\n\tif((!opts || opts.cellText !== false) && p.t !== 'z') try {\n\t\tif(table_fmt[fmtid] == null) SSF_load(SSFImplicit[fmtid] || \"General\", fmtid);\n\t\tif(p.t === 'e') p.w = p.w || BErr[p.v];\n\t\telse if(fmtid === 0) {\n\t\t\tif(p.t === 'n') {\n\t\t\t\tif((p.v|0) === p.v) p.w = p.v.toString(10);\n\t\t\t\telse p.w = SSF_general_num(p.v);\n\t\t\t}\n\t\t\telse if(p.t === 'd') {\n\t\t\t\tvar dd = datenum(p.v);\n\t\t\t\tif((dd|0) === dd) p.w = dd.toString(10);\n\t\t\t\telse p.w = SSF_general_num(dd);\n\t\t\t}\n\t\t\telse if(p.v === undefined) return \"\";\n\t\t\telse p.w = SSF_general(p.v,_ssfopts);\n\t\t}\n\t\telse if(p.t === 'd') p.w = SSF_format(fmtid,datenum(p.v),_ssfopts);\n\t\telse p.w = SSF_format(fmtid,p.v,_ssfopts);\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(!opts.cellStyles) return;\n\tif(fillid != null) try {\n\t\tp.s = styles.Fills[fillid];\n\t\tif (p.s.fgColor && p.s.fgColor.theme && !p.s.fgColor.rgb) {\n\t\t\tp.s.fgColor.rgb = rgb_tint(themes.themeElements.clrScheme[p.s.fgColor.theme].rgb, p.s.fgColor.tint || 0);\n\t\t\tif(opts.WTF) p.s.fgColor.raw_rgb = themes.themeElements.clrScheme[p.s.fgColor.theme].rgb;\n\t\t}\n\t\tif (p.s.bgColor && p.s.bgColor.theme) {\n\t\t\tp.s.bgColor.rgb = rgb_tint(themes.themeElements.clrScheme[p.s.bgColor.theme].rgb, p.s.bgColor.tint || 0);\n\t\t\tif(opts.WTF) p.s.bgColor.raw_rgb = themes.themeElements.clrScheme[p.s.bgColor.theme].rgb;\n\t\t}\n\t} catch(e) { if(opts.WTF && styles.Fills) throw e; }\n}\n\nfunction check_ws(ws/*:Worksheet*/, sname/*:string*/, i/*:number*/) {\n\tif(ws && ws['!ref']) {\n\t\tvar range = safe_decode_range(ws['!ref']);\n\t\tif(range.e.c < range.s.c || range.e.r < range.s.r) throw new Error(\"Bad range (\" + i + \"): \" + ws['!ref']);\n\t}\n}\nfunction parse_ws_xml_dim(ws/*:Worksheet*/, s/*:string*/) {\n\tvar d = safe_decode_range(s);\n\tif(d.s.r<=d.e.r && d.s.c<=d.e.c && d.s.r>=0 && d.s.c>=0) ws[\"!ref\"] = encode_range(d);\n}\nvar mergecregex = /<(?:\\w:)?mergeCell ref=\"[A-Z0-9:]+\"\\s*[\\/]?>/g;\nvar sheetdataregex = /<(?:\\w+:)?sheetData[^>]*>([\\s\\S]*)<\\/(?:\\w+:)?sheetData>/;\nvar hlinkregex = /<(?:\\w:)?hyperlink [^>]*>/mg;\nvar dimregex = /\"(\\w*:\\w*)\"/;\nvar colregex = /<(?:\\w:)?col\\b[^>]*[\\/]?>/g;\nvar afregex = /<(?:\\w:)?autoFilter[^>]*([\\/]|>([\\s\\S]*)<\\/(?:\\w:)?autoFilter)>/g;\nvar marginregex= /<(?:\\w:)?pageMargins[^>]*\\/>/g;\nvar sheetprregex = /<(?:\\w:)?sheetPr\\b(?:[^>a-z][^>]*)?\\/>/;\nvar sheetprregex2= /<(?:\\w:)?sheetPr[^>]*(?:[\\/]|>([\\s\\S]*)<\\/(?:\\w:)?sheetPr)>/;\nvar svsregex = /<(?:\\w:)?sheetViews[^>]*(?:[\\/]|>([\\s\\S]*)<\\/(?:\\w:)?sheetViews)>/;\n\n/* 18.3 Worksheets */\nfunction parse_ws_xml(data/*:?string*/, opts, idx/*:number*/, rels, wb/*:WBWBProps*/, themes, styles)/*:Worksheet*/ {\n\tif(!data) return data;\n\tif(!rels) rels = {'!id':{}};\n\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\n\t/* 18.3.1.99 worksheet CT_Worksheet */\n\tvar s = opts.dense ? ([]/*:any*/) : ({}/*:any*/);\n\tvar refguess/*:Range*/ = ({s: {r:2000000, c:2000000}, e: {r:0, c:0} }/*:any*/);\n\n\tvar data1 = \"\", data2 = \"\";\n\tvar mtch/*:?any*/ = data.match(sheetdataregex);\n\tif(mtch) {\n\t\tdata1 = data.slice(0, mtch.index);\n\t\tdata2 = data.slice(mtch.index + mtch[0].length);\n\t} else data1 = data2 = data;\n\n\t/* 18.3.1.82 sheetPr CT_SheetPr */\n\tvar sheetPr = data1.match(sheetprregex);\n\tif(sheetPr) parse_ws_xml_sheetpr(sheetPr[0], s, wb, idx);\n\telse if((sheetPr = data1.match(sheetprregex2))) parse_ws_xml_sheetpr2(sheetPr[0], sheetPr[1]||\"\", s, wb, idx, styles, themes);\n\n\t/* 18.3.1.35 dimension CT_SheetDimension */\n\tvar ridx = (data1.match(/<(?:\\w*:)?dimension/)||{index:-1}).index;\n\tif(ridx > 0) {\n\t\tvar ref = data1.slice(ridx,ridx+50).match(dimregex);\n\t\tif(ref) parse_ws_xml_dim(s, ref[1]);\n\t}\n\n\t/* 18.3.1.88 sheetViews CT_SheetViews */\n\tvar svs = data1.match(svsregex);\n\tif(svs && svs[1]) parse_ws_xml_sheetviews(svs[1], wb);\n\n\t/* 18.3.1.17 cols CT_Cols */\n\tvar columns/*:Array<ColInfo>*/ = [];\n\tif(opts.cellStyles) {\n\t\t/* 18.3.1.13 col CT_Col */\n\t\tvar cols = data1.match(colregex);\n\t\tif(cols) parse_ws_xml_cols(columns, cols);\n\t}\n\n\t/* 18.3.1.80 sheetData CT_SheetData ? */\n\tif(mtch) parse_ws_xml_data(mtch[1], s, opts, refguess, themes, styles);\n\n\t/* 18.3.1.2  autoFilter CT_AutoFilter */\n\tvar afilter = data2.match(afregex);\n\tif(afilter) s['!autofilter'] = parse_ws_xml_autofilter(afilter[0]);\n\n\t/* 18.3.1.55 mergeCells CT_MergeCells */\n\tvar merges/*:Array<Range>*/ = [];\n\tvar _merge = data2.match(mergecregex);\n\tif(_merge) for(ridx = 0; ridx != _merge.length; ++ridx)\n\t\tmerges[ridx] = safe_decode_range(_merge[ridx].slice(_merge[ridx].indexOf(\"\\\"\")+1));\n\n\t/* 18.3.1.48 hyperlinks CT_Hyperlinks */\n\tvar hlink = data2.match(hlinkregex);\n\tif(hlink) parse_ws_xml_hlinks(s, hlink, rels);\n\n\t/* 18.3.1.62 pageMargins CT_PageMargins */\n\tvar margins = data2.match(marginregex);\n\tif(margins) s['!margins'] = parse_ws_xml_margins(parsexmltag(margins[0]));\n\n\tif(!s[\"!ref\"] && refguess.e.c >= refguess.s.c && refguess.e.r >= refguess.s.r) s[\"!ref\"] = encode_range(refguess);\n\tif(opts.sheetRows > 0 && s[\"!ref\"]) {\n\t\tvar tmpref = safe_decode_range(s[\"!ref\"]);\n\t\tif(opts.sheetRows <= +tmpref.e.r) {\n\t\t\ttmpref.e.r = opts.sheetRows - 1;\n\t\t\tif(tmpref.e.r > refguess.e.r) tmpref.e.r = refguess.e.r;\n\t\t\tif(tmpref.e.r < tmpref.s.r) tmpref.s.r = tmpref.e.r;\n\t\t\tif(tmpref.e.c > refguess.e.c) tmpref.e.c = refguess.e.c;\n\t\t\tif(tmpref.e.c < tmpref.s.c) tmpref.s.c = tmpref.e.c;\n\t\t\ts[\"!fullref\"] = s[\"!ref\"];\n\t\t\ts[\"!ref\"] = encode_range(tmpref);\n\t\t}\n\t}\n\tif(columns.length > 0) s[\"!cols\"] = columns;\n\tif(merges.length > 0) s[\"!merges\"] = merges;\n\treturn s;\n}\n\nfunction write_ws_xml_merges(merges/*:Array<Range>*/)/*:string*/ {\n\tif(merges.length === 0) return \"\";\n\tvar o = '<mergeCells count=\"' + merges.length + '\">';\n\tfor(var i = 0; i != merges.length; ++i) o += '<mergeCell ref=\"' + encode_range(merges[i]) + '\"/>';\n\treturn o + '</mergeCells>';\n}\n\n/* 18.3.1.82-3 sheetPr CT_ChartsheetPr / CT_SheetPr */\nfunction parse_ws_xml_sheetpr(sheetPr/*:string*/, s, wb/*:WBWBProps*/, idx/*:number*/) {\n\tvar data = parsexmltag(sheetPr);\n\tif(!wb.Sheets[idx]) wb.Sheets[idx] = {};\n\tif(data.codeName) wb.Sheets[idx].CodeName = unescapexml(utf8read(data.codeName));\n}\nfunction parse_ws_xml_sheetpr2(sheetPr/*:string*/, body/*:string*/, s, wb/*:WBWBProps*/, idx/*:number*/) {\n\tparse_ws_xml_sheetpr(sheetPr.slice(0, sheetPr.indexOf(\">\")), s, wb, idx);\n}\nfunction write_ws_xml_sheetpr(ws, wb, idx, opts, o) {\n\tvar needed = false;\n\tvar props = {}, payload = null;\n\tif(opts.bookType !== 'xlsx' && wb.vbaraw) {\n\t\tvar cname = wb.SheetNames[idx];\n\t\ttry { if(wb.Workbook) cname = wb.Workbook.Sheets[idx].CodeName || cname; } catch(e) {}\n\t\tneeded = true;\n\t\tprops.codeName = utf8write(escapexml(cname));\n\t}\n\n\tif(ws && ws[\"!outline\"]) {\n\t\tvar outlineprops = {summaryBelow:1, summaryRight:1};\n\t\tif(ws[\"!outline\"].above) outlineprops.summaryBelow = 0;\n\t\tif(ws[\"!outline\"].left) outlineprops.summaryRight = 0;\n\t\tpayload = (payload||\"\") + writextag('outlinePr', null, outlineprops);\n\t}\n\n\tif(!needed && !payload) return;\n\to[o.length] = (writextag('sheetPr', payload, props));\n}\n\n/* 18.3.1.85 sheetProtection CT_SheetProtection */\nvar sheetprot_deffalse = [\"objects\", \"scenarios\", \"selectLockedCells\", \"selectUnlockedCells\"];\nvar sheetprot_deftrue = [\n\t\"formatColumns\", \"formatRows\", \"formatCells\",\n\t\"insertColumns\", \"insertRows\", \"insertHyperlinks\",\n\t\"deleteColumns\", \"deleteRows\",\n\t\"sort\", \"autoFilter\", \"pivotTables\"\n];\nfunction write_ws_xml_protection(sp)/*:string*/ {\n\t// algorithmName, hashValue, saltValue, spinCount\n\tvar o = ({sheet:1}/*:any*/);\n\tsheetprot_deffalse.forEach(function(n) { if(sp[n] != null && sp[n]) o[n] = \"1\"; });\n\tsheetprot_deftrue.forEach(function(n) { if(sp[n] != null && !sp[n]) o[n] = \"0\"; });\n\t/* TODO: algorithm */\n\tif(sp.password) o.password = crypto_CreatePasswordVerifier_Method1(sp.password).toString(16).toUpperCase();\n\treturn writextag('sheetProtection', null, o);\n}\n\nfunction parse_ws_xml_hlinks(s, data/*:Array<string>*/, rels) {\n\tvar dense = Array.isArray(s);\n\tfor(var i = 0; i != data.length; ++i) {\n\t\tvar val = parsexmltag(utf8read(data[i]), true);\n\t\tif(!val.ref) return;\n\t\tvar rel = ((rels || {})['!id']||[])[val.id];\n\t\tif(rel) {\n\t\t\tval.Target = rel.Target;\n\t\t\tif(val.location) val.Target += \"#\"+unescapexml(val.location);\n\t\t} else {\n\t\t\tval.Target = \"#\" + unescapexml(val.location);\n\t\t\trel = {Target: val.Target, TargetMode: 'Internal'};\n\t\t}\n\t\tval.Rel = rel;\n\t\tif(val.tooltip) { val.Tooltip = val.tooltip; delete val.tooltip; }\n\t\tvar rng = safe_decode_range(val.ref);\n\t\tfor(var R=rng.s.r;R<=rng.e.r;++R) for(var C=rng.s.c;C<=rng.e.c;++C) {\n\t\t\tvar addr = encode_cell({c:C,r:R});\n\t\t\tif(dense) {\n\t\t\t\tif(!s[R]) s[R] = [];\n\t\t\t\tif(!s[R][C]) s[R][C] = {t:\"z\",v:undefined};\n\t\t\t\ts[R][C].l = val;\n\t\t\t} else {\n\t\t\t\tif(!s[addr]) s[addr] = {t:\"z\",v:undefined};\n\t\t\t\ts[addr].l = val;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction parse_ws_xml_margins(margin) {\n\tvar o = {};\n\t[\"left\", \"right\", \"top\", \"bottom\", \"header\", \"footer\"].forEach(function(k) {\n\t\tif(margin[k]) o[k] = parseFloat(margin[k]);\n\t});\n\treturn o;\n}\nfunction write_ws_xml_margins(margin)/*:string*/ {\n\tdefault_margins(margin);\n\treturn writextag('pageMargins', null, margin);\n}\n\nfunction parse_ws_xml_cols(columns, cols) {\n\tvar seencol = false;\n\tfor(var coli = 0; coli != cols.length; ++coli) {\n\t\tvar coll = parsexmltag(cols[coli], true);\n\t\tif(coll.hidden) coll.hidden = parsexmlbool(coll.hidden);\n\t\tvar colm=parseInt(coll.min, 10)-1, colM=parseInt(coll.max,10)-1;\n\t\tif(coll.outlineLevel) coll.level = (+coll.outlineLevel || 0);\n\t\tdelete coll.min; delete coll.max; coll.width = +coll.width;\n\t\tif(!seencol && coll.width) { seencol = true; find_mdw_colw(coll.width); }\n\t\tprocess_col(coll);\n\t\twhile(colm <= colM) columns[colm++] = dup(coll);\n\t}\n}\nfunction write_ws_xml_cols(ws, cols)/*:string*/ {\n\tvar o = [\"<cols>\"], col;\n\tfor(var i = 0; i != cols.length; ++i) {\n\t\tif(!(col = cols[i])) continue;\n\t\to[o.length] = (writextag('col', null, col_obj_w(i, col)));\n\t}\n\to[o.length] = \"</cols>\";\n\treturn o.join(\"\");\n}\n\nfunction parse_ws_xml_autofilter(data/*:string*/) {\n\tvar o = { ref: (data.match(/ref=\"([^\"]*)\"/)||[])[1]};\n\treturn o;\n}\nfunction write_ws_xml_autofilter(data, ws, wb, idx)/*:string*/ {\n\tvar ref = typeof data.ref == \"string\" ? data.ref : encode_range(data.ref);\n\tif(!wb.Workbook) wb.Workbook = ({Sheets:[]}/*:any*/);\n\tif(!wb.Workbook.Names) wb.Workbook.Names = [];\n\tvar names/*: Array<any> */ = wb.Workbook.Names;\n\tvar range = decode_range(ref);\n\tif(range.s.r == range.e.r) { range.e.r = decode_range(ws[\"!ref\"]).e.r; ref = encode_range(range); }\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar name = names[i];\n\t\tif(name.Name != '_xlnm._FilterDatabase') continue;\n\t\tif(name.Sheet != idx) continue;\n\t\tname.Ref = \"'\" + wb.SheetNames[idx] + \"'!\" + ref; break;\n\t}\n\tif(i == names.length) names.push({ Name: '_xlnm._FilterDatabase', Sheet: idx, Ref: \"'\" + wb.SheetNames[idx] + \"'!\" + ref  });\n\treturn writextag(\"autoFilter\", null, {ref:ref});\n}\n\n/* 18.3.1.88 sheetViews CT_SheetViews */\n/* 18.3.1.87 sheetView CT_SheetView */\nvar sviewregex = /<(?:\\w:)?sheetView(?:[^>a-z][^>]*)?\\/?>/;\nfunction parse_ws_xml_sheetviews(data, wb/*:WBWBProps*/) {\n\tif(!wb.Views) wb.Views = [{}];\n\t(data.match(sviewregex)||[]).forEach(function(r/*:string*/, i/*:number*/) {\n\t\tvar tag = parsexmltag(r);\n\t\t// $FlowIgnore\n\t\tif(!wb.Views[i]) wb.Views[i] = {};\n\t\t// $FlowIgnore\n\t\tif(+tag.zoomScale) wb.Views[i].zoom = +tag.zoomScale;\n\t\t// $FlowIgnore\n\t\tif(parsexmlbool(tag.rightToLeft)) wb.Views[i].RTL = true;\n\t});\n}\nfunction write_ws_xml_sheetviews(ws, opts, idx, wb)/*:string*/ {\n\tvar sview = ({workbookViewId:\"0\"}/*:any*/);\n\t// $FlowIgnore\n\tif((((wb||{}).Workbook||{}).Views||[])[0]) sview.rightToLeft = wb.Workbook.Views[0].RTL ? \"1\" : \"0\";\n\treturn writextag(\"sheetViews\", writextag(\"sheetView\", null, sview), {});\n}\n\nfunction write_ws_xml_cell(cell/*:Cell*/, ref, ws, opts/*::, idx, wb*/)/*:string*/ {\n\tif(cell.c) ws['!comments'].push([ref, cell.c]);\n\tif(cell.v === undefined && typeof cell.f !== \"string\" || cell.t === 'z' && !cell.f) return \"\";\n\tvar vv = \"\";\n\tvar oldt = cell.t, oldv = cell.v;\n\tif(cell.t !== \"z\") switch(cell.t) {\n\t\tcase 'b': vv = cell.v ? \"1\" : \"0\"; break;\n\t\tcase 'n': vv = ''+cell.v; break;\n\t\tcase 'e': vv = BErr[cell.v]; break;\n\t\tcase 'd':\n\t\t\tif(opts && opts.cellDates) vv = parseDate(cell.v, -1).toISOString();\n\t\t\telse {\n\t\t\t\tcell = dup(cell);\n\t\t\t\tcell.t = 'n';\n\t\t\t\tvv = ''+(cell.v = datenum(parseDate(cell.v)));\n\t\t\t}\n\t\t\tif(typeof cell.z === 'undefined') cell.z = table_fmt[14];\n\t\t\tbreak;\n\t\tdefault: vv = cell.v; break;\n\t}\n\tvar v = writetag('v', escapexml(vv)), o = ({r:ref}/*:any*/);\n\t/* TODO: cell style */\n\tvar os = get_cell_style(opts.cellXfs, cell, opts);\n\tif(os !== 0) o.s = os;\n\tswitch(cell.t) {\n\t\tcase 'n': break;\n\t\tcase 'd': o.t = \"d\"; break;\n\t\tcase 'b': o.t = \"b\"; break;\n\t\tcase 'e': o.t = \"e\"; break;\n\t\tcase 'z': break;\n\t\tdefault: if(cell.v == null) { delete cell.t; break; }\n\t\t\tif(cell.v.length > 32767) throw new Error(\"Text length must not exceed 32767 characters\");\n\t\t\tif(opts && opts.bookSST) {\n\t\t\t\tv = writetag('v', ''+get_sst_id(opts.Strings, cell.v, opts.revStrings));\n\t\t\t\to.t = \"s\"; break;\n\t\t\t}\n\t\t\to.t = \"str\"; break;\n\t}\n\tif(cell.t != oldt) { cell.t = oldt; cell.v = oldv; }\n\tif(typeof cell.f == \"string\" && cell.f) {\n\t\tvar ff = cell.F && cell.F.slice(0, ref.length) == ref ? {t:\"array\", ref:cell.F} : null;\n\t\tv = writextag('f', escapexml(cell.f), ff) + (cell.v != null ? v : \"\");\n\t}\n\tif(cell.l) ws['!links'].push([ref, cell.l]);\n\tif(cell.D) o.cm = 1;\n\treturn writextag('c', v, o);\n}\n\nvar parse_ws_xml_data = /*#__PURE__*/(function() {\n\tvar cellregex = /<(?:\\w+:)?c[ \\/>]/, rowregex = /<\\/(?:\\w+:)?row>/;\n\tvar rregex = /r=[\"']([^\"']*)[\"']/, isregex = /<(?:\\w+:)?is>([\\S\\s]*?)<\\/(?:\\w+:)?is>/;\n\tvar refregex = /ref=[\"']([^\"']*)[\"']/;\n\tvar match_v = matchtag(\"v\"), match_f = matchtag(\"f\");\n\nreturn function parse_ws_xml_data(sdata/*:string*/, s, opts, guess/*:Range*/, themes, styles) {\n\tvar ri = 0, x = \"\", cells/*:Array<string>*/ = [], cref/*:?Array<string>*/ = [], idx=0, i=0, cc=0, d=\"\", p/*:any*/;\n\tvar tag, tagr = 0, tagc = 0;\n\tvar sstr, ftag;\n\tvar fmtid = 0, fillid = 0;\n\tvar do_format = Array.isArray(styles.CellXf), cf;\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar sharedf = [];\n\tvar dense = Array.isArray(s);\n\tvar rows/*:Array<RowInfo>*/ = [], rowobj = {}, rowrite = false;\n\tvar sheetStubs = !!opts.sheetStubs;\n\tfor(var marr = sdata.split(rowregex), mt = 0, marrlen = marr.length; mt != marrlen; ++mt) {\n\t\tx = marr[mt].trim();\n\t\tvar xlen = x.length;\n\t\tif(xlen === 0) continue;\n\n\t\t/* 18.3.1.73 row CT_Row */\n\t\tvar rstarti = 0;\n\t\touta: for(ri = 0; ri < xlen; ++ri) switch(/*x.charCodeAt(ri)*/x[ri]) {\n\t\t\tcase \">\" /*62*/:\n\t\t\t\tif(/*x.charCodeAt(ri-1) != 47*/x[ri-1] != \"/\") { ++ri; break outa; }\n\t\t\t\tif(opts && opts.cellStyles) {\n\t\t\t\t\t// TODO: avoid duplication\n\t\t\t\t\ttag = parsexmltag(x.slice(rstarti,ri), true);\n\t\t\t\t\ttagr = tag.r != null ? parseInt(tag.r, 10) : tagr+1; tagc = -1;\n\t\t\t\t\tif(opts.sheetRows && opts.sheetRows < tagr) continue;\n\t\t\t\t\trowobj = {}; rowrite = false;\n\t\t\t\t\tif(tag.ht) { rowrite = true; rowobj.hpt = parseFloat(tag.ht); rowobj.hpx = pt2px(rowobj.hpt); }\n\t\t\t\t\tif(tag.hidden == \"1\") { rowrite = true; rowobj.hidden = true; }\n\t\t\t\t\tif(tag.outlineLevel != null) { rowrite = true; rowobj.level = +tag.outlineLevel; }\n\t\t\t\t\tif(rowrite) rows[tagr-1] = rowobj;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"<\" /*60*/: rstarti = ri; break;\n\t\t}\n\t\tif(rstarti >= ri) break;\n\t\ttag = parsexmltag(x.slice(rstarti,ri), true);\n\t\ttagr = tag.r != null ? parseInt(tag.r, 10) : tagr+1; tagc = -1;\n\t\tif(opts.sheetRows && opts.sheetRows < tagr) continue;\n\t\tif(guess.s.r > tagr - 1) guess.s.r = tagr - 1;\n\t\tif(guess.e.r < tagr - 1) guess.e.r = tagr - 1;\n\n\t\tif(opts && opts.cellStyles) {\n\t\t\trowobj = {}; rowrite = false;\n\t\t\tif(tag.ht) { rowrite = true; rowobj.hpt = parseFloat(tag.ht); rowobj.hpx = pt2px(rowobj.hpt); }\n\t\t\tif(tag.hidden == \"1\") { rowrite = true; rowobj.hidden = true; }\n\t\t\tif(tag.outlineLevel != null) { rowrite = true; rowobj.level = +tag.outlineLevel; }\n\t\t\tif(rowrite) rows[tagr-1] = rowobj;\n\t\t}\n\n\t\t/* 18.3.1.4 c CT_Cell */\n\t\tcells = x.slice(ri).split(cellregex);\n\t\tfor(var rslice = 0; rslice != cells.length; ++rslice) if(cells[rslice].trim().charAt(0) != \"<\") break;\n\t\tcells = cells.slice(rslice);\n\t\tfor(ri = 0; ri != cells.length; ++ri) {\n\t\t\tx = cells[ri].trim();\n\t\t\tif(x.length === 0) continue;\n\t\t\tcref = x.match(rregex); idx = ri; i=0; cc=0;\n\t\t\tx = \"<c \" + (x.slice(0,1)==\"<\"?\">\":\"\") + x;\n\t\t\tif(cref != null && cref.length === 2) {\n\t\t\t\tidx = 0; d=cref[1];\n\t\t\t\tfor(i=0; i != d.length; ++i) {\n\t\t\t\t\tif((cc=d.charCodeAt(i)-64) < 1 || cc > 26) break;\n\t\t\t\t\tidx = 26*idx + cc;\n\t\t\t\t}\n\t\t\t\t--idx;\n\t\t\t\ttagc = idx;\n\t\t\t} else ++tagc;\n\t\t\tfor(i = 0; i != x.length; ++i) if(x.charCodeAt(i) === 62) break; ++i;\n\t\t\ttag = parsexmltag(x.slice(0,i), true);\n\t\t\tif(!tag.r) tag.r = encode_cell({r:tagr-1, c:tagc});\n\t\t\td = x.slice(i);\n\t\t\tp = ({t:\"\"}/*:any*/);\n\n\t\t\tif((cref=d.match(match_v))!= null && /*::cref != null && */cref[1] !== '') p.v=unescapexml(cref[1]);\n\t\t\tif(opts.cellFormula) {\n\t\t\t\tif((cref=d.match(match_f))!= null && /*::cref != null && */cref[1] !== '') {\n\t\t\t\t\t/* TODO: match against XLSXFutureFunctions */\n\t\t\t\t\tp.f=unescapexml(utf8read(cref[1])).replace(/\\r\\n/g, \"\\n\");\n\t\t\t\t\tif(!opts.xlfn) p.f = _xlfn(p.f);\n\t\t\t\t\tif(/*::cref != null && cref[0] != null && */cref[0].indexOf('t=\"array\"') > -1) {\n\t\t\t\t\t\tp.F = (d.match(refregex)||[])[1];\n\t\t\t\t\t\tif(p.F.indexOf(\":\") > -1) arrayf.push([safe_decode_range(p.F), p.F]);\n\t\t\t\t\t} else if(/*::cref != null && cref[0] != null && */cref[0].indexOf('t=\"shared\"') > -1) {\n\t\t\t\t\t\t// TODO: parse formula\n\t\t\t\t\t\tftag = parsexmltag(cref[0]);\n\t\t\t\t\t\tvar ___f = unescapexml(utf8read(cref[1]));\n\t\t\t\t\t\tif(!opts.xlfn) ___f = _xlfn(___f);\n\t\t\t\t\t\tsharedf[parseInt(ftag.si, 10)] = [ftag, ___f, tag.r];\n\t\t\t\t\t}\n\t\t\t\t} else if((cref=d.match(/<f[^>]*\\/>/))) {\n\t\t\t\t\tftag = parsexmltag(cref[0]);\n\t\t\t\t\tif(sharedf[ftag.si]) p.f = shift_formula_xlsx(sharedf[ftag.si][1], sharedf[ftag.si][2]/*[0].ref*/, tag.r);\n\t\t\t\t}\n\t\t\t\t/* TODO: factor out contains logic */\n\t\t\t\tvar _tag = decode_cell(tag.r);\n\t\t\t\tfor(i = 0; i < arrayf.length; ++i)\n\t\t\t\t\tif(_tag.r >= arrayf[i][0].s.r && _tag.r <= arrayf[i][0].e.r)\n\t\t\t\t\t\tif(_tag.c >= arrayf[i][0].s.c && _tag.c <= arrayf[i][0].e.c)\n\t\t\t\t\t\t\tp.F = arrayf[i][1];\n\t\t\t}\n\n\t\t\tif(tag.t == null && p.v === undefined) {\n\t\t\t\tif(p.f || p.F) {\n\t\t\t\t\tp.v = 0; p.t = \"n\";\n\t\t\t\t} else if(!sheetStubs) continue;\n\t\t\t\telse p.t = \"z\";\n\t\t\t}\n\t\t\telse p.t = tag.t || \"n\";\n\t\t\tif(guess.s.c > tagc) guess.s.c = tagc;\n\t\t\tif(guess.e.c < tagc) guess.e.c = tagc;\n\t\t\t/* 18.18.11 t ST_CellType */\n\t\t\tswitch(p.t) {\n\t\t\t\tcase 'n':\n\t\t\t\t\tif(p.v == \"\" || p.v == null) {\n\t\t\t\t\t\tif(!sheetStubs) continue;\n\t\t\t\t\t\tp.t = 'z';\n\t\t\t\t\t} else p.v = parseFloat(p.v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 's':\n\t\t\t\t\tif(typeof p.v == 'undefined') {\n\t\t\t\t\t\tif(!sheetStubs) continue;\n\t\t\t\t\t\tp.t = 'z';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsstr = strs[parseInt(p.v, 10)];\n\t\t\t\t\t\tp.v = sstr.t;\n\t\t\t\t\t\tp.r = sstr.r;\n\t\t\t\t\t\tif(opts.cellHTML) p.h = sstr.h;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'str':\n\t\t\t\t\tp.t = \"s\";\n\t\t\t\t\tp.v = (p.v!=null) ? utf8read(p.v) : '';\n\t\t\t\t\tif(opts.cellHTML) p.h = escapehtml(p.v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'inlineStr':\n\t\t\t\t\tcref = d.match(isregex);\n\t\t\t\t\tp.t = 's';\n\t\t\t\t\tif(cref != null && (sstr = parse_si(cref[1]))) {\n\t\t\t\t\t\tp.v = sstr.t;\n\t\t\t\t\t\tif(opts.cellHTML) p.h = sstr.h;\n\t\t\t\t\t} else p.v = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'b': p.v = parsexmlbool(p.v); break;\n\t\t\t\tcase 'd':\n\t\t\t\t\tif(opts.cellDates) p.v = parseDate(p.v, 1);\n\t\t\t\t\telse { p.v = datenum(parseDate(p.v, 1)); p.t = 'n'; }\n\t\t\t\t\tbreak;\n\t\t\t\t/* error string in .w, number in .v */\n\t\t\t\tcase 'e':\n\t\t\t\t\tif(!opts || opts.cellText !== false) p.w = p.v;\n\t\t\t\t\tp.v = RBErr[p.v]; break;\n\t\t\t}\n\t\t\t/* formatting */\n\t\t\tfmtid = fillid = 0;\n\t\t\tcf = null;\n\t\t\tif(do_format && tag.s !== undefined) {\n\t\t\t\tcf = styles.CellXf[tag.s];\n\t\t\t\tif(cf != null) {\n\t\t\t\t\tif(cf.numFmtId != null) fmtid = cf.numFmtId;\n\t\t\t\t\tif(opts.cellStyles) {\n\t\t\t\t\t\tif(cf.fillId != null) fillid = cf.fillId;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsafe_format(p, fmtid, fillid, opts, themes, styles);\n\t\t\tif(opts.cellDates && do_format && p.t == 'n' && fmt_is_date(table_fmt[fmtid])) { p.t = 'd'; p.v = numdate(p.v); }\n\t\t\tif(tag.cm && opts.xlmeta) {\n\t\t\t\tvar cm = (opts.xlmeta.Cell||[])[+tag.cm-1];\n\t\t\t\tif(cm && cm.type == 'XLDAPR') p.D = true;\n\t\t\t}\n\t\t\tif(dense) {\n\t\t\t\tvar _r = decode_cell(tag.r);\n\t\t\t\tif(!s[_r.r]) s[_r.r] = [];\n\t\t\t\ts[_r.r][_r.c] = p;\n\t\t\t} else s[tag.r] = p;\n\t\t}\n\t}\n\tif(rows.length > 0) s['!rows'] = rows;\n}; })();\n\nfunction write_ws_xml_data(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*//*::, rels*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [], r/*:Array<string>*/ = [], range = safe_decode_range(ws['!ref']), cell=\"\", ref, rr = \"\", cols/*:Array<string>*/ = [], R=0, C=0, rows = ws['!rows'];\n\tvar dense = Array.isArray(ws);\n\tvar params = ({r:rr}/*:any*/), row/*:RowInfo*/, height = -1;\n\tfor(C = range.s.c; C <= range.e.c; ++C) cols[C] = encode_col(C);\n\tfor(R = range.s.r; R <= range.e.r; ++R) {\n\t\tr = [];\n\t\trr = encode_row(R);\n\t\tfor(C = range.s.c; C <= range.e.c; ++C) {\n\t\t\tref = cols[C] + rr;\n\t\t\tvar _cell = dense ? (ws[R]||[])[C]: ws[ref];\n\t\t\tif(_cell === undefined) continue;\n\t\t\tif((cell = write_ws_xml_cell(_cell, ref, ws, opts, idx, wb)) != null) r.push(cell);\n\t\t}\n\t\tif(r.length > 0 || (rows && rows[R])) {\n\t\t\tparams = ({r:rr}/*:any*/);\n\t\t\tif(rows && rows[R]) {\n\t\t\t\trow = rows[R];\n\t\t\t\tif(row.hidden) params.hidden = 1;\n\t\t\t\theight = -1;\n\t\t\t\tif(row.hpx) height = px2pt(row.hpx);\n\t\t\t\telse if(row.hpt) height = row.hpt;\n\t\t\t\tif(height > -1) { params.ht = height; params.customHeight = 1; }\n\t\t\t\tif(row.level) { params.outlineLevel = row.level; }\n\t\t\t}\n\t\t\to[o.length] = (writextag('row', r.join(\"\"), params));\n\t\t}\n\t}\n\tif(rows) for(; R < rows.length; ++R) {\n\t\tif(rows && rows[R]) {\n\t\t\tparams = ({r:R+1}/*:any*/);\n\t\t\trow = rows[R];\n\t\t\tif(row.hidden) params.hidden = 1;\n\t\t\theight = -1;\n\t\t\tif (row.hpx) height = px2pt(row.hpx);\n\t\t\telse if (row.hpt) height = row.hpt;\n\t\t\tif (height > -1) { params.ht = height; params.customHeight = 1; }\n\t\t\tif (row.level) { params.outlineLevel = row.level; }\n\t\t\to[o.length] = (writextag('row', \"\", params));\n\t\t}\n\t}\n\treturn o.join(\"\");\n}\n\nfunction write_ws_xml(idx/*:number*/, opts, wb/*:Workbook*/, rels)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('worksheet', null, {\n\t\t'xmlns': XMLNS_main[0],\n\t\t'xmlns:r': XMLNS.r\n\t})];\n\tvar s = wb.SheetNames[idx], sidx = 0, rdata = \"\";\n\tvar ws = wb.Sheets[s];\n\tif(ws == null) ws = {};\n\tvar ref = ws['!ref'] || 'A1';\n\tvar range = safe_decode_range(ref);\n\tif(range.e.c > 0x3FFF || range.e.r > 0xFFFFF) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + ref + \" exceeds format limit A1:XFD1048576\");\n\t\trange.e.c = Math.min(range.e.c, 0x3FFF);\n\t\trange.e.r = Math.min(range.e.c, 0xFFFFF);\n\t\tref = encode_range(range);\n\t}\n\tif(!rels) rels = {};\n\tws['!comments'] = [];\n\tvar _drawing = [];\n\n\twrite_ws_xml_sheetpr(ws, wb, idx, opts, o);\n\n\to[o.length] = (writextag('dimension', null, {'ref': ref}));\n\n\to[o.length] = write_ws_xml_sheetviews(ws, opts, idx, wb);\n\n\t/* TODO: store in WB, process styles */\n\tif(opts.sheetFormat) o[o.length] = (writextag('sheetFormatPr', null, {\n\t\tdefaultRowHeight:opts.sheetFormat.defaultRowHeight||'16',\n\t\tbaseColWidth:opts.sheetFormat.baseColWidth||'10',\n\t\toutlineLevelRow:opts.sheetFormat.outlineLevelRow||'7'\n\t}));\n\n\tif(ws['!cols'] != null && ws['!cols'].length > 0) o[o.length] = (write_ws_xml_cols(ws, ws['!cols']));\n\n\to[sidx = o.length] = '<sheetData/>';\n\tws['!links'] = [];\n\tif(ws['!ref'] != null) {\n\t\trdata = write_ws_xml_data(ws, opts, idx, wb, rels);\n\t\tif(rdata.length > 0) o[o.length] = (rdata);\n\t}\n\tif(o.length>sidx+1) { o[o.length] = ('</sheetData>'); o[sidx]=o[sidx].replace(\"/>\",\">\"); }\n\n\t/* sheetCalcPr */\n\n\tif(ws['!protect']) o[o.length] = write_ws_xml_protection(ws['!protect']);\n\n\t/* protectedRanges */\n\t/* scenarios */\n\n\tif(ws['!autofilter'] != null) o[o.length] = write_ws_xml_autofilter(ws['!autofilter'], ws, wb, idx);\n\n\t/* sortState */\n\t/* dataConsolidate */\n\t/* customSheetViews */\n\n\tif(ws['!merges'] != null && ws['!merges'].length > 0) o[o.length] = (write_ws_xml_merges(ws['!merges']));\n\n\t/* phoneticPr */\n\t/* conditionalFormatting */\n\t/* dataValidations */\n\n\tvar relc = -1, rel, rId = -1;\n\tif(/*::(*/ws['!links']/*::||[])*/.length > 0) {\n\t\to[o.length] = \"<hyperlinks>\";\n\t\t/*::(*/ws['!links']/*::||[])*/.forEach(function(l) {\n\t\t\tif(!l[1].Target) return;\n\t\t\trel = ({\"ref\":l[0]}/*:any*/);\n\t\t\tif(l[1].Target.charAt(0) != \"#\") {\n\t\t\t\trId = add_rels(rels, -1, escapexml(l[1].Target).replace(/#.*$/, \"\"), RELS.HLINK);\n\t\t\t\trel[\"r:id\"] = \"rId\"+rId;\n\t\t\t}\n\t\t\tif((relc = l[1].Target.indexOf(\"#\")) > -1) rel.location = escapexml(l[1].Target.slice(relc+1));\n\t\t\tif(l[1].Tooltip) rel.tooltip = escapexml(l[1].Tooltip);\n\t\t\to[o.length] = writextag(\"hyperlink\",null,rel);\n\t\t});\n\t\to[o.length] = \"</hyperlinks>\";\n\t}\n\tdelete ws['!links'];\n\n\t/* printOptions */\n\n\tif(ws['!margins'] != null) o[o.length] =  write_ws_xml_margins(ws['!margins']);\n\n\t/* pageSetup */\n\t/* headerFooter */\n\t/* rowBreaks */\n\t/* colBreaks */\n\t/* customProperties */\n\t/* cellWatches */\n\n\tif(!opts || opts.ignoreEC || (opts.ignoreEC == (void 0))) o[o.length] = writetag(\"ignoredErrors\", writextag(\"ignoredError\", null, {numberStoredAsText:1, sqref:ref}));\n\n\t/* smartTags */\n\n\tif(_drawing.length > 0) {\n\t\trId = add_rels(rels, -1, \"../drawings/drawing\" + (idx+1) + \".xml\", RELS.DRAW);\n\t\to[o.length] = writextag(\"drawing\", null, {\"r:id\":\"rId\" + rId});\n\t\tws['!drawing'] = _drawing;\n\t}\n\n\tif(ws['!comments'].length > 0) {\n\t\trId = add_rels(rels, -1, \"../drawings/vmlDrawing\" + (idx+1) + \".vml\", RELS.VML);\n\t\to[o.length] = writextag(\"legacyDrawing\", null, {\"r:id\":\"rId\" + rId});\n\t\tws['!legacy'] = rId;\n\t}\n\n\t/* legacyDrawingHF */\n\t/* picture */\n\t/* oleObjects */\n\t/* controls */\n\t/* webPublishItems */\n\t/* tableParts */\n\t/* extLst */\n\n\tif(o.length>1) { o[o.length] = ('</worksheet>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n\n/* [MS-XLSB] 2.4.726 BrtRowHdr */\nfunction parse_BrtRowHdr(data, length) {\n\tvar z = ({}/*:any*/);\n\tvar tgt = data.l + length;\n\tz.r = data.read_shift(4);\n\tdata.l += 4; // TODO: ixfe\n\tvar miyRw = data.read_shift(2);\n\tdata.l += 1; // TODO: top/bot padding\n\tvar flags = data.read_shift(1);\n\tdata.l = tgt;\n\tif(flags & 0x07) z.level = flags & 0x07;\n\tif(flags & 0x10) z.hidden = true;\n\tif(flags & 0x20) z.hpt = miyRw / 20;\n\treturn z;\n}\nfunction write_BrtRowHdr(R/*:number*/, range, ws) {\n\tvar o = new_buf(17+8*16);\n\tvar row = (ws['!rows']||[])[R]||{};\n\to.write_shift(4, R);\n\n\to.write_shift(4, 0); /* TODO: ixfe */\n\n\tvar miyRw = 0x0140;\n\tif(row.hpx) miyRw = px2pt(row.hpx) * 20;\n\telse if(row.hpt) miyRw = row.hpt * 20;\n\to.write_shift(2, miyRw);\n\n\to.write_shift(1, 0); /* top/bot padding */\n\n\tvar flags = 0x0;\n\tif(row.level) flags |= row.level;\n\tif(row.hidden) flags |= 0x10;\n\tif(row.hpx || row.hpt) flags |= 0x20;\n\to.write_shift(1, flags);\n\n\to.write_shift(1, 0); /* phonetic guide */\n\n\t/* [MS-XLSB] 2.5.8 BrtColSpan explains the mechanism */\n\tvar ncolspan = 0, lcs = o.l;\n\to.l += 4;\n\n\tvar caddr = {r:R, c:0};\n\tfor(var i = 0; i < 16; ++i) {\n\t\tif((range.s.c > ((i+1) << 10)) || (range.e.c < (i << 10))) continue;\n\t\tvar first = -1, last = -1;\n\t\tfor(var j = (i<<10); j < ((i+1)<<10); ++j) {\n\t\t\tcaddr.c = j;\n\t\t\tvar cell = Array.isArray(ws) ? (ws[caddr.r]||[])[caddr.c] : ws[encode_cell(caddr)];\n\t\t\tif(cell) { if(first < 0) first = j; last = j; }\n\t\t}\n\t\tif(first < 0) continue;\n\t\t++ncolspan;\n\t\to.write_shift(4, first);\n\t\to.write_shift(4, last);\n\t}\n\n\tvar l = o.l;\n\to.l = lcs;\n\to.write_shift(4, ncolspan);\n\to.l = l;\n\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\nfunction write_row_header(ba, ws, range, R) {\n\tvar o = write_BrtRowHdr(R, range, ws);\n\tif((o.length > 17) || (ws['!rows']||[])[R]) write_record(ba, 0x0000 /* BrtRowHdr */, o);\n}\n\n/* [MS-XLSB] 2.4.820 BrtWsDim */\nvar parse_BrtWsDim = parse_UncheckedRfX;\nvar write_BrtWsDim = write_UncheckedRfX;\n\n/* [MS-XLSB] 2.4.821 BrtWsFmtInfo */\nfunction parse_BrtWsFmtInfo(/*::data, length*/) {\n}\n//function write_BrtWsFmtInfo(ws, o) { }\n\n/* [MS-XLSB] 2.4.823 BrtWsProp */\nfunction parse_BrtWsProp(data, length) {\n\tvar z = {};\n\tvar f = data[data.l]; ++data.l;\n\tz.above = !(f & 0x40);\n\tz.left  = !(f & 0x80);\n\t/* TODO: pull flags */\n\tdata.l += 18;\n\tz.name = parse_XLSBCodeName(data, length - 19);\n\treturn z;\n}\nfunction write_BrtWsProp(str, outl, o) {\n\tif(o == null) o = new_buf(84+4*str.length);\n\tvar f = 0xC0;\n\tif(outl) {\n\t\tif(outl.above) f &= ~0x40;\n\t\tif(outl.left)  f &= ~0x80;\n\t}\n\to.write_shift(1, f);\n\tfor(var i = 1; i < 3; ++i) o.write_shift(1,0);\n\twrite_BrtColor({auto:1}, o);\n\to.write_shift(-4,-1);\n\to.write_shift(-4,-1);\n\twrite_XLSBCodeName(str, o);\n\treturn o.slice(0, o.l);\n}\n\n/* [MS-XLSB] 2.4.306 BrtCellBlank */\nfunction parse_BrtCellBlank(data) {\n\tvar cell = parse_XLSBCell(data);\n\treturn [cell];\n}\nfunction write_BrtCellBlank(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\treturn write_XLSBCell(ncell, o);\n}\nfunction parse_BrtShortBlank(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\treturn [cell];\n}\nfunction write_BrtShortBlank(cell, ncell, o) {\n\tif(o == null) o = new_buf(4);\n\treturn write_XLSBShortCell(ncell, o);\n}\n\n/* [MS-XLSB] 2.4.307 BrtCellBool */\nfunction parse_BrtCellBool(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar fBool = data.read_shift(1);\n\treturn [cell, fBool, 'b'];\n}\nfunction write_BrtCellBool(cell, ncell, o) {\n\tif(o == null) o = new_buf(9);\n\twrite_XLSBCell(ncell, o);\n\to.write_shift(1, cell.v ? 1 : 0);\n\treturn o;\n}\nfunction parse_BrtShortBool(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar fBool = data.read_shift(1);\n\treturn [cell, fBool, 'b'];\n}\nfunction write_BrtShortBool(cell, ncell, o) {\n\tif(o == null) o = new_buf(5);\n\twrite_XLSBShortCell(ncell, o);\n\to.write_shift(1, cell.v ? 1 : 0);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.308 BrtCellError */\nfunction parse_BrtCellError(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar bError = data.read_shift(1);\n\treturn [cell, bError, 'e'];\n}\nfunction write_BrtCellError(cell, ncell, o) {\n\tif(o == null) o = new_buf(9);\n\twrite_XLSBCell(ncell, o);\n\to.write_shift(1, cell.v);\n\treturn o;\n}\nfunction parse_BrtShortError(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar bError = data.read_shift(1);\n\treturn [cell, bError, 'e'];\n}\nfunction write_BrtShortError(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\twrite_XLSBShortCell(ncell, o);\n\to.write_shift(1, cell.v);\n\to.write_shift(2, 0);\n\to.write_shift(1, 0);\n\treturn o;\n}\n\n\n/* [MS-XLSB] 2.4.311 BrtCellIsst */\nfunction parse_BrtCellIsst(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar isst = data.read_shift(4);\n\treturn [cell, isst, 's'];\n}\nfunction write_BrtCellIsst(cell, ncell, o) {\n\tif(o == null) o = new_buf(12);\n\twrite_XLSBCell(ncell, o);\n\to.write_shift(4, ncell.v);\n\treturn o;\n}\nfunction parse_BrtShortIsst(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar isst = data.read_shift(4);\n\treturn [cell, isst, 's'];\n}\nfunction write_BrtShortIsst(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\twrite_XLSBShortCell(ncell, o);\n\to.write_shift(4, ncell.v);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.313 BrtCellReal */\nfunction parse_BrtCellReal(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_Xnum(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtCellReal(cell, ncell, o) {\n\tif(o == null) o = new_buf(16);\n\twrite_XLSBCell(ncell, o);\n\twrite_Xnum(cell.v, o);\n\treturn o;\n}\nfunction parse_BrtShortReal(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar value = parse_Xnum(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtShortReal(cell, ncell, o) {\n\tif(o == null) o = new_buf(12);\n\twrite_XLSBShortCell(ncell, o);\n\twrite_Xnum(cell.v, o);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.314 BrtCellRk */\nfunction parse_BrtCellRk(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_RkNumber(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtCellRk(cell, ncell, o) {\n\tif(o == null) o = new_buf(12);\n\twrite_XLSBCell(ncell, o);\n\twrite_RkNumber(cell.v, o);\n\treturn o;\n}\nfunction parse_BrtShortRk(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar value = parse_RkNumber(data);\n\treturn [cell, value, 'n'];\n}\nfunction write_BrtShortRk(cell, ncell, o) {\n\tif(o == null) o = new_buf(8);\n\twrite_XLSBShortCell(ncell, o);\n\twrite_RkNumber(cell.v, o);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.323 BrtCellRString */\nfunction parse_BrtCellRString(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_RichStr(data);\n\treturn [cell, value, 'is'];\n}\n\n/* [MS-XLSB] 2.4.317 BrtCellSt */\nfunction parse_BrtCellSt(data) {\n\tvar cell = parse_XLSBCell(data);\n\tvar value = parse_XLWideString(data);\n\treturn [cell, value, 'str'];\n}\nfunction write_BrtCellSt(cell, ncell, o) {\n\tif(o == null) o = new_buf(12 + 4 * cell.v.length);\n\twrite_XLSBCell(ncell, o);\n\twrite_XLWideString(cell.v, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\nfunction parse_BrtShortSt(data) {\n\tvar cell = parse_XLSBShortCell(data);\n\tvar value = parse_XLWideString(data);\n\treturn [cell, value, 'str'];\n}\nfunction write_BrtShortSt(cell, ncell, o) {\n\tif(o == null) o = new_buf(8 + 4 * cell.v.length);\n\twrite_XLSBShortCell(ncell, o);\n\twrite_XLWideString(cell.v, o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.653 BrtFmlaBool */\nfunction parse_BrtFmlaBool(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = data.read_shift(1);\n\tvar o = [cell, value, 'b'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.654 BrtFmlaError */\nfunction parse_BrtFmlaError(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = data.read_shift(1);\n\tvar o = [cell, value, 'e'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.655 BrtFmlaNum */\nfunction parse_BrtFmlaNum(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = parse_Xnum(data);\n\tvar o = [cell, value, 'n'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.656 BrtFmlaString */\nfunction parse_BrtFmlaString(data, length, opts) {\n\tvar end = data.l + length;\n\tvar cell = parse_XLSBCell(data);\n\tcell.r = opts['!row'];\n\tvar value = parse_XLWideString(data);\n\tvar o = [cell, value, 'str'];\n\tif(opts.cellFormula) {\n\t\tdata.l += 2;\n\t\tvar formula = parse_XLSBCellParsedFormula(data, end - data.l, opts);\n\t\to[3] = stringify_formula(formula, null/*range*/, cell, opts.supbooks, opts);/* TODO */\n\t}\n\telse data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.682 BrtMergeCell */\nvar parse_BrtMergeCell = parse_UncheckedRfX;\nvar write_BrtMergeCell = write_UncheckedRfX;\n/* [MS-XLSB] 2.4.107 BrtBeginMergeCells */\nfunction write_BrtBeginMergeCells(cnt, o) {\n\tif(o == null) o = new_buf(4);\n\to.write_shift(4, cnt);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.662 BrtHLink */\nfunction parse_BrtHLink(data, length/*::, opts*/) {\n\tvar end = data.l + length;\n\tvar rfx = parse_UncheckedRfX(data, 16);\n\tvar relId = parse_XLNullableWideString(data);\n\tvar loc = parse_XLWideString(data);\n\tvar tooltip = parse_XLWideString(data);\n\tvar display = parse_XLWideString(data);\n\tdata.l = end;\n\tvar o = ({rfx:rfx, relId:relId, loc:loc, display:display}/*:any*/);\n\tif(tooltip) o.Tooltip = tooltip;\n\treturn o;\n}\nfunction write_BrtHLink(l, rId) {\n\tvar o = new_buf(50+4*(l[1].Target.length + (l[1].Tooltip || \"\").length));\n\twrite_UncheckedRfX({s:decode_cell(l[0]), e:decode_cell(l[0])}, o);\n\twrite_RelID(\"rId\" + rId, o);\n\tvar locidx = l[1].Target.indexOf(\"#\");\n\tvar loc = locidx == -1 ? \"\" : l[1].Target.slice(locidx+1);\n\twrite_XLWideString(loc || \"\", o);\n\twrite_XLWideString(l[1].Tooltip || \"\", o);\n\twrite_XLWideString(\"\", o);\n\treturn o.slice(0, o.l);\n}\n\n/* [MS-XLSB] 2.4.692 BrtPane */\nfunction parse_BrtPane(/*data, length, opts*/) {\n}\n\n/* [MS-XLSB] 2.4.6 BrtArrFmla */\nfunction parse_BrtArrFmla(data, length, opts) {\n\tvar end = data.l + length;\n\tvar rfx = parse_RfX(data, 16);\n\tvar fAlwaysCalc = data.read_shift(1);\n\tvar o = [rfx]; o[2] = fAlwaysCalc;\n\tif(opts.cellFormula) {\n\t\tvar formula = parse_XLSBArrayParsedFormula(data, end - data.l, opts);\n\t\to[1] = formula;\n\t} else data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.750 BrtShrFmla */\nfunction parse_BrtShrFmla(data, length, opts) {\n\tvar end = data.l + length;\n\tvar rfx = parse_UncheckedRfX(data, 16);\n\tvar o = [rfx];\n\tif(opts.cellFormula) {\n\t\tvar formula = parse_XLSBSharedParsedFormula(data, end - data.l, opts);\n\t\to[1] = formula;\n\t\tdata.l = end;\n\t} else data.l = end;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.323 BrtColInfo */\n/* TODO: once XLS ColInfo is set, combine the functions */\nfunction write_BrtColInfo(C/*:number*/, col, o) {\n\tif(o == null) o = new_buf(18);\n\tvar p = col_obj_w(C, col);\n\to.write_shift(-4, C);\n\to.write_shift(-4, C);\n\to.write_shift(4, (p.width || 10) * 256);\n\to.write_shift(4, 0/*ixfe*/); // style\n\tvar flags = 0;\n\tif(col.hidden) flags |= 0x01;\n\tif(typeof p.width == 'number') flags |= 0x02;\n\tif(col.level) flags |= (col.level << 8);\n\to.write_shift(2, flags); // bit flag\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.678 BrtMargins */\nvar BrtMarginKeys = [\"left\",\"right\",\"top\",\"bottom\",\"header\",\"footer\"];\nfunction parse_BrtMargins(data/*::, length, opts*/)/*:Margins*/ {\n\tvar margins = ({}/*:any*/);\n\tBrtMarginKeys.forEach(function(k) { margins[k] = parse_Xnum(data, 8); });\n\treturn margins;\n}\nfunction write_BrtMargins(margins/*:Margins*/, o) {\n\tif(o == null) o = new_buf(6*8);\n\tdefault_margins(margins);\n\tBrtMarginKeys.forEach(function(k) { write_Xnum((margins/*:any*/)[k], o); });\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.299 BrtBeginWsView */\nfunction parse_BrtBeginWsView(data/*::, length, opts*/) {\n\tvar f = data.read_shift(2);\n\tdata.l += 28;\n\treturn { RTL: f & 0x20 };\n}\nfunction write_BrtBeginWsView(ws, Workbook, o) {\n\tif(o == null) o = new_buf(30);\n\tvar f = 0x39c;\n\tif((((Workbook||{}).Views||[])[0]||{}).RTL) f |= 0x20;\n\to.write_shift(2, f); // bit flag\n\to.write_shift(4, 0);\n\to.write_shift(4, 0); // view first row\n\to.write_shift(4, 0); // view first col\n\to.write_shift(1, 0); // gridline color ICV\n\to.write_shift(1, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 100); // zoom scale\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(2, 0);\n\to.write_shift(4, 0); // workbook view id\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.309 BrtCellIgnoreEC */\nfunction write_BrtCellIgnoreEC(ref) {\n\tvar o = new_buf(24);\n\to.write_shift(4, 4);\n\to.write_shift(4, 1);\n\twrite_UncheckedRfX(ref, o);\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.748 BrtSheetProtection */\nfunction write_BrtSheetProtection(sp, o) {\n\tif(o == null) o = new_buf(16*4+2);\n\to.write_shift(2, sp.password ? crypto_CreatePasswordVerifier_Method1(sp.password) : 0);\n\to.write_shift(4, 1); // this record should not be written if no protection\n\t[\n\t\t[\"objects\",             false], // fObjects\n\t\t[\"scenarios\",           false], // fScenarios\n\t\t[\"formatCells\",          true], // fFormatCells\n\t\t[\"formatColumns\",        true], // fFormatColumns\n\t\t[\"formatRows\",           true], // fFormatRows\n\t\t[\"insertColumns\",        true], // fInsertColumns\n\t\t[\"insertRows\",           true], // fInsertRows\n\t\t[\"insertHyperlinks\",     true], // fInsertHyperlinks\n\t\t[\"deleteColumns\",        true], // fDeleteColumns\n\t\t[\"deleteRows\",           true], // fDeleteRows\n\t\t[\"selectLockedCells\",   false], // fSelLockedCells\n\t\t[\"sort\",                 true], // fSort\n\t\t[\"autoFilter\",           true], // fAutoFilter\n\t\t[\"pivotTables\",          true], // fPivotTables\n\t\t[\"selectUnlockedCells\", false]  // fSelUnlockedCells\n\t].forEach(function(n) {\n\t\t/*:: if(o == null) throw \"unreachable\"; */\n\t\tif(n[1]) o.write_shift(4, sp[n[0]] != null && !sp[n[0]] ? 1 : 0);\n\t\telse      o.write_shift(4, sp[n[0]] != null && sp[n[0]] ? 0 : 1);\n\t});\n\treturn o;\n}\n\nfunction parse_BrtDVal(/*data, length, opts*/) {\n}\nfunction parse_BrtDVal14(/*data, length, opts*/) {\n}\n/* [MS-XLSB] 2.1.7.61 Worksheet */\nfunction parse_ws_bin(data, _opts, idx, rels, wb/*:WBWBProps*/, themes, styles)/*:Worksheet*/ {\n\tif(!data) return data;\n\tvar opts = _opts || {};\n\tif(!rels) rels = {'!id':{}};\n\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\tvar s/*:Worksheet*/ = (opts.dense ? [] : {});\n\n\tvar ref;\n\tvar refguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false, end = false;\n\tvar row, p, cf, R, C, addr, sstr, rr, cell/*:Cell*/;\n\tvar merges/*:Array<Range>*/ = [];\n\topts.biff = 12;\n\topts['!row'] = 0;\n\n\tvar ai = 0, af = false;\n\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar sharedf = {};\n\tvar supbooks = opts.supbooks || /*::(*/wb/*:: :any)*/.supbooks || ([[]]/*:any*/);\n\tsupbooks.sharedf = sharedf;\n\tsupbooks.arrayf = arrayf;\n\tsupbooks.SheetNames = wb.SheetNames || wb.Sheets.map(function(x) { return x.name; });\n\tif(!opts.supbooks) {\n\t\topts.supbooks = supbooks;\n\t\tif(wb.Names) for(var i = 0; i < wb.Names.length; ++i) supbooks[0][i+1] = wb.Names[i];\n\t}\n\n\tvar colinfo/*:Array<ColInfo>*/ = [], rowinfo/*:Array<RowInfo>*/ = [];\n\tvar seencol = false;\n\n\tXLSBRecordEnum[0x0010] = { n:\"BrtShortReal\", f:parse_BrtShortReal };\n\n\tvar cm, vm;\n\n\trecordhopper(data, function ws_parse(val, RR, RT) {\n\t\tif(end) return;\n\t\tswitch(RT) {\n\t\t\tcase 0x0094: /* 'BrtWsDim' */\n\t\t\t\tref = val; break;\n\t\t\tcase 0x0000: /* 'BrtRowHdr' */\n\t\t\t\trow = val;\n\t\t\t\tif(opts.sheetRows && opts.sheetRows <= row.r) end=true;\n\t\t\t\trr = encode_row(R = row.r);\n\t\t\t\topts['!row'] = row.r;\n\t\t\t\tif(val.hidden || val.hpt || val.level != null) {\n\t\t\t\t\tif(val.hpt) val.hpx = pt2px(val.hpt);\n\t\t\t\t\trowinfo[val.r] = val;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0002: /* 'BrtCellRk' */\n\t\t\tcase 0x0003: /* 'BrtCellError' */\n\t\t\tcase 0x0004: /* 'BrtCellBool' */\n\t\t\tcase 0x0005: /* 'BrtCellReal' */\n\t\t\tcase 0x0006: /* 'BrtCellSt' */\n\t\t\tcase 0x0007: /* 'BrtCellIsst' */\n\t\t\tcase 0x0008: /* 'BrtFmlaString' */\n\t\t\tcase 0x0009: /* 'BrtFmlaNum' */\n\t\t\tcase 0x000A: /* 'BrtFmlaBool' */\n\t\t\tcase 0x000B: /* 'BrtFmlaError' */\n\t\t\tcase 0x000D: /* 'BrtShortRk' */\n\t\t\tcase 0x000E: /* 'BrtShortError' */\n\t\t\tcase 0x000F: /* 'BrtShortBool' */\n\t\t\tcase 0x0010: /* 'BrtShortReal' */\n\t\t\tcase 0x0011: /* 'BrtShortSt' */\n\t\t\tcase 0x0012: /* 'BrtShortIsst' */\n\t\t\tcase 0x003E: /* 'BrtCellRString' */\n\t\t\t\tp = ({t:val[2]}/*:any*/);\n\t\t\t\tswitch(val[2]) {\n\t\t\t\t\tcase 'n': p.v = val[1]; break;\n\t\t\t\t\tcase 's': sstr = strs[val[1]]; p.v = sstr.t; p.r = sstr.r; break;\n\t\t\t\t\tcase 'b': p.v = val[1] ? true : false; break;\n\t\t\t\t\tcase 'e': p.v = val[1]; if(opts.cellText !== false) p.w = BErr[p.v]; break;\n\t\t\t\t\tcase 'str': p.t = 's'; p.v = val[1]; break;\n\t\t\t\t\tcase 'is': p.t = 's'; p.v = val[1].t; break;\n\t\t\t\t}\n\t\t\t\tif((cf = styles.CellXf[val[0].iStyleRef])) safe_format(p,cf.numFmtId,null,opts, themes, styles);\n\t\t\t\tC = val[0].c == -1 ? C + 1 : val[0].c;\n\t\t\t\tif(opts.dense) { if(!s[R]) s[R] = []; s[R][C] = p; }\n\t\t\t\telse s[encode_col(C) + rr] = p;\n\t\t\t\tif(opts.cellFormula) {\n\t\t\t\t\taf = false;\n\t\t\t\t\tfor(ai = 0; ai < arrayf.length; ++ai) {\n\t\t\t\t\t\tvar aii = arrayf[ai];\n\t\t\t\t\t\tif(row.r >= aii[0].s.r && row.r <= aii[0].e.r)\n\t\t\t\t\t\t\tif(C >= aii[0].s.c && C <= aii[0].e.c) {\n\t\t\t\t\t\t\t\tp.F = encode_range(aii[0]); af = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!af && val.length > 3) p.f = val[3];\n\t\t\t\t}\n\n\t\t\t\tif(refguess.s.r > row.r) refguess.s.r = row.r;\n\t\t\t\tif(refguess.s.c > C) refguess.s.c = C;\n\t\t\t\tif(refguess.e.r < row.r) refguess.e.r = row.r;\n\t\t\t\tif(refguess.e.c < C) refguess.e.c = C;\n\t\t\t\tif(opts.cellDates && cf && p.t == 'n' && fmt_is_date(table_fmt[cf.numFmtId])) {\n\t\t\t\t\tvar _d = SSF_parse_date_code(p.v); if(_d) { p.t = 'd'; p.v = new Date(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u); }\n\t\t\t\t}\n\t\t\t\tif(cm) {\n\t\t\t\t\tif(cm.type == 'XLDAPR') p.D = true;\n\t\t\t\t\tcm = void 0;\n\t\t\t\t}\n\t\t\t\tif(vm) vm = void 0;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0001: /* 'BrtCellBlank' */\n\t\t\tcase 0x000C: /* 'BrtShortBlank' */\n\t\t\t\tif(!opts.sheetStubs || pass) break;\n\t\t\t\tp = ({t:'z',v:void 0}/*:any*/);\n\t\t\t\tC = val[0].c == -1 ? C + 1 : val[0].c;\n\t\t\t\tif(opts.dense) { if(!s[R]) s[R] = []; s[R][C] = p; }\n\t\t\t\telse s[encode_col(C) + rr] = p;\n\t\t\t\tif(refguess.s.r > row.r) refguess.s.r = row.r;\n\t\t\t\tif(refguess.s.c > C) refguess.s.c = C;\n\t\t\t\tif(refguess.e.r < row.r) refguess.e.r = row.r;\n\t\t\t\tif(refguess.e.c < C) refguess.e.c = C;\n\t\t\t\tif(cm) {\n\t\t\t\t\tif(cm.type == 'XLDAPR') p.D = true;\n\t\t\t\t\tcm = void 0;\n\t\t\t\t}\n\t\t\t\tif(vm) vm = void 0;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x00B0: /* 'BrtMergeCell' */\n\t\t\t\tmerges.push(val); break;\n\n\t\t\tcase 0x0031: { /* 'BrtCellMeta' */\n\t\t\t\tcm = ((opts.xlmeta||{}).Cell||[])[val-1];\n\t\t\t} break;\n\n\t\t\tcase 0x01EE: /* 'BrtHLink' */\n\t\t\t\tvar rel = rels['!id'][val.relId];\n\t\t\t\tif(rel) {\n\t\t\t\t\tval.Target = rel.Target;\n\t\t\t\t\tif(val.loc) val.Target += \"#\"+val.loc;\n\t\t\t\t\tval.Rel = rel;\n\t\t\t\t} else if(val.relId == '') {\n\t\t\t\t\tval.Target = \"#\" + val.loc;\n\t\t\t\t}\n\t\t\t\tfor(R=val.rfx.s.r;R<=val.rfx.e.r;++R) for(C=val.rfx.s.c;C<=val.rfx.e.c;++C) {\n\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\tif(!s[R]) s[R] = [];\n\t\t\t\t\t\tif(!s[R][C]) s[R][C] = {t:'z',v:undefined};\n\t\t\t\t\t\ts[R][C].l = val;\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddr = encode_cell({c:C,r:R});\n\t\t\t\t\t\tif(!s[addr]) s[addr] = {t:'z',v:undefined};\n\t\t\t\t\t\ts[addr].l = val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 0x01AA: /* 'BrtArrFmla' */\n\t\t\t\tif(!opts.cellFormula) break;\n\t\t\t\tarrayf.push(val);\n\t\t\t\tcell = ((opts.dense ? s[R][C] : s[encode_col(C) + rr])/*:any*/);\n\t\t\t\tcell.f = stringify_formula(val[1], refguess, {r:row.r, c:C}, supbooks, opts);\n\t\t\t\tcell.F = encode_range(val[0]);\n\t\t\t\tbreak;\n\t\t\tcase 0x01AB: /* 'BrtShrFmla' */\n\t\t\t\tif(!opts.cellFormula) break;\n\t\t\t\tsharedf[encode_cell(val[0].s)] = val[1];\n\t\t\t\tcell = (opts.dense ? s[R][C] : s[encode_col(C) + rr]);\n\t\t\t\tcell.f = stringify_formula(val[1], refguess, {r:row.r, c:C}, supbooks, opts);\n\t\t\t\tbreak;\n\n\t\t\t/* identical to 'ColInfo' in XLS */\n\t\t\tcase 0x003C: /* 'BrtColInfo' */\n\t\t\t\tif(!opts.cellStyles) break;\n\t\t\t\twhile(val.e >= val.s) {\n\t\t\t\t\tcolinfo[val.e--] = { width: val.w/256, hidden: !!(val.flags & 0x01), level: val.level };\n\t\t\t\t\tif(!seencol) { seencol = true; find_mdw_colw(val.w/256); }\n\t\t\t\t\tprocess_col(colinfo[val.e+1]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 0x00A1: /* 'BrtBeginAFilter' */\n\t\t\t\ts['!autofilter'] = { ref:encode_range(val) };\n\t\t\t\tbreak;\n\n\t\t\tcase 0x01DC: /* 'BrtMargins' */\n\t\t\t\ts['!margins'] = val;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0093: /* 'BrtWsProp' */\n\t\t\t\tif(!wb.Sheets[idx]) wb.Sheets[idx] = {};\n\t\t\t\tif(val.name) wb.Sheets[idx].CodeName = val.name;\n\t\t\t\tif(val.above || val.left) s['!outline'] = { above: val.above, left: val.left };\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0089: /* 'BrtBeginWsView' */\n\t\t\t\tif(!wb.Views) wb.Views = [{}];\n\t\t\t\tif(!wb.Views[0]) wb.Views[0] = {};\n\t\t\t\tif(val.RTL) wb.Views[0].RTL = true;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x01E5: /* 'BrtWsFmtInfo' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0040: /* 'BrtDVal' */\n\t\t\tcase 0x041D: /* 'BrtDVal14' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0097: /* 'BrtPane' */\n\t\t\t\tbreak;\n\t\t\tcase 0x0098: /* 'BrtSel' */\n\t\t\tcase 0x00AF: /* 'BrtAFilterDateGroupItem' */\n\t\t\tcase 0x0284: /* 'BrtActiveX' */\n\t\t\tcase 0x0271: /* 'BrtBigName' */\n\t\t\tcase 0x0232: /* 'BrtBkHim' */\n\t\t\tcase 0x018C: /* 'BrtBrk' */\n\t\t\tcase 0x0458: /* 'BrtCFIcon' */\n\t\t\tcase 0x047A: /* 'BrtCFRuleExt' */\n\t\t\tcase 0x01D7: /* 'BrtCFVO' */\n\t\t\tcase 0x041A: /* 'BrtCFVO14' */\n\t\t\tcase 0x0289: /* 'BrtCellIgnoreEC' */\n\t\t\tcase 0x0451: /* 'BrtCellIgnoreEC14' */\n\t\t\tcase 0x024D: /* 'BrtCellSmartTagProperty' */\n\t\t\tcase 0x025F: /* 'BrtCellWatch' */\n\t\t\tcase 0x0234: /* 'BrtColor' */\n\t\t\tcase 0x041F: /* 'BrtColor14' */\n\t\t\tcase 0x00A8: /* 'BrtColorFilter' */\n\t\t\tcase 0x00AE: /* 'BrtCustomFilter' */\n\t\t\tcase 0x049C: /* 'BrtCustomFilter14' */\n\t\t\tcase 0x01F3: /* 'BrtDRef' */\n\t\t\tcase 0x01FB: /* 'BrtDXF' */\n\t\t\tcase 0x0226: /* 'BrtDrawing' */\n\t\t\tcase 0x00AB: /* 'BrtDynamicFilter' */\n\t\t\tcase 0x00A7: /* 'BrtFilter' */\n\t\t\tcase 0x0499: /* 'BrtFilter14' */\n\t\t\tcase 0x00A9: /* 'BrtIconFilter' */\n\t\t\tcase 0x049D: /* 'BrtIconFilter14' */\n\t\t\tcase 0x0227: /* 'BrtLegacyDrawing' */\n\t\t\tcase 0x0228: /* 'BrtLegacyDrawingHF' */\n\t\t\tcase 0x0295: /* 'BrtListPart' */\n\t\t\tcase 0x027F: /* 'BrtOleObject' */\n\t\t\tcase 0x01DE: /* 'BrtPageSetup' */\n\t\t\tcase 0x0219: /* 'BrtPhoneticInfo' */\n\t\t\tcase 0x01DD: /* 'BrtPrintOptions' */\n\t\t\tcase 0x0218: /* 'BrtRangeProtection' */\n\t\t\tcase 0x044F: /* 'BrtRangeProtection14' */\n\t\t\tcase 0x02A8: /* 'BrtRangeProtectionIso' */\n\t\t\tcase 0x0450: /* 'BrtRangeProtectionIso14' */\n\t\t\tcase 0x0400: /* 'BrtRwDescent' */\n\t\t\tcase 0x0297: /* 'BrtSheetCalcProp' */\n\t\t\tcase 0x0217: /* 'BrtSheetProtection' */\n\t\t\tcase 0x02A6: /* 'BrtSheetProtectionIso' */\n\t\t\tcase 0x01F8: /* 'BrtSlc' */\n\t\t\tcase 0x0413: /* 'BrtSparkline' */\n\t\t\tcase 0x01AC: /* 'BrtTable' */\n\t\t\tcase 0x00AA: /* 'BrtTop10Filter' */\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\tcase 0x0032: /* 'BrtValueMeta' */\n\t\t\tcase 0x0816: /* 'BrtWebExtension' */\n\t\t\tcase 0x0415: /* 'BrtWsFmtInfoEx14' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */\n\t\t\t\tstate.pop(); pass = false; break;\n\n\t\t\tdefault:\n\t\t\t\tif(RR.T){/* empty */}\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n\n\tdelete opts.supbooks;\n\tdelete opts['!row'];\n\n\tif(!s[\"!ref\"] && (refguess.s.r < 2000000 || ref && (ref.e.r > 0 || ref.e.c > 0 || ref.s.r > 0 || ref.s.c > 0))) s[\"!ref\"] = encode_range(ref || refguess);\n\tif(opts.sheetRows && s[\"!ref\"]) {\n\t\tvar tmpref = safe_decode_range(s[\"!ref\"]);\n\t\tif(opts.sheetRows <= +tmpref.e.r) {\n\t\t\ttmpref.e.r = opts.sheetRows - 1;\n\t\t\tif(tmpref.e.r > refguess.e.r) tmpref.e.r = refguess.e.r;\n\t\t\tif(tmpref.e.r < tmpref.s.r) tmpref.s.r = tmpref.e.r;\n\t\t\tif(tmpref.e.c > refguess.e.c) tmpref.e.c = refguess.e.c;\n\t\t\tif(tmpref.e.c < tmpref.s.c) tmpref.s.c = tmpref.e.c;\n\t\t\ts[\"!fullref\"] = s[\"!ref\"];\n\t\t\ts[\"!ref\"] = encode_range(tmpref);\n\t\t}\n\t}\n\tif(merges.length > 0) s[\"!merges\"] = merges;\n\tif(colinfo.length > 0) s[\"!cols\"] = colinfo;\n\tif(rowinfo.length > 0) s[\"!rows\"] = rowinfo;\n\treturn s;\n}\n\n/* TODO: something useful -- this is a stub */\nfunction write_ws_bin_cell(ba/*:BufArray*/, cell/*:Cell*/, R/*:number*/, C/*:number*/, opts, ws/*:Worksheet*/, last_seen/*:boolean*/)/*:boolean*/ {\n\tif(cell.v === undefined) return false;\n\tvar vv = \"\";\n\tswitch(cell.t) {\n\t\tcase 'b': vv = cell.v ? \"1\" : \"0\"; break;\n\t\tcase 'd': // no BrtCellDate :(\n\t\t\tcell = dup(cell);\n\t\t\tcell.z = cell.z || table_fmt[14];\n\t\t\tcell.v = datenum(parseDate(cell.v)); cell.t = 'n';\n\t\t\tbreak;\n\t\t/* falls through */\n\t\tcase 'n': case 'e': vv = ''+cell.v; break;\n\t\tdefault: vv = cell.v; break;\n\t}\n\tvar o/*:any*/ = ({r:R, c:C}/*:any*/);\n\t/* TODO: cell style */\n\to.s = get_cell_style(opts.cellXfs, cell, opts);\n\tif(cell.l) ws['!links'].push([encode_cell(o), cell.l]);\n\tif(cell.c) ws['!comments'].push([encode_cell(o), cell.c]);\n\tswitch(cell.t) {\n\t\tcase 's': case 'str':\n\t\t\tif(opts.bookSST) {\n\t\t\t\tvv = get_sst_id(opts.Strings, (cell.v/*:any*/), opts.revStrings);\n\t\t\t\to.t = \"s\"; o.v = vv;\n\t\t\t\tif(last_seen) write_record(ba, 0x0012 /* BrtShortIsst */, write_BrtShortIsst(cell, o));\n\t\t\t\telse write_record(ba, 0x0007 /* BrtCellIsst */, write_BrtCellIsst(cell, o));\n\t\t\t} else {\n\t\t\t\to.t = \"str\";\n\t\t\t\tif(last_seen) write_record(ba, 0x0011 /* BrtShortSt */, write_BrtShortSt(cell, o));\n\t\t\t\telse write_record(ba, 0x0006 /* BrtCellSt */, write_BrtCellSt(cell, o));\n\t\t\t}\n\t\t\treturn true;\n\t\tcase 'n':\n\t\t\t/* TODO: determine threshold for Real vs RK */\n\t\t\tif(cell.v == (cell.v | 0) && cell.v > -1000 && cell.v < 1000) {\n\t\t\t\tif(last_seen) write_record(ba, 0x000D /* BrtShortRk */, write_BrtShortRk(cell, o));\n\t\t\t\telse write_record(ba, 0x0002 /* BrtCellRk */, write_BrtCellRk(cell, o));\n\t\t\t} else {\n\t\t\t\tif(last_seen) write_record(ba, 0x0010 /* BrtShortReal */, write_BrtShortReal(cell, o));\n\t\t\t\telse write_record(ba, 0x0005 /* BrtCellReal */, write_BrtCellReal(cell, o));\n\t\t\t} return true;\n\t\tcase 'b':\n\t\t\to.t = \"b\";\n\t\t\tif(last_seen) write_record(ba, 0x000F /* BrtShortBool */, write_BrtShortBool(cell, o));\n\t\t\telse write_record(ba, 0x0004 /* BrtCellBool */, write_BrtCellBool(cell, o));\n\t\t\treturn true;\n\t\tcase 'e':\n\t\t\to.t = \"e\";\n\t\t\tif(last_seen) write_record(ba, 0x000E /* BrtShortError */, write_BrtShortError(cell, o));\n\t\t\telse write_record(ba, 0x0003 /* BrtCellError */, write_BrtCellError(cell, o));\n\t\t\treturn true;\n\t}\n\tif(last_seen) write_record(ba, 0x000C /* BrtShortBlank */, write_BrtShortBlank(cell, o));\n\telse write_record(ba, 0x0001 /* BrtCellBlank */, write_BrtCellBlank(cell, o));\n\treturn true;\n}\n\nfunction write_CELLTABLE(ba, ws/*:Worksheet*/, idx/*:number*/, opts/*::, wb:Workbook*/) {\n\tvar range = safe_decode_range(ws['!ref'] || \"A1\"), ref, rr = \"\", cols/*:Array<string>*/ = [];\n\twrite_record(ba, 0x0091 /* BrtBeginSheetData */);\n\tvar dense = Array.isArray(ws);\n\tvar cap = range.e.r;\n\tif(ws['!rows']) cap = Math.max(range.e.r, ws['!rows'].length - 1);\n\tfor(var R = range.s.r; R <= cap; ++R) {\n\t\trr = encode_row(R);\n\t\t/* [ACCELLTABLE] */\n\t\t/* BrtRowHdr */\n\t\twrite_row_header(ba, ws, range, R);\n\t\tvar last_seen = false;\n\t\tif(R <= range.e.r) for(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\t/* *16384CELL */\n\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\tref = cols[C] + rr;\n\t\t\tvar cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\tif(!cell) { last_seen = false; continue; }\n\t\t\t/* write cell */\n\t\t\tlast_seen = write_ws_bin_cell(ba, cell, R, C, opts, ws, last_seen);\n\t\t}\n\t}\n\twrite_record(ba, 0x0092 /* BrtEndSheetData */);\n}\n\nfunction write_MERGECELLS(ba, ws/*:Worksheet*/) {\n\tif(!ws || !ws['!merges']) return;\n\twrite_record(ba, 0x00B1 /* BrtBeginMergeCells */, write_BrtBeginMergeCells(ws['!merges'].length));\n\tws['!merges'].forEach(function(m) { write_record(ba, 0x00B0 /* BrtMergeCell */, write_BrtMergeCell(m)); });\n\twrite_record(ba, 0x00B2 /* BrtEndMergeCells */);\n}\n\nfunction write_COLINFOS(ba, ws/*:Worksheet*//*::, idx:number, opts, wb:Workbook*/) {\n\tif(!ws || !ws['!cols']) return;\n\twrite_record(ba, 0x0186 /* BrtBeginColInfos */);\n\tws['!cols'].forEach(function(m, i) { if(m) write_record(ba, 0x003C /* 'BrtColInfo' */, write_BrtColInfo(i, m)); });\n\twrite_record(ba, 0x0187 /* BrtEndColInfos */);\n}\n\nfunction write_IGNOREECS(ba, ws/*:Worksheet*/) {\n\tif(!ws || !ws['!ref']) return;\n\twrite_record(ba, 0x0288 /* BrtBeginCellIgnoreECs */);\n\twrite_record(ba, 0x0289 /* BrtCellIgnoreEC */, write_BrtCellIgnoreEC(safe_decode_range(ws['!ref'])));\n\twrite_record(ba, 0x028A /* BrtEndCellIgnoreECs */);\n}\n\nfunction write_HLINKS(ba, ws/*:Worksheet*/, rels) {\n\t/* *BrtHLink */\n\tws['!links'].forEach(function(l) {\n\t\tif(!l[1].Target) return;\n\t\tvar rId = add_rels(rels, -1, l[1].Target.replace(/#.*$/, \"\"), RELS.HLINK);\n\t\twrite_record(ba, 0x01EE /* BrtHLink */, write_BrtHLink(l, rId));\n\t});\n\tdelete ws['!links'];\n}\nfunction write_LEGACYDRAWING(ba, ws/*:Worksheet*/, idx/*:number*/, rels) {\n\t/* [BrtLegacyDrawing] */\n\tif(ws['!comments'].length > 0) {\n\t\tvar rId = add_rels(rels, -1, \"../drawings/vmlDrawing\" + (idx+1) + \".vml\", RELS.VML);\n\t\twrite_record(ba, 0x0227 /* BrtLegacyDrawing */, write_RelID(\"rId\" + rId));\n\t\tws['!legacy'] = rId;\n\t}\n}\n\nfunction write_AUTOFILTER(ba, ws, wb, idx) {\n\tif(!ws['!autofilter']) return;\n\tvar data = ws['!autofilter'];\n\tvar ref = typeof data.ref === \"string\" ? data.ref : encode_range(data.ref);\n\n\t/* Update FilterDatabase defined name for the worksheet */\n\tif(!wb.Workbook) wb.Workbook = ({Sheets:[]}/*:any*/);\n\tif(!wb.Workbook.Names) wb.Workbook.Names = [];\n\tvar names/*: Array<any> */ = wb.Workbook.Names;\n\tvar range = decode_range(ref);\n\tif(range.s.r == range.e.r) { range.e.r = decode_range(ws[\"!ref\"]).e.r; ref = encode_range(range); }\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar name = names[i];\n\t\tif(name.Name != '_xlnm._FilterDatabase') continue;\n\t\tif(name.Sheet != idx) continue;\n\t\tname.Ref = \"'\" + wb.SheetNames[idx] + \"'!\" + ref; break;\n\t}\n\tif(i == names.length) names.push({ Name: '_xlnm._FilterDatabase', Sheet: idx, Ref: \"'\" + wb.SheetNames[idx] + \"'!\" + ref  });\n\n\twrite_record(ba, 0x00A1 /* BrtBeginAFilter */, write_UncheckedRfX(safe_decode_range(ref)));\n\t/* *FILTERCOLUMN */\n\t/* [SORTSTATE] */\n\t/* BrtEndAFilter */\n\twrite_record(ba, 0x00A2 /* BrtEndAFilter */);\n}\n\nfunction write_WSVIEWS2(ba, ws, Workbook) {\n\twrite_record(ba, 0x0085 /* BrtBeginWsViews */);\n\t{ /* 1*WSVIEW2 */\n\t\t/* [ACUID] */\n\t\twrite_record(ba, 0x0089 /* BrtBeginWsView */, write_BrtBeginWsView(ws, Workbook));\n\t\t/* [BrtPane] */\n\t\t/* *4BrtSel */\n\t\t/* *4SXSELECT */\n\t\t/* *FRT */\n\t\twrite_record(ba, 0x008A /* BrtEndWsView */);\n\t}\n\t/* *FRT */\n\twrite_record(ba, 0x0086 /* BrtEndWsViews */);\n}\n\nfunction write_WSFMTINFO(/*::ba, ws*/) {\n\t/* [ACWSFMTINFO] */\n\t// write_record(ba, 0x01E5 /* BrtWsFmtInfo */, write_BrtWsFmtInfo(ws));\n}\n\nfunction write_SHEETPROTECT(ba, ws) {\n\tif(!ws['!protect']) return;\n\t/* [BrtSheetProtectionIso] */\n\twrite_record(ba, 0x0217 /* BrtSheetProtection */, write_BrtSheetProtection(ws['!protect']));\n}\n\nfunction write_ws_bin(idx/*:number*/, opts, wb/*:Workbook*/, rels) {\n\tvar ba = buf_array();\n\tvar s = wb.SheetNames[idx], ws = wb.Sheets[s] || {};\n\tvar c/*:string*/ = s; try { if(wb && wb.Workbook) c = wb.Workbook.Sheets[idx].CodeName || c; } catch(e) {}\n\tvar r = safe_decode_range(ws['!ref'] || \"A1\");\n\tif(r.e.c > 0x3FFF || r.e.r > 0xFFFFF) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + (ws['!ref'] || \"A1\") + \" exceeds format limit A1:XFD1048576\");\n\t\tr.e.c = Math.min(r.e.c, 0x3FFF);\n\t\tr.e.r = Math.min(r.e.c, 0xFFFFF);\n\t}\n\tws['!links'] = [];\n\t/* passed back to write_zip and removed there */\n\tws['!comments'] = [];\n\twrite_record(ba, 0x0081 /* BrtBeginSheet */);\n\tif(wb.vbaraw || ws['!outline']) write_record(ba, 0x0093 /* BrtWsProp */, write_BrtWsProp(c, ws['!outline']));\n\twrite_record(ba, 0x0094 /* BrtWsDim */, write_BrtWsDim(r));\n\twrite_WSVIEWS2(ba, ws, wb.Workbook);\n\twrite_WSFMTINFO(ba, ws);\n\twrite_COLINFOS(ba, ws, idx, opts, wb);\n\twrite_CELLTABLE(ba, ws, idx, opts, wb);\n\t/* [BrtSheetCalcProp] */\n\twrite_SHEETPROTECT(ba, ws);\n\t/* *([BrtRangeProtectionIso] BrtRangeProtection) */\n\t/* [SCENMAN] */\n\twrite_AUTOFILTER(ba, ws, wb, idx);\n\t/* [SORTSTATE] */\n\t/* [DCON] */\n\t/* [USERSHVIEWS] */\n\twrite_MERGECELLS(ba, ws);\n\t/* [BrtPhoneticInfo] */\n\t/* *CONDITIONALFORMATTING */\n\t/* [DVALS] */\n\twrite_HLINKS(ba, ws, rels);\n\t/* [BrtPrintOptions] */\n\tif(ws['!margins']) write_record(ba, 0x01DC /* BrtMargins */, write_BrtMargins(ws['!margins']));\n\t/* [BrtPageSetup] */\n\t/* [HEADERFOOTER] */\n\t/* [RWBRK] */\n\t/* [COLBRK] */\n\t/* *BrtBigName */\n\t/* [CELLWATCHES] */\n\tif(!opts || opts.ignoreEC || (opts.ignoreEC == (void 0))) write_IGNOREECS(ba, ws);\n\t/* [SMARTTAGS] */\n\t/* [BrtDrawing] */\n\twrite_LEGACYDRAWING(ba, ws, idx, rels);\n\t/* [BrtLegacyDrawingHF] */\n\t/* [BrtBkHim] */\n\t/* [OLEOBJECTS] */\n\t/* [ACTIVEXCONTROLS] */\n\t/* [WEBPUBITEMS] */\n\t/* [LISTPARTS] */\n\t/* FRTWORKSHEET */\n\twrite_record(ba, 0x0082 /* BrtEndSheet */);\n\treturn ba.end();\n}\nfunction parse_Cache(data/*:string*/)/*:[Array<number|string>, string, ?string]*/ {\n\tvar col/*:Array<number|string>*/ = [];\n\tvar num = data.match(/^<c:numCache>/);\n\tvar f;\n\n\t/* 21.2.2.150 pt CT_NumVal */\n\t(data.match(/<c:pt idx=\"(\\d*)\">(.*?)<\\/c:pt>/mg)||[]).forEach(function(pt) {\n\t\tvar q = pt.match(/<c:pt idx=\"(\\d*?)\"><c:v>(.*)<\\/c:v><\\/c:pt>/);\n\t\tif(!q) return;\n\t\tcol[+q[1]] = num ? +q[2] : q[2];\n\t});\n\n\t/* 21.2.2.71 formatCode CT_Xstring */\n\tvar nf = unescapexml((data.match(/<c:formatCode>([\\s\\S]*?)<\\/c:formatCode>/) || [\"\",\"General\"])[1]);\n\n\t(data.match(/<c:f>(.*?)<\\/c:f>/mg)||[]).forEach(function(F) { f = F.replace(/<.*?>/g,\"\"); });\n\n\treturn [col, nf, f];\n}\n\n/* 21.2 DrawingML - Charts */\nfunction parse_chart(data/*:?string*/, name/*:string*/, opts, rels, wb, csheet) {\n\tvar cs/*:Worksheet*/ = ((csheet || {\"!type\":\"chart\"})/*:any*/);\n\tif(!data) return csheet;\n\t/* 21.2.2.27 chart CT_Chart */\n\n\tvar C = 0, R = 0, col = \"A\";\n\tvar refguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\n\t/* 21.2.2.120 numCache CT_NumData */\n\t(data.match(/<c:numCache>[\\s\\S]*?<\\/c:numCache>/gm)||[]).forEach(function(nc) {\n\t\tvar cache = parse_Cache(nc);\n\t\trefguess.s.r = refguess.s.c = 0;\n\t\trefguess.e.c = C;\n\t\tcol = encode_col(C);\n\t\tcache[0].forEach(function(n,i) {\n\t\t\tcs[col + encode_row(i)] = {t:'n', v:n, z:cache[1] };\n\t\t\tR = i;\n\t\t});\n\t\tif(refguess.e.r < R) refguess.e.r = R;\n\t\t++C;\n\t});\n\tif(C > 0) cs[\"!ref\"] = encode_range(refguess);\n\treturn cs;\n}\n/* 18.3 Worksheets also covers Chartsheets */\nfunction parse_cs_xml(data/*:?string*/, opts, idx/*:number*/, rels, wb/*::, themes, styles*/)/*:Worksheet*/ {\n\tif(!data) return data;\n\t/* 18.3.1.12 chartsheet CT_ChartSheet */\n\tif(!rels) rels = {'!id':{}};\n\tvar s = ({'!type':\"chart\", '!drawel':null, '!rel':\"\"}/*:any*/);\n\tvar m;\n\n\t/* 18.3.1.83 sheetPr CT_ChartsheetPr */\n\tvar sheetPr = data.match(sheetprregex);\n\tif(sheetPr) parse_ws_xml_sheetpr(sheetPr[0], s, wb, idx);\n\n\t/* 18.3.1.36 drawing CT_Drawing */\n\tif((m = data.match(/drawing r:id=\"(.*?)\"/))) s['!rel'] = m[1];\n\n\tif(rels['!id'][s['!rel']]) s['!drawel'] = rels['!id'][s['!rel']];\n\treturn s;\n}\nfunction write_cs_xml(idx/*:number*/, opts, wb/*:Workbook*/, rels)/*:string*/ {\n\tvar o = [XML_HEADER, writextag('chartsheet', null, {\n\t\t'xmlns': XMLNS_main[0],\n\t\t'xmlns:r': XMLNS.r\n\t})];\n\to[o.length] = writextag(\"drawing\", null, {\"r:id\": \"rId1\"});\n\tadd_rels(rels, -1, \"../drawings/drawing\" + (idx+1) + \".xml\", RELS.DRAW);\n\tif(o.length>2) { o[o.length] = ('</chartsheet>'); o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n\n/* [MS-XLSB] 2.4.331 BrtCsProp */\nfunction parse_BrtCsProp(data, length/*:number*/) {\n\tdata.l += 10;\n\tvar name = parse_XLWideString(data, length - 10);\n\treturn { name: name };\n}\n\n/* [MS-XLSB] 2.1.7.7 Chart Sheet */\nfunction parse_cs_bin(data, opts, idx/*:number*/, rels, wb/*::, themes, styles*/)/*:Worksheet*/ {\n\tif(!data) return data;\n\tif(!rels) rels = {'!id':{}};\n\tvar s = {'!type':\"chart\", '!drawel':null, '!rel':\"\"};\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false;\n\trecordhopper(data, function cs_parse(val, R, RT) {\n\t\tswitch(RT) {\n\n\t\t\tcase 0x0226: /* 'BrtDrawing' */\n\t\t\t\ts['!rel'] = val; break;\n\n\t\t\tcase 0x028B: /* 'BrtCsProp' */\n\t\t\t\tif(!wb.Sheets[idx]) wb.Sheets[idx] = {};\n\t\t\t\tif(val.name) wb.Sheets[idx].CodeName = val.name;\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0232: /* 'BrtBkHim' */\n\t\t\tcase 0x028C: /* 'BrtCsPageSetup' */\n\t\t\tcase 0x029D: /* 'BrtCsProtection' */\n\t\t\tcase 0x02A7: /* 'BrtCsProtectionIso' */\n\t\t\tcase 0x0227: /* 'BrtLegacyDrawing' */\n\t\t\tcase 0x0228: /* 'BrtLegacyDrawingHF' */\n\t\t\tcase 0x01DC: /* 'BrtMargins' */\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tpass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tpass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */\n\t\t\t\tstate.push(RT); break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */\n\t\t\t\tstate.pop(); break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T > 0) state.push(RT);\n\t\t\t\telse if(R.T < 0) state.pop();\n\t\t\t\telse if(!pass || opts.WTF) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n\n\tif(rels['!id'][s['!rel']]) s['!drawel'] = rels['!id'][s['!rel']];\n\treturn s;\n}\nfunction write_cs_bin(/*::idx:number, opts, wb:Workbook, rels*/) {\n\tvar ba = buf_array();\n\twrite_record(ba, 0x0081 /* BrtBeginSheet */);\n\t/* [BrtCsProp] */\n\t/* CSVIEWS */\n\t/* [[BrtCsProtectionIso] BrtCsProtection] */\n\t/* [USERCSVIEWS] */\n\t/* [BrtMargins] */\n\t/* [BrtCsPageSetup] */\n\t/* [HEADERFOOTER] */\n\t/* BrtDrawing */\n\t/* [BrtLegacyDrawing] */\n\t/* [BrtLegacyDrawingHF] */\n\t/* [BrtBkHim] */\n\t/* [WEBPUBITEMS] */\n\t/* FRTCHARTSHEET */\n\twrite_record(ba, 0x0082 /* BrtEndSheet */);\n\treturn ba.end();\n}\n/* 18.2.28 (CT_WorkbookProtection) Defaults */\nvar WBPropsDef = [\n\t['allowRefreshQuery',           false, \"bool\"],\n\t['autoCompressPictures',        true,  \"bool\"],\n\t['backupFile',                  false, \"bool\"],\n\t['checkCompatibility',          false, \"bool\"],\n\t['CodeName',                    ''],\n\t['date1904',                    false, \"bool\"],\n\t['defaultThemeVersion',         0,      \"int\"],\n\t['filterPrivacy',               false, \"bool\"],\n\t['hidePivotFieldList',          false, \"bool\"],\n\t['promptedSolutions',           false, \"bool\"],\n\t['publishItems',                false, \"bool\"],\n\t['refreshAllConnections',       false, \"bool\"],\n\t['saveExternalLinkValues',      true,  \"bool\"],\n\t['showBorderUnselectedTables',  true,  \"bool\"],\n\t['showInkAnnotation',           true,  \"bool\"],\n\t['showObjects',                 'all'],\n\t['showPivotChartFilter',        false, \"bool\"],\n\t['updateLinks', 'userSet']\n];\n\n/* 18.2.30 (CT_BookView) Defaults */\nvar WBViewDef = [\n\t['activeTab',                   0,      \"int\"],\n\t['autoFilterDateGrouping',      true,  \"bool\"],\n\t['firstSheet',                  0,      \"int\"],\n\t['minimized',                   false, \"bool\"],\n\t['showHorizontalScroll',        true,  \"bool\"],\n\t['showSheetTabs',               true,  \"bool\"],\n\t['showVerticalScroll',          true,  \"bool\"],\n\t['tabRatio',                    600,    \"int\"],\n\t['visibility',                  'visible']\n\t//window{Height,Width}, {x,y}Window\n];\n\n/* 18.2.19 (CT_Sheet) Defaults */\nvar SheetDef = [\n\t//['state', 'visible']\n];\n\n/* 18.2.2  (CT_CalcPr) Defaults */\nvar CalcPrDef = [\n\t['calcCompleted', 'true'],\n\t['calcMode', 'auto'],\n\t['calcOnSave', 'true'],\n\t['concurrentCalc', 'true'],\n\t['fullCalcOnLoad', 'false'],\n\t['fullPrecision', 'true'],\n\t['iterate', 'false'],\n\t['iterateCount', '100'],\n\t['iterateDelta', '0.001'],\n\t['refMode', 'A1']\n];\n\n/* 18.2.3 (CT_CustomWorkbookView) Defaults */\n/*var CustomWBViewDef = [\n\t['autoUpdate', 'false'],\n\t['changesSavedWin', 'false'],\n\t['includeHiddenRowCol', 'true'],\n\t['includePrintSettings', 'true'],\n\t['maximized', 'false'],\n\t['minimized', 'false'],\n\t['onlySync', 'false'],\n\t['personalView', 'false'],\n\t['showComments', 'commIndicator'],\n\t['showFormulaBar', 'true'],\n\t['showHorizontalScroll', 'true'],\n\t['showObjects', 'all'],\n\t['showSheetTabs', 'true'],\n\t['showStatusbar', 'true'],\n\t['showVerticalScroll', 'true'],\n\t['tabRatio', '600'],\n\t['xWindow', '0'],\n\t['yWindow', '0']\n];*/\n\nfunction push_defaults_array(target, defaults) {\n\tfor(var j = 0; j != target.length; ++j) { var w = target[j];\n\t\tfor(var i=0; i != defaults.length; ++i) { var z = defaults[i];\n\t\t\tif(w[z[0]] == null) w[z[0]] = z[1];\n\t\t\telse switch(z[2]) {\n\t\t\tcase \"bool\": if(typeof w[z[0]] == \"string\") w[z[0]] = parsexmlbool(w[z[0]]); break;\n\t\t\tcase \"int\": if(typeof w[z[0]] == \"string\") w[z[0]] = parseInt(w[z[0]], 10); break;\n\t\t\t}\n\t\t}\n\t}\n}\nfunction push_defaults(target, defaults) {\n\tfor(var i = 0; i != defaults.length; ++i) { var z = defaults[i];\n\t\tif(target[z[0]] == null) target[z[0]] = z[1];\n\t\telse switch(z[2]) {\n\t\t\tcase \"bool\": if(typeof target[z[0]] == \"string\") target[z[0]] = parsexmlbool(target[z[0]]); break;\n\t\t\tcase \"int\": if(typeof target[z[0]] == \"string\") target[z[0]] = parseInt(target[z[0]], 10); break;\n\t\t}\n\t}\n}\n\nfunction parse_wb_defaults(wb) {\n\tpush_defaults(wb.WBProps, WBPropsDef);\n\tpush_defaults(wb.CalcPr, CalcPrDef);\n\n\tpush_defaults_array(wb.WBView, WBViewDef);\n\tpush_defaults_array(wb.Sheets, SheetDef);\n\n\t_ssfopts.date1904 = parsexmlbool(wb.WBProps.date1904);\n}\n\nfunction safe1904(wb/*:Workbook*/)/*:string*/ {\n\t/* TODO: store date1904 somewhere else */\n\tif(!wb.Workbook) return \"false\";\n\tif(!wb.Workbook.WBProps) return \"false\";\n\treturn parsexmlbool(wb.Workbook.WBProps.date1904) ? \"true\" : \"false\";\n}\n\nvar badchars = /*#__PURE__*/\"][*?\\/\\\\\".split(\"\");\nfunction check_ws_name(n/*:string*/, safe/*:?boolean*/)/*:boolean*/ {\n\tif(n.length > 31) { if(safe) return false; throw new Error(\"Sheet names cannot exceed 31 chars\"); }\n\tvar _good = true;\n\tbadchars.forEach(function(c) {\n\t\tif(n.indexOf(c) == -1) return;\n\t\tif(!safe) throw new Error(\"Sheet name cannot contain : \\\\ / ? * [ ]\");\n\t\t_good = false;\n\t});\n\treturn _good;\n}\nfunction check_wb_names(N, S, codes) {\n\tN.forEach(function(n,i) {\n\t\tcheck_ws_name(n);\n\t\tfor(var j = 0; j < i; ++j) if(n == N[j]) throw new Error(\"Duplicate Sheet Name: \" + n);\n\t\tif(codes) {\n\t\t\tvar cn = (S && S[i] && S[i].CodeName) || n;\n\t\t\tif(cn.charCodeAt(0) == 95 && cn.length > 22) throw new Error(\"Bad Code Name: Worksheet\" + cn);\n\t\t}\n\t});\n}\nfunction check_wb(wb) {\n\tif(!wb || !wb.SheetNames || !wb.Sheets) throw new Error(\"Invalid Workbook\");\n\tif(!wb.SheetNames.length) throw new Error(\"Workbook is empty\");\n\tvar Sheets = (wb.Workbook && wb.Workbook.Sheets) || [];\n\tcheck_wb_names(wb.SheetNames, Sheets, !!wb.vbaraw);\n\tfor(var i = 0; i < wb.SheetNames.length; ++i) check_ws(wb.Sheets[wb.SheetNames[i]], wb.SheetNames[i], i);\n\t/* TODO: validate workbook */\n}\n/* 18.2 Workbook */\nvar wbnsregex = /<\\w+:workbook/;\nfunction parse_wb_xml(data, opts)/*:WorkbookFile*/ {\n\tif(!data) throw new Error(\"Could not find file\");\n\tvar wb = /*::(*/{ AppVersion:{}, WBProps:{}, WBView:[], Sheets:[], CalcPr:{}, Names:[], xmlns: \"\" }/*::)*/;\n\tvar pass = false, xmlns = \"xmlns\";\n\tvar dname = {}, dnstart = 0;\n\tdata.replace(tagregex, function xml_wb(x, idx) {\n\t\tvar y/*:any*/ = parsexmltag(x);\n\t\tswitch(strip_ns(y[0])) {\n\t\t\tcase '<?xml': break;\n\n\t\t\t/* 18.2.27 workbook CT_Workbook 1 */\n\t\t\tcase '<workbook':\n\t\t\t\tif(x.match(wbnsregex)) xmlns = \"xmlns\" + x.match(/<(\\w+):/)[1];\n\t\t\t\twb.xmlns = y[xmlns];\n\t\t\t\tbreak;\n\t\t\tcase '</workbook>': break;\n\n\t\t\t/* 18.2.13 fileVersion CT_FileVersion ? */\n\t\t\tcase '<fileVersion': delete y[0]; wb.AppVersion = y; break;\n\t\t\tcase '<fileVersion/>': case '</fileVersion>': break;\n\n\t\t\t/* 18.2.12 fileSharing CT_FileSharing ? */\n\t\t\tcase '<fileSharing':\n\t\t\t\tbreak;\n\t\t\tcase '<fileSharing/>': break;\n\n\t\t\t/* 18.2.28 workbookPr CT_WorkbookPr ? */\n\t\t\tcase '<workbookPr':\n\t\t\tcase '<workbookPr/>':\n\t\t\t\tWBPropsDef.forEach(function(w) {\n\t\t\t\t\tif(y[w[0]] == null) return;\n\t\t\t\t\tswitch(w[2]) {\n\t\t\t\t\t\tcase \"bool\": wb.WBProps[w[0]] = parsexmlbool(y[w[0]]); break;\n\t\t\t\t\t\tcase \"int\": wb.WBProps[w[0]] = parseInt(y[w[0]], 10); break;\n\t\t\t\t\t\tdefault: wb.WBProps[w[0]] = y[w[0]];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(y.codeName) wb.WBProps.CodeName = utf8read(y.codeName);\n\t\t\t\tbreak;\n\t\t\tcase '</workbookPr>': break;\n\n\t\t\t/* 18.2.29 workbookProtection CT_WorkbookProtection ? */\n\t\t\tcase '<workbookProtection':\n\t\t\t\tbreak;\n\t\t\tcase '<workbookProtection/>': break;\n\n\t\t\t/* 18.2.1  bookViews CT_BookViews ? */\n\t\t\tcase '<bookViews': case '<bookViews>': case '</bookViews>': break;\n\t\t\t/* 18.2.30   workbookView CT_BookView + */\n\t\t\tcase '<workbookView': case '<workbookView/>': delete y[0]; wb.WBView.push(y); break;\n\t\t\tcase '</workbookView>': break;\n\n\t\t\t/* 18.2.20 sheets CT_Sheets 1 */\n\t\t\tcase '<sheets': case '<sheets>': case '</sheets>': break; // aggregate sheet\n\t\t\t/* 18.2.19   sheet CT_Sheet + */\n\t\t\tcase '<sheet':\n\t\t\t\tswitch(y.state) {\n\t\t\t\t\tcase \"hidden\": y.Hidden = 1; break;\n\t\t\t\t\tcase \"veryHidden\": y.Hidden = 2; break;\n\t\t\t\t\tdefault: y.Hidden = 0;\n\t\t\t\t}\n\t\t\t\tdelete y.state;\n\t\t\t\ty.name = unescapexml(utf8read(y.name));\n\t\t\t\tdelete y[0]; wb.Sheets.push(y); break;\n\t\t\tcase '</sheet>': break;\n\n\t\t\t/* 18.2.15 functionGroups CT_FunctionGroups ? */\n\t\t\tcase '<functionGroups': case '<functionGroups/>': break;\n\t\t\t/* 18.2.14   functionGroup CT_FunctionGroup + */\n\t\t\tcase '<functionGroup': break;\n\n\t\t\t/* 18.2.9  externalReferences CT_ExternalReferences ? */\n\t\t\tcase '<externalReferences': case '</externalReferences>': case '<externalReferences>': break;\n\t\t\t/* 18.2.8    externalReference CT_ExternalReference + */\n\t\t\tcase '<externalReference': break;\n\n\t\t\t/* 18.2.6  definedNames CT_DefinedNames ? */\n\t\t\tcase '<definedNames/>': break;\n\t\t\tcase '<definedNames>': case '<definedNames': pass=true; break;\n\t\t\tcase '</definedNames>': pass=false; break;\n\t\t\t/* 18.2.5    definedName CT_DefinedName + */\n\t\t\tcase '<definedName': {\n\t\t\t\tdname = {};\n\t\t\t\tdname.Name = utf8read(y.name);\n\t\t\t\tif(y.comment) dname.Comment = y.comment;\n\t\t\t\tif(y.localSheetId) dname.Sheet = +y.localSheetId;\n\t\t\t\tif(parsexmlbool(y.hidden||\"0\")) dname.Hidden = true;\n\t\t\t\tdnstart = idx + x.length;\n\t\t\t}\tbreak;\n\t\t\tcase '</definedName>': {\n\t\t\t\tdname.Ref = unescapexml(utf8read(data.slice(dnstart, idx)));\n\t\t\t\twb.Names.push(dname);\n\t\t\t} break;\n\t\t\tcase '<definedName/>': break;\n\n\t\t\t/* 18.2.2  calcPr CT_CalcPr ? */\n\t\t\tcase '<calcPr': delete y[0]; wb.CalcPr = y; break;\n\t\t\tcase '<calcPr/>': delete y[0]; wb.CalcPr = y; break;\n\t\t\tcase '</calcPr>': break;\n\n\t\t\t/* 18.2.16 oleSize CT_OleSize ? (ref required) */\n\t\t\tcase '<oleSize': break;\n\n\t\t\t/* 18.2.4  customWorkbookViews CT_CustomWorkbookViews ? */\n\t\t\tcase '<customWorkbookViews>': case '</customWorkbookViews>': case '<customWorkbookViews': break;\n\t\t\t/* 18.2.3  customWorkbookView CT_CustomWorkbookView + */\n\t\t\tcase '<customWorkbookView': case '</customWorkbookView>': break;\n\n\t\t\t/* 18.2.18 pivotCaches CT_PivotCaches ? */\n\t\t\tcase '<pivotCaches>': case '</pivotCaches>': case '<pivotCaches': break;\n\t\t\t/* 18.2.17 pivotCache CT_PivotCache ? */\n\t\t\tcase '<pivotCache': break;\n\n\t\t\t/* 18.2.21 smartTagPr CT_SmartTagPr ? */\n\t\t\tcase '<smartTagPr': case '<smartTagPr/>': break;\n\n\t\t\t/* 18.2.23 smartTagTypes CT_SmartTagTypes ? */\n\t\t\tcase '<smartTagTypes': case '<smartTagTypes>': case '</smartTagTypes>': break;\n\t\t\t/* 18.2.22 smartTagType CT_SmartTagType ? */\n\t\t\tcase '<smartTagType': break;\n\n\t\t\t/* 18.2.24 webPublishing CT_WebPublishing ? */\n\t\t\tcase '<webPublishing': case '<webPublishing/>': break;\n\n\t\t\t/* 18.2.11 fileRecoveryPr CT_FileRecoveryPr ? */\n\t\t\tcase '<fileRecoveryPr': case '<fileRecoveryPr/>': break;\n\n\t\t\t/* 18.2.26 webPublishObjects CT_WebPublishObjects ? */\n\t\t\tcase '<webPublishObjects>': case '<webPublishObjects': case '</webPublishObjects>': break;\n\t\t\t/* 18.2.25 webPublishObject CT_WebPublishObject ? */\n\t\t\tcase '<webPublishObject': break;\n\n\t\t\t/* 18.2.10 extLst CT_ExtensionList ? */\n\t\t\tcase '<extLst': case '<extLst>': case '</extLst>': case '<extLst/>': break;\n\t\t\t/* 18.2.7  ext CT_Extension + */\n\t\t\tcase '<ext': pass=true; break; //TODO: check with versions of excel\n\t\t\tcase '</ext>': pass=false; break;\n\n\t\t\t/* Others */\n\t\t\tcase '<ArchID': break;\n\t\t\tcase '<AlternateContent':\n\t\t\tcase '<AlternateContent>': pass=true; break;\n\t\t\tcase '</AlternateContent>': pass=false; break;\n\n\t\t\t/* TODO */\n\t\t\tcase '<revisionPtr': break;\n\n\t\t\tdefault: if(!pass && opts.WTF) throw new Error('unrecognized ' + y[0] + ' in workbook');\n\t\t}\n\t\treturn x;\n\t});\n\tif(XMLNS_main.indexOf(wb.xmlns) === -1) throw new Error(\"Unknown Namespace: \" + wb.xmlns);\n\n\tparse_wb_defaults(wb);\n\n\treturn wb;\n}\n\nfunction write_wb_xml(wb/*:Workbook*//*::, opts:?WriteOpts*/)/*:string*/ {\n\tvar o = [XML_HEADER];\n\to[o.length] = writextag('workbook', null, {\n\t\t'xmlns': XMLNS_main[0],\n\t\t//'xmlns:mx': XMLNS.mx,\n\t\t//'xmlns:s': XMLNS_main[0],\n\t\t'xmlns:r': XMLNS.r\n\t});\n\n\tvar write_names = (wb.Workbook && (wb.Workbook.Names||[]).length > 0);\n\n\t/* fileVersion */\n\t/* fileSharing */\n\n\tvar workbookPr/*:any*/ = ({codeName:\"ThisWorkbook\"}/*:any*/);\n\tif(wb.Workbook && wb.Workbook.WBProps) {\n\t\tWBPropsDef.forEach(function(x) {\n\t\t\t/*:: if(!wb.Workbook || !wb.Workbook.WBProps) throw \"unreachable\"; */\n\t\t\tif((wb.Workbook.WBProps[x[0]]/*:any*/) == null) return;\n\t\t\tif((wb.Workbook.WBProps[x[0]]/*:any*/) == x[1]) return;\n\t\t\tworkbookPr[x[0]] = (wb.Workbook.WBProps[x[0]]/*:any*/);\n\t\t});\n\t\t/*:: if(!wb.Workbook || !wb.Workbook.WBProps) throw \"unreachable\"; */\n\t\tif(wb.Workbook.WBProps.CodeName) { workbookPr.codeName = wb.Workbook.WBProps.CodeName; delete workbookPr.CodeName; }\n\t}\n\to[o.length] = (writextag('workbookPr', null, workbookPr));\n\n\t/* workbookProtection */\n\n\tvar sheets = wb.Workbook && wb.Workbook.Sheets || [];\n\tvar i = 0;\n\n\t/* bookViews only written if first worksheet is hidden */\n\tif(sheets && sheets[0] && !!sheets[0].Hidden) {\n\t\to[o.length] = \"<bookViews>\";\n\t\tfor(i = 0; i != wb.SheetNames.length; ++i) {\n\t\t\tif(!sheets[i]) break;\n\t\t\tif(!sheets[i].Hidden) break;\n\t\t}\n\t\tif(i == wb.SheetNames.length) i = 0;\n\t\to[o.length] = '<workbookView firstSheet=\"' + i + '\" activeTab=\"' + i + '\"/>';\n\t\to[o.length] = \"</bookViews>\";\n\t}\n\n\to[o.length] = \"<sheets>\";\n\tfor(i = 0; i != wb.SheetNames.length; ++i) {\n\t\tvar sht = ({name:escapexml(wb.SheetNames[i].slice(0,31))}/*:any*/);\n\t\tsht.sheetId = \"\"+(i+1);\n\t\tsht[\"r:id\"] = \"rId\"+(i+1);\n\t\tif(sheets[i]) switch(sheets[i].Hidden) {\n\t\t\tcase 1: sht.state = \"hidden\"; break;\n\t\t\tcase 2: sht.state = \"veryHidden\"; break;\n\t\t}\n\t\to[o.length] = (writextag('sheet',null,sht));\n\t}\n\to[o.length] = \"</sheets>\";\n\n\t/* functionGroups */\n\t/* externalReferences */\n\n\tif(write_names) {\n\t\to[o.length] = \"<definedNames>\";\n\t\tif(wb.Workbook && wb.Workbook.Names) wb.Workbook.Names.forEach(function(n) {\n\t\t\tvar d/*:any*/ = {name:n.Name};\n\t\t\tif(n.Comment) d.comment = n.Comment;\n\t\t\tif(n.Sheet != null) d.localSheetId = \"\"+n.Sheet;\n\t\t\tif(n.Hidden) d.hidden = \"1\";\n\t\t\tif(!n.Ref) return;\n\t\t\to[o.length] = writextag('definedName', escapexml(n.Ref), d);\n\t\t});\n\t\to[o.length] = \"</definedNames>\";\n\t}\n\n\t/* calcPr */\n\t/* oleSize */\n\t/* customWorkbookViews */\n\t/* pivotCaches */\n\t/* smartTagPr */\n\t/* smartTagTypes */\n\t/* webPublishing */\n\t/* fileRecoveryPr */\n\t/* webPublishObjects */\n\t/* extLst */\n\n\tif(o.length>2){ o[o.length] = '</workbook>'; o[1]=o[1].replace(\"/>\",\">\"); }\n\treturn o.join(\"\");\n}\n/* [MS-XLSB] 2.4.304 BrtBundleSh */\nfunction parse_BrtBundleSh(data, length/*:number*/) {\n\tvar z = {};\n\tz.Hidden = data.read_shift(4); //hsState ST_SheetState\n\tz.iTabID = data.read_shift(4);\n\tz.strRelID = parse_RelID(data,length-8);\n\tz.name = parse_XLWideString(data);\n\treturn z;\n}\nfunction write_BrtBundleSh(data, o) {\n\tif(!o) o = new_buf(127);\n\to.write_shift(4, data.Hidden);\n\to.write_shift(4, data.iTabID);\n\twrite_RelID(data.strRelID, o);\n\twrite_XLWideString(data.name.slice(0,31), o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.815 BrtWbProp */\nfunction parse_BrtWbProp(data, length)/*:WBProps*/ {\n\tvar o/*:WBProps*/ = ({}/*:any*/);\n\tvar flags = data.read_shift(4);\n\to.defaultThemeVersion = data.read_shift(4);\n\tvar strName = (length > 8) ? parse_XLWideString(data) : \"\";\n\tif(strName.length > 0) o.CodeName = strName;\n\to.autoCompressPictures = !!(flags & 0x10000);\n\to.backupFile = !!(flags & 0x40);\n\to.checkCompatibility = !!(flags & 0x1000);\n\to.date1904 = !!(flags & 0x01);\n\to.filterPrivacy = !!(flags & 0x08);\n\to.hidePivotFieldList = !!(flags & 0x400);\n\to.promptedSolutions = !!(flags & 0x10);\n\to.publishItems = !!(flags & 0x800);\n\to.refreshAllConnections = !!(flags & 0x40000);\n\to.saveExternalLinkValues = !!(flags & 0x80);\n\to.showBorderUnselectedTables = !!(flags & 0x04);\n\to.showInkAnnotation = !!(flags & 0x20);\n\to.showObjects = [\"all\", \"placeholders\", \"none\"][(flags >> 13) & 0x03];\n\to.showPivotChartFilter = !!(flags & 0x8000);\n\to.updateLinks = [\"userSet\", \"never\", \"always\"][(flags >> 8) & 0x03];\n\treturn o;\n}\nfunction write_BrtWbProp(data/*:?WBProps*/, o) {\n\tif(!o) o = new_buf(72);\n\tvar flags = 0;\n\tif(data) {\n\t\t/* TODO: mirror parse_BrtWbProp fields */\n\t\tif(data.filterPrivacy) flags |= 0x08;\n\t}\n\to.write_shift(4, flags);\n\to.write_shift(4, 0);\n\twrite_XLSBCodeName(data && data.CodeName || \"ThisWorkbook\", o);\n\treturn o.slice(0, o.l);\n}\n\nfunction parse_BrtFRTArchID$(data, length) {\n\tvar o = {};\n\tdata.read_shift(4);\n\to.ArchID = data.read_shift(4);\n\tdata.l += length - 8;\n\treturn o;\n}\n\n/* [MS-XLSB] 2.4.687 BrtName */\nfunction parse_BrtName(data, length, opts) {\n\tvar end = data.l + length;\n\tdata.l += 4; //var flags = data.read_shift(4);\n\tdata.l += 1; //var chKey = data.read_shift(1);\n\tvar itab = data.read_shift(4);\n\tvar name = parse_XLNameWideString(data);\n\tvar formula = parse_XLSBNameParsedFormula(data, 0, opts);\n\tvar comment = parse_XLNullableWideString(data);\n\t//if(0 /* fProc */) {\n\t\t// unusedstring1: XLNullableWideString\n\t\t// description: XLNullableWideString\n\t\t// helpTopic: XLNullableWideString\n\t\t// unusedstring2: XLNullableWideString\n\t//}\n\tdata.l = end;\n\tvar out = ({Name:name, Ptg:formula}/*:any*/);\n\tif(itab < 0xFFFFFFF) out.Sheet = itab;\n\tif(comment) out.Comment = comment;\n\treturn out;\n}\n\n/* [MS-XLSB] 2.1.7.61 Workbook */\nfunction parse_wb_bin(data, opts)/*:WorkbookFile*/ {\n\tvar wb = { AppVersion:{}, WBProps:{}, WBView:[], Sheets:[], CalcPr:{}, xmlns: \"\" };\n\tvar state/*:Array<string>*/ = [];\n\tvar pass = false;\n\n\tif(!opts) opts = {};\n\topts.biff = 12;\n\n\tvar Names = [];\n\tvar supbooks = ([[]]/*:any*/);\n\tsupbooks.SheetNames = [];\n\tsupbooks.XTI = [];\n\n\tXLSBRecordEnum[0x0010] = { n:\"BrtFRTArchID$\", f:parse_BrtFRTArchID$ };\n\n\trecordhopper(data, function hopper_wb(val, R, RT) {\n\t\tswitch(RT) {\n\t\t\tcase 0x009C: /* 'BrtBundleSh' */\n\t\t\t\tsupbooks.SheetNames.push(val.name);\n\t\t\t\twb.Sheets.push(val); break;\n\n\t\t\tcase 0x0099: /* 'BrtWbProp' */\n\t\t\t\twb.WBProps = val; break;\n\n\t\t\tcase 0x0027: /* 'BrtName' */\n\t\t\t\tif(val.Sheet != null) opts.SID = val.Sheet;\n\t\t\t\tval.Ref = stringify_formula(val.Ptg, null, null, supbooks, opts);\n\t\t\t\tdelete opts.SID;\n\t\t\t\tdelete val.Ptg;\n\t\t\t\tNames.push(val);\n\t\t\t\tbreak;\n\t\t\tcase 0x040C: /* 'BrtNameExt' */ break;\n\n\t\t\tcase 0x0165: /* 'BrtSupSelf' */\n\t\t\tcase 0x0166: /* 'BrtSupSame' */\n\t\t\tcase 0x0163: /* 'BrtSupBookSrc' */\n\t\t\tcase 0x029B: /* 'BrtSupAddin' */\n\t\t\t\tif(!supbooks[0].length) supbooks[0] = [RT, val];\n\t\t\t\telse supbooks.push([RT, val]);\n\t\t\t\tsupbooks[supbooks.length - 1].XTI = [];\n\t\t\t\tbreak;\n\t\t\tcase 0x016A: /* 'BrtExternSheet' */\n\t\t\t\tif(supbooks.length === 0) { supbooks[0] = []; supbooks[0].XTI = []; }\n\t\t\t\tsupbooks[supbooks.length - 1].XTI = supbooks[supbooks.length - 1].XTI.concat(val);\n\t\t\t\tsupbooks.XTI = supbooks.XTI.concat(val);\n\t\t\t\tbreak;\n\t\t\tcase 0x0169: /* 'BrtPlaceholderName' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0817: /* 'BrtAbsPath15' */\n\t\t\tcase 0x009E: /* 'BrtBookView' */\n\t\t\tcase 0x008F: /* 'BrtBeginBundleShs' */\n\t\t\tcase 0x0298: /* 'BrtBeginFnGroup' */\n\t\t\tcase 0x0161: /* 'BrtBeginExternals' */\n\t\t\t\tbreak;\n\n\t\t\t/* case 'BrtModelTimeGroupingCalcCol' */\n\t\t\tcase 0x0C00: /* 'BrtUid' */\n\t\t\tcase 0x0C01: /* 'BrtRevisionPtr' */\n\t\t\tcase 0x0216: /* 'BrtBookProtection' */\n\t\t\tcase 0x02A5: /* 'BrtBookProtectionIso' */\n\t\t\tcase 0x009D: /* 'BrtCalcProp' */\n\t\t\tcase 0x0262: /* 'BrtCrashRecErr' */\n\t\t\tcase 0x0802: /* 'BrtDecoupledPivotCacheID' */\n\t\t\tcase 0x009B: /* 'BrtFileRecover' */\n\t\t\tcase 0x0224: /* 'BrtFileSharing' */\n\t\t\tcase 0x02A4: /* 'BrtFileSharingIso' */\n\t\t\tcase 0x0080: /* 'BrtFileVersion' */\n\t\t\tcase 0x0299: /* 'BrtFnGroup' */\n\t\t\tcase 0x0850: /* 'BrtModelRelationship' */\n\t\t\tcase 0x084D: /* 'BrtModelTable' */\n\t\t\tcase 0x0225: /* 'BrtOleSize' */\n\t\t\tcase 0x0805: /* 'BrtPivotTableRef' */\n\t\t\tcase 0x0254: /* 'BrtSmartTagType' */\n\t\t\tcase 0x081C: /* 'BrtTableSlicerCacheID' */\n\t\t\tcase 0x081B: /* 'BrtTableSlicerCacheIDs' */\n\t\t\tcase 0x0822: /* 'BrtTimelineCachePivotCacheID' */\n\t\t\tcase 0x018D: /* 'BrtUserBookView' */\n\t\t\tcase 0x009A: /* 'BrtWbFactoid' */\n\t\t\tcase 0x045D: /* 'BrtWbProp14' */\n\t\t\tcase 0x0229: /* 'BrtWebOpt' */\n\t\t\tcase 0x082B: /* 'BrtWorkBookPr15' */\n\t\t\t\tbreak;\n\n\t\t\tcase 0x0023: /* 'BrtFRTBegin' */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0024: /* 'BrtFRTEnd' */\n\t\t\t\tstate.pop(); pass = false; break;\n\t\t\tcase 0x0025: /* 'BrtACBegin' */\n\t\t\t\tstate.push(RT); pass = true; break;\n\t\t\tcase 0x0026: /* 'BrtACEnd' */\n\t\t\t\tstate.pop(); pass = false; break;\n\n\t\t\tcase 0x0010: /* 'BrtFRTArchID$' */ break;\n\n\t\t\tdefault:\n\t\t\t\tif(R.T){/* empty */}\n\t\t\t\telse if(!pass || (opts.WTF && state[state.length-1] != 0x0025 /* BrtACBegin */ && state[state.length-1] != 0x0023 /* BrtFRTBegin */)) throw new Error(\"Unexpected record 0x\" + RT.toString(16));\n\t\t}\n\t}, opts);\n\n\tparse_wb_defaults(wb);\n\n\t// $FlowIgnore\n\twb.Names = Names;\n\n\t(wb/*:any*/).supbooks = supbooks;\n\treturn wb;\n}\n\nfunction write_BUNDLESHS(ba, wb/*::, opts*/) {\n\twrite_record(ba, 0x008F /* BrtBeginBundleShs */);\n\tfor(var idx = 0; idx != wb.SheetNames.length; ++idx) {\n\t\tvar viz = wb.Workbook && wb.Workbook.Sheets && wb.Workbook.Sheets[idx] && wb.Workbook.Sheets[idx].Hidden || 0;\n\t\tvar d = { Hidden: viz, iTabID: idx+1, strRelID: 'rId' + (idx+1), name: wb.SheetNames[idx] };\n\t\twrite_record(ba, 0x009C /* BrtBundleSh */, write_BrtBundleSh(d));\n\t}\n\twrite_record(ba, 0x0090 /* BrtEndBundleShs */);\n}\n\n/* [MS-XLSB] 2.4.649 BrtFileVersion */\nfunction write_BrtFileVersion(data, o) {\n\tif(!o) o = new_buf(127);\n\tfor(var i = 0; i != 4; ++i) o.write_shift(4, 0);\n\twrite_XLWideString(\"SheetJS\", o);\n\twrite_XLWideString(XLSX.version, o);\n\twrite_XLWideString(XLSX.version, o);\n\twrite_XLWideString(\"7262\", o);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\n/* [MS-XLSB] 2.4.301 BrtBookView */\nfunction write_BrtBookView(idx, o) {\n\tif(!o) o = new_buf(29);\n\to.write_shift(-4, 0);\n\to.write_shift(-4, 460);\n\to.write_shift(4,  28800);\n\to.write_shift(4,  17600);\n\to.write_shift(4,  500);\n\to.write_shift(4,  idx);\n\to.write_shift(4,  idx);\n\tvar flags = 0x78;\n\to.write_shift(1,  flags);\n\treturn o.length > o.l ? o.slice(0, o.l) : o;\n}\n\nfunction write_BOOKVIEWS(ba, wb/*::, opts*/) {\n\t/* required if hidden tab appears before visible tab */\n\tif(!wb.Workbook || !wb.Workbook.Sheets) return;\n\tvar sheets = wb.Workbook.Sheets;\n\tvar i = 0, vistab = -1, hidden = -1;\n\tfor(; i < sheets.length; ++i) {\n\t\tif(!sheets[i] || !sheets[i].Hidden && vistab == -1) vistab = i;\n\t\telse if(sheets[i].Hidden == 1 && hidden == -1) hidden = i;\n\t}\n\tif(hidden > vistab) return;\n\twrite_record(ba, 0x0087 /* BrtBeginBookViews */);\n\twrite_record(ba, 0x009E /* BrtBookView */, write_BrtBookView(vistab));\n\t/* 1*(BrtBookView *FRT) */\n\twrite_record(ba, 0x0088 /* BrtEndBookViews */);\n}\n\n/* [MS-XLSB] 2.4.305 BrtCalcProp */\n/*function write_BrtCalcProp(data, o) {\n\tif(!o) o = new_buf(26);\n\to.write_shift(4,0); // force recalc\n\to.write_shift(4,1);\n\to.write_shift(4,0);\n\twrite_Xnum(0, o);\n\to.write_shift(-4, 1023);\n\to.write_shift(1, 0x33);\n\to.write_shift(1, 0x00);\n\treturn o;\n}*/\n\n/* [MS-XLSB] 2.4.646 BrtFileRecover */\n/*function write_BrtFileRecover(data, o) {\n\tif(!o) o = new_buf(1);\n\to.write_shift(1,0);\n\treturn o;\n}*/\n\n/* [MS-XLSB] 2.1.7.61 Workbook */\nfunction write_wb_bin(wb, opts) {\n\tvar ba = buf_array();\n\twrite_record(ba, 0x0083 /* BrtBeginBook */);\n\twrite_record(ba, 0x0080 /* BrtFileVersion */, write_BrtFileVersion());\n\t/* [[BrtFileSharingIso] BrtFileSharing] */\n\twrite_record(ba, 0x0099 /* BrtWbProp */, write_BrtWbProp(wb.Workbook && wb.Workbook.WBProps || null));\n\t/* [ACABSPATH] */\n\t/* [[BrtBookProtectionIso] BrtBookProtection] */\n\twrite_BOOKVIEWS(ba, wb, opts);\n\twrite_BUNDLESHS(ba, wb, opts);\n\t/* [FNGROUP] */\n\t/* [EXTERNALS] */\n\t/* *BrtName */\n\t/* write_record(ba, 0x009D BrtCalcProp, write_BrtCalcProp()); */\n\t/* [BrtOleSize] */\n\t/* *(BrtUserBookView *FRT) */\n\t/* [PIVOTCACHEIDS] */\n\t/* [BrtWbFactoid] */\n\t/* [SMARTTAGTYPES] */\n\t/* [BrtWebOpt] */\n\t/* write_record(ba, 0x009B BrtFileRecover, write_BrtFileRecover()); */\n\t/* [WEBPUBITEMS] */\n\t/* [CRERRS] */\n\t/* FRTWORKBOOK */\n\twrite_record(ba, 0x0084 /* BrtEndBook */);\n\n\treturn ba.end();\n}\nfunction parse_wb(data, name/*:string*/, opts)/*:WorkbookFile*/ {\n\tif(name.slice(-4)===\".bin\") return parse_wb_bin((data/*:any*/), opts);\n\treturn parse_wb_xml((data/*:any*/), opts);\n}\n\nfunction parse_ws(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_ws_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_ws_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_cs(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_cs_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_cs_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_ms(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_ms_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_ms_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_ds(data, name/*:string*/, idx/*:number*/, opts, rels, wb, themes, styles)/*:Worksheet*/ {\n\tif(name.slice(-4)===\".bin\") return parse_ds_bin((data/*:any*/), opts, idx, rels, wb, themes, styles);\n\treturn parse_ds_xml((data/*:any*/), opts, idx, rels, wb, themes, styles);\n}\n\nfunction parse_sty(data, name/*:string*/, themes, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_sty_bin((data/*:any*/), themes, opts);\n\treturn parse_sty_xml((data/*:any*/), themes, opts);\n}\n\nfunction parse_theme(data/*:string*/, name/*:string*/, opts) {\n\treturn parse_theme_xml(data, opts);\n}\n\nfunction parse_sst(data, name/*:string*/, opts)/*:SST*/ {\n\tif(name.slice(-4)===\".bin\") return parse_sst_bin((data/*:any*/), opts);\n\treturn parse_sst_xml((data/*:any*/), opts);\n}\n\nfunction parse_cmnt(data, name/*:string*/, opts)/*:Array<RawComment>*/ {\n\tif(name.slice(-4)===\".bin\") return parse_comments_bin((data/*:any*/), opts);\n\treturn parse_comments_xml((data/*:any*/), opts);\n}\n\nfunction parse_cc(data, name/*:string*/, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_cc_bin((data/*:any*/), name, opts);\n\treturn parse_cc_xml((data/*:any*/), name, opts);\n}\n\nfunction parse_xlink(data, rel, name/*:string*/, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_xlink_bin((data/*:any*/), rel, name, opts);\n\treturn parse_xlink_xml((data/*:any*/), rel, name, opts);\n}\n\nfunction parse_xlmeta(data, name/*:string*/, opts) {\n\tif(name.slice(-4)===\".bin\") return parse_xlmeta_bin((data/*:any*/), name, opts);\n\treturn parse_xlmeta_xml((data/*:any*/), name, opts);\n}\n\nfunction write_wb(wb, name/*:string*/, opts) {\n\treturn (name.slice(-4)===\".bin\" ? write_wb_bin : write_wb_xml)(wb, opts);\n}\n\nfunction write_ws(data/*:number*/, name/*:string*/, opts, wb/*:Workbook*/, rels) {\n\treturn (name.slice(-4)===\".bin\" ? write_ws_bin : write_ws_xml)(data, opts, wb, rels);\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction write_cs(data/*:number*/, name/*:string*/, opts, wb/*:Workbook*/, rels) {\n\treturn (name.slice(-4)===\".bin\" ? write_cs_bin : write_cs_xml)(data, opts, wb, rels);\n}\n\nfunction write_sty(data, name/*:string*/, opts) {\n\treturn (name.slice(-4)===\".bin\" ? write_sty_bin : write_sty_xml)(data, opts);\n}\n\nfunction write_sst(data/*:SST*/, name/*:string*/, opts) {\n\treturn (name.slice(-4)===\".bin\" ? write_sst_bin : write_sst_xml)(data, opts);\n}\n\nfunction write_cmnt(data/*:Array<any>*/, name/*:string*/, opts) {\n\treturn (name.slice(-4)===\".bin\" ? write_comments_bin : write_comments_xml)(data, opts);\n}\n/*\nfunction write_cc(data, name:string, opts) {\n\treturn (name.slice(-4)===\".bin\" ? write_cc_bin : write_cc_xml)(data, opts);\n}\n*/\n\nfunction write_xlmeta(name/*:string*/) {\n\treturn (name.slice(-4)===\".bin\" ? write_xlmeta_bin : write_xlmeta_xml)();\n}\nvar attregexg2=/([\\w:]+)=((?:\")([^\"]*)(?:\")|(?:')([^']*)(?:'))/g;\nvar attregex2=/([\\w:]+)=((?:\")(?:[^\"]*)(?:\")|(?:')(?:[^']*)(?:'))/;\nfunction xlml_parsexmltag(tag/*:string*/, skip_root/*:?boolean*/) {\n\tvar words = tag.split(/\\s+/);\n\tvar z/*:any*/ = ([]/*:any*/); if(!skip_root) z[0] = words[0];\n\tif(words.length === 1) return z;\n\tvar m = tag.match(attregexg2), y, j, w, i;\n\tif(m) for(i = 0; i != m.length; ++i) {\n\t\ty = m[i].match(attregex2);\n/*:: if(!y || !y[2]) continue; */\n\t\tif((j=y[1].indexOf(\":\")) === -1) z[y[1]] = y[2].slice(1,y[2].length-1);\n\t\telse {\n\t\t\tif(y[1].slice(0,6) === \"xmlns:\") w = \"xmlns\"+y[1].slice(6);\n\t\t\telse w = y[1].slice(j+1);\n\t\t\tz[w] = y[2].slice(1,y[2].length-1);\n\t\t}\n\t}\n\treturn z;\n}\nfunction xlml_parsexmltagobj(tag/*:string*/) {\n\tvar words = tag.split(/\\s+/);\n\tvar z = {};\n\tif(words.length === 1) return z;\n\tvar m = tag.match(attregexg2), y, j, w, i;\n\tif(m) for(i = 0; i != m.length; ++i) {\n\t\ty = m[i].match(attregex2);\n/*:: if(!y || !y[2]) continue; */\n\t\tif((j=y[1].indexOf(\":\")) === -1) z[y[1]] = y[2].slice(1,y[2].length-1);\n\t\telse {\n\t\t\tif(y[1].slice(0,6) === \"xmlns:\") w = \"xmlns\"+y[1].slice(6);\n\t\t\telse w = y[1].slice(j+1);\n\t\t\tz[w] = y[2].slice(1,y[2].length-1);\n\t\t}\n\t}\n\treturn z;\n}\n\n// ----\n\n/* map from xlml named formats to SSF TODO: localize */\nvar XLMLFormatMap/*: {[string]:string}*/;\n\nfunction xlml_format(format, value)/*:string*/ {\n\tvar fmt = XLMLFormatMap[format] || unescapexml(format);\n\tif(fmt === \"General\") return SSF_general(value);\n\treturn SSF_format(fmt, value);\n}\n\nfunction xlml_set_custprop(Custprops, key, cp, val/*:string*/) {\n\tvar oval/*:any*/ = val;\n\tswitch((cp[0].match(/dt:dt=\"([\\w.]+)\"/)||[\"\",\"\"])[1]) {\n\t\tcase \"boolean\": oval = parsexmlbool(val); break;\n\t\tcase \"i2\": case \"int\": oval = parseInt(val, 10); break;\n\t\tcase \"r4\": case \"float\": oval = parseFloat(val); break;\n\t\tcase \"date\": case \"dateTime.tz\": oval = parseDate(val); break;\n\t\tcase \"i8\": case \"string\": case \"fixed\": case \"uuid\": case \"bin.base64\": break;\n\t\tdefault: throw new Error(\"bad custprop:\" + cp[0]);\n\t}\n\tCustprops[unescapexml(key)] = oval;\n}\n\nfunction safe_format_xlml(cell/*:Cell*/, nf, o) {\n\tif(cell.t === 'z') return;\n\tif(!o || o.cellText !== false) try {\n\t\tif(cell.t === 'e') { cell.w = cell.w || BErr[cell.v]; }\n\t\telse if(nf === \"General\") {\n\t\t\tif(cell.t === 'n') {\n\t\t\t\tif((cell.v|0) === cell.v) cell.w = cell.v.toString(10);\n\t\t\t\telse cell.w = SSF_general_num(cell.v);\n\t\t\t}\n\t\t\telse cell.w = SSF_general(cell.v);\n\t\t}\n\t\telse cell.w = xlml_format(nf||\"General\", cell.v);\n\t} catch(e) { if(o.WTF) throw e; }\n\ttry {\n\t\tvar z = XLMLFormatMap[nf]||nf||\"General\";\n\t\tif(o.cellNF) cell.z = z;\n\t\tif(o.cellDates && cell.t == 'n' && fmt_is_date(z)) {\n\t\t\tvar _d = SSF_parse_date_code(cell.v); if(_d) { cell.t = 'd'; cell.v = new Date(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u); }\n\t\t}\n\t} catch(e) { if(o.WTF) throw e; }\n}\n\nfunction process_style_xlml(styles, stag, opts) {\n\tif(opts.cellStyles) {\n\t\tif(stag.Interior) {\n\t\t\tvar I = stag.Interior;\n\t\t\tif(I.Pattern) I.patternType = XLMLPatternTypeMap[I.Pattern] || I.Pattern;\n\t\t}\n\t}\n\tstyles[stag.ID] = stag;\n}\n\n/* TODO: there must exist some form of OSP-blessed spec */\nfunction parse_xlml_data(xml, ss, data, cell/*:any*/, base, styles, csty, row, arrayf, o) {\n\tvar nf = \"General\", sid = cell.StyleID, S = {}; o = o || {};\n\tvar interiors = [];\n\tvar i = 0;\n\tif(sid === undefined && row) sid = row.StyleID;\n\tif(sid === undefined && csty) sid = csty.StyleID;\n\twhile(styles[sid] !== undefined) {\n\t\tif(styles[sid].nf) nf = styles[sid].nf;\n\t\tif(styles[sid].Interior) interiors.push(styles[sid].Interior);\n\t\tif(!styles[sid].Parent) break;\n\t\tsid = styles[sid].Parent;\n\t}\n\tswitch(data.Type) {\n\t\tcase 'Boolean':\n\t\t\tcell.t = 'b';\n\t\t\tcell.v = parsexmlbool(xml);\n\t\t\tbreak;\n\t\tcase 'String':\n\t\t\tcell.t = 's'; cell.r = xlml_fixstr(unescapexml(xml));\n\t\t\tcell.v = (xml.indexOf(\"<\") > -1 ? unescapexml(ss||xml).replace(/<.*?>/g, \"\") : cell.r); // todo: BR etc\n\t\t\tbreak;\n\t\tcase 'DateTime':\n\t\t\tif(xml.slice(-1) != \"Z\") xml += \"Z\";\n\t\t\tcell.v = (parseDate(xml) - new Date(Date.UTC(1899, 11, 30))) / (24 * 60 * 60 * 1000);\n\t\t\tif(cell.v !== cell.v) cell.v = unescapexml(xml);\n\t\t\telse if(cell.v<60) cell.v = cell.v -1;\n\t\t\tif(!nf || nf == \"General\") nf = \"yyyy-mm-dd\";\n\t\t\t/* falls through */\n\t\tcase 'Number':\n\t\t\tif(cell.v === undefined) cell.v=+xml;\n\t\t\tif(!cell.t) cell.t = 'n';\n\t\t\tbreak;\n\t\tcase 'Error': cell.t = 'e'; cell.v = RBErr[xml]; if(o.cellText !== false) cell.w = xml; break;\n\t\tdefault:\n\t\t\tif(xml == \"\" && ss == \"\") { cell.t = 'z'; }\n\t\t\telse { cell.t = 's'; cell.v = xlml_fixstr(ss||xml); }\n\t\t\tbreak;\n\t}\n\tsafe_format_xlml(cell, nf, o);\n\tif(o.cellFormula !== false) {\n\t\tif(cell.Formula) {\n\t\t\tvar fstr = unescapexml(cell.Formula);\n\t\t\t/* strictly speaking, the leading = is required but some writers omit */\n\t\t\tif(fstr.charCodeAt(0) == 61 /* = */) fstr = fstr.slice(1);\n\t\t\tcell.f = rc_to_a1(fstr, base);\n\t\t\tdelete cell.Formula;\n\t\t\tif(cell.ArrayRange == \"RC\") cell.F = rc_to_a1(\"RC:RC\", base);\n\t\t\telse if(cell.ArrayRange) {\n\t\t\t\tcell.F = rc_to_a1(cell.ArrayRange, base);\n\t\t\t\tarrayf.push([safe_decode_range(cell.F), cell.F]);\n\t\t\t}\n\t\t} else {\n\t\t\tfor(i = 0; i < arrayf.length; ++i)\n\t\t\t\tif(base.r >= arrayf[i][0].s.r && base.r <= arrayf[i][0].e.r)\n\t\t\t\t\tif(base.c >= arrayf[i][0].s.c && base.c <= arrayf[i][0].e.c)\n\t\t\t\t\t\tcell.F = arrayf[i][1];\n\t\t}\n\t}\n\tif(o.cellStyles) {\n\t\tinteriors.forEach(function(x) {\n\t\t\tif(!S.patternType && x.patternType) S.patternType = x.patternType;\n\t\t});\n\t\tcell.s = S;\n\t}\n\tif(cell.StyleID !== undefined) cell.ixfe = cell.StyleID;\n}\n\nfunction xlml_clean_comment(comment/*:any*/) {\n\tcomment.t = comment.v || \"\";\n\tcomment.t = comment.t.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\");\n\tcomment.v = comment.w = comment.ixfe = undefined;\n}\n\n/* TODO: Everything */\nfunction parse_xlml_xml(d, _opts)/*:Workbook*/ {\n\tvar opts = _opts || {};\n\tmake_ssf();\n\tvar str = debom(xlml_normalize(d));\n\tif(opts.type == 'binary' || opts.type == 'array' || opts.type == 'base64') {\n\t\tif(typeof $cptable !== 'undefined') str = $cptable.utils.decode(65001, char_codes(str));\n\t\telse str = utf8read(str);\n\t}\n\tvar opening = str.slice(0, 1024).toLowerCase(), ishtml = false;\n\topening = opening.replace(/\".*?\"/g, \"\");\n\tif((opening.indexOf(\">\") & 1023) > Math.min((opening.indexOf(\",\") & 1023), (opening.indexOf(\";\")&1023))) { var _o = dup(opts); _o.type = \"string\"; return PRN.to_workbook(str, _o); }\n\tif(opening.indexOf(\"<?xml\") == -1) [\"html\", \"table\", \"head\", \"meta\", \"script\", \"style\", \"div\"].forEach(function(tag) { if(opening.indexOf(\"<\" + tag) >= 0) ishtml = true; });\n\tif(ishtml) return html_to_workbook(str, opts);\n\n\tXLMLFormatMap = ({\n\t\t\"General Number\": \"General\",\n\t\t\"General Date\": table_fmt[22],\n\t\t\"Long Date\": \"dddd, mmmm dd, yyyy\",\n\t\t\"Medium Date\": table_fmt[15],\n\t\t\"Short Date\": table_fmt[14],\n\t\t\"Long Time\": table_fmt[19],\n\t\t\"Medium Time\": table_fmt[18],\n\t\t\"Short Time\": table_fmt[20],\n\t\t\"Currency\": '\"$\"#,##0.00_);[Red]\\\\(\"$\"#,##0.00\\\\)',\n\t\t\"Fixed\": table_fmt[2],\n\t\t\"Standard\": table_fmt[4],\n\t\t\"Percent\": table_fmt[10],\n\t\t\"Scientific\": table_fmt[11],\n\t\t\"Yes/No\": '\"Yes\";\"Yes\";\"No\";@',\n\t\t\"True/False\": '\"True\";\"True\";\"False\";@',\n\t\t\"On/Off\": '\"Yes\";\"Yes\";\"No\";@'\n\t}/*:any*/);\n\n\n\tvar Rn;\n\tvar state = [], tmp;\n\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\tvar sheets = {}, sheetnames/*:Array<string>*/ = [], cursheet/*:Worksheet*/ = (opts.dense ? [] : {}), sheetname = \"\";\n\tvar cell = ({}/*:any*/), row = {};// eslint-disable-line no-unused-vars\n\tvar dtag = xlml_parsexmltag('<Data ss:Type=\"String\">'), didx = 0;\n\tvar c = 0, r = 0;\n\tvar refguess/*:Range*/ = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\tvar styles = {}, stag = {};\n\tvar ss = \"\", fidx = 0;\n\tvar merges/*:Array<Range>*/ = [];\n\tvar Props = {}, Custprops = {}, pidx = 0, cp = [];\n\tvar comments/*:Array<Comment>*/ = [], comment/*:Comment*/ = ({}/*:any*/);\n\tvar cstys = [], csty, seencol = false;\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar rowinfo/*:Array<RowInfo>*/ = [], rowobj = {}, cc = 0, rr = 0;\n\tvar Workbook/*:WBWBProps*/ = ({ Sheets:[], WBProps:{date1904:false} }/*:any*/), wsprops = {};\n\txlmlregex.lastIndex = 0;\n\tstr = str.replace(/<!--([\\s\\S]*?)-->/mg,\"\");\n\tvar raw_Rn3 = \"\";\n\twhile((Rn = xlmlregex.exec(str))) switch((Rn[3] = (raw_Rn3 = Rn[3]).toLowerCase())) {\n\t\tcase 'data' /*case 'Data'*/:\n\t\t\tif(raw_Rn3 == \"data\") {\n\t\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(state[state.length-1][1]) break;\n\t\t\tif(Rn[1]==='/') parse_xlml_data(str.slice(didx, Rn.index), ss, dtag, state[state.length-1][0]==/*\"Comment\"*/\"comment\"?comment:cell, {c:c,r:r}, styles, cstys[c], row, arrayf, opts);\n\t\t\telse { ss = \"\"; dtag = xlml_parsexmltag(Rn[0]); didx = Rn.index + Rn[0].length; }\n\t\t\tbreak;\n\t\tcase 'cell' /*case 'Cell'*/:\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif(comments.length > 0) cell.c = comments;\n\t\t\t\tif((!opts.sheetRows || opts.sheetRows > r) && cell.v !== undefined) {\n\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\tif(!cursheet[r]) cursheet[r] = [];\n\t\t\t\t\t\tcursheet[r][c] = cell;\n\t\t\t\t\t} else cursheet[encode_col(c) + encode_row(r)] = cell;\n\t\t\t\t}\n\t\t\t\tif(cell.HRef) {\n\t\t\t\t\tcell.l = ({Target:unescapexml(cell.HRef)}/*:any*/);\n\t\t\t\t\tif(cell.HRefScreenTip) cell.l.Tooltip = cell.HRefScreenTip;\n\t\t\t\t\tdelete cell.HRef; delete cell.HRefScreenTip;\n\t\t\t\t}\n\t\t\t\tif(cell.MergeAcross || cell.MergeDown) {\n\t\t\t\t\tcc = c + (parseInt(cell.MergeAcross,10)|0);\n\t\t\t\t\trr = r + (parseInt(cell.MergeDown,10)|0);\n\t\t\t\t\tmerges.push({s:{c:c,r:r},e:{c:cc,r:rr}});\n\t\t\t\t}\n\t\t\t\tif(!opts.sheetStubs) { if(cell.MergeAcross) c = cc + 1; else ++c; }\n\t\t\t\telse if(cell.MergeAcross || cell.MergeDown) {\n\t\t\t\t\t/*:: if(!cc) cc = 0; if(!rr) rr = 0; */\n\t\t\t\t\tfor(var cma = c; cma <= cc; ++cma) {\n\t\t\t\t\t\tfor(var cmd = r; cmd <= rr; ++cmd) {\n\t\t\t\t\t\t\tif(cma > c || cmd > r) {\n\t\t\t\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\t\t\t\tif(!cursheet[cmd]) cursheet[cmd] = [];\n\t\t\t\t\t\t\t\t\tcursheet[cmd][cma] = {t:'z'};\n\t\t\t\t\t\t\t\t} else cursheet[encode_col(cma) + encode_row(cmd)] = {t:'z'};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tc = cc + 1;\n\t\t\t\t}\n\t\t\t\telse ++c;\n\t\t\t} else {\n\t\t\t\tcell = xlml_parsexmltagobj(Rn[0]);\n\t\t\t\tif(cell.Index) c = +cell.Index - 1;\n\t\t\t\tif(c < refguess.s.c) refguess.s.c = c;\n\t\t\t\tif(c > refguess.e.c) refguess.e.c = c;\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") ++c;\n\t\t\t\tcomments = [];\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'row' /*case 'Row'*/:\n\t\t\tif(Rn[1]==='/' || Rn[0].slice(-2) === \"/>\") {\n\t\t\t\tif(r < refguess.s.r) refguess.s.r = r;\n\t\t\t\tif(r > refguess.e.r) refguess.e.r = r;\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") {\n\t\t\t\t\trow = xlml_parsexmltag(Rn[0]);\n\t\t\t\t\tif(row.Index) r = +row.Index - 1;\n\t\t\t\t}\n\t\t\t\tc = 0; ++r;\n\t\t\t} else {\n\t\t\t\trow = xlml_parsexmltag(Rn[0]);\n\t\t\t\tif(row.Index) r = +row.Index - 1;\n\t\t\t\trowobj = {};\n\t\t\t\tif(row.AutoFitHeight == \"0\" || row.Height) {\n\t\t\t\t\trowobj.hpx = parseInt(row.Height, 10); rowobj.hpt = px2pt(rowobj.hpx);\n\t\t\t\t\trowinfo[r] = rowobj;\n\t\t\t\t}\n\t\t\t\tif(row.Hidden == \"1\") { rowobj.hidden = true; rowinfo[r] = rowobj; }\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'worksheet' /*case 'Worksheet'*/: /* TODO: read range from FullRows/FullColumns */\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));\n\t\t\t\tsheetnames.push(sheetname);\n\t\t\t\tif(refguess.s.r <= refguess.e.r && refguess.s.c <= refguess.e.c) {\n\t\t\t\t\tcursheet[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\tif(opts.sheetRows && opts.sheetRows <= refguess.e.r) {\n\t\t\t\t\t\tcursheet[\"!fullref\"] = cursheet[\"!ref\"];\n\t\t\t\t\t\trefguess.e.r = opts.sheetRows - 1;\n\t\t\t\t\t\tcursheet[\"!ref\"] = encode_range(refguess);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(merges.length) cursheet[\"!merges\"] = merges;\n\t\t\t\tif(cstys.length > 0) cursheet[\"!cols\"] = cstys;\n\t\t\t\tif(rowinfo.length > 0) cursheet[\"!rows\"] = rowinfo;\n\t\t\t\tsheets[sheetname] = cursheet;\n\t\t\t} else {\n\t\t\t\trefguess = {s: {r:2000000, c:2000000}, e: {r:0, c:0} };\n\t\t\t\tr = c = 0;\n\t\t\t\tstate.push([Rn[3], false]);\n\t\t\t\ttmp = xlml_parsexmltag(Rn[0]);\n\t\t\t\tsheetname = unescapexml(tmp.Name);\n\t\t\t\tcursheet = (opts.dense ? [] : {});\n\t\t\t\tmerges = [];\n\t\t\t\tarrayf = [];\n\t\t\t\trowinfo = [];\n\t\t\t\twsprops = {name:sheetname, Hidden:0};\n\t\t\t\tWorkbook.Sheets.push(wsprops);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'table' /*case 'Table'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse if(Rn[0].slice(-2) == \"/>\") break;\n\t\t\telse {\n\t\t\t\tstate.push([Rn[3], false]);\n\t\t\t\tcstys = []; seencol = false;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'style' /*case 'Style'*/:\n\t\t\tif(Rn[1]==='/') process_style_xlml(styles, stag, opts);\n\t\t\telse stag = xlml_parsexmltag(Rn[0]);\n\t\t\tbreak;\n\n\t\tcase 'numberformat' /*case 'NumberFormat'*/:\n\t\t\tstag.nf = unescapexml(xlml_parsexmltag(Rn[0]).Format || \"General\");\n\t\t\tif(XLMLFormatMap[stag.nf]) stag.nf = XLMLFormatMap[stag.nf];\n\t\t\tfor(var ssfidx = 0; ssfidx != 0x188; ++ssfidx) if(table_fmt[ssfidx] == stag.nf) break;\n\t\t\tif(ssfidx == 0x188) for(ssfidx = 0x39; ssfidx != 0x188; ++ssfidx) if(table_fmt[ssfidx] == null) { SSF_load(stag.nf, ssfidx); break; }\n\t\t\tbreak;\n\n\t\tcase 'column' /*case 'Column'*/:\n\t\t\tif(state[state.length-1][0] !== /*'Table'*/'table') break;\n\t\t\tcsty = xlml_parsexmltag(Rn[0]);\n\t\t\tif(csty.Hidden) { csty.hidden = true; delete csty.Hidden; }\n\t\t\tif(csty.Width) csty.wpx = parseInt(csty.Width, 10);\n\t\t\tif(!seencol && csty.wpx > 10) {\n\t\t\t\tseencol = true; MDW = DEF_MDW; //find_mdw_wpx(csty.wpx);\n\t\t\t\tfor(var _col = 0; _col < cstys.length; ++_col) if(cstys[_col]) process_col(cstys[_col]);\n\t\t\t}\n\t\t\tif(seencol) process_col(csty);\n\t\t\tcstys[(csty.Index-1||cstys.length)] = csty;\n\t\t\tfor(var i = 0; i < +csty.Span; ++i) cstys[cstys.length] = dup(csty);\n\t\t\tbreak;\n\n\t\tcase 'namedrange' /*case 'NamedRange'*/:\n\t\t\tif(Rn[1]==='/') break;\n\t\t\tif(!Workbook.Names) Workbook.Names = [];\n\t\t\tvar _NamedRange = parsexmltag(Rn[0]);\n\t\t\tvar _DefinedName/*:DefinedName*/ = ({\n\t\t\t\tName: _NamedRange.Name,\n\t\t\t\tRef: rc_to_a1(_NamedRange.RefersTo.slice(1), {r:0, c:0})\n\t\t\t}/*:any*/);\n\t\t\tif(Workbook.Sheets.length>0) _DefinedName.Sheet=Workbook.Sheets.length-1;\n\t\t\t/*:: if(Workbook.Names) */Workbook.Names.push(_DefinedName);\n\t\t\tbreak;\n\n\t\tcase 'namedcell' /*case 'NamedCell'*/: break;\n\t\tcase 'b' /*case 'B'*/: break;\n\t\tcase 'i' /*case 'I'*/: break;\n\t\tcase 'u' /*case 'U'*/: break;\n\t\tcase 's' /*case 'S'*/: break;\n\t\tcase 'em' /*case 'EM'*/: break;\n\t\tcase 'h2' /*case 'H2'*/: break;\n\t\tcase 'h3' /*case 'H3'*/: break;\n\t\tcase 'sub' /*case 'Sub'*/: break;\n\t\tcase 'sup' /*case 'Sup'*/: break;\n\t\tcase 'span' /*case 'Span'*/: break;\n\t\tcase 'alignment' /*case 'Alignment'*/:\n\t\t\tbreak;\n\t\tcase 'borders' /*case 'Borders'*/: break;\n\t\tcase 'border' /*case 'Border'*/: break;\n\t\tcase 'font' /*case 'Font'*/:\n\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\telse if(Rn[1]===\"/\") ss += str.slice(fidx, Rn.index);\n\t\t\telse fidx = Rn.index + Rn[0].length;\n\t\t\tbreak;\n\t\tcase 'interior' /*case 'Interior'*/:\n\t\t\tif(!opts.cellStyles) break;\n\t\t\tstag.Interior = xlml_parsexmltag(Rn[0]);\n\t\t\tbreak;\n\t\tcase 'protection' /*case 'Protection'*/: break;\n\n\t\tcase 'author' /*case 'Author'*/:\n\t\tcase 'title' /*case 'Title'*/:\n\t\tcase 'description' /*case 'Description'*/:\n\t\tcase 'created' /*case 'Created'*/:\n\t\tcase 'keywords' /*case 'Keywords'*/:\n\t\tcase 'subject' /*case 'Subject'*/:\n\t\tcase 'category' /*case 'Category'*/:\n\t\tcase 'company' /*case 'Company'*/:\n\t\tcase 'lastauthor' /*case 'LastAuthor'*/:\n\t\tcase 'lastsaved' /*case 'LastSaved'*/:\n\t\tcase 'lastprinted' /*case 'LastPrinted'*/:\n\t\tcase 'version' /*case 'Version'*/:\n\t\tcase 'revision' /*case 'Revision'*/:\n\t\tcase 'totaltime' /*case 'TotalTime'*/:\n\t\tcase 'hyperlinkbase' /*case 'HyperlinkBase'*/:\n\t\tcase 'manager' /*case 'Manager'*/:\n\t\tcase 'contentstatus' /*case 'ContentStatus'*/:\n\t\tcase 'identifier' /*case 'Identifier'*/:\n\t\tcase 'language' /*case 'Language'*/:\n\t\tcase 'appname' /*case 'AppName'*/:\n\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\telse if(Rn[1]===\"/\") xlml_set_prop(Props, raw_Rn3, str.slice(pidx, Rn.index));\n\t\t\telse pidx = Rn.index + Rn[0].length;\n\t\t\tbreak;\n\t\tcase 'paragraphs' /*case 'Paragraphs'*/: break;\n\n\t\tcase 'styles' /*case 'Styles'*/:\n\t\tcase 'workbook' /*case 'Workbook'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse state.push([Rn[3], false]);\n\t\t\tbreak;\n\n\t\tcase 'comment' /*case 'Comment'*/:\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));\n\t\t\t\txlml_clean_comment(comment);\n\t\t\t\tcomments.push(comment);\n\t\t\t} else {\n\t\t\t\tstate.push([Rn[3], false]);\n\t\t\t\ttmp = xlml_parsexmltag(Rn[0]);\n\t\t\t\tcomment = ({a:tmp.Author}/*:any*/);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'autofilter' /*case 'AutoFilter'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\tvar AutoFilter = xlml_parsexmltag(Rn[0]);\n\t\t\t\tcursheet['!autofilter'] = { ref:rc_to_a1(AutoFilter.Range).replace(/\\$/g,\"\") };\n\t\t\t\tstate.push([Rn[3], true]);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'name' /*case 'Name'*/: break;\n\n\t\tcase 'datavalidation' /*case 'DataValidation'*/:\n\t\t\tif(Rn[1]==='/'){\n\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));\n\t\t\t} else {\n\t\t\t\tif(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'pixelsperinch' /*case 'PixelsPerInch'*/:\n\t\t\tbreak;\n\t\tcase 'componentoptions' /*case 'ComponentOptions'*/:\n\t\tcase 'documentproperties' /*case 'DocumentProperties'*/:\n\t\tcase 'customdocumentproperties' /*case 'CustomDocumentProperties'*/:\n\t\tcase 'officedocumentsettings' /*case 'OfficeDocumentSettings'*/:\n\t\tcase 'pivottable' /*case 'PivotTable'*/:\n\t\tcase 'pivotcache' /*case 'PivotCache'*/:\n\t\tcase 'names' /*case 'Names'*/:\n\t\tcase 'mapinfo' /*case 'MapInfo'*/:\n\t\tcase 'pagebreaks' /*case 'PageBreaks'*/:\n\t\tcase 'querytable' /*case 'QueryTable'*/:\n\t\tcase 'sorting' /*case 'Sorting'*/:\n\t\tcase 'schema' /*case 'Schema'*/: //case 'data' /*case 'data'*/:\n\t\tcase 'conditionalformatting' /*case 'ConditionalFormatting'*/:\n\t\tcase 'smarttagtype' /*case 'SmartTagType'*/:\n\t\tcase 'smarttags' /*case 'SmartTags'*/:\n\t\tcase 'excelworkbook' /*case 'ExcelWorkbook'*/:\n\t\tcase 'workbookoptions' /*case 'WorkbookOptions'*/:\n\t\tcase 'worksheetoptions' /*case 'WorksheetOptions'*/:\n\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw new Error(\"Bad state: \"+tmp.join(\"|\"));}\n\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\tbreak;\n\n\t\tcase 'null' /*case 'Null'*/: break;\n\n\t\tdefault:\n\t\t\t/* FODS file root is <office:document> */\n\t\t\tif(state.length == 0 && Rn[3] == \"document\") return parse_fods(str, opts);\n\t\t\t/* UOS file root is <uof:UOF> */\n\t\t\tif(state.length == 0 && Rn[3] == \"uof\"/*\"UOF\"*/) return parse_fods(str, opts);\n\n\t\t\tvar seen = true;\n\t\t\tswitch(state[state.length-1][0]) {\n\t\t\t\t/* OfficeDocumentSettings */\n\t\t\t\tcase 'officedocumentsettings' /*case 'OfficeDocumentSettings'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'allowpng' /*case 'AllowPNG'*/: break;\n\t\t\t\t\tcase 'removepersonalinformation' /*case 'RemovePersonalInformation'*/: break;\n\t\t\t\t\tcase 'downloadcomponents' /*case 'DownloadComponents'*/: break;\n\t\t\t\t\tcase 'locationofcomponents' /*case 'LocationOfComponents'*/: break;\n\t\t\t\t\tcase 'colors' /*case 'Colors'*/: break;\n\t\t\t\t\tcase 'color' /*case 'Color'*/: break;\n\t\t\t\t\tcase 'index' /*case 'Index'*/: break;\n\t\t\t\t\tcase 'rgb' /*case 'RGB'*/: break;\n\t\t\t\t\tcase 'targetscreensize' /*case 'TargetScreenSize'*/: break;\n\t\t\t\t\tcase 'readonlyrecommended' /*case 'ReadOnlyRecommended'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* ComponentOptions */\n\t\t\t\tcase 'componentoptions' /*case 'ComponentOptions'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'toolbar' /*case 'Toolbar'*/: break;\n\t\t\t\t\tcase 'hideofficelogo' /*case 'HideOfficeLogo'*/: break;\n\t\t\t\t\tcase 'spreadsheetautofit' /*case 'SpreadsheetAutoFit'*/: break;\n\t\t\t\t\tcase 'label' /*case 'Label'*/: break;\n\t\t\t\t\tcase 'caption' /*case 'Caption'*/: break;\n\t\t\t\t\tcase 'maxheight' /*case 'MaxHeight'*/: break;\n\t\t\t\t\tcase 'maxwidth' /*case 'MaxWidth'*/: break;\n\t\t\t\t\tcase 'nextsheetnumber' /*case 'NextSheetNumber'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* ExcelWorkbook */\n\t\t\t\tcase 'excelworkbook' /*case 'ExcelWorkbook'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'date1904' /*case 'Date1904'*/:\n\t\t\t\t\t\t/*:: if(!Workbook.WBProps) Workbook.WBProps = {}; */\n\t\t\t\t\t\tWorkbook.WBProps.date1904 = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'windowheight' /*case 'WindowHeight'*/: break;\n\t\t\t\t\tcase 'windowwidth' /*case 'WindowWidth'*/: break;\n\t\t\t\t\tcase 'windowtopx' /*case 'WindowTopX'*/: break;\n\t\t\t\t\tcase 'windowtopy' /*case 'WindowTopY'*/: break;\n\t\t\t\t\tcase 'tabratio' /*case 'TabRatio'*/: break;\n\t\t\t\t\tcase 'protectstructure' /*case 'ProtectStructure'*/: break;\n\t\t\t\t\tcase 'protectwindow' /*case 'ProtectWindow'*/: break;\n\t\t\t\t\tcase 'protectwindows' /*case 'ProtectWindows'*/: break;\n\t\t\t\t\tcase 'activesheet' /*case 'ActiveSheet'*/: break;\n\t\t\t\t\tcase 'displayinknotes' /*case 'DisplayInkNotes'*/: break;\n\t\t\t\t\tcase 'firstvisiblesheet' /*case 'FirstVisibleSheet'*/: break;\n\t\t\t\t\tcase 'supbook' /*case 'SupBook'*/: break;\n\t\t\t\t\tcase 'sheetname' /*case 'SheetName'*/: break;\n\t\t\t\t\tcase 'sheetindex' /*case 'SheetIndex'*/: break;\n\t\t\t\t\tcase 'sheetindexfirst' /*case 'SheetIndexFirst'*/: break;\n\t\t\t\t\tcase 'sheetindexlast' /*case 'SheetIndexLast'*/: break;\n\t\t\t\t\tcase 'dll' /*case 'Dll'*/: break;\n\t\t\t\t\tcase 'acceptlabelsinformulas' /*case 'AcceptLabelsInFormulas'*/: break;\n\t\t\t\t\tcase 'donotsavelinkvalues' /*case 'DoNotSaveLinkValues'*/: break;\n\t\t\t\t\tcase 'iteration' /*case 'Iteration'*/: break;\n\t\t\t\t\tcase 'maxiterations' /*case 'MaxIterations'*/: break;\n\t\t\t\t\tcase 'maxchange' /*case 'MaxChange'*/: break;\n\t\t\t\t\tcase 'path' /*case 'Path'*/: break;\n\t\t\t\t\tcase 'xct' /*case 'Xct'*/: break;\n\t\t\t\t\tcase 'count' /*case 'Count'*/: break;\n\t\t\t\t\tcase 'selectedsheets' /*case 'SelectedSheets'*/: break;\n\t\t\t\t\tcase 'calculation' /*case 'Calculation'*/: break;\n\t\t\t\t\tcase 'uncalced' /*case 'Uncalced'*/: break;\n\t\t\t\t\tcase 'startupprompt' /*case 'StartupPrompt'*/: break;\n\t\t\t\t\tcase 'crn' /*case 'Crn'*/: break;\n\t\t\t\t\tcase 'externname' /*case 'ExternName'*/: break;\n\t\t\t\t\tcase 'formula' /*case 'Formula'*/: break;\n\t\t\t\t\tcase 'colfirst' /*case 'ColFirst'*/: break;\n\t\t\t\t\tcase 'collast' /*case 'ColLast'*/: break;\n\t\t\t\t\tcase 'wantadvise' /*case 'WantAdvise'*/: break;\n\t\t\t\t\tcase 'boolean' /*case 'Boolean'*/: break;\n\t\t\t\t\tcase 'error' /*case 'Error'*/: break;\n\t\t\t\t\tcase 'text' /*case 'Text'*/: break;\n\t\t\t\t\tcase 'ole' /*case 'OLE'*/: break;\n\t\t\t\t\tcase 'noautorecover' /*case 'NoAutoRecover'*/: break;\n\t\t\t\t\tcase 'publishobjects' /*case 'PublishObjects'*/: break;\n\t\t\t\t\tcase 'donotcalculatebeforesave' /*case 'DoNotCalculateBeforeSave'*/: break;\n\t\t\t\t\tcase 'number' /*case 'Number'*/: break;\n\t\t\t\t\tcase 'refmoder1c1' /*case 'RefModeR1C1'*/: break;\n\t\t\t\t\tcase 'embedsavesmarttags' /*case 'EmbedSaveSmartTags'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* WorkbookOptions */\n\t\t\t\tcase 'workbookoptions' /*case 'WorkbookOptions'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'owcversion' /*case 'OWCVersion'*/: break;\n\t\t\t\t\tcase 'height' /*case 'Height'*/: break;\n\t\t\t\t\tcase 'width' /*case 'Width'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* WorksheetOptions */\n\t\t\t\tcase 'worksheetoptions' /*case 'WorksheetOptions'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'visible' /*case 'Visible'*/:\n\t\t\t\t\t\tif(Rn[0].slice(-2) === \"/>\"){/* empty */}\n\t\t\t\t\t\telse if(Rn[1]===\"/\") switch(str.slice(pidx, Rn.index)) {\n\t\t\t\t\t\t\tcase \"SheetHidden\": wsprops.Hidden = 1; break;\n\t\t\t\t\t\t\tcase \"SheetVeryHidden\": wsprops.Hidden = 2; break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse pidx = Rn.index + Rn[0].length;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'header' /*case 'Header'*/:\n\t\t\t\t\t\tif(!cursheet['!margins']) default_margins(cursheet['!margins']={}, 'xlml');\n\t\t\t\t\t\tif(!isNaN(+parsexmltag(Rn[0]).Margin)) cursheet['!margins'].header = +parsexmltag(Rn[0]).Margin;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'footer' /*case 'Footer'*/:\n\t\t\t\t\t\tif(!cursheet['!margins']) default_margins(cursheet['!margins']={}, 'xlml');\n\t\t\t\t\t\tif(!isNaN(+parsexmltag(Rn[0]).Margin)) cursheet['!margins'].footer = +parsexmltag(Rn[0]).Margin;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'pagemargins' /*case 'PageMargins'*/:\n\t\t\t\t\t\tvar pagemargins = parsexmltag(Rn[0]);\n\t\t\t\t\t\tif(!cursheet['!margins']) default_margins(cursheet['!margins']={},'xlml');\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Top)) cursheet['!margins'].top = +pagemargins.Top;\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Left)) cursheet['!margins'].left = +pagemargins.Left;\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Right)) cursheet['!margins'].right = +pagemargins.Right;\n\t\t\t\t\t\tif(!isNaN(+pagemargins.Bottom)) cursheet['!margins'].bottom = +pagemargins.Bottom;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'displayrighttoleft' /*case 'DisplayRightToLeft'*/:\n\t\t\t\t\t\tif(!Workbook.Views) Workbook.Views = [];\n\t\t\t\t\t\tif(!Workbook.Views[0]) Workbook.Views[0] = {};\n\t\t\t\t\t\tWorkbook.Views[0].RTL = true;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'freezepanes' /*case 'FreezePanes'*/: break;\n\t\t\t\t\tcase 'frozennosplit' /*case 'FrozenNoSplit'*/: break;\n\n\t\t\t\t\tcase 'splithorizontal' /*case 'SplitHorizontal'*/:\n\t\t\t\t\tcase 'splitvertical' /*case 'SplitVertical'*/:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'donotdisplaygridlines' /*case 'DoNotDisplayGridlines'*/:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'activerow' /*case 'ActiveRow'*/: break;\n\t\t\t\t\tcase 'activecol' /*case 'ActiveCol'*/: break;\n\t\t\t\t\tcase 'toprowbottompane' /*case 'TopRowBottomPane'*/: break;\n\t\t\t\t\tcase 'leftcolumnrightpane' /*case 'LeftColumnRightPane'*/: break;\n\n\t\t\t\t\tcase 'unsynced' /*case 'Unsynced'*/: break;\n\t\t\t\t\tcase 'print' /*case 'Print'*/: break;\n\t\t\t\t\tcase 'printerrors' /*case 'PrintErrors'*/: break;\n\t\t\t\t\tcase 'panes' /*case 'Panes'*/: break;\n\t\t\t\t\tcase 'scale' /*case 'Scale'*/: break;\n\t\t\t\t\tcase 'pane' /*case 'Pane'*/: break;\n\t\t\t\t\tcase 'number' /*case 'Number'*/: break;\n\t\t\t\t\tcase 'layout' /*case 'Layout'*/: break;\n\t\t\t\t\tcase 'pagesetup' /*case 'PageSetup'*/: break;\n\t\t\t\t\tcase 'selected' /*case 'Selected'*/: break;\n\t\t\t\t\tcase 'protectobjects' /*case 'ProtectObjects'*/: break;\n\t\t\t\t\tcase 'enableselection' /*case 'EnableSelection'*/: break;\n\t\t\t\t\tcase 'protectscenarios' /*case 'ProtectScenarios'*/: break;\n\t\t\t\t\tcase 'validprinterinfo' /*case 'ValidPrinterInfo'*/: break;\n\t\t\t\t\tcase 'horizontalresolution' /*case 'HorizontalResolution'*/: break;\n\t\t\t\t\tcase 'verticalresolution' /*case 'VerticalResolution'*/: break;\n\t\t\t\t\tcase 'numberofcopies' /*case 'NumberofCopies'*/: break;\n\t\t\t\t\tcase 'activepane' /*case 'ActivePane'*/: break;\n\t\t\t\t\tcase 'toprowvisible' /*case 'TopRowVisible'*/: break;\n\t\t\t\t\tcase 'leftcolumnvisible' /*case 'LeftColumnVisible'*/: break;\n\t\t\t\t\tcase 'fittopage' /*case 'FitToPage'*/: break;\n\t\t\t\t\tcase 'rangeselection' /*case 'RangeSelection'*/: break;\n\t\t\t\t\tcase 'papersizeindex' /*case 'PaperSizeIndex'*/: break;\n\t\t\t\t\tcase 'pagelayoutzoom' /*case 'PageLayoutZoom'*/: break;\n\t\t\t\t\tcase 'pagebreakzoom' /*case 'PageBreakZoom'*/: break;\n\t\t\t\t\tcase 'filteron' /*case 'FilterOn'*/: break;\n\t\t\t\t\tcase 'fitwidth' /*case 'FitWidth'*/: break;\n\t\t\t\t\tcase 'fitheight' /*case 'FitHeight'*/: break;\n\t\t\t\t\tcase 'commentslayout' /*case 'CommentsLayout'*/: break;\n\t\t\t\t\tcase 'zoom' /*case 'Zoom'*/: break;\n\t\t\t\t\tcase 'lefttoright' /*case 'LeftToRight'*/: break;\n\t\t\t\t\tcase 'gridlines' /*case 'Gridlines'*/: break;\n\t\t\t\t\tcase 'allowsort' /*case 'AllowSort'*/: break;\n\t\t\t\t\tcase 'allowfilter' /*case 'AllowFilter'*/: break;\n\t\t\t\t\tcase 'allowinsertrows' /*case 'AllowInsertRows'*/: break;\n\t\t\t\t\tcase 'allowdeleterows' /*case 'AllowDeleteRows'*/: break;\n\t\t\t\t\tcase 'allowinsertcols' /*case 'AllowInsertCols'*/: break;\n\t\t\t\t\tcase 'allowdeletecols' /*case 'AllowDeleteCols'*/: break;\n\t\t\t\t\tcase 'allowinserthyperlinks' /*case 'AllowInsertHyperlinks'*/: break;\n\t\t\t\t\tcase 'allowformatcells' /*case 'AllowFormatCells'*/: break;\n\t\t\t\t\tcase 'allowsizecols' /*case 'AllowSizeCols'*/: break;\n\t\t\t\t\tcase 'allowsizerows' /*case 'AllowSizeRows'*/: break;\n\t\t\t\t\tcase 'nosummaryrowsbelowdetail' /*case 'NoSummaryRowsBelowDetail'*/:\n\t\t\t\t\t\tif(!cursheet[\"!outline\"]) cursheet[\"!outline\"] = {};\n\t\t\t\t\t\tcursheet[\"!outline\"].above = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'tabcolorindex' /*case 'TabColorIndex'*/: break;\n\t\t\t\t\tcase 'donotdisplayheadings' /*case 'DoNotDisplayHeadings'*/: break;\n\t\t\t\t\tcase 'showpagelayoutzoom' /*case 'ShowPageLayoutZoom'*/: break;\n\t\t\t\t\tcase 'nosummarycolumnsrightdetail' /*case 'NoSummaryColumnsRightDetail'*/:\n\t\t\t\t\t\tif(!cursheet[\"!outline\"]) cursheet[\"!outline\"] = {};\n\t\t\t\t\t\tcursheet[\"!outline\"].left = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'blackandwhite' /*case 'BlackAndWhite'*/: break;\n\t\t\t\t\tcase 'donotdisplayzeros' /*case 'DoNotDisplayZeros'*/: break;\n\t\t\t\t\tcase 'displaypagebreak' /*case 'DisplayPageBreak'*/: break;\n\t\t\t\t\tcase 'rowcolheadings' /*case 'RowColHeadings'*/: break;\n\t\t\t\t\tcase 'donotdisplayoutline' /*case 'DoNotDisplayOutline'*/: break;\n\t\t\t\t\tcase 'noorientation' /*case 'NoOrientation'*/: break;\n\t\t\t\t\tcase 'allowusepivottables' /*case 'AllowUsePivotTables'*/: break;\n\t\t\t\t\tcase 'zeroheight' /*case 'ZeroHeight'*/: break;\n\t\t\t\t\tcase 'viewablerange' /*case 'ViewableRange'*/: break;\n\t\t\t\t\tcase 'selection' /*case 'Selection'*/: break;\n\t\t\t\t\tcase 'protectcontents' /*case 'ProtectContents'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* PivotTable */\n\t\t\t\tcase 'pivottable' /*case 'PivotTable'*/: case 'pivotcache' /*case 'PivotCache'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'immediateitemsondrop' /*case 'ImmediateItemsOnDrop'*/: break;\n\t\t\t\t\tcase 'showpagemultipleitemlabel' /*case 'ShowPageMultipleItemLabel'*/: break;\n\t\t\t\t\tcase 'compactrowindent' /*case 'CompactRowIndent'*/: break;\n\t\t\t\t\tcase 'location' /*case 'Location'*/: break;\n\t\t\t\t\tcase 'pivotfield' /*case 'PivotField'*/: break;\n\t\t\t\t\tcase 'orientation' /*case 'Orientation'*/: break;\n\t\t\t\t\tcase 'layoutform' /*case 'LayoutForm'*/: break;\n\t\t\t\t\tcase 'layoutsubtotallocation' /*case 'LayoutSubtotalLocation'*/: break;\n\t\t\t\t\tcase 'layoutcompactrow' /*case 'LayoutCompactRow'*/: break;\n\t\t\t\t\tcase 'position' /*case 'Position'*/: break;\n\t\t\t\t\tcase 'pivotitem' /*case 'PivotItem'*/: break;\n\t\t\t\t\tcase 'datatype' /*case 'DataType'*/: break;\n\t\t\t\t\tcase 'datafield' /*case 'DataField'*/: break;\n\t\t\t\t\tcase 'sourcename' /*case 'SourceName'*/: break;\n\t\t\t\t\tcase 'parentfield' /*case 'ParentField'*/: break;\n\t\t\t\t\tcase 'ptlineitems' /*case 'PTLineItems'*/: break;\n\t\t\t\t\tcase 'ptlineitem' /*case 'PTLineItem'*/: break;\n\t\t\t\t\tcase 'countofsameitems' /*case 'CountOfSameItems'*/: break;\n\t\t\t\t\tcase 'item' /*case 'Item'*/: break;\n\t\t\t\t\tcase 'itemtype' /*case 'ItemType'*/: break;\n\t\t\t\t\tcase 'ptsource' /*case 'PTSource'*/: break;\n\t\t\t\t\tcase 'cacheindex' /*case 'CacheIndex'*/: break;\n\t\t\t\t\tcase 'consolidationreference' /*case 'ConsolidationReference'*/: break;\n\t\t\t\t\tcase 'filename' /*case 'FileName'*/: break;\n\t\t\t\t\tcase 'reference' /*case 'Reference'*/: break;\n\t\t\t\t\tcase 'nocolumngrand' /*case 'NoColumnGrand'*/: break;\n\t\t\t\t\tcase 'norowgrand' /*case 'NoRowGrand'*/: break;\n\t\t\t\t\tcase 'blanklineafteritems' /*case 'BlankLineAfterItems'*/: break;\n\t\t\t\t\tcase 'hidden' /*case 'Hidden'*/: break;\n\t\t\t\t\tcase 'subtotal' /*case 'Subtotal'*/: break;\n\t\t\t\t\tcase 'basefield' /*case 'BaseField'*/: break;\n\t\t\t\t\tcase 'mapchilditems' /*case 'MapChildItems'*/: break;\n\t\t\t\t\tcase 'function' /*case 'Function'*/: break;\n\t\t\t\t\tcase 'refreshonfileopen' /*case 'RefreshOnFileOpen'*/: break;\n\t\t\t\t\tcase 'printsettitles' /*case 'PrintSetTitles'*/: break;\n\t\t\t\t\tcase 'mergelabels' /*case 'MergeLabels'*/: break;\n\t\t\t\t\tcase 'defaultversion' /*case 'DefaultVersion'*/: break;\n\t\t\t\t\tcase 'refreshname' /*case 'RefreshName'*/: break;\n\t\t\t\t\tcase 'refreshdate' /*case 'RefreshDate'*/: break;\n\t\t\t\t\tcase 'refreshdatecopy' /*case 'RefreshDateCopy'*/: break;\n\t\t\t\t\tcase 'versionlastrefresh' /*case 'VersionLastRefresh'*/: break;\n\t\t\t\t\tcase 'versionlastupdate' /*case 'VersionLastUpdate'*/: break;\n\t\t\t\t\tcase 'versionupdateablemin' /*case 'VersionUpdateableMin'*/: break;\n\t\t\t\t\tcase 'versionrefreshablemin' /*case 'VersionRefreshableMin'*/: break;\n\t\t\t\t\tcase 'calculation' /*case 'Calculation'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* PageBreaks */\n\t\t\t\tcase 'pagebreaks' /*case 'PageBreaks'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'colbreaks' /*case 'ColBreaks'*/: break;\n\t\t\t\t\tcase 'colbreak' /*case 'ColBreak'*/: break;\n\t\t\t\t\tcase 'rowbreaks' /*case 'RowBreaks'*/: break;\n\t\t\t\t\tcase 'rowbreak' /*case 'RowBreak'*/: break;\n\t\t\t\t\tcase 'colstart' /*case 'ColStart'*/: break;\n\t\t\t\t\tcase 'colend' /*case 'ColEnd'*/: break;\n\t\t\t\t\tcase 'rowend' /*case 'RowEnd'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* AutoFilter */\n\t\t\t\tcase 'autofilter' /*case 'AutoFilter'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'autofiltercolumn' /*case 'AutoFilterColumn'*/: break;\n\t\t\t\t\tcase 'autofiltercondition' /*case 'AutoFilterCondition'*/: break;\n\t\t\t\t\tcase 'autofilterand' /*case 'AutoFilterAnd'*/: break;\n\t\t\t\t\tcase 'autofilteror' /*case 'AutoFilterOr'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* QueryTable */\n\t\t\t\tcase 'querytable' /*case 'QueryTable'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'id' /*case 'Id'*/: break;\n\t\t\t\t\tcase 'autoformatfont' /*case 'AutoFormatFont'*/: break;\n\t\t\t\t\tcase 'autoformatpattern' /*case 'AutoFormatPattern'*/: break;\n\t\t\t\t\tcase 'querysource' /*case 'QuerySource'*/: break;\n\t\t\t\t\tcase 'querytype' /*case 'QueryType'*/: break;\n\t\t\t\t\tcase 'enableredirections' /*case 'EnableRedirections'*/: break;\n\t\t\t\t\tcase 'refreshedinxl9' /*case 'RefreshedInXl9'*/: break;\n\t\t\t\t\tcase 'urlstring' /*case 'URLString'*/: break;\n\t\t\t\t\tcase 'htmltables' /*case 'HTMLTables'*/: break;\n\t\t\t\t\tcase 'connection' /*case 'Connection'*/: break;\n\t\t\t\t\tcase 'commandtext' /*case 'CommandText'*/: break;\n\t\t\t\t\tcase 'refreshinfo' /*case 'RefreshInfo'*/: break;\n\t\t\t\t\tcase 'notitles' /*case 'NoTitles'*/: break;\n\t\t\t\t\tcase 'nextid' /*case 'NextId'*/: break;\n\t\t\t\t\tcase 'columninfo' /*case 'ColumnInfo'*/: break;\n\t\t\t\t\tcase 'overwritecells' /*case 'OverwriteCells'*/: break;\n\t\t\t\t\tcase 'donotpromptforfile' /*case 'DoNotPromptForFile'*/: break;\n\t\t\t\t\tcase 'textwizardsettings' /*case 'TextWizardSettings'*/: break;\n\t\t\t\t\tcase 'source' /*case 'Source'*/: break;\n\t\t\t\t\tcase 'number' /*case 'Number'*/: break;\n\t\t\t\t\tcase 'decimal' /*case 'Decimal'*/: break;\n\t\t\t\t\tcase 'thousandseparator' /*case 'ThousandSeparator'*/: break;\n\t\t\t\t\tcase 'trailingminusnumbers' /*case 'TrailingMinusNumbers'*/: break;\n\t\t\t\t\tcase 'formatsettings' /*case 'FormatSettings'*/: break;\n\t\t\t\t\tcase 'fieldtype' /*case 'FieldType'*/: break;\n\t\t\t\t\tcase 'delimiters' /*case 'Delimiters'*/: break;\n\t\t\t\t\tcase 'tab' /*case 'Tab'*/: break;\n\t\t\t\t\tcase 'comma' /*case 'Comma'*/: break;\n\t\t\t\t\tcase 'autoformatname' /*case 'AutoFormatName'*/: break;\n\t\t\t\t\tcase 'versionlastedit' /*case 'VersionLastEdit'*/: break;\n\t\t\t\t\tcase 'versionlastrefresh' /*case 'VersionLastRefresh'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\tcase 'datavalidation' /*case 'DataValidation'*/:\n\t\t\t\tswitch(Rn[3]) {\n\t\t\t\t\tcase 'range' /*case 'Range'*/: break;\n\n\t\t\t\t\tcase 'type' /*case 'Type'*/: break;\n\t\t\t\t\tcase 'min' /*case 'Min'*/: break;\n\t\t\t\t\tcase 'max' /*case 'Max'*/: break;\n\t\t\t\t\tcase 'sort' /*case 'Sort'*/: break;\n\t\t\t\t\tcase 'descending' /*case 'Descending'*/: break;\n\t\t\t\t\tcase 'order' /*case 'Order'*/: break;\n\t\t\t\t\tcase 'casesensitive' /*case 'CaseSensitive'*/: break;\n\t\t\t\t\tcase 'value' /*case 'Value'*/: break;\n\t\t\t\t\tcase 'errorstyle' /*case 'ErrorStyle'*/: break;\n\t\t\t\t\tcase 'errormessage' /*case 'ErrorMessage'*/: break;\n\t\t\t\t\tcase 'errortitle' /*case 'ErrorTitle'*/: break;\n\t\t\t\t\tcase 'inputmessage' /*case 'InputMessage'*/: break;\n\t\t\t\t\tcase 'inputtitle' /*case 'InputTitle'*/: break;\n\t\t\t\t\tcase 'combohide' /*case 'ComboHide'*/: break;\n\t\t\t\t\tcase 'inputhide' /*case 'InputHide'*/: break;\n\t\t\t\t\tcase 'condition' /*case 'Condition'*/: break;\n\t\t\t\t\tcase 'qualifier' /*case 'Qualifier'*/: break;\n\t\t\t\t\tcase 'useblank' /*case 'UseBlank'*/: break;\n\t\t\t\t\tcase 'value1' /*case 'Value1'*/: break;\n\t\t\t\t\tcase 'value2' /*case 'Value2'*/: break;\n\t\t\t\t\tcase 'format' /*case 'Format'*/: break;\n\n\t\t\t\t\tcase 'cellrangelist' /*case 'CellRangeList'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\tcase 'sorting' /*case 'Sorting'*/:\n\t\t\t\tcase 'conditionalformatting' /*case 'ConditionalFormatting'*/:\n\t\t\t\tswitch(Rn[3]) {\n\t\t\t\t\tcase 'range' /*case 'Range'*/: break;\n\t\t\t\t\tcase 'type' /*case 'Type'*/: break;\n\t\t\t\t\tcase 'min' /*case 'Min'*/: break;\n\t\t\t\t\tcase 'max' /*case 'Max'*/: break;\n\t\t\t\t\tcase 'sort' /*case 'Sort'*/: break;\n\t\t\t\t\tcase 'descending' /*case 'Descending'*/: break;\n\t\t\t\t\tcase 'order' /*case 'Order'*/: break;\n\t\t\t\t\tcase 'casesensitive' /*case 'CaseSensitive'*/: break;\n\t\t\t\t\tcase 'value' /*case 'Value'*/: break;\n\t\t\t\t\tcase 'errorstyle' /*case 'ErrorStyle'*/: break;\n\t\t\t\t\tcase 'errormessage' /*case 'ErrorMessage'*/: break;\n\t\t\t\t\tcase 'errortitle' /*case 'ErrorTitle'*/: break;\n\t\t\t\t\tcase 'cellrangelist' /*case 'CellRangeList'*/: break;\n\t\t\t\t\tcase 'inputmessage' /*case 'InputMessage'*/: break;\n\t\t\t\t\tcase 'inputtitle' /*case 'InputTitle'*/: break;\n\t\t\t\t\tcase 'combohide' /*case 'ComboHide'*/: break;\n\t\t\t\t\tcase 'inputhide' /*case 'InputHide'*/: break;\n\t\t\t\t\tcase 'condition' /*case 'Condition'*/: break;\n\t\t\t\t\tcase 'qualifier' /*case 'Qualifier'*/: break;\n\t\t\t\t\tcase 'useblank' /*case 'UseBlank'*/: break;\n\t\t\t\t\tcase 'value1' /*case 'Value1'*/: break;\n\t\t\t\t\tcase 'value2' /*case 'Value2'*/: break;\n\t\t\t\t\tcase 'format' /*case 'Format'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* MapInfo (schema) */\n\t\t\t\tcase 'mapinfo' /*case 'MapInfo'*/: case 'schema' /*case 'Schema'*/: case 'data' /*case 'data'*/: switch(Rn[3]) {\n\t\t\t\t\tcase 'map' /*case 'Map'*/: break;\n\t\t\t\t\tcase 'entry' /*case 'Entry'*/: break;\n\t\t\t\t\tcase 'range' /*case 'Range'*/: break;\n\t\t\t\t\tcase 'xpath' /*case 'XPath'*/: break;\n\t\t\t\t\tcase 'field' /*case 'Field'*/: break;\n\t\t\t\t\tcase 'xsdtype' /*case 'XSDType'*/: break;\n\t\t\t\t\tcase 'filteron' /*case 'FilterOn'*/: break;\n\t\t\t\t\tcase 'aggregate' /*case 'Aggregate'*/: break;\n\t\t\t\t\tcase 'elementtype' /*case 'ElementType'*/: break;\n\t\t\t\t\tcase 'attributetype' /*case 'AttributeType'*/: break;\n\t\t\t\t/* These are from xsd (XML Schema Definition) */\n\t\t\t\t\tcase 'schema' /*case 'schema'*/:\n\t\t\t\t\tcase 'element' /*case 'element'*/:\n\t\t\t\t\tcase 'complextype' /*case 'complexType'*/:\n\t\t\t\t\tcase 'datatype' /*case 'datatype'*/:\n\t\t\t\t\tcase 'all' /*case 'all'*/:\n\t\t\t\t\tcase 'attribute' /*case 'attribute'*/:\n\t\t\t\t\tcase 'extends' /*case 'extends'*/: break;\n\n\t\t\t\t\tcase 'row' /*case 'row'*/: break;\n\t\t\t\t\tdefault: seen = false;\n\t\t\t\t} break;\n\n\t\t\t\t/* SmartTags (can be anything) */\n\t\t\t\tcase 'smarttags' /*case 'SmartTags'*/: break;\n\n\t\t\t\tdefault: seen = false; break;\n\t\t\t}\n\t\t\tif(seen) break;\n\t\t\t/* CustomDocumentProperties */\n\t\t\tif(Rn[3].match(/!\\[CDATA/)) break;\n\t\t\tif(!state[state.length-1][1]) throw 'Unrecognized tag: ' + Rn[3] + \"|\" + state.join(\"|\");\n\t\t\tif(state[state.length-1][0]===/*'CustomDocumentProperties'*/'customdocumentproperties') {\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\t\telse if(Rn[1]===\"/\") xlml_set_custprop(Custprops, raw_Rn3, cp, str.slice(pidx, Rn.index));\n\t\t\t\telse { cp = Rn; pidx = Rn.index + Rn[0].length; }\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(opts.WTF) throw 'Unrecognized tag: ' + Rn[3] + \"|\" + state.join(\"|\");\n\t}\n\tvar out = ({}/*:any*/);\n\tif(!opts.bookSheets && !opts.bookProps) out.Sheets = sheets;\n\tout.SheetNames = sheetnames;\n\tout.Workbook = Workbook;\n\tout.SSF = dup(table_fmt);\n\tout.Props = Props;\n\tout.Custprops = Custprops;\n\treturn out;\n}\n\nfunction parse_xlml(data/*:RawBytes|string*/, opts)/*:Workbook*/ {\n\tfix_read_opts(opts=opts||{});\n\tswitch(opts.type||\"base64\") {\n\t\tcase \"base64\": return parse_xlml_xml(Base64_decode(data), opts);\n\t\tcase \"binary\": case \"buffer\": case \"file\": return parse_xlml_xml(data, opts);\n\t\tcase \"array\": return parse_xlml_xml(a2s(data), opts);\n\t}\n\t/*:: throw new Error(\"unsupported type \" + opts.type); */\n}\n\n/* TODO */\nfunction write_props_xlml(wb/*:Workbook*/, opts)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\t/* DocumentProperties */\n\tif(wb.Props) o.push(xlml_write_docprops(wb.Props, opts));\n\t/* CustomDocumentProperties */\n\tif(wb.Custprops) o.push(xlml_write_custprops(wb.Props, wb.Custprops, opts));\n\treturn o.join(\"\");\n}\n/* TODO */\nfunction write_wb_xlml(/*::wb, opts*/)/*:string*/ {\n\t/* OfficeDocumentSettings */\n\t/* ExcelWorkbook */\n\treturn \"\";\n}\n/* TODO */\nfunction write_sty_xlml(wb, opts)/*:string*/ {\n\t/* Styles */\n\tvar styles/*:Array<string>*/ = ['<Style ss:ID=\"Default\" ss:Name=\"Normal\"><NumberFormat/></Style>'];\n\topts.cellXfs.forEach(function(xf, id) {\n\t\tvar payload/*:Array<string>*/ = [];\n\t\tpayload.push(writextag('NumberFormat', null, {\"ss:Format\": escapexml(table_fmt[xf.numFmtId])}));\n\n\t\tvar o = /*::(*/{\"ss:ID\": \"s\" + (21+id)}/*:: :any)*/;\n\t\tstyles.push(writextag('Style', payload.join(\"\"), o));\n\t});\n\treturn writextag(\"Styles\", styles.join(\"\"));\n}\nfunction write_name_xlml(n) { return writextag(\"NamedRange\", null, {\"ss:Name\": n.Name, \"ss:RefersTo\":\"=\" + a1_to_rc(n.Ref, {r:0,c:0})}); }\nfunction write_names_xlml(wb/*::, opts*/)/*:string*/ {\n\tif(!((wb||{}).Workbook||{}).Names) return \"\";\n\t/*:: if(!wb || !wb.Workbook || !wb.Workbook.Names) throw new Error(\"unreachable\"); */\n\tvar names/*:Array<any>*/ = wb.Workbook.Names;\n\tvar out/*:Array<string>*/ = [];\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar n = names[i];\n\t\tif(n.Sheet != null) continue;\n\t\tif(n.Name.match(/^_xlfn\\./)) continue;\n\t\tout.push(write_name_xlml(n));\n\t}\n\treturn writextag(\"Names\", out.join(\"\"));\n}\nfunction write_ws_xlml_names(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*/)/*:string*/ {\n\tif(!ws) return \"\";\n\tif(!((wb||{}).Workbook||{}).Names) return \"\";\n\t/*:: if(!wb || !wb.Workbook || !wb.Workbook.Names) throw new Error(\"unreachable\"); */\n\tvar names/*:Array<any>*/ = wb.Workbook.Names;\n\tvar out/*:Array<string>*/ = [];\n\tfor(var i = 0; i < names.length; ++i) {\n\t\tvar n = names[i];\n\t\tif(n.Sheet != idx) continue;\n\t\t/*switch(n.Name) {\n\t\t\tcase \"_\": continue;\n\t\t}*/\n\t\tif(n.Name.match(/^_xlfn\\./)) continue;\n\t\tout.push(write_name_xlml(n));\n\t}\n\treturn out.join(\"\");\n}\n/* WorksheetOptions */\nfunction write_ws_xlml_wsopts(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*/)/*:string*/ {\n\tif(!ws) return \"\";\n\tvar o/*:Array<string>*/ = [];\n\t/* NOTE: spec technically allows any order, but stick with implied order */\n\n\t/* FitToPage */\n\t/* DoNotDisplayColHeaders */\n\t/* DoNotDisplayRowHeaders */\n\t/* ViewableRange */\n\t/* Selection */\n\t/* GridlineColor */\n\t/* Name */\n\t/* ExcelWorksheetType */\n\t/* IntlMacro */\n\t/* Unsynced */\n\t/* Selected */\n\t/* CodeName */\n\n\tif(ws['!margins']) {\n\t\to.push(\"<PageSetup>\");\n\t\tif(ws['!margins'].header) o.push(writextag(\"Header\", null, {'x:Margin':ws['!margins'].header}));\n\t\tif(ws['!margins'].footer) o.push(writextag(\"Footer\", null, {'x:Margin':ws['!margins'].footer}));\n\t\to.push(writextag(\"PageMargins\", null, {\n\t\t\t'x:Bottom': ws['!margins'].bottom || \"0.75\",\n\t\t\t'x:Left': ws['!margins'].left || \"0.7\",\n\t\t\t'x:Right': ws['!margins'].right || \"0.7\",\n\t\t\t'x:Top': ws['!margins'].top || \"0.75\"\n\t\t}));\n\t\to.push(\"</PageSetup>\");\n\t}\n\n\t/* PageSetup */\n\t/* DisplayPageBreak */\n\t/* TransitionExpressionEvaluation */\n\t/* TransitionFormulaEntry */\n\t/* Print */\n\t/* Zoom */\n\t/* PageLayoutZoom */\n\t/* PageBreakZoom */\n\t/* ShowPageBreakZoom */\n\t/* DefaultRowHeight */\n\t/* DefaultColumnWidth */\n\t/* StandardWidth */\n\n\tif(wb && wb.Workbook && wb.Workbook.Sheets && wb.Workbook.Sheets[idx]) {\n\t\t/* Visible */\n\t\tif(wb.Workbook.Sheets[idx].Hidden) o.push(writextag(\"Visible\", (wb.Workbook.Sheets[idx].Hidden == 1 ? \"SheetHidden\" : \"SheetVeryHidden\"), {}));\n\t\telse {\n\t\t\t/* Selected */\n\t\t\tfor(var i = 0; i < idx; ++i) if(wb.Workbook.Sheets[i] && !wb.Workbook.Sheets[i].Hidden) break;\n\t\t\tif(i == idx) o.push(\"<Selected/>\");\n\t\t}\n\t}\n\n\t/* LeftColumnVisible */\n\n\tif(((((wb||{}).Workbook||{}).Views||[])[0]||{}).RTL) o.push(\"<DisplayRightToLeft/>\");\n\n\t/* GridlineColorIndex */\n\t/* DisplayFormulas */\n\t/* DoNotDisplayGridlines */\n\t/* DoNotDisplayHeadings */\n\t/* DoNotDisplayOutline */\n\t/* ApplyAutomaticOutlineStyles */\n\t/* NoSummaryRowsBelowDetail */\n\t/* NoSummaryColumnsRightDetail */\n\t/* DoNotDisplayZeros */\n\t/* ActiveRow */\n\t/* ActiveColumn */\n\t/* FilterOn */\n\t/* RangeSelection */\n\t/* TopRowVisible */\n\t/* TopRowBottomPane */\n\t/* LeftColumnRightPane */\n\t/* ActivePane */\n\t/* SplitHorizontal */\n\t/* SplitVertical */\n\t/* FreezePanes */\n\t/* FrozenNoSplit */\n\t/* TabColorIndex */\n\t/* Panes */\n\n\t/* NOTE: Password not supported in XLML Format */\n\tif(ws['!protect']) {\n\t\to.push(writetag(\"ProtectContents\", \"True\"));\n\t\tif(ws['!protect'].objects) o.push(writetag(\"ProtectObjects\", \"True\"));\n\t\tif(ws['!protect'].scenarios) o.push(writetag(\"ProtectScenarios\", \"True\"));\n\t\tif(ws['!protect'].selectLockedCells != null && !ws['!protect'].selectLockedCells) o.push(writetag(\"EnableSelection\", \"NoSelection\"));\n\t\telse if(ws['!protect'].selectUnlockedCells != null && !ws['!protect'].selectUnlockedCells) o.push(writetag(\"EnableSelection\", \"UnlockedCells\"));\n\t[\n\t\t[ \"formatCells\", \"AllowFormatCells\" ],\n\t\t[ \"formatColumns\", \"AllowSizeCols\" ],\n\t\t[ \"formatRows\", \"AllowSizeRows\" ],\n\t\t[ \"insertColumns\", \"AllowInsertCols\" ],\n\t\t[ \"insertRows\", \"AllowInsertRows\" ],\n\t\t[ \"insertHyperlinks\", \"AllowInsertHyperlinks\" ],\n\t\t[ \"deleteColumns\", \"AllowDeleteCols\" ],\n\t\t[ \"deleteRows\", \"AllowDeleteRows\" ],\n\t\t[ \"sort\", \"AllowSort\" ],\n\t\t[ \"autoFilter\", \"AllowFilter\" ],\n\t\t[ \"pivotTables\", \"AllowUsePivotTables\" ]\n\t].forEach(function(x) { if(ws['!protect'][x[0]]) o.push(\"<\"+x[1]+\"/>\"); });\n\t}\n\n\tif(o.length == 0) return \"\";\n\treturn writextag(\"WorksheetOptions\", o.join(\"\"), {xmlns:XLMLNS.x});\n}\nfunction write_ws_xlml_comment(comments/*:Array<any>*/)/*:string*/ {\n\treturn comments.map(function(c) {\n\t\t// TODO: formatted text\n\t\tvar t = xlml_unfixstr(c.t||\"\");\n\t\tvar d =writextag(\"ss:Data\", t, {\"xmlns\":\"http://www.w3.org/TR/REC-html40\"});\n\t\treturn writextag(\"Comment\", d, {\"ss:Author\":c.a});\n\t}).join(\"\");\n}\nfunction write_ws_xlml_cell(cell, ref/*:string*/, ws, opts, idx/*:number*/, wb, addr)/*:string*/{\n\tif(!cell || (cell.v == undefined && cell.f == undefined)) return \"\";\n\n\tvar attr = {};\n\tif(cell.f) attr[\"ss:Formula\"] = \"=\" + escapexml(a1_to_rc(cell.f, addr));\n\tif(cell.F && cell.F.slice(0, ref.length) == ref) {\n\t\tvar end = decode_cell(cell.F.slice(ref.length + 1));\n\t\tattr[\"ss:ArrayRange\"] = \"RC:R\" + (end.r == addr.r ? \"\" : \"[\" + (end.r - addr.r) + \"]\") + \"C\" + (end.c == addr.c ? \"\" : \"[\" + (end.c - addr.c) + \"]\");\n\t}\n\n\tif(cell.l && cell.l.Target) {\n\t\tattr[\"ss:HRef\"] = escapexml(cell.l.Target);\n\t\tif(cell.l.Tooltip) attr[\"x:HRefScreenTip\"] = escapexml(cell.l.Tooltip);\n\t}\n\n\tif(ws['!merges']) {\n\t\tvar marr = ws['!merges'];\n\t\tfor(var mi = 0; mi != marr.length; ++mi) {\n\t\t\tif(marr[mi].s.c != addr.c || marr[mi].s.r != addr.r) continue;\n\t\t\tif(marr[mi].e.c > marr[mi].s.c) attr['ss:MergeAcross'] = marr[mi].e.c - marr[mi].s.c;\n\t\t\tif(marr[mi].e.r > marr[mi].s.r) attr['ss:MergeDown'] = marr[mi].e.r - marr[mi].s.r;\n\t\t}\n\t}\n\n\tvar t = \"\", p = \"\";\n\tswitch(cell.t) {\n\t\tcase 'z': if(!opts.sheetStubs) return \"\"; break;\n\t\tcase 'n': t = 'Number'; p = String(cell.v); break;\n\t\tcase 'b': t = 'Boolean'; p = (cell.v ? \"1\" : \"0\"); break;\n\t\tcase 'e': t = 'Error'; p = BErr[cell.v]; break;\n\t\tcase 'd': t = 'DateTime'; p = new Date(cell.v).toISOString(); if(cell.z == null) cell.z = cell.z || table_fmt[14]; break;\n\t\tcase 's': t = 'String'; p = escapexlml(cell.v||\"\"); break;\n\t}\n\t/* TODO: cell style */\n\tvar os = get_cell_style(opts.cellXfs, cell, opts);\n\tattr[\"ss:StyleID\"] = \"s\" + (21+os);\n\tattr[\"ss:Index\"] = addr.c + 1;\n\tvar _v = (cell.v != null ? p : \"\");\n\tvar m = cell.t == 'z' ? \"\" : ('<Data ss:Type=\"' + t + '\">' + _v + '</Data>');\n\n\tif((cell.c||[]).length > 0) m += write_ws_xlml_comment(cell.c);\n\n\treturn writextag(\"Cell\", m, attr);\n}\nfunction write_ws_xlml_row(R/*:number*/, row)/*:string*/ {\n\tvar o = '<Row ss:Index=\"' + (R+1) + '\"';\n\tif(row) {\n\t\tif(row.hpt && !row.hpx) row.hpx = pt2px(row.hpt);\n\t\tif(row.hpx) o += ' ss:AutoFitHeight=\"0\" ss:Height=\"' + row.hpx + '\"';\n\t\tif(row.hidden) o += ' ss:Hidden=\"1\"';\n\t}\n\treturn o + '>';\n}\n/* TODO */\nfunction write_ws_xlml_table(ws/*:Worksheet*/, opts, idx/*:number*/, wb/*:Workbook*/)/*:string*/ {\n\tif(!ws['!ref']) return \"\";\n\tvar range/*:Range*/ = safe_decode_range(ws['!ref']);\n\tvar marr/*:Array<Range>*/ = ws['!merges'] || [], mi = 0;\n\tvar o/*:Array<string>*/ = [];\n\tif(ws['!cols']) ws['!cols'].forEach(function(n, i) {\n\t\tprocess_col(n);\n\t\tvar w = !!n.width;\n\t\tvar p = col_obj_w(i, n);\n\t\tvar k/*:any*/ = {\"ss:Index\":i+1};\n\t\tif(w) k['ss:Width'] = width2px(p.width);\n\t\tif(n.hidden) k['ss:Hidden']=\"1\";\n\t\to.push(writextag(\"Column\",null,k));\n\t});\n\tvar dense = Array.isArray(ws);\n\tfor(var R = range.s.r; R <= range.e.r; ++R) {\n\t\tvar row = [write_ws_xlml_row(R, (ws['!rows']||[])[R])];\n\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\tvar skip = false;\n\t\t\tfor(mi = 0; mi != marr.length; ++mi) {\n\t\t\t\tif(marr[mi].s.c > C) continue;\n\t\t\t\tif(marr[mi].s.r > R) continue;\n\t\t\t\tif(marr[mi].e.c < C) continue;\n\t\t\t\tif(marr[mi].e.r < R) continue;\n\t\t\t\tif(marr[mi].s.c != C || marr[mi].s.r != R) skip = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(skip) continue;\n\t\t\tvar addr = {r:R,c:C};\n\t\t\tvar ref = encode_cell(addr), cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\trow.push(write_ws_xlml_cell(cell, ref, ws, opts, idx, wb, addr));\n\t\t}\n\t\trow.push(\"</Row>\");\n\t\tif(row.length > 2) o.push(row.join(\"\"));\n\t}\n\treturn o.join(\"\");\n}\nfunction write_ws_xlml(idx/*:number*/, opts, wb/*:Workbook*/)/*:string*/ {\n\tvar o/*:Array<string>*/ = [];\n\tvar s = wb.SheetNames[idx];\n\tvar ws = wb.Sheets[s];\n\n\tvar t/*:string*/ = ws ? write_ws_xlml_names(ws, opts, idx, wb) : \"\";\n\tif(t.length > 0) o.push(\"<Names>\" + t + \"</Names>\");\n\n\t/* Table */\n\tt = ws ? write_ws_xlml_table(ws, opts, idx, wb) : \"\";\n\tif(t.length > 0) o.push(\"<Table>\" + t + \"</Table>\");\n\n\t/* WorksheetOptions */\n\to.push(write_ws_xlml_wsopts(ws, opts, idx, wb));\n\n\treturn o.join(\"\");\n}\nfunction write_xlml(wb, opts)/*:string*/ {\n\tif(!opts) opts = {};\n\tif(!wb.SSF) wb.SSF = dup(table_fmt);\n\tif(wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\topts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;\n\t\topts.ssf = wb.SSF;\n\t\topts.cellXfs = [];\n\t\tget_cell_style(opts.cellXfs, {}, {revssf:{\"General\":0}});\n\t}\n\tvar d/*:Array<string>*/ = [];\n\td.push(write_props_xlml(wb, opts));\n\td.push(write_wb_xlml(wb, opts));\n\td.push(\"\");\n\td.push(\"\");\n\tfor(var i = 0; i < wb.SheetNames.length; ++i)\n\t\td.push(writextag(\"Worksheet\", write_ws_xlml(i, opts, wb), {\"ss:Name\":escapexml(wb.SheetNames[i])}));\n\td[2] = write_sty_xlml(wb, opts);\n\td[3] = write_names_xlml(wb, opts);\n\treturn XML_HEADER + writextag(\"Workbook\", d.join(\"\"), {\n\t\t'xmlns':      XLMLNS.ss,\n\t\t'xmlns:o':    XLMLNS.o,\n\t\t'xmlns:x':    XLMLNS.x,\n\t\t'xmlns:ss':   XLMLNS.ss,\n\t\t'xmlns:dt':   XLMLNS.dt,\n\t\t'xmlns:html': XLMLNS.html\n\t});\n}\n/* [MS-OLEDS] 2.3.8 CompObjStream */\nfunction parse_compobj(obj/*:CFBEntry*/) {\n\tvar v = {};\n\tvar o = obj.content;\n\t/*:: if(o == null) return; */\n\n\t/* [MS-OLEDS] 2.3.7 CompObjHeader -- All fields MUST be ignored */\n\to.l = 28;\n\n\tv.AnsiUserType = o.read_shift(0, \"lpstr-ansi\");\n\tv.AnsiClipboardFormat = parse_ClipboardFormatOrAnsiString(o);\n\n\tif(o.length - o.l <= 4) return v;\n\n\tvar m/*:number*/ = o.read_shift(4);\n\tif(m == 0 || m > 40) return v;\n\to.l-=4; v.Reserved1 = o.read_shift(0, \"lpstr-ansi\");\n\n\tif(o.length - o.l <= 4) return v;\n\tm = o.read_shift(4);\n\tif(m !== 0x71b239f4) return v;\n\tv.UnicodeClipboardFormat = parse_ClipboardFormatOrUnicodeString(o);\n\n\tm = o.read_shift(4);\n\tif(m == 0 || m > 40) return v;\n\to.l-=4; v.Reserved2 = o.read_shift(0, \"lpwstr\");\n}\n\n/*\n\tContinue logic for:\n\t- 2.4.58 Continue          0x003c\n\t- 2.4.59 ContinueBigName   0x043c\n\t- 2.4.60 ContinueFrt       0x0812\n\t- 2.4.61 ContinueFrt11     0x0875\n\t- 2.4.62 ContinueFrt12     0x087f\n*/\nvar CONTINUE_RT = [ 0x003c, 0x043c, 0x0812, 0x0875, 0x087f ];\nfunction slurp(RecordType, R, blob, length/*:number*/, opts)/*:any*/ {\n\tvar l = length;\n\tvar bufs = [];\n\tvar d = blob.slice(blob.l,blob.l+l);\n\tif(opts && opts.enc && opts.enc.insitu && d.length > 0) switch(RecordType) {\n\tcase 0x0009: case 0x0209: case 0x0409: case 0x0809/* BOF */: case 0x002f /* FilePass */: case 0x0195 /* FileLock */: case 0x00e1 /* InterfaceHdr */: case 0x0196 /* RRDInfo */: case 0x0138 /* RRDHead */: case 0x0194 /* UsrExcl */: case 0x000a /* EOF */:\n\t\tbreak;\n\tcase 0x0085 /* BoundSheet8 */:\n\t\tbreak;\n\tdefault:\n\t\topts.enc.insitu(d);\n\t}\n\tbufs.push(d);\n\tblob.l += l;\n\tvar nextrt = __readUInt16LE(blob,blob.l), next = XLSRecordEnum[nextrt];\n\tvar start = 0;\n\twhile(next != null && CONTINUE_RT.indexOf(nextrt) > -1) {\n\t\tl = __readUInt16LE(blob,blob.l+2);\n\t\tstart = blob.l + 4;\n\t\tif(nextrt == 0x0812 /* ContinueFrt */) start += 4;\n\t\telse if(nextrt == 0x0875 || nextrt == 0x087f) {\n\t\t\tstart += 12;\n\t\t}\n\t\td = blob.slice(start,blob.l+4+l);\n\t\tbufs.push(d);\n\t\tblob.l += 4+l;\n\t\tnext = (XLSRecordEnum[nextrt = __readUInt16LE(blob, blob.l)]);\n\t}\n\tvar b = (bconcat(bufs)/*:any*/);\n\tprep_blob(b, 0);\n\tvar ll = 0; b.lens = [];\n\tfor(var j = 0; j < bufs.length; ++j) { b.lens.push(ll); ll += bufs[j].length; }\n\tif(b.length < length) throw \"XLS Record 0x\" + RecordType.toString(16) + \" Truncated: \" + b.length + \" < \" + length;\n\treturn R.f(b, b.length, opts);\n}\n\nfunction safe_format_xf(p/*:any*/, opts/*:ParseOpts*/, date1904/*:?boolean*/) {\n\tif(p.t === 'z') return;\n\tif(!p.XF) return;\n\tvar fmtid = 0;\n\ttry {\n\t\tfmtid = p.z || p.XF.numFmtId || 0;\n\t\tif(opts.cellNF) p.z = table_fmt[fmtid];\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(!opts || opts.cellText !== false) try {\n\t\tif(p.t === 'e') { p.w = p.w || BErr[p.v]; }\n\t\telse if(fmtid === 0 || fmtid == \"General\") {\n\t\t\tif(p.t === 'n') {\n\t\t\t\tif((p.v|0) === p.v) p.w = p.v.toString(10);\n\t\t\t\telse p.w = SSF_general_num(p.v);\n\t\t\t}\n\t\t\telse p.w = SSF_general(p.v);\n\t\t}\n\t\telse p.w = SSF_format(fmtid,p.v, {date1904:!!date1904, dateNF: opts && opts.dateNF});\n\t} catch(e) { if(opts.WTF) throw e; }\n\tif(opts.cellDates && fmtid && p.t == 'n' && fmt_is_date(table_fmt[fmtid] || String(fmtid))) {\n\t\tvar _d = SSF_parse_date_code(p.v); if(_d) { p.t = 'd'; p.v = new Date(_d.y, _d.m-1,_d.d,_d.H,_d.M,_d.S,_d.u); }\n\t}\n}\n\nfunction make_cell(val, ixfe, t)/*:Cell*/ {\n\treturn ({v:val, ixfe:ixfe, t:t}/*:any*/);\n}\n\n// 2.3.2\nfunction parse_workbook(blob, options/*:ParseOpts*/)/*:Workbook*/ {\n\tvar wb = ({opts:{}}/*:any*/);\n\tvar Sheets = {};\n\tif(DENSE != null && options.dense == null) options.dense = DENSE;\n\tvar out/*:Worksheet*/ = ((options.dense ? [] : {})/*:any*/);\n\tvar Directory = {};\n\tvar range/*:Range*/ = ({}/*:any*/);\n\tvar last_formula = null;\n\tvar sst/*:SST*/ = ([]/*:any*/);\n\tvar cur_sheet = \"\";\n\tvar Preamble = {};\n\tvar lastcell, last_cell = \"\", cc/*:Cell*/, cmnt, rngC, rngR;\n\tvar sharedf = {};\n\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\tvar temp_val/*:Cell*/;\n\tvar country;\n\tvar XFs = []; /* XF records */\n\tvar palette/*:Array<[number, number, number]>*/ = [];\n\tvar Workbook/*:WBWBProps*/ = ({ Sheets:[], WBProps:{date1904:false}, Views:[{}] }/*:any*/), wsprops = {};\n\tvar get_rgb = function getrgb(icv/*:number*/)/*:[number, number, number]*/ {\n\t\tif(icv < 8) return XLSIcv[icv];\n\t\tif(icv < 64) return palette[icv-8] || XLSIcv[icv];\n\t\treturn XLSIcv[icv];\n\t};\n\tvar process_cell_style = function pcs(cell, line/*:any*/, options) {\n\t\tvar xfd = line.XF.data;\n\t\tif(!xfd || !xfd.patternType || !options || !options.cellStyles) return;\n\t\tline.s = ({}/*:any*/);\n\t\tline.s.patternType = xfd.patternType;\n\t\tvar t;\n\t\tif((t = rgb2Hex(get_rgb(xfd.icvFore)))) { line.s.fgColor = {rgb:t}; }\n\t\tif((t = rgb2Hex(get_rgb(xfd.icvBack)))) { line.s.bgColor = {rgb:t}; }\n\t};\n\tvar addcell = function addcell(cell/*:any*/, line/*:any*/, options/*:any*/) {\n\t\tif(file_depth > 1) return;\n\t\tif(options.sheetRows && cell.r >= options.sheetRows) return;\n\t\tif(options.cellStyles && line.XF && line.XF.data) process_cell_style(cell, line, options);\n\t\tdelete line.ixfe; delete line.XF;\n\t\tlastcell = cell;\n\t\tlast_cell = encode_cell(cell);\n\t\tif(!range || !range.s || !range.e) range = {s:{r:0,c:0},e:{r:0,c:0}};\n\t\tif(cell.r < range.s.r) range.s.r = cell.r;\n\t\tif(cell.c < range.s.c) range.s.c = cell.c;\n\t\tif(cell.r + 1 > range.e.r) range.e.r = cell.r + 1;\n\t\tif(cell.c + 1 > range.e.c) range.e.c = cell.c + 1;\n\t\tif(options.cellFormula && line.f) {\n\t\t\tfor(var afi = 0; afi < arrayf.length; ++afi) {\n\t\t\t\tif(arrayf[afi][0].s.c > cell.c || arrayf[afi][0].s.r > cell.r) continue;\n\t\t\t\tif(arrayf[afi][0].e.c < cell.c || arrayf[afi][0].e.r < cell.r) continue;\n\t\t\t\tline.F = encode_range(arrayf[afi][0]);\n\t\t\t\tif(arrayf[afi][0].s.c != cell.c || arrayf[afi][0].s.r != cell.r) delete line.f;\n\t\t\t\tif(line.f) line.f = \"\" + stringify_formula(arrayf[afi][1], range, cell, supbooks, opts);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t{\n\t\t\tif(options.dense) {\n\t\t\t\tif(!out[cell.r]) out[cell.r] = [];\n\t\t\t\tout[cell.r][cell.c] = line;\n\t\t\t} else out[last_cell] = line;\n\t\t}\n\t};\n\tvar opts = ({\n\t\tenc: false, // encrypted\n\t\tsbcch: 0, // cch in the preceding SupBook\n\t\tsnames: [], // sheetnames\n\t\tsharedf: sharedf, // shared formulae by address\n\t\tarrayf: arrayf, // array formulae array\n\t\trrtabid: [], // RRTabId\n\t\tlastuser: \"\", // Last User from WriteAccess\n\t\tbiff: 8, // BIFF version\n\t\tcodepage: 0, // CP from CodePage record\n\t\twinlocked: 0, // fLockWn from WinProtect\n\t\tcellStyles: !!options && !!options.cellStyles,\n\t\tWTF: !!options && !!options.wtf\n\t}/*:any*/);\n\tif(options.password) opts.password = options.password;\n\tvar themes;\n\tvar merges/*:Array<Range>*/ = [];\n\tvar objects = [];\n\tvar colinfo/*:Array<ColInfo>*/ = [], rowinfo/*:Array<RowInfo>*/ = [];\n\tvar seencol = false;\n\tvar supbooks = ([]/*:any*/); // 1-indexed, will hold extern names\n\tsupbooks.SheetNames = opts.snames;\n\tsupbooks.sharedf = opts.sharedf;\n\tsupbooks.arrayf = opts.arrayf;\n\tsupbooks.names = [];\n\tsupbooks.XTI = [];\n\tvar last_RT = 0;\n\tvar file_depth = 0; /* TODO: make a real stack */\n\tvar BIFF2Fmt = 0, BIFF2FmtTable/*:Array<string>*/ = [];\n\tvar FilterDatabases = []; /* TODO: sort out supbooks and process elsewhere */\n\tvar last_lbl/*:?DefinedName*/;\n\n\t/* explicit override for some broken writers */\n\topts.codepage = 1200;\n\tset_cp(1200);\n\tvar seen_codepage = false;\n\twhile(blob.l < blob.length - 1) {\n\t\tvar s = blob.l;\n\t\tvar RecordType = blob.read_shift(2);\n\t\tif(RecordType === 0 && last_RT === 0x000a /* EOF */) break;\n\t\tvar length = (blob.l === blob.length ? 0 : blob.read_shift(2));\n\t\tvar R = XLSRecordEnum[RecordType];\n\t\t//console.log(RecordType.toString(16), RecordType, R, blob.l, length, blob.length);\n\t\t//if(!R) console.log(blob.slice(blob.l, blob.l + length));\n\t\tif(R && R.f) {\n\t\t\tif(options.bookSheets) {\n\t\t\t\tif(last_RT === 0x0085 /* BoundSheet8 */ && RecordType !== 0x0085 /* R.n !== 'BoundSheet8' */) break;\n\t\t\t}\n\t\t\tlast_RT = RecordType;\n\t\t\tif(R.r === 2 || R.r == 12) {\n\t\t\t\tvar rt = blob.read_shift(2); length -= 2;\n\t\t\t\tif(!opts.enc && rt !== RecordType && (((rt&0xFF)<<8)|(rt>>8)) !== RecordType) throw new Error(\"rt mismatch: \" + rt + \"!=\" + RecordType);\n\t\t\t\tif(R.r == 12){\n\t\t\t\t\tblob.l += 10; length -= 10;\n\t\t\t\t} // skip FRT\n\t\t\t}\n\t\t\t//console.error(R,blob.l,length,blob.length);\n\t\t\tvar val/*:any*/ = ({}/*:any*/);\n\t\t\tif(RecordType === 0x000a /* EOF */) val = /*::(*/R.f(blob, length, opts)/*:: :any)*/;\n\t\t\telse val = /*::(*/slurp(RecordType, R, blob, length, opts)/*:: :any)*/;\n\t\t\t/*:: val = (val:any); */\n\t\t\tif(file_depth == 0 && [0x0009, 0x0209, 0x0409, 0x0809].indexOf(last_RT) === -1 /* 'BOF' */) continue;\n\t\t\tswitch(RecordType) {\n\t\t\t\tcase 0x0022 /* Date1904 */:\n\t\t\t\t\t/*:: if(!Workbook.WBProps) Workbook.WBProps = {}; */\n\t\t\t\t\twb.opts.Date1904 = Workbook.WBProps.date1904 = val; break;\n\t\t\t\tcase 0x0086 /* WriteProtect */: wb.opts.WriteProtect = true; break;\n\t\t\t\tcase 0x002f /* FilePass */:\n\t\t\t\t\tif(!opts.enc) blob.l = 0;\n\t\t\t\t\topts.enc = val;\n\t\t\t\t\tif(!options.password) throw new Error(\"File is password-protected\");\n\t\t\t\t\tif(val.valid == null) throw new Error(\"Encryption scheme unsupported\");\n\t\t\t\t\tif(!val.valid) throw new Error(\"Password is incorrect\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x005c /* WriteAccess */: opts.lastuser = val; break;\n\t\t\t\tcase 0x0042 /* CodePage */:\n\t\t\t\t\tvar cpval = Number(val);\n\t\t\t\t\t/* overrides based on test cases */\n\t\t\t\t\tswitch(cpval) {\n\t\t\t\t\t\tcase 0x5212: cpval =  1200; break;\n\t\t\t\t\t\tcase 0x8000: cpval = 10000; break;\n\t\t\t\t\t\tcase 0x8001: cpval =  1252; break;\n\t\t\t\t\t}\n\t\t\t\t\tset_cp(opts.codepage = cpval);\n\t\t\t\t\tseen_codepage = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x013d /* RRTabId */: opts.rrtabid = val; break;\n\t\t\t\tcase 0x0019 /* WinProtect */: opts.winlocked = val; break;\n\t\t\t\tcase 0x01b7 /* RefreshAll */: wb.opts[\"RefreshAll\"] = val; break;\n\t\t\t\tcase 0x000c /* CalcCount */: wb.opts[\"CalcCount\"] = val; break;\n\t\t\t\tcase 0x0010 /* CalcDelta */: wb.opts[\"CalcDelta\"] = val; break;\n\t\t\t\tcase 0x0011 /* CalcIter */: wb.opts[\"CalcIter\"] = val; break;\n\t\t\t\tcase 0x000d /* CalcMode */: wb.opts[\"CalcMode\"] = val; break;\n\t\t\t\tcase 0x000e /* CalcPrecision */: wb.opts[\"CalcPrecision\"] = val; break;\n\t\t\t\tcase 0x005f /* CalcSaveRecalc */: wb.opts[\"CalcSaveRecalc\"] = val; break;\n\t\t\t\tcase 0x000f /* CalcRefMode */: opts.CalcRefMode = val; break; // TODO: implement R1C1\n\t\t\t\tcase 0x08a3 /* ForceFullCalculation */: wb.opts.FullCalc = val; break;\n\t\t\t\tcase 0x0081 /* WsBool */:\n\t\t\t\t\tif(val.fDialog) out[\"!type\"] = \"dialog\";\n\t\t\t\t\tif(!val.fBelow) (out[\"!outline\"] || (out[\"!outline\"] = {})).above = true;\n\t\t\t\t\tif(!val.fRight) (out[\"!outline\"] || (out[\"!outline\"] = {})).left = true;\n\t\t\t\t\tbreak; // TODO\n\t\t\t\tcase 0x00e0 /* XF */:\n\t\t\t\t\tXFs.push(val); break;\n\t\t\t\tcase 0x01ae /* SupBook */:\n\t\t\t\t\tsupbooks.push([val]);\n\t\t\t\t\tsupbooks[supbooks.length-1].XTI = [];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0023: case 0x0223 /* ExternName */:\n\t\t\t\t\tsupbooks[supbooks.length-1].push(val);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0018: case 0x0218 /* Lbl */:\n\t\t\t\t\tlast_lbl = ({\n\t\t\t\t\t\tName: val.Name,\n\t\t\t\t\t\tRef: stringify_formula(val.rgce,range,null,supbooks,opts)\n\t\t\t\t\t}/*:DefinedName*/);\n\t\t\t\t\tif(val.itab > 0) last_lbl.Sheet = val.itab - 1;\n\t\t\t\t\tsupbooks.names.push(last_lbl);\n\t\t\t\t\tif(!supbooks[0]) { supbooks[0] = []; supbooks[0].XTI = []; }\n\t\t\t\t\tsupbooks[supbooks.length-1].push(val);\n\t\t\t\t\tif(val.Name == \"_xlnm._FilterDatabase\" && val.itab > 0)\n\t\t\t\t\t\tif(val.rgce && val.rgce[0] && val.rgce[0][0] && val.rgce[0][0][0] == 'PtgArea3d')\n\t\t\t\t\t\t\tFilterDatabases[val.itab - 1] = { ref: encode_range(val.rgce[0][0][1][2]) };\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0016 /* ExternCount */: opts.ExternCount = val; break;\n\t\t\t\tcase 0x0017 /* ExternSheet */:\n\t\t\t\t\tif(supbooks.length == 0) { supbooks[0] = []; supbooks[0].XTI = []; }\n\t\t\t\t\tsupbooks[supbooks.length - 1].XTI = supbooks[supbooks.length - 1].XTI.concat(val); supbooks.XTI = supbooks.XTI.concat(val); break;\n\t\t\t\tcase 0x0894 /* NameCmt */:\n\t\t\t\t\t/* TODO: search for correct name */\n\t\t\t\t\tif(opts.biff < 8) break;\n\t\t\t\t\tif(last_lbl != null) last_lbl.Comment = val[1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0012 /* Protect */: out[\"!protect\"] = val; break; /* for sheet or book */\n\t\t\t\tcase 0x0013 /* Password */: if(val !== 0 && opts.WTF) console.error(\"Password verifier: \" + val); break;\n\t\t\t\tcase 0x0085 /* BoundSheet8 */: {\n\t\t\t\t\tDirectory[val.pos] = val;\n\t\t\t\t\topts.snames.push(val.name);\n\t\t\t\t} break;\n\t\t\t\tcase 0x000a /* EOF */: {\n\t\t\t\t\tif(--file_depth) break;\n\t\t\t\t\tif(range.e) {\n\t\t\t\t\t\tif(range.e.r > 0 && range.e.c > 0) {\n\t\t\t\t\t\t\trange.e.r--; range.e.c--;\n\t\t\t\t\t\t\tout[\"!ref\"] = encode_range(range);\n\t\t\t\t\t\t\tif(options.sheetRows && options.sheetRows <= range.e.r) {\n\t\t\t\t\t\t\t\tvar tmpri = range.e.r;\n\t\t\t\t\t\t\t\trange.e.r = options.sheetRows - 1;\n\t\t\t\t\t\t\t\tout[\"!fullref\"] = out[\"!ref\"];\n\t\t\t\t\t\t\t\tout[\"!ref\"] = encode_range(range);\n\t\t\t\t\t\t\t\trange.e.r = tmpri;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trange.e.r++; range.e.c++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(merges.length > 0) out[\"!merges\"] = merges;\n\t\t\t\t\t\tif(objects.length > 0) out[\"!objects\"] = objects;\n\t\t\t\t\t\tif(colinfo.length > 0) out[\"!cols\"] = colinfo;\n\t\t\t\t\t\tif(rowinfo.length > 0) out[\"!rows\"] = rowinfo;\n\t\t\t\t\t\tWorkbook.Sheets.push(wsprops);\n\t\t\t\t\t}\n\t\t\t\t\tif(cur_sheet === \"\") Preamble = out; else Sheets[cur_sheet] = out;\n\t\t\t\t\tout = ((options.dense ? [] : {})/*:any*/);\n\t\t\t\t} break;\n\t\t\t\tcase 0x0009: case 0x0209: case 0x0409: case 0x0809 /* BOF */: {\n\t\t\t\t\tif(opts.biff === 8) opts.biff = {\n\t\t\t\t\t\t/*::[*/0x0009/*::]*/:2,\n\t\t\t\t\t\t/*::[*/0x0209/*::]*/:3,\n\t\t\t\t\t\t/*::[*/0x0409/*::]*/:4\n\t\t\t\t\t}[RecordType] || {\n\t\t\t\t\t\t/*::[*/0x0200/*::]*/:2,\n\t\t\t\t\t\t/*::[*/0x0300/*::]*/:3,\n\t\t\t\t\t\t/*::[*/0x0400/*::]*/:4,\n\t\t\t\t\t\t/*::[*/0x0500/*::]*/:5,\n\t\t\t\t\t\t/*::[*/0x0600/*::]*/:8,\n\t\t\t\t\t\t/*::[*/0x0002/*::]*/:2,\n\t\t\t\t\t\t/*::[*/0x0007/*::]*/:2\n\t\t\t\t\t}[val.BIFFVer] || 8;\n\t\t\t\t\topts.biffguess = val.BIFFVer == 0;\n\t\t\t\t\tif(val.BIFFVer == 0 && val.dt == 0x1000) { opts.biff = 5; seen_codepage = true; set_cp(opts.codepage = 28591); }\n\t\t\t\t\tif(opts.biff == 8 && val.BIFFVer == 0 && val.dt == 16) opts.biff = 2;\n\t\t\t\t\tif(file_depth++) break;\n\t\t\t\t\tout = ((options.dense ? [] : {})/*:any*/);\n\n\t\t\t\t\tif(opts.biff < 8 && !seen_codepage) { seen_codepage = true; set_cp(opts.codepage = options.codepage || 1252); }\n\n\t\t\t\t\tif(opts.biff < 5 || val.BIFFVer == 0 && val.dt == 0x1000) {\n\t\t\t\t\t\tif(cur_sheet === \"\") cur_sheet = \"Sheet1\";\n\t\t\t\t\t\trange = {s:{r:0,c:0},e:{r:0,c:0}};\n\t\t\t\t\t\t/* fake BoundSheet8 */\n\t\t\t\t\t\tvar fakebs8 = {pos: blob.l - length, name:cur_sheet};\n\t\t\t\t\t\tDirectory[fakebs8.pos] = fakebs8;\n\t\t\t\t\t\topts.snames.push(cur_sheet);\n\t\t\t\t\t}\n\t\t\t\t\telse cur_sheet = (Directory[s] || {name:\"\"}).name;\n\t\t\t\t\tif(val.dt == 0x20) out[\"!type\"] = \"chart\";\n\t\t\t\t\tif(val.dt == 0x40) out[\"!type\"] = \"macro\";\n\t\t\t\t\tmerges = [];\n\t\t\t\t\tobjects = [];\n\t\t\t\t\topts.arrayf = arrayf = [];\n\t\t\t\t\tcolinfo = []; rowinfo = [];\n\t\t\t\t\tseencol = false;\n\t\t\t\t\twsprops = {Hidden:(Directory[s]||{hs:0}).hs, name:cur_sheet };\n\t\t\t\t} break;\n\t\t\t\tcase 0x0203 /* Number */: case 0x0003 /* BIFF2NUM */: case 0x0002 /* BIFF2INT */: {\n\t\t\t\t\tif(out[\"!type\"] == \"chart\") if(options.dense ? (out[val.r]||[])[val.c]: out[encode_cell({c:val.c, r:val.r})]) ++val.c;\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe]||{}, v:val.val, t:'n'}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x0005: case 0x0205 /* BoolErr */: {\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], v:val.val, t:val.t}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x027e /* RK */: {\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], v:val.rknum, t:'n'}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x00bd /* MulRk */: {\n\t\t\t\t\tfor(var j = val.c; j <= val.C; ++j) {\n\t\t\t\t\t\tvar ixfe = val.rkrec[j-val.c][0];\n\t\t\t\t\t\ttemp_val= ({ixfe:ixfe, XF:XFs[ixfe], v:val.rkrec[j-val.c][1], t:'n'}/*:any*/);\n\t\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\t\taddcell({c:j, r:val.r}, temp_val, options);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0006: case 0x0206: case 0x0406 /* Formula */: {\n\t\t\t\t\tif(val.val == 'String') { last_formula = val; break; }\n\t\t\t\t\ttemp_val = make_cell(val.val, val.cell.ixfe, val.tt);\n\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\tif(options.cellFormula) {\n\t\t\t\t\t\tvar _f = val.formula;\n\t\t\t\t\t\tif(_f && _f[0] && _f[0][0] && _f[0][0][0] == 'PtgExp') {\n\t\t\t\t\t\t\tvar _fr = _f[0][0][1][0], _fc = _f[0][0][1][1];\n\t\t\t\t\t\t\tvar _fe = encode_cell({r:_fr, c:_fc});\n\t\t\t\t\t\t\tif(sharedf[_fe]) temp_val.f = \"\"+stringify_formula(val.formula,range,val.cell,supbooks, opts);\n\t\t\t\t\t\t\telse temp_val.F = ((options.dense ? (out[_fr]||[])[_fc]: out[_fe]) || {}).F;\n\t\t\t\t\t\t} else temp_val.f = \"\"+stringify_formula(val.formula,range,val.cell,supbooks, opts);\n\t\t\t\t\t}\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell(val.cell, temp_val, options);\n\t\t\t\t\tlast_formula = val;\n\t\t\t\t} break;\n\t\t\t\tcase 0x0007: case 0x0207 /* String */: {\n\t\t\t\t\tif(last_formula) { /* technically always true */\n\t\t\t\t\t\tlast_formula.val = val;\n\t\t\t\t\t\ttemp_val = make_cell(val, last_formula.cell.ixfe, 's');\n\t\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\t\tif(options.cellFormula) {\n\t\t\t\t\t\t\ttemp_val.f = \"\"+stringify_formula(last_formula.formula, range, last_formula.cell, supbooks, opts);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\t\taddcell(last_formula.cell, temp_val, options);\n\t\t\t\t\t\tlast_formula = null;\n\t\t\t\t\t} else throw new Error(\"String record expects Formula\");\n\t\t\t\t} break;\n\t\t\t\tcase 0x0021: case 0x0221 /* Array */: {\n\t\t\t\t\tarrayf.push(val);\n\t\t\t\t\tvar _arraystart = encode_cell(val[0].s);\n\t\t\t\t\tcc = options.dense ? (out[val[0].s.r]||[])[val[0].s.c] : out[_arraystart];\n\t\t\t\t\tif(options.cellFormula && cc) {\n\t\t\t\t\t\tif(!last_formula) break; /* technically unreachable */\n\t\t\t\t\t\tif(!_arraystart || !cc) break;\n\t\t\t\t\t\tcc.f = \"\"+stringify_formula(val[1], range, val[0], supbooks, opts);\n\t\t\t\t\t\tcc.F = encode_range(val[0]);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x04bc /* ShrFmla */: {\n\t\t\t\t\tif(!options.cellFormula) break;\n\t\t\t\t\tif(last_cell) {\n\t\t\t\t\t\t/* TODO: capture range */\n\t\t\t\t\t\tif(!last_formula) break; /* technically unreachable */\n\t\t\t\t\t\tsharedf[encode_cell(last_formula.cell)]= val[0];\n\t\t\t\t\t\tcc = options.dense ? (out[last_formula.cell.r]||[])[last_formula.cell.c] : out[encode_cell(last_formula.cell)];\n\t\t\t\t\t\t(cc||{}).f = \"\"+stringify_formula(val[0], range, lastcell, supbooks, opts);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x00fd /* LabelSst */:\n\t\t\t\t\ttemp_val=make_cell(sst[val.isst].t, val.ixfe, 's');\n\t\t\t\t\tif(sst[val.isst].h) temp_val.h = sst[val.isst].h;\n\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0201 /* Blank */: if(options.sheetStubs) {\n\t\t\t\t\ttemp_val = ({ixfe: val.ixfe, XF: XFs[val.ixfe], t:'z'}/*:any*/);\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t} break;\n\t\t\t\tcase 0x00be /* MulBlank */: if(options.sheetStubs) {\n\t\t\t\t\tfor(var _j = val.c; _j <= val.C; ++_j) {\n\t\t\t\t\t\tvar _ixfe = val.ixfe[_j-val.c];\n\t\t\t\t\t\ttemp_val= ({ixfe:_ixfe, XF:XFs[_ixfe], t:'z'}/*:any*/);\n\t\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\t\taddcell({c:_j, r:val.r}, temp_val, options);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x00d6 /* RString */:\n\t\t\t\tcase 0x0204 /* Label */: case 0x0004 /* BIFF2STR */:\n\t\t\t\t\ttemp_val=make_cell(val.val, val.ixfe, 's');\n\t\t\t\t\ttemp_val.XF = XFs[temp_val.ixfe];\n\t\t\t\t\tif(BIFF2Fmt > 0) temp_val.z = BIFF2FmtTable[(temp_val.ixfe>>8) & 0x3F];\n\t\t\t\t\tsafe_format_xf(temp_val, options, wb.opts.Date1904);\n\t\t\t\t\taddcell({c:val.c, r:val.r}, temp_val, options);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 0x0000: case 0x0200 /* Dimensions */: {\n\t\t\t\t\tif(file_depth === 1) range = val; /* TODO: stack */\n\t\t\t\t} break;\n\t\t\t\tcase 0x00fc /* SST */: {\n\t\t\t\t\tsst = val;\n\t\t\t\t} break;\n\t\t\t\tcase 0x041e /* Format */: { /* val = [id, fmt] */\n\t\t\t\t\tif(opts.biff == 4) {\n\t\t\t\t\t\tBIFF2FmtTable[BIFF2Fmt++] = val[1];\n\t\t\t\t\t\tfor(var b4idx = 0; b4idx < BIFF2Fmt + 163; ++b4idx) if(table_fmt[b4idx] == val[1]) break;\n\t\t\t\t\t\tif(b4idx >= 163) SSF_load(val[1], BIFF2Fmt + 163);\n\t\t\t\t\t}\n\t\t\t\t\telse SSF_load(val[1], val[0]);\n\t\t\t\t} break;\n\t\t\t\tcase 0x001e /* BIFF2FORMAT */: {\n\t\t\t\t\tBIFF2FmtTable[BIFF2Fmt++] = val;\n\t\t\t\t\tfor(var b2idx = 0; b2idx < BIFF2Fmt + 163; ++b2idx) if(table_fmt[b2idx] == val) break;\n\t\t\t\t\tif(b2idx >= 163) SSF_load(val, BIFF2Fmt + 163);\n\t\t\t\t} break;\n\n\t\t\t\tcase 0x00e5 /* MergeCells */: merges = merges.concat(val); break;\n\n\t\t\t\tcase 0x005d /* Obj */: objects[val.cmo[0]] = opts.lastobj = val; break;\n\t\t\t\tcase 0x01b6 /* TxO */: opts.lastobj.TxO = val; break;\n\t\t\t\tcase 0x007f /* ImData */: opts.lastobj.ImData = val; break;\n\n\t\t\t\tcase 0x01b8 /* HLink */: {\n\t\t\t\t\tfor(rngR = val[0].s.r; rngR <= val[0].e.r; ++rngR)\n\t\t\t\t\t\tfor(rngC = val[0].s.c; rngC <= val[0].e.c; ++rngC) {\n\t\t\t\t\t\t\tcc = options.dense ? (out[rngR]||[])[rngC] : out[encode_cell({c:rngC,r:rngR})];\n\t\t\t\t\t\t\tif(cc) cc.l = val[1];\n\t\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0800 /* HLinkTooltip */: {\n\t\t\t\t\tfor(rngR = val[0].s.r; rngR <= val[0].e.r; ++rngR)\n\t\t\t\t\t\tfor(rngC = val[0].s.c; rngC <= val[0].e.c; ++rngC) {\n\t\t\t\t\t\t\tcc = options.dense ? (out[rngR]||[])[rngC] : out[encode_cell({c:rngC,r:rngR})];\n\t\t\t\t\t\t\tif(cc && cc.l) cc.l.Tooltip = val[1];\n\t\t\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x001c /* Note */: {\n\t\t\t\t\tif(opts.biff <= 5 && opts.biff >= 2) break; /* TODO: BIFF5 */\n\t\t\t\t\tcc = options.dense ? (out[val[0].r]||[])[val[0].c] : out[encode_cell(val[0])];\n\t\t\t\t\tvar noteobj = objects[val[2]];\n\t\t\t\t\tif(!cc) {\n\t\t\t\t\t\tif(options.dense) {\n\t\t\t\t\t\t\tif(!out[val[0].r]) out[val[0].r] = [];\n\t\t\t\t\t\t\tcc = out[val[0].r][val[0].c] = ({t:\"z\"}/*:any*/);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcc = out[encode_cell(val[0])] = ({t:\"z\"}/*:any*/);\n\t\t\t\t\t\t}\n\t\t\t\t\t\trange.e.r = Math.max(range.e.r, val[0].r);\n\t\t\t\t\t\trange.s.r = Math.min(range.s.r, val[0].r);\n\t\t\t\t\t\trange.e.c = Math.max(range.e.c, val[0].c);\n\t\t\t\t\t\trange.s.c = Math.min(range.s.c, val[0].c);\n\t\t\t\t\t}\n\t\t\t\t\tif(!cc.c) cc.c = [];\n\t\t\t\t\tcmnt = {a:val[1],t:noteobj.TxO.t};\n\t\t\t\t\tcc.c.push(cmnt);\n\t\t\t\t} break;\n\t\t\t\tcase 0x087d /* XFExt */: update_xfext(XFs[val.ixfe], val.ext); break;\n\t\t\t\tcase 0x007d /* ColInfo */: {\n\t\t\t\t\tif(!opts.cellStyles) break;\n\t\t\t\t\twhile(val.e >= val.s) {\n\t\t\t\t\t\tcolinfo[val.e--] = { width: val.w/256, level: (val.level || 0), hidden: !!(val.flags & 1) };\n\t\t\t\t\t\tif(!seencol) { seencol = true; find_mdw_colw(val.w/256); }\n\t\t\t\t\t\tprocess_col(colinfo[val.e+1]);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0208 /* Row */: {\n\t\t\t\t\tvar rowobj = {};\n\t\t\t\t\tif(val.level != null) { rowinfo[val.r] = rowobj; rowobj.level = val.level; }\n\t\t\t\t\tif(val.hidden) { rowinfo[val.r] = rowobj; rowobj.hidden = true; }\n\t\t\t\t\tif(val.hpt) {\n\t\t\t\t\t\trowinfo[val.r] = rowobj;\n\t\t\t\t\t\trowobj.hpt = val.hpt; rowobj.hpx = pt2px(val.hpt);\n\t\t\t\t\t}\n\t\t\t\t} break;\n\t\t\t\tcase 0x0026 /* LeftMargin */:\n\t\t\t\tcase 0x0027 /* RightMargin */:\n\t\t\t\tcase 0x0028 /* TopMargin */:\n\t\t\t\tcase 0x0029 /* BottomMargin */:\n\t\t\t\t\tif(!out['!margins']) default_margins(out['!margins'] = {});\n\t\t\t\t\tout['!margins'][({0x26: \"left\", 0x27:\"right\", 0x28:\"top\", 0x29:\"bottom\"})[RecordType]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x00a1 /* Setup */: // TODO\n\t\t\t\t\tif(!out['!margins']) default_margins(out['!margins'] = {});\n\t\t\t\t\tout['!margins'].header = val.header;\n\t\t\t\t\tout['!margins'].footer = val.footer;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x023e /* Window2 */: // TODO\n\t\t\t\t\t// $FlowIgnore\n\t\t\t\t\tif(val.RTL) Workbook.Views[0].RTL = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 0x0092 /* Palette */: palette = val; break;\n\t\t\t\tcase 0x0896 /* Theme */: themes = val; break;\n\t\t\t\tcase 0x008c /* Country */: country = val; break;\n\t\t\t\tcase 0x01ba /* CodeName */: {\n\t\t\t\t\t/*:: if(!Workbook.WBProps) Workbook.WBProps = {}; */\n\t\t\t\t\tif(!cur_sheet) Workbook.WBProps.CodeName = val || \"ThisWorkbook\";\n\t\t\t\t\telse wsprops.CodeName = val || wsprops.name;\n\t\t\t\t} break;\n\t\t\t}\n\t\t} else {\n\t\t\tif(!R) console.error(\"Missing Info for XLS Record 0x\" + RecordType.toString(16));\n\t\t\tblob.l += length;\n\t\t}\n\t}\n\twb.SheetNames=keys(Directory).sort(function(a,b) { return Number(a) - Number(b); }).map(function(x){return Directory[x].name;});\n\tif(!options.bookSheets) wb.Sheets=Sheets;\n\tif(!wb.SheetNames.length && Preamble[\"!ref\"]) {\n\t\twb.SheetNames.push(\"Sheet1\");\n\t\t/*jshint -W069 */\n\t\tif(wb.Sheets) wb.Sheets[\"Sheet1\"] = Preamble;\n\t\t/*jshint +W069 */\n\t} else wb.Preamble=Preamble;\n\tif(wb.Sheets) FilterDatabases.forEach(function(r,i) { wb.Sheets[wb.SheetNames[i]]['!autofilter'] = r; });\n\twb.Strings = sst;\n\twb.SSF = dup(table_fmt);\n\tif(opts.enc) wb.Encryption = opts.enc;\n\tif(themes) wb.Themes = themes;\n\twb.Metadata = {};\n\tif(country !== undefined) wb.Metadata.Country = country;\n\tif(supbooks.names.length > 0) Workbook.Names = supbooks.names;\n\twb.Workbook = Workbook;\n\treturn wb;\n}\n\n/* TODO: split props*/\nvar PSCLSID = {\n\tSI: \"e0859ff2f94f6810ab9108002b27b3d9\",\n\tDSI: \"02d5cdd59c2e1b10939708002b2cf9ae\",\n\tUDI: \"05d5cdd59c2e1b10939708002b2cf9ae\"\n};\nfunction parse_xls_props(cfb/*:CFBContainer*/, props, o) {\n\t/* [MS-OSHARED] 2.3.3.2.2 Document Summary Information Property Set */\n\tvar DSI = CFB.find(cfb, '/!DocumentSummaryInformation');\n\tif(DSI && DSI.size > 0) try {\n\t\tvar DocSummary = parse_PropertySetStream(DSI, DocSummaryPIDDSI, PSCLSID.DSI);\n\t\tfor(var d in DocSummary) props[d] = DocSummary[d];\n\t} catch(e) {if(o.WTF) throw e;/* empty */}\n\n\t/* [MS-OSHARED] 2.3.3.2.1 Summary Information Property Set*/\n\tvar SI = CFB.find(cfb, '/!SummaryInformation');\n\tif(SI && SI.size > 0) try {\n\t\tvar Summary = parse_PropertySetStream(SI, SummaryPIDSI, PSCLSID.SI);\n\t\tfor(var s in Summary) if(props[s] == null) props[s] = Summary[s];\n\t} catch(e) {if(o.WTF) throw e;/* empty */}\n\n\tif(props.HeadingPairs && props.TitlesOfParts) {\n\t\tload_props_pairs(props.HeadingPairs, props.TitlesOfParts, props, o);\n\t\tdelete props.HeadingPairs; delete props.TitlesOfParts;\n\t}\n}\nfunction write_xls_props(wb/*:Workbook*/, cfb/*:CFBContainer*/) {\n\tvar DSEntries = [], SEntries = [], CEntries = [];\n\tvar i = 0, Keys;\n\tvar DocSummaryRE/*:{[key:string]:string}*/ = evert_key(DocSummaryPIDDSI, \"n\");\n\tvar SummaryRE/*:{[key:string]:string}*/ = evert_key(SummaryPIDSI, \"n\");\n\tif(wb.Props) {\n\t\tKeys = keys(wb.Props);\n\t\t// $FlowIgnore\n\t\tfor(i = 0; i < Keys.length; ++i) (Object.prototype.hasOwnProperty.call(DocSummaryRE, Keys[i]) ? DSEntries : Object.prototype.hasOwnProperty.call(SummaryRE, Keys[i]) ? SEntries : CEntries).push([Keys[i], wb.Props[Keys[i]]]);\n\t}\n\tif(wb.Custprops) {\n\t\tKeys = keys(wb.Custprops);\n\t\t// $FlowIgnore\n\t\tfor(i = 0; i < Keys.length; ++i) if(!Object.prototype.hasOwnProperty.call((wb.Props||{}), Keys[i])) (Object.prototype.hasOwnProperty.call(DocSummaryRE, Keys[i]) ? DSEntries : Object.prototype.hasOwnProperty.call(SummaryRE, Keys[i]) ? SEntries : CEntries).push([Keys[i], wb.Custprops[Keys[i]]]);\n\t}\n\tvar CEntries2 = [];\n\tfor(i = 0; i < CEntries.length; ++i) {\n\t\tif(XLSPSSkip.indexOf(CEntries[i][0]) > -1 || PseudoPropsPairs.indexOf(CEntries[i][0]) > -1) continue;\n\t\tif(CEntries[i][1] == null) continue;\n\t\tCEntries2.push(CEntries[i]);\n\t}\n\tif(SEntries.length) CFB.utils.cfb_add(cfb, \"/\\u0005SummaryInformation\", write_PropertySetStream(SEntries, PSCLSID.SI, SummaryRE, SummaryPIDSI));\n\tif(DSEntries.length || CEntries2.length) CFB.utils.cfb_add(cfb, \"/\\u0005DocumentSummaryInformation\", write_PropertySetStream(DSEntries, PSCLSID.DSI, DocSummaryRE, DocSummaryPIDDSI, CEntries2.length ? CEntries2 : null, PSCLSID.UDI));\n}\n\nfunction parse_xlscfb(cfb/*:any*/, options/*:?ParseOpts*/)/*:Workbook*/ {\nif(!options) options = {};\nfix_read_opts(options);\nreset_cp();\nif(options.codepage) set_ansi(options.codepage);\nvar CompObj/*:?CFBEntry*/, WB/*:?any*/;\nif(cfb.FullPaths) {\n\tif(CFB.find(cfb, '/encryption')) throw new Error(\"File is password-protected\");\n\tCompObj = CFB.find(cfb, '!CompObj');\n\tWB = CFB.find(cfb, '/Workbook') || CFB.find(cfb, '/Book');\n} else {\n\tswitch(options.type) {\n\t\tcase 'base64': cfb = s2a(Base64_decode(cfb)); break;\n\t\tcase 'binary': cfb = s2a(cfb); break;\n\t\tcase 'buffer': break;\n\t\tcase 'array': if(!Array.isArray(cfb)) cfb = Array.prototype.slice.call(cfb); break;\n\t}\n\tprep_blob(cfb, 0);\n\tWB = ({content: cfb}/*:any*/);\n}\nvar /*::CompObjP, */WorkbookP/*:: :Workbook = XLSX.utils.book_new(); */;\n\nvar _data/*:?any*/;\nif(CompObj) /*::CompObjP = */parse_compobj(CompObj);\nif(options.bookProps && !options.bookSheets) WorkbookP = ({}/*:any*/);\nelse/*:: if(cfb instanceof CFBContainer) */ {\n\tvar T = has_buf ? 'buffer' : 'array';\n\tif(WB && WB.content) WorkbookP = parse_workbook(WB.content, options);\n\t/* Quattro Pro 7-8 */\n\telse if((_data=CFB.find(cfb, 'PerfectOffice_MAIN')) && _data.content) WorkbookP = WK_.to_workbook(_data.content, (options.type = T, options));\n\t/* Quattro Pro 9 */\n\telse if((_data=CFB.find(cfb, 'NativeContent_MAIN')) && _data.content) WorkbookP = WK_.to_workbook(_data.content, (options.type = T, options));\n\t/* Works 4 for Mac */\n\telse if((_data=CFB.find(cfb, 'MN0')) && _data.content) throw new Error(\"Unsupported Works 4 for Mac file\");\n\telse throw new Error(\"Cannot find Workbook stream\");\n\tif(options.bookVBA && cfb.FullPaths && CFB.find(cfb, '/_VBA_PROJECT_CUR/VBA/dir')) WorkbookP.vbaraw = make_vba_xls(cfb);\n}\n\nvar props = {};\nif(cfb.FullPaths) parse_xls_props(/*::((*/cfb/*:: :any):CFBContainer)*/, props, options);\n\nWorkbookP.Props = WorkbookP.Custprops = props; /* TODO: split up properties */\nif(options.bookFiles) WorkbookP.cfb = cfb;\n/*WorkbookP.CompObjP = CompObjP; // TODO: storage? */\nreturn WorkbookP;\n}\n\n\nfunction write_xlscfb(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:CFBContainer*/ {\n\tvar o = opts || {};\n\tvar cfb = CFB.utils.cfb_new({root:\"R\"});\n\tvar wbpath = \"/Workbook\";\n\tswitch(o.bookType || \"xls\") {\n\t\tcase \"xls\": o.bookType = \"biff8\";\n\t\t/* falls through */\n\t\tcase \"xla\": if(!o.bookType) o.bookType = \"xla\";\n\t\t/* falls through */\n\t\tcase \"biff8\": wbpath = \"/Workbook\"; o.biff = 8; break;\n\t\tcase \"biff5\": wbpath = \"/Book\"; o.biff = 5; break;\n\t\tdefault: throw new Error(\"invalid type \" + o.bookType + \" for XLS CFB\");\n\t}\n\tCFB.utils.cfb_add(cfb, wbpath, write_biff_buf(wb, o));\n\tif(o.biff == 8 && (wb.Props || wb.Custprops)) write_xls_props(wb, cfb);\n\t// TODO: SI, DSI, CO\n\tif(o.biff == 8 && wb.vbaraw) fill_vba_xls(cfb, CFB.read(wb.vbaraw, {type: typeof wb.vbaraw == \"string\" ? \"binary\" : \"buffer\"}));\n\treturn cfb;\n}\n/* [MS-XLSB] 2.3 Record Enumeration */\nvar XLSBRecordEnum = {\n\t/*::[*/0x0000/*::]*/: { /* n:\"BrtRowHdr\", */ f:parse_BrtRowHdr },\n\t/*::[*/0x0001/*::]*/: { /* n:\"BrtCellBlank\", */ f:parse_BrtCellBlank },\n\t/*::[*/0x0002/*::]*/: { /* n:\"BrtCellRk\", */ f:parse_BrtCellRk },\n\t/*::[*/0x0003/*::]*/: { /* n:\"BrtCellError\", */ f:parse_BrtCellError },\n\t/*::[*/0x0004/*::]*/: { /* n:\"BrtCellBool\", */ f:parse_BrtCellBool },\n\t/*::[*/0x0005/*::]*/: { /* n:\"BrtCellReal\", */ f:parse_BrtCellReal },\n\t/*::[*/0x0006/*::]*/: { /* n:\"BrtCellSt\", */ f:parse_BrtCellSt },\n\t/*::[*/0x0007/*::]*/: { /* n:\"BrtCellIsst\", */ f:parse_BrtCellIsst },\n\t/*::[*/0x0008/*::]*/: { /* n:\"BrtFmlaString\", */ f:parse_BrtFmlaString },\n\t/*::[*/0x0009/*::]*/: { /* n:\"BrtFmlaNum\", */ f:parse_BrtFmlaNum },\n\t/*::[*/0x000A/*::]*/: { /* n:\"BrtFmlaBool\", */ f:parse_BrtFmlaBool },\n\t/*::[*/0x000B/*::]*/: { /* n:\"BrtFmlaError\", */ f:parse_BrtFmlaError },\n\t/*::[*/0x000C/*::]*/: { /* n:\"BrtShortBlank\", */ f:parse_BrtShortBlank },\n\t/*::[*/0x000D/*::]*/: { /* n:\"BrtShortRk\", */ f:parse_BrtShortRk },\n\t/*::[*/0x000E/*::]*/: { /* n:\"BrtShortError\", */ f:parse_BrtShortError },\n\t/*::[*/0x000F/*::]*/: { /* n:\"BrtShortBool\", */ f:parse_BrtShortBool },\n\t/*::[*/0x0010/*::]*/: { /* n:\"BrtShortReal\", */ f:parse_BrtShortReal },\n\t/*::[*/0x0011/*::]*/: { /* n:\"BrtShortSt\", */ f:parse_BrtShortSt },\n\t/*::[*/0x0012/*::]*/: { /* n:\"BrtShortIsst\", */ f:parse_BrtShortIsst },\n\t/*::[*/0x0013/*::]*/: { /* n:\"BrtSSTItem\", */ f:parse_RichStr },\n\t/*::[*/0x0014/*::]*/: { /* n:\"BrtPCDIMissing\" */ },\n\t/*::[*/0x0015/*::]*/: { /* n:\"BrtPCDINumber\" */ },\n\t/*::[*/0x0016/*::]*/: { /* n:\"BrtPCDIBoolean\" */ },\n\t/*::[*/0x0017/*::]*/: { /* n:\"BrtPCDIError\" */ },\n\t/*::[*/0x0018/*::]*/: { /* n:\"BrtPCDIString\" */ },\n\t/*::[*/0x0019/*::]*/: { /* n:\"BrtPCDIDatetime\" */ },\n\t/*::[*/0x001A/*::]*/: { /* n:\"BrtPCDIIndex\" */ },\n\t/*::[*/0x001B/*::]*/: { /* n:\"BrtPCDIAMissing\" */ },\n\t/*::[*/0x001C/*::]*/: { /* n:\"BrtPCDIANumber\" */ },\n\t/*::[*/0x001D/*::]*/: { /* n:\"BrtPCDIABoolean\" */ },\n\t/*::[*/0x001E/*::]*/: { /* n:\"BrtPCDIAError\" */ },\n\t/*::[*/0x001F/*::]*/: { /* n:\"BrtPCDIAString\" */ },\n\t/*::[*/0x0020/*::]*/: { /* n:\"BrtPCDIADatetime\" */ },\n\t/*::[*/0x0021/*::]*/: { /* n:\"BrtPCRRecord\" */ },\n\t/*::[*/0x0022/*::]*/: { /* n:\"BrtPCRRecordDt\" */ },\n\t/*::[*/0x0023/*::]*/: { /* n:\"BrtFRTBegin\", */ T:1 },\n\t/*::[*/0x0024/*::]*/: { /* n:\"BrtFRTEnd\", */ T:-1 },\n\t/*::[*/0x0025/*::]*/: { /* n:\"BrtACBegin\", */ T:1 },\n\t/*::[*/0x0026/*::]*/: { /* n:\"BrtACEnd\", */ T:-1 },\n\t/*::[*/0x0027/*::]*/: { /* n:\"BrtName\", */ f:parse_BrtName },\n\t/*::[*/0x0028/*::]*/: { /* n:\"BrtIndexRowBlock\" */ },\n\t/*::[*/0x002A/*::]*/: { /* n:\"BrtIndexBlock\" */ },\n\t/*::[*/0x002B/*::]*/: { /* n:\"BrtFont\", */ f:parse_BrtFont },\n\t/*::[*/0x002C/*::]*/: { /* n:\"BrtFmt\", */ f:parse_BrtFmt },\n\t/*::[*/0x002D/*::]*/: { /* n:\"BrtFill\", */ f:parse_BrtFill },\n\t/*::[*/0x002E/*::]*/: { /* n:\"BrtBorder\", */ f:parse_BrtBorder },\n\t/*::[*/0x002F/*::]*/: { /* n:\"BrtXF\", */ f:parse_BrtXF },\n\t/*::[*/0x0030/*::]*/: { /* n:\"BrtStyle\" */ },\n\t/*::[*/0x0031/*::]*/: { /* n:\"BrtCellMeta\", */ f:parse_Int32LE },\n\t/*::[*/0x0032/*::]*/: { /* n:\"BrtValueMeta\" */ },\n\t/*::[*/0x0033/*::]*/: { /* n:\"BrtMdb\" */ f:parse_BrtMdb },\n\t/*::[*/0x0034/*::]*/: { /* n:\"BrtBeginFmd\", */ T:1 },\n\t/*::[*/0x0035/*::]*/: { /* n:\"BrtEndFmd\", */ T:-1 },\n\t/*::[*/0x0036/*::]*/: { /* n:\"BrtBeginMdx\", */ T:1 },\n\t/*::[*/0x0037/*::]*/: { /* n:\"BrtEndMdx\", */ T:-1 },\n\t/*::[*/0x0038/*::]*/: { /* n:\"BrtBeginMdxTuple\", */ T:1 },\n\t/*::[*/0x0039/*::]*/: { /* n:\"BrtEndMdxTuple\", */ T:-1 },\n\t/*::[*/0x003A/*::]*/: { /* n:\"BrtMdxMbrIstr\" */ },\n\t/*::[*/0x003B/*::]*/: { /* n:\"BrtStr\" */ },\n\t/*::[*/0x003C/*::]*/: { /* n:\"BrtColInfo\", */ f:parse_ColInfo },\n\t/*::[*/0x003E/*::]*/: { /* n:\"BrtCellRString\", */ f:parse_BrtCellRString },\n\t/*::[*/0x003F/*::]*/: { /* n:\"BrtCalcChainItem$\", */ f:parse_BrtCalcChainItem$ },\n\t/*::[*/0x0040/*::]*/: { /* n:\"BrtDVal\", */ f:parse_BrtDVal },\n\t/*::[*/0x0041/*::]*/: { /* n:\"BrtSxvcellNum\" */ },\n\t/*::[*/0x0042/*::]*/: { /* n:\"BrtSxvcellStr\" */ },\n\t/*::[*/0x0043/*::]*/: { /* n:\"BrtSxvcellBool\" */ },\n\t/*::[*/0x0044/*::]*/: { /* n:\"BrtSxvcellErr\" */ },\n\t/*::[*/0x0045/*::]*/: { /* n:\"BrtSxvcellDate\" */ },\n\t/*::[*/0x0046/*::]*/: { /* n:\"BrtSxvcellNil\" */ },\n\t/*::[*/0x0080/*::]*/: { /* n:\"BrtFileVersion\" */ },\n\t/*::[*/0x0081/*::]*/: { /* n:\"BrtBeginSheet\", */ T:1 },\n\t/*::[*/0x0082/*::]*/: { /* n:\"BrtEndSheet\", */ T:-1 },\n\t/*::[*/0x0083/*::]*/: { /* n:\"BrtBeginBook\", */ T:1, f:parsenoop, p:0 },\n\t/*::[*/0x0084/*::]*/: { /* n:\"BrtEndBook\", */ T:-1 },\n\t/*::[*/0x0085/*::]*/: { /* n:\"BrtBeginWsViews\", */ T:1 },\n\t/*::[*/0x0086/*::]*/: { /* n:\"BrtEndWsViews\", */ T:-1 },\n\t/*::[*/0x0087/*::]*/: { /* n:\"BrtBeginBookViews\", */ T:1 },\n\t/*::[*/0x0088/*::]*/: { /* n:\"BrtEndBookViews\", */ T:-1 },\n\t/*::[*/0x0089/*::]*/: { /* n:\"BrtBeginWsView\", */ T:1, f:parse_BrtBeginWsView },\n\t/*::[*/0x008A/*::]*/: { /* n:\"BrtEndWsView\", */ T:-1 },\n\t/*::[*/0x008B/*::]*/: { /* n:\"BrtBeginCsViews\", */ T:1 },\n\t/*::[*/0x008C/*::]*/: { /* n:\"BrtEndCsViews\", */ T:-1 },\n\t/*::[*/0x008D/*::]*/: { /* n:\"BrtBeginCsView\", */ T:1 },\n\t/*::[*/0x008E/*::]*/: { /* n:\"BrtEndCsView\", */ T:-1 },\n\t/*::[*/0x008F/*::]*/: { /* n:\"BrtBeginBundleShs\", */ T:1 },\n\t/*::[*/0x0090/*::]*/: { /* n:\"BrtEndBundleShs\", */ T:-1 },\n\t/*::[*/0x0091/*::]*/: { /* n:\"BrtBeginSheetData\", */ T:1 },\n\t/*::[*/0x0092/*::]*/: { /* n:\"BrtEndSheetData\", */ T:-1 },\n\t/*::[*/0x0093/*::]*/: { /* n:\"BrtWsProp\", */ f:parse_BrtWsProp },\n\t/*::[*/0x0094/*::]*/: { /* n:\"BrtWsDim\", */ f:parse_BrtWsDim, p:16 },\n\t/*::[*/0x0097/*::]*/: { /* n:\"BrtPane\", */ f:parse_BrtPane },\n\t/*::[*/0x0098/*::]*/: { /* n:\"BrtSel\" */ },\n\t/*::[*/0x0099/*::]*/: { /* n:\"BrtWbProp\", */ f:parse_BrtWbProp },\n\t/*::[*/0x009A/*::]*/: { /* n:\"BrtWbFactoid\" */ },\n\t/*::[*/0x009B/*::]*/: { /* n:\"BrtFileRecover\" */ },\n\t/*::[*/0x009C/*::]*/: { /* n:\"BrtBundleSh\", */ f:parse_BrtBundleSh },\n\t/*::[*/0x009D/*::]*/: { /* n:\"BrtCalcProp\" */ },\n\t/*::[*/0x009E/*::]*/: { /* n:\"BrtBookView\" */ },\n\t/*::[*/0x009F/*::]*/: { /* n:\"BrtBeginSst\", */ T:1, f:parse_BrtBeginSst },\n\t/*::[*/0x00A0/*::]*/: { /* n:\"BrtEndSst\", */ T:-1 },\n\t/*::[*/0x00A1/*::]*/: { /* n:\"BrtBeginAFilter\", */ T:1, f:parse_UncheckedRfX },\n\t/*::[*/0x00A2/*::]*/: { /* n:\"BrtEndAFilter\", */ T:-1 },\n\t/*::[*/0x00A3/*::]*/: { /* n:\"BrtBeginFilterColumn\", */ T:1 },\n\t/*::[*/0x00A4/*::]*/: { /* n:\"BrtEndFilterColumn\", */ T:-1 },\n\t/*::[*/0x00A5/*::]*/: { /* n:\"BrtBeginFilters\", */ T:1 },\n\t/*::[*/0x00A6/*::]*/: { /* n:\"BrtEndFilters\", */ T:-1 },\n\t/*::[*/0x00A7/*::]*/: { /* n:\"BrtFilter\" */ },\n\t/*::[*/0x00A8/*::]*/: { /* n:\"BrtColorFilter\" */ },\n\t/*::[*/0x00A9/*::]*/: { /* n:\"BrtIconFilter\" */ },\n\t/*::[*/0x00AA/*::]*/: { /* n:\"BrtTop10Filter\" */ },\n\t/*::[*/0x00AB/*::]*/: { /* n:\"BrtDynamicFilter\" */ },\n\t/*::[*/0x00AC/*::]*/: { /* n:\"BrtBeginCustomFilters\", */ T:1 },\n\t/*::[*/0x00AD/*::]*/: { /* n:\"BrtEndCustomFilters\", */ T:-1 },\n\t/*::[*/0x00AE/*::]*/: { /* n:\"BrtCustomFilter\" */ },\n\t/*::[*/0x00AF/*::]*/: { /* n:\"BrtAFilterDateGroupItem\" */ },\n\t/*::[*/0x00B0/*::]*/: { /* n:\"BrtMergeCell\", */ f:parse_BrtMergeCell },\n\t/*::[*/0x00B1/*::]*/: { /* n:\"BrtBeginMergeCells\", */ T:1 },\n\t/*::[*/0x00B2/*::]*/: { /* n:\"BrtEndMergeCells\", */ T:-1 },\n\t/*::[*/0x00B3/*::]*/: { /* n:\"BrtBeginPivotCacheDef\", */ T:1 },\n\t/*::[*/0x00B4/*::]*/: { /* n:\"BrtEndPivotCacheDef\", */ T:-1 },\n\t/*::[*/0x00B5/*::]*/: { /* n:\"BrtBeginPCDFields\", */ T:1 },\n\t/*::[*/0x00B6/*::]*/: { /* n:\"BrtEndPCDFields\", */ T:-1 },\n\t/*::[*/0x00B7/*::]*/: { /* n:\"BrtBeginPCDField\", */ T:1 },\n\t/*::[*/0x00B8/*::]*/: { /* n:\"BrtEndPCDField\", */ T:-1 },\n\t/*::[*/0x00B9/*::]*/: { /* n:\"BrtBeginPCDSource\", */ T:1 },\n\t/*::[*/0x00BA/*::]*/: { /* n:\"BrtEndPCDSource\", */ T:-1 },\n\t/*::[*/0x00BB/*::]*/: { /* n:\"BrtBeginPCDSRange\", */ T:1 },\n\t/*::[*/0x00BC/*::]*/: { /* n:\"BrtEndPCDSRange\", */ T:-1 },\n\t/*::[*/0x00BD/*::]*/: { /* n:\"BrtBeginPCDFAtbl\", */ T:1 },\n\t/*::[*/0x00BE/*::]*/: { /* n:\"BrtEndPCDFAtbl\", */ T:-1 },\n\t/*::[*/0x00BF/*::]*/: { /* n:\"BrtBeginPCDIRun\", */ T:1 },\n\t/*::[*/0x00C0/*::]*/: { /* n:\"BrtEndPCDIRun\", */ T:-1 },\n\t/*::[*/0x00C1/*::]*/: { /* n:\"BrtBeginPivotCacheRecords\", */ T:1 },\n\t/*::[*/0x00C2/*::]*/: { /* n:\"BrtEndPivotCacheRecords\", */ T:-1 },\n\t/*::[*/0x00C3/*::]*/: { /* n:\"BrtBeginPCDHierarchies\", */ T:1 },\n\t/*::[*/0x00C4/*::]*/: { /* n:\"BrtEndPCDHierarchies\", */ T:-1 },\n\t/*::[*/0x00C5/*::]*/: { /* n:\"BrtBeginPCDHierarchy\", */ T:1 },\n\t/*::[*/0x00C6/*::]*/: { /* n:\"BrtEndPCDHierarchy\", */ T:-1 },\n\t/*::[*/0x00C7/*::]*/: { /* n:\"BrtBeginPCDHFieldsUsage\", */ T:1 },\n\t/*::[*/0x00C8/*::]*/: { /* n:\"BrtEndPCDHFieldsUsage\", */ T:-1 },\n\t/*::[*/0x00C9/*::]*/: { /* n:\"BrtBeginExtConnection\", */ T:1 },\n\t/*::[*/0x00CA/*::]*/: { /* n:\"BrtEndExtConnection\", */ T:-1 },\n\t/*::[*/0x00CB/*::]*/: { /* n:\"BrtBeginECDbProps\", */ T:1 },\n\t/*::[*/0x00CC/*::]*/: { /* n:\"BrtEndECDbProps\", */ T:-1 },\n\t/*::[*/0x00CD/*::]*/: { /* n:\"BrtBeginECOlapProps\", */ T:1 },\n\t/*::[*/0x00CE/*::]*/: { /* n:\"BrtEndECOlapProps\", */ T:-1 },\n\t/*::[*/0x00CF/*::]*/: { /* n:\"BrtBeginPCDSConsol\", */ T:1 },\n\t/*::[*/0x00D0/*::]*/: { /* n:\"BrtEndPCDSConsol\", */ T:-1 },\n\t/*::[*/0x00D1/*::]*/: { /* n:\"BrtBeginPCDSCPages\", */ T:1 },\n\t/*::[*/0x00D2/*::]*/: { /* n:\"BrtEndPCDSCPages\", */ T:-1 },\n\t/*::[*/0x00D3/*::]*/: { /* n:\"BrtBeginPCDSCPage\", */ T:1 },\n\t/*::[*/0x00D4/*::]*/: { /* n:\"BrtEndPCDSCPage\", */ T:-1 },\n\t/*::[*/0x00D5/*::]*/: { /* n:\"BrtBeginPCDSCPItem\", */ T:1 },\n\t/*::[*/0x00D6/*::]*/: { /* n:\"BrtEndPCDSCPItem\", */ T:-1 },\n\t/*::[*/0x00D7/*::]*/: { /* n:\"BrtBeginPCDSCSets\", */ T:1 },\n\t/*::[*/0x00D8/*::]*/: { /* n:\"BrtEndPCDSCSets\", */ T:-1 },\n\t/*::[*/0x00D9/*::]*/: { /* n:\"BrtBeginPCDSCSet\", */ T:1 },\n\t/*::[*/0x00DA/*::]*/: { /* n:\"BrtEndPCDSCSet\", */ T:-1 },\n\t/*::[*/0x00DB/*::]*/: { /* n:\"BrtBeginPCDFGroup\", */ T:1 },\n\t/*::[*/0x00DC/*::]*/: { /* n:\"BrtEndPCDFGroup\", */ T:-1 },\n\t/*::[*/0x00DD/*::]*/: { /* n:\"BrtBeginPCDFGItems\", */ T:1 },\n\t/*::[*/0x00DE/*::]*/: { /* n:\"BrtEndPCDFGItems\", */ T:-1 },\n\t/*::[*/0x00DF/*::]*/: { /* n:\"BrtBeginPCDFGRange\", */ T:1 },\n\t/*::[*/0x00E0/*::]*/: { /* n:\"BrtEndPCDFGRange\", */ T:-1 },\n\t/*::[*/0x00E1/*::]*/: { /* n:\"BrtBeginPCDFGDiscrete\", */ T:1 },\n\t/*::[*/0x00E2/*::]*/: { /* n:\"BrtEndPCDFGDiscrete\", */ T:-1 },\n\t/*::[*/0x00E3/*::]*/: { /* n:\"BrtBeginPCDSDTupleCache\", */ T:1 },\n\t/*::[*/0x00E4/*::]*/: { /* n:\"BrtEndPCDSDTupleCache\", */ T:-1 },\n\t/*::[*/0x00E5/*::]*/: { /* n:\"BrtBeginPCDSDTCEntries\", */ T:1 },\n\t/*::[*/0x00E6/*::]*/: { /* n:\"BrtEndPCDSDTCEntries\", */ T:-1 },\n\t/*::[*/0x00E7/*::]*/: { /* n:\"BrtBeginPCDSDTCEMembers\", */ T:1 },\n\t/*::[*/0x00E8/*::]*/: { /* n:\"BrtEndPCDSDTCEMembers\", */ T:-1 },\n\t/*::[*/0x00E9/*::]*/: { /* n:\"BrtBeginPCDSDTCEMember\", */ T:1 },\n\t/*::[*/0x00EA/*::]*/: { /* n:\"BrtEndPCDSDTCEMember\", */ T:-1 },\n\t/*::[*/0x00EB/*::]*/: { /* n:\"BrtBeginPCDSDTCQueries\", */ T:1 },\n\t/*::[*/0x00EC/*::]*/: { /* n:\"BrtEndPCDSDTCQueries\", */ T:-1 },\n\t/*::[*/0x00ED/*::]*/: { /* n:\"BrtBeginPCDSDTCQuery\", */ T:1 },\n\t/*::[*/0x00EE/*::]*/: { /* n:\"BrtEndPCDSDTCQuery\", */ T:-1 },\n\t/*::[*/0x00EF/*::]*/: { /* n:\"BrtBeginPCDSDTCSets\", */ T:1 },\n\t/*::[*/0x00F0/*::]*/: { /* n:\"BrtEndPCDSDTCSets\", */ T:-1 },\n\t/*::[*/0x00F1/*::]*/: { /* n:\"BrtBeginPCDSDTCSet\", */ T:1 },\n\t/*::[*/0x00F2/*::]*/: { /* n:\"BrtEndPCDSDTCSet\", */ T:-1 },\n\t/*::[*/0x00F3/*::]*/: { /* n:\"BrtBeginPCDCalcItems\", */ T:1 },\n\t/*::[*/0x00F4/*::]*/: { /* n:\"BrtEndPCDCalcItems\", */ T:-1 },\n\t/*::[*/0x00F5/*::]*/: { /* n:\"BrtBeginPCDCalcItem\", */ T:1 },\n\t/*::[*/0x00F6/*::]*/: { /* n:\"BrtEndPCDCalcItem\", */ T:-1 },\n\t/*::[*/0x00F7/*::]*/: { /* n:\"BrtBeginPRule\", */ T:1 },\n\t/*::[*/0x00F8/*::]*/: { /* n:\"BrtEndPRule\", */ T:-1 },\n\t/*::[*/0x00F9/*::]*/: { /* n:\"BrtBeginPRFilters\", */ T:1 },\n\t/*::[*/0x00FA/*::]*/: { /* n:\"BrtEndPRFilters\", */ T:-1 },\n\t/*::[*/0x00FB/*::]*/: { /* n:\"BrtBeginPRFilter\", */ T:1 },\n\t/*::[*/0x00FC/*::]*/: { /* n:\"BrtEndPRFilter\", */ T:-1 },\n\t/*::[*/0x00FD/*::]*/: { /* n:\"BrtBeginPNames\", */ T:1 },\n\t/*::[*/0x00FE/*::]*/: { /* n:\"BrtEndPNames\", */ T:-1 },\n\t/*::[*/0x00FF/*::]*/: { /* n:\"BrtBeginPName\", */ T:1 },\n\t/*::[*/0x0100/*::]*/: { /* n:\"BrtEndPName\", */ T:-1 },\n\t/*::[*/0x0101/*::]*/: { /* n:\"BrtBeginPNPairs\", */ T:1 },\n\t/*::[*/0x0102/*::]*/: { /* n:\"BrtEndPNPairs\", */ T:-1 },\n\t/*::[*/0x0103/*::]*/: { /* n:\"BrtBeginPNPair\", */ T:1 },\n\t/*::[*/0x0104/*::]*/: { /* n:\"BrtEndPNPair\", */ T:-1 },\n\t/*::[*/0x0105/*::]*/: { /* n:\"BrtBeginECWebProps\", */ T:1 },\n\t/*::[*/0x0106/*::]*/: { /* n:\"BrtEndECWebProps\", */ T:-1 },\n\t/*::[*/0x0107/*::]*/: { /* n:\"BrtBeginEcWpTables\", */ T:1 },\n\t/*::[*/0x0108/*::]*/: { /* n:\"BrtEndECWPTables\", */ T:-1 },\n\t/*::[*/0x0109/*::]*/: { /* n:\"BrtBeginECParams\", */ T:1 },\n\t/*::[*/0x010A/*::]*/: { /* n:\"BrtEndECParams\", */ T:-1 },\n\t/*::[*/0x010B/*::]*/: { /* n:\"BrtBeginECParam\", */ T:1 },\n\t/*::[*/0x010C/*::]*/: { /* n:\"BrtEndECParam\", */ T:-1 },\n\t/*::[*/0x010D/*::]*/: { /* n:\"BrtBeginPCDKPIs\", */ T:1 },\n\t/*::[*/0x010E/*::]*/: { /* n:\"BrtEndPCDKPIs\", */ T:-1 },\n\t/*::[*/0x010F/*::]*/: { /* n:\"BrtBeginPCDKPI\", */ T:1 },\n\t/*::[*/0x0110/*::]*/: { /* n:\"BrtEndPCDKPI\", */ T:-1 },\n\t/*::[*/0x0111/*::]*/: { /* n:\"BrtBeginDims\", */ T:1 },\n\t/*::[*/0x0112/*::]*/: { /* n:\"BrtEndDims\", */ T:-1 },\n\t/*::[*/0x0113/*::]*/: { /* n:\"BrtBeginDim\", */ T:1 },\n\t/*::[*/0x0114/*::]*/: { /* n:\"BrtEndDim\", */ T:-1 },\n\t/*::[*/0x0115/*::]*/: { /* n:\"BrtIndexPartEnd\" */ },\n\t/*::[*/0x0116/*::]*/: { /* n:\"BrtBeginStyleSheet\", */ T:1 },\n\t/*::[*/0x0117/*::]*/: { /* n:\"BrtEndStyleSheet\", */ T:-1 },\n\t/*::[*/0x0118/*::]*/: { /* n:\"BrtBeginSXView\", */ T:1 },\n\t/*::[*/0x0119/*::]*/: { /* n:\"BrtEndSXVI\", */ T:-1 },\n\t/*::[*/0x011A/*::]*/: { /* n:\"BrtBeginSXVI\", */ T:1 },\n\t/*::[*/0x011B/*::]*/: { /* n:\"BrtBeginSXVIs\", */ T:1 },\n\t/*::[*/0x011C/*::]*/: { /* n:\"BrtEndSXVIs\", */ T:-1 },\n\t/*::[*/0x011D/*::]*/: { /* n:\"BrtBeginSXVD\", */ T:1 },\n\t/*::[*/0x011E/*::]*/: { /* n:\"BrtEndSXVD\", */ T:-1 },\n\t/*::[*/0x011F/*::]*/: { /* n:\"BrtBeginSXVDs\", */ T:1 },\n\t/*::[*/0x0120/*::]*/: { /* n:\"BrtEndSXVDs\", */ T:-1 },\n\t/*::[*/0x0121/*::]*/: { /* n:\"BrtBeginSXPI\", */ T:1 },\n\t/*::[*/0x0122/*::]*/: { /* n:\"BrtEndSXPI\", */ T:-1 },\n\t/*::[*/0x0123/*::]*/: { /* n:\"BrtBeginSXPIs\", */ T:1 },\n\t/*::[*/0x0124/*::]*/: { /* n:\"BrtEndSXPIs\", */ T:-1 },\n\t/*::[*/0x0125/*::]*/: { /* n:\"BrtBeginSXDI\", */ T:1 },\n\t/*::[*/0x0126/*::]*/: { /* n:\"BrtEndSXDI\", */ T:-1 },\n\t/*::[*/0x0127/*::]*/: { /* n:\"BrtBeginSXDIs\", */ T:1 },\n\t/*::[*/0x0128/*::]*/: { /* n:\"BrtEndSXDIs\", */ T:-1 },\n\t/*::[*/0x0129/*::]*/: { /* n:\"BrtBeginSXLI\", */ T:1 },\n\t/*::[*/0x012A/*::]*/: { /* n:\"BrtEndSXLI\", */ T:-1 },\n\t/*::[*/0x012B/*::]*/: { /* n:\"BrtBeginSXLIRws\", */ T:1 },\n\t/*::[*/0x012C/*::]*/: { /* n:\"BrtEndSXLIRws\", */ T:-1 },\n\t/*::[*/0x012D/*::]*/: { /* n:\"BrtBeginSXLICols\", */ T:1 },\n\t/*::[*/0x012E/*::]*/: { /* n:\"BrtEndSXLICols\", */ T:-1 },\n\t/*::[*/0x012F/*::]*/: { /* n:\"BrtBeginSXFormat\", */ T:1 },\n\t/*::[*/0x0130/*::]*/: { /* n:\"BrtEndSXFormat\", */ T:-1 },\n\t/*::[*/0x0131/*::]*/: { /* n:\"BrtBeginSXFormats\", */ T:1 },\n\t/*::[*/0x0132/*::]*/: { /* n:\"BrtEndSxFormats\", */ T:-1 },\n\t/*::[*/0x0133/*::]*/: { /* n:\"BrtBeginSxSelect\", */ T:1 },\n\t/*::[*/0x0134/*::]*/: { /* n:\"BrtEndSxSelect\", */ T:-1 },\n\t/*::[*/0x0135/*::]*/: { /* n:\"BrtBeginISXVDRws\", */ T:1 },\n\t/*::[*/0x0136/*::]*/: { /* n:\"BrtEndISXVDRws\", */ T:-1 },\n\t/*::[*/0x0137/*::]*/: { /* n:\"BrtBeginISXVDCols\", */ T:1 },\n\t/*::[*/0x0138/*::]*/: { /* n:\"BrtEndISXVDCols\", */ T:-1 },\n\t/*::[*/0x0139/*::]*/: { /* n:\"BrtEndSXLocation\", */ T:-1 },\n\t/*::[*/0x013A/*::]*/: { /* n:\"BrtBeginSXLocation\", */ T:1 },\n\t/*::[*/0x013B/*::]*/: { /* n:\"BrtEndSXView\", */ T:-1 },\n\t/*::[*/0x013C/*::]*/: { /* n:\"BrtBeginSXTHs\", */ T:1 },\n\t/*::[*/0x013D/*::]*/: { /* n:\"BrtEndSXTHs\", */ T:-1 },\n\t/*::[*/0x013E/*::]*/: { /* n:\"BrtBeginSXTH\", */ T:1 },\n\t/*::[*/0x013F/*::]*/: { /* n:\"BrtEndSXTH\", */ T:-1 },\n\t/*::[*/0x0140/*::]*/: { /* n:\"BrtBeginISXTHRws\", */ T:1 },\n\t/*::[*/0x0141/*::]*/: { /* n:\"BrtEndISXTHRws\", */ T:-1 },\n\t/*::[*/0x0142/*::]*/: { /* n:\"BrtBeginISXTHCols\", */ T:1 },\n\t/*::[*/0x0143/*::]*/: { /* n:\"BrtEndISXTHCols\", */ T:-1 },\n\t/*::[*/0x0144/*::]*/: { /* n:\"BrtBeginSXTDMPS\", */ T:1 },\n\t/*::[*/0x0145/*::]*/: { /* n:\"BrtEndSXTDMPs\", */ T:-1 },\n\t/*::[*/0x0146/*::]*/: { /* n:\"BrtBeginSXTDMP\", */ T:1 },\n\t/*::[*/0x0147/*::]*/: { /* n:\"BrtEndSXTDMP\", */ T:-1 },\n\t/*::[*/0x0148/*::]*/: { /* n:\"BrtBeginSXTHItems\", */ T:1 },\n\t/*::[*/0x0149/*::]*/: { /* n:\"BrtEndSXTHItems\", */ T:-1 },\n\t/*::[*/0x014A/*::]*/: { /* n:\"BrtBeginSXTHItem\", */ T:1 },\n\t/*::[*/0x014B/*::]*/: { /* n:\"BrtEndSXTHItem\", */ T:-1 },\n\t/*::[*/0x014C/*::]*/: { /* n:\"BrtBeginMetadata\", */ T:1 },\n\t/*::[*/0x014D/*::]*/: { /* n:\"BrtEndMetadata\", */ T:-1 },\n\t/*::[*/0x014E/*::]*/: { /* n:\"BrtBeginEsmdtinfo\", */ T:1 },\n\t/*::[*/0x014F/*::]*/: { /* n:\"BrtMdtinfo\", */ f:parse_BrtMdtinfo },\n\t/*::[*/0x0150/*::]*/: { /* n:\"BrtEndEsmdtinfo\", */ T:-1 },\n\t/*::[*/0x0151/*::]*/: { /* n:\"BrtBeginEsmdb\", */ f:parse_BrtBeginEsmdb, T:1 },\n\t/*::[*/0x0152/*::]*/: { /* n:\"BrtEndEsmdb\", */ T:-1 },\n\t/*::[*/0x0153/*::]*/: { /* n:\"BrtBeginEsfmd\", */ T:1 },\n\t/*::[*/0x0154/*::]*/: { /* n:\"BrtEndEsfmd\", */ T:-1 },\n\t/*::[*/0x0155/*::]*/: { /* n:\"BrtBeginSingleCells\", */ T:1 },\n\t/*::[*/0x0156/*::]*/: { /* n:\"BrtEndSingleCells\", */ T:-1 },\n\t/*::[*/0x0157/*::]*/: { /* n:\"BrtBeginList\", */ T:1 },\n\t/*::[*/0x0158/*::]*/: { /* n:\"BrtEndList\", */ T:-1 },\n\t/*::[*/0x0159/*::]*/: { /* n:\"BrtBeginListCols\", */ T:1 },\n\t/*::[*/0x015A/*::]*/: { /* n:\"BrtEndListCols\", */ T:-1 },\n\t/*::[*/0x015B/*::]*/: { /* n:\"BrtBeginListCol\", */ T:1 },\n\t/*::[*/0x015C/*::]*/: { /* n:\"BrtEndListCol\", */ T:-1 },\n\t/*::[*/0x015D/*::]*/: { /* n:\"BrtBeginListXmlCPr\", */ T:1 },\n\t/*::[*/0x015E/*::]*/: { /* n:\"BrtEndListXmlCPr\", */ T:-1 },\n\t/*::[*/0x015F/*::]*/: { /* n:\"BrtListCCFmla\" */ },\n\t/*::[*/0x0160/*::]*/: { /* n:\"BrtListTrFmla\" */ },\n\t/*::[*/0x0161/*::]*/: { /* n:\"BrtBeginExternals\", */ T:1 },\n\t/*::[*/0x0162/*::]*/: { /* n:\"BrtEndExternals\", */ T:-1 },\n\t/*::[*/0x0163/*::]*/: { /* n:\"BrtSupBookSrc\", */ f:parse_RelID},\n\t/*::[*/0x0165/*::]*/: { /* n:\"BrtSupSelf\" */ },\n\t/*::[*/0x0166/*::]*/: { /* n:\"BrtSupSame\" */ },\n\t/*::[*/0x0167/*::]*/: { /* n:\"BrtSupTabs\" */ },\n\t/*::[*/0x0168/*::]*/: { /* n:\"BrtBeginSupBook\", */ T:1 },\n\t/*::[*/0x0169/*::]*/: { /* n:\"BrtPlaceholderName\" */ },\n\t/*::[*/0x016A/*::]*/: { /* n:\"BrtExternSheet\", */ f:parse_ExternSheet },\n\t/*::[*/0x016B/*::]*/: { /* n:\"BrtExternTableStart\" */ },\n\t/*::[*/0x016C/*::]*/: { /* n:\"BrtExternTableEnd\" */ },\n\t/*::[*/0x016E/*::]*/: { /* n:\"BrtExternRowHdr\" */ },\n\t/*::[*/0x016F/*::]*/: { /* n:\"BrtExternCellBlank\" */ },\n\t/*::[*/0x0170/*::]*/: { /* n:\"BrtExternCellReal\" */ },\n\t/*::[*/0x0171/*::]*/: { /* n:\"BrtExternCellBool\" */ },\n\t/*::[*/0x0172/*::]*/: { /* n:\"BrtExternCellError\" */ },\n\t/*::[*/0x0173/*::]*/: { /* n:\"BrtExternCellString\" */ },\n\t/*::[*/0x0174/*::]*/: { /* n:\"BrtBeginEsmdx\", */ T:1 },\n\t/*::[*/0x0175/*::]*/: { /* n:\"BrtEndEsmdx\", */ T:-1 },\n\t/*::[*/0x0176/*::]*/: { /* n:\"BrtBeginMdxSet\", */ T:1 },\n\t/*::[*/0x0177/*::]*/: { /* n:\"BrtEndMdxSet\", */ T:-1 },\n\t/*::[*/0x0178/*::]*/: { /* n:\"BrtBeginMdxMbrProp\", */ T:1 },\n\t/*::[*/0x0179/*::]*/: { /* n:\"BrtEndMdxMbrProp\", */ T:-1 },\n\t/*::[*/0x017A/*::]*/: { /* n:\"BrtBeginMdxKPI\", */ T:1 },\n\t/*::[*/0x017B/*::]*/: { /* n:\"BrtEndMdxKPI\", */ T:-1 },\n\t/*::[*/0x017C/*::]*/: { /* n:\"BrtBeginEsstr\", */ T:1 },\n\t/*::[*/0x017D/*::]*/: { /* n:\"BrtEndEsstr\", */ T:-1 },\n\t/*::[*/0x017E/*::]*/: { /* n:\"BrtBeginPRFItem\", */ T:1 },\n\t/*::[*/0x017F/*::]*/: { /* n:\"BrtEndPRFItem\", */ T:-1 },\n\t/*::[*/0x0180/*::]*/: { /* n:\"BrtBeginPivotCacheIDs\", */ T:1 },\n\t/*::[*/0x0181/*::]*/: { /* n:\"BrtEndPivotCacheIDs\", */ T:-1 },\n\t/*::[*/0x0182/*::]*/: { /* n:\"BrtBeginPivotCacheID\", */ T:1 },\n\t/*::[*/0x0183/*::]*/: { /* n:\"BrtEndPivotCacheID\", */ T:-1 },\n\t/*::[*/0x0184/*::]*/: { /* n:\"BrtBeginISXVIs\", */ T:1 },\n\t/*::[*/0x0185/*::]*/: { /* n:\"BrtEndISXVIs\", */ T:-1 },\n\t/*::[*/0x0186/*::]*/: { /* n:\"BrtBeginColInfos\", */ T:1 },\n\t/*::[*/0x0187/*::]*/: { /* n:\"BrtEndColInfos\", */ T:-1 },\n\t/*::[*/0x0188/*::]*/: { /* n:\"BrtBeginRwBrk\", */ T:1 },\n\t/*::[*/0x0189/*::]*/: { /* n:\"BrtEndRwBrk\", */ T:-1 },\n\t/*::[*/0x018A/*::]*/: { /* n:\"BrtBeginColBrk\", */ T:1 },\n\t/*::[*/0x018B/*::]*/: { /* n:\"BrtEndColBrk\", */ T:-1 },\n\t/*::[*/0x018C/*::]*/: { /* n:\"BrtBrk\" */ },\n\t/*::[*/0x018D/*::]*/: { /* n:\"BrtUserBookView\" */ },\n\t/*::[*/0x018E/*::]*/: { /* n:\"BrtInfo\" */ },\n\t/*::[*/0x018F/*::]*/: { /* n:\"BrtCUsr\" */ },\n\t/*::[*/0x0190/*::]*/: { /* n:\"BrtUsr\" */ },\n\t/*::[*/0x0191/*::]*/: { /* n:\"BrtBeginUsers\", */ T:1 },\n\t/*::[*/0x0193/*::]*/: { /* n:\"BrtEOF\" */ },\n\t/*::[*/0x0194/*::]*/: { /* n:\"BrtUCR\" */ },\n\t/*::[*/0x0195/*::]*/: { /* n:\"BrtRRInsDel\" */ },\n\t/*::[*/0x0196/*::]*/: { /* n:\"BrtRREndInsDel\" */ },\n\t/*::[*/0x0197/*::]*/: { /* n:\"BrtRRMove\" */ },\n\t/*::[*/0x0198/*::]*/: { /* n:\"BrtRREndMove\" */ },\n\t/*::[*/0x0199/*::]*/: { /* n:\"BrtRRChgCell\" */ },\n\t/*::[*/0x019A/*::]*/: { /* n:\"BrtRREndChgCell\" */ },\n\t/*::[*/0x019B/*::]*/: { /* n:\"BrtRRHeader\" */ },\n\t/*::[*/0x019C/*::]*/: { /* n:\"BrtRRUserView\" */ },\n\t/*::[*/0x019D/*::]*/: { /* n:\"BrtRRRenSheet\" */ },\n\t/*::[*/0x019E/*::]*/: { /* n:\"BrtRRInsertSh\" */ },\n\t/*::[*/0x019F/*::]*/: { /* n:\"BrtRRDefName\" */ },\n\t/*::[*/0x01A0/*::]*/: { /* n:\"BrtRRNote\" */ },\n\t/*::[*/0x01A1/*::]*/: { /* n:\"BrtRRConflict\" */ },\n\t/*::[*/0x01A2/*::]*/: { /* n:\"BrtRRTQSIF\" */ },\n\t/*::[*/0x01A3/*::]*/: { /* n:\"BrtRRFormat\" */ },\n\t/*::[*/0x01A4/*::]*/: { /* n:\"BrtRREndFormat\" */ },\n\t/*::[*/0x01A5/*::]*/: { /* n:\"BrtRRAutoFmt\" */ },\n\t/*::[*/0x01A6/*::]*/: { /* n:\"BrtBeginUserShViews\", */ T:1 },\n\t/*::[*/0x01A7/*::]*/: { /* n:\"BrtBeginUserShView\", */ T:1 },\n\t/*::[*/0x01A8/*::]*/: { /* n:\"BrtEndUserShView\", */ T:-1 },\n\t/*::[*/0x01A9/*::]*/: { /* n:\"BrtEndUserShViews\", */ T:-1 },\n\t/*::[*/0x01AA/*::]*/: { /* n:\"BrtArrFmla\", */ f:parse_BrtArrFmla },\n\t/*::[*/0x01AB/*::]*/: { /* n:\"BrtShrFmla\", */ f:parse_BrtShrFmla },\n\t/*::[*/0x01AC/*::]*/: { /* n:\"BrtTable\" */ },\n\t/*::[*/0x01AD/*::]*/: { /* n:\"BrtBeginExtConnections\", */ T:1 },\n\t/*::[*/0x01AE/*::]*/: { /* n:\"BrtEndExtConnections\", */ T:-1 },\n\t/*::[*/0x01AF/*::]*/: { /* n:\"BrtBeginPCDCalcMems\", */ T:1 },\n\t/*::[*/0x01B0/*::]*/: { /* n:\"BrtEndPCDCalcMems\", */ T:-1 },\n\t/*::[*/0x01B1/*::]*/: { /* n:\"BrtBeginPCDCalcMem\", */ T:1 },\n\t/*::[*/0x01B2/*::]*/: { /* n:\"BrtEndPCDCalcMem\", */ T:-1 },\n\t/*::[*/0x01B3/*::]*/: { /* n:\"BrtBeginPCDHGLevels\", */ T:1 },\n\t/*::[*/0x01B4/*::]*/: { /* n:\"BrtEndPCDHGLevels\", */ T:-1 },\n\t/*::[*/0x01B5/*::]*/: { /* n:\"BrtBeginPCDHGLevel\", */ T:1 },\n\t/*::[*/0x01B6/*::]*/: { /* n:\"BrtEndPCDHGLevel\", */ T:-1 },\n\t/*::[*/0x01B7/*::]*/: { /* n:\"BrtBeginPCDHGLGroups\", */ T:1 },\n\t/*::[*/0x01B8/*::]*/: { /* n:\"BrtEndPCDHGLGroups\", */ T:-1 },\n\t/*::[*/0x01B9/*::]*/: { /* n:\"BrtBeginPCDHGLGroup\", */ T:1 },\n\t/*::[*/0x01BA/*::]*/: { /* n:\"BrtEndPCDHGLGroup\", */ T:-1 },\n\t/*::[*/0x01BB/*::]*/: { /* n:\"BrtBeginPCDHGLGMembers\", */ T:1 },\n\t/*::[*/0x01BC/*::]*/: { /* n:\"BrtEndPCDHGLGMembers\", */ T:-1 },\n\t/*::[*/0x01BD/*::]*/: { /* n:\"BrtBeginPCDHGLGMember\", */ T:1 },\n\t/*::[*/0x01BE/*::]*/: { /* n:\"BrtEndPCDHGLGMember\", */ T:-1 },\n\t/*::[*/0x01BF/*::]*/: { /* n:\"BrtBeginQSI\", */ T:1 },\n\t/*::[*/0x01C0/*::]*/: { /* n:\"BrtEndQSI\", */ T:-1 },\n\t/*::[*/0x01C1/*::]*/: { /* n:\"BrtBeginQSIR\", */ T:1 },\n\t/*::[*/0x01C2/*::]*/: { /* n:\"BrtEndQSIR\", */ T:-1 },\n\t/*::[*/0x01C3/*::]*/: { /* n:\"BrtBeginDeletedNames\", */ T:1 },\n\t/*::[*/0x01C4/*::]*/: { /* n:\"BrtEndDeletedNames\", */ T:-1 },\n\t/*::[*/0x01C5/*::]*/: { /* n:\"BrtBeginDeletedName\", */ T:1 },\n\t/*::[*/0x01C6/*::]*/: { /* n:\"BrtEndDeletedName\", */ T:-1 },\n\t/*::[*/0x01C7/*::]*/: { /* n:\"BrtBeginQSIFs\", */ T:1 },\n\t/*::[*/0x01C8/*::]*/: { /* n:\"BrtEndQSIFs\", */ T:-1 },\n\t/*::[*/0x01C9/*::]*/: { /* n:\"BrtBeginQSIF\", */ T:1 },\n\t/*::[*/0x01CA/*::]*/: { /* n:\"BrtEndQSIF\", */ T:-1 },\n\t/*::[*/0x01CB/*::]*/: { /* n:\"BrtBeginAutoSortScope\", */ T:1 },\n\t/*::[*/0x01CC/*::]*/: { /* n:\"BrtEndAutoSortScope\", */ T:-1 },\n\t/*::[*/0x01CD/*::]*/: { /* n:\"BrtBeginConditionalFormatting\", */ T:1 },\n\t/*::[*/0x01CE/*::]*/: { /* n:\"BrtEndConditionalFormatting\", */ T:-1 },\n\t/*::[*/0x01CF/*::]*/: { /* n:\"BrtBeginCFRule\", */ T:1 },\n\t/*::[*/0x01D0/*::]*/: { /* n:\"BrtEndCFRule\", */ T:-1 },\n\t/*::[*/0x01D1/*::]*/: { /* n:\"BrtBeginIconSet\", */ T:1 },\n\t/*::[*/0x01D2/*::]*/: { /* n:\"BrtEndIconSet\", */ T:-1 },\n\t/*::[*/0x01D3/*::]*/: { /* n:\"BrtBeginDatabar\", */ T:1 },\n\t/*::[*/0x01D4/*::]*/: { /* n:\"BrtEndDatabar\", */ T:-1 },\n\t/*::[*/0x01D5/*::]*/: { /* n:\"BrtBeginColorScale\", */ T:1 },\n\t/*::[*/0x01D6/*::]*/: { /* n:\"BrtEndColorScale\", */ T:-1 },\n\t/*::[*/0x01D7/*::]*/: { /* n:\"BrtCFVO\" */ },\n\t/*::[*/0x01D8/*::]*/: { /* n:\"BrtExternValueMeta\" */ },\n\t/*::[*/0x01D9/*::]*/: { /* n:\"BrtBeginColorPalette\", */ T:1 },\n\t/*::[*/0x01DA/*::]*/: { /* n:\"BrtEndColorPalette\", */ T:-1 },\n\t/*::[*/0x01DB/*::]*/: { /* n:\"BrtIndexedColor\" */ },\n\t/*::[*/0x01DC/*::]*/: { /* n:\"BrtMargins\", */ f:parse_BrtMargins },\n\t/*::[*/0x01DD/*::]*/: { /* n:\"BrtPrintOptions\" */ },\n\t/*::[*/0x01DE/*::]*/: { /* n:\"BrtPageSetup\" */ },\n\t/*::[*/0x01DF/*::]*/: { /* n:\"BrtBeginHeaderFooter\", */ T:1 },\n\t/*::[*/0x01E0/*::]*/: { /* n:\"BrtEndHeaderFooter\", */ T:-1 },\n\t/*::[*/0x01E1/*::]*/: { /* n:\"BrtBeginSXCrtFormat\", */ T:1 },\n\t/*::[*/0x01E2/*::]*/: { /* n:\"BrtEndSXCrtFormat\", */ T:-1 },\n\t/*::[*/0x01E3/*::]*/: { /* n:\"BrtBeginSXCrtFormats\", */ T:1 },\n\t/*::[*/0x01E4/*::]*/: { /* n:\"BrtEndSXCrtFormats\", */ T:-1 },\n\t/*::[*/0x01E5/*::]*/: { /* n:\"BrtWsFmtInfo\", */ f:parse_BrtWsFmtInfo },\n\t/*::[*/0x01E6/*::]*/: { /* n:\"BrtBeginMgs\", */ T:1 },\n\t/*::[*/0x01E7/*::]*/: { /* n:\"BrtEndMGs\", */ T:-1 },\n\t/*::[*/0x01E8/*::]*/: { /* n:\"BrtBeginMGMaps\", */ T:1 },\n\t/*::[*/0x01E9/*::]*/: { /* n:\"BrtEndMGMaps\", */ T:-1 },\n\t/*::[*/0x01EA/*::]*/: { /* n:\"BrtBeginMG\", */ T:1 },\n\t/*::[*/0x01EB/*::]*/: { /* n:\"BrtEndMG\", */ T:-1 },\n\t/*::[*/0x01EC/*::]*/: { /* n:\"BrtBeginMap\", */ T:1 },\n\t/*::[*/0x01ED/*::]*/: { /* n:\"BrtEndMap\", */ T:-1 },\n\t/*::[*/0x01EE/*::]*/: { /* n:\"BrtHLink\", */ f:parse_BrtHLink },\n\t/*::[*/0x01EF/*::]*/: { /* n:\"BrtBeginDCon\", */ T:1 },\n\t/*::[*/0x01F0/*::]*/: { /* n:\"BrtEndDCon\", */ T:-1 },\n\t/*::[*/0x01F1/*::]*/: { /* n:\"BrtBeginDRefs\", */ T:1 },\n\t/*::[*/0x01F2/*::]*/: { /* n:\"BrtEndDRefs\", */ T:-1 },\n\t/*::[*/0x01F3/*::]*/: { /* n:\"BrtDRef\" */ },\n\t/*::[*/0x01F4/*::]*/: { /* n:\"BrtBeginScenMan\", */ T:1 },\n\t/*::[*/0x01F5/*::]*/: { /* n:\"BrtEndScenMan\", */ T:-1 },\n\t/*::[*/0x01F6/*::]*/: { /* n:\"BrtBeginSct\", */ T:1 },\n\t/*::[*/0x01F7/*::]*/: { /* n:\"BrtEndSct\", */ T:-1 },\n\t/*::[*/0x01F8/*::]*/: { /* n:\"BrtSlc\" */ },\n\t/*::[*/0x01F9/*::]*/: { /* n:\"BrtBeginDXFs\", */ T:1 },\n\t/*::[*/0x01FA/*::]*/: { /* n:\"BrtEndDXFs\", */ T:-1 },\n\t/*::[*/0x01FB/*::]*/: { /* n:\"BrtDXF\" */ },\n\t/*::[*/0x01FC/*::]*/: { /* n:\"BrtBeginTableStyles\", */ T:1 },\n\t/*::[*/0x01FD/*::]*/: { /* n:\"BrtEndTableStyles\", */ T:-1 },\n\t/*::[*/0x01FE/*::]*/: { /* n:\"BrtBeginTableStyle\", */ T:1 },\n\t/*::[*/0x01FF/*::]*/: { /* n:\"BrtEndTableStyle\", */ T:-1 },\n\t/*::[*/0x0200/*::]*/: { /* n:\"BrtTableStyleElement\" */ },\n\t/*::[*/0x0201/*::]*/: { /* n:\"BrtTableStyleClient\" */ },\n\t/*::[*/0x0202/*::]*/: { /* n:\"BrtBeginVolDeps\", */ T:1 },\n\t/*::[*/0x0203/*::]*/: { /* n:\"BrtEndVolDeps\", */ T:-1 },\n\t/*::[*/0x0204/*::]*/: { /* n:\"BrtBeginVolType\", */ T:1 },\n\t/*::[*/0x0205/*::]*/: { /* n:\"BrtEndVolType\", */ T:-1 },\n\t/*::[*/0x0206/*::]*/: { /* n:\"BrtBeginVolMain\", */ T:1 },\n\t/*::[*/0x0207/*::]*/: { /* n:\"BrtEndVolMain\", */ T:-1 },\n\t/*::[*/0x0208/*::]*/: { /* n:\"BrtBeginVolTopic\", */ T:1 },\n\t/*::[*/0x0209/*::]*/: { /* n:\"BrtEndVolTopic\", */ T:-1 },\n\t/*::[*/0x020A/*::]*/: { /* n:\"BrtVolSubtopic\" */ },\n\t/*::[*/0x020B/*::]*/: { /* n:\"BrtVolRef\" */ },\n\t/*::[*/0x020C/*::]*/: { /* n:\"BrtVolNum\" */ },\n\t/*::[*/0x020D/*::]*/: { /* n:\"BrtVolErr\" */ },\n\t/*::[*/0x020E/*::]*/: { /* n:\"BrtVolStr\" */ },\n\t/*::[*/0x020F/*::]*/: { /* n:\"BrtVolBool\" */ },\n\t/*::[*/0x0210/*::]*/: { /* n:\"BrtBeginCalcChain$\", */ T:1 },\n\t/*::[*/0x0211/*::]*/: { /* n:\"BrtEndCalcChain$\", */ T:-1 },\n\t/*::[*/0x0212/*::]*/: { /* n:\"BrtBeginSortState\", */ T:1 },\n\t/*::[*/0x0213/*::]*/: { /* n:\"BrtEndSortState\", */ T:-1 },\n\t/*::[*/0x0214/*::]*/: { /* n:\"BrtBeginSortCond\", */ T:1 },\n\t/*::[*/0x0215/*::]*/: { /* n:\"BrtEndSortCond\", */ T:-1 },\n\t/*::[*/0x0216/*::]*/: { /* n:\"BrtBookProtection\" */ },\n\t/*::[*/0x0217/*::]*/: { /* n:\"BrtSheetProtection\" */ },\n\t/*::[*/0x0218/*::]*/: { /* n:\"BrtRangeProtection\" */ },\n\t/*::[*/0x0219/*::]*/: { /* n:\"BrtPhoneticInfo\" */ },\n\t/*::[*/0x021A/*::]*/: { /* n:\"BrtBeginECTxtWiz\", */ T:1 },\n\t/*::[*/0x021B/*::]*/: { /* n:\"BrtEndECTxtWiz\", */ T:-1 },\n\t/*::[*/0x021C/*::]*/: { /* n:\"BrtBeginECTWFldInfoLst\", */ T:1 },\n\t/*::[*/0x021D/*::]*/: { /* n:\"BrtEndECTWFldInfoLst\", */ T:-1 },\n\t/*::[*/0x021E/*::]*/: { /* n:\"BrtBeginECTwFldInfo\", */ T:1 },\n\t/*::[*/0x0224/*::]*/: { /* n:\"BrtFileSharing\" */ },\n\t/*::[*/0x0225/*::]*/: { /* n:\"BrtOleSize\" */ },\n\t/*::[*/0x0226/*::]*/: { /* n:\"BrtDrawing\", */ f:parse_RelID },\n\t/*::[*/0x0227/*::]*/: { /* n:\"BrtLegacyDrawing\" */ },\n\t/*::[*/0x0228/*::]*/: { /* n:\"BrtLegacyDrawingHF\" */ },\n\t/*::[*/0x0229/*::]*/: { /* n:\"BrtWebOpt\" */ },\n\t/*::[*/0x022A/*::]*/: { /* n:\"BrtBeginWebPubItems\", */ T:1 },\n\t/*::[*/0x022B/*::]*/: { /* n:\"BrtEndWebPubItems\", */ T:-1 },\n\t/*::[*/0x022C/*::]*/: { /* n:\"BrtBeginWebPubItem\", */ T:1 },\n\t/*::[*/0x022D/*::]*/: { /* n:\"BrtEndWebPubItem\", */ T:-1 },\n\t/*::[*/0x022E/*::]*/: { /* n:\"BrtBeginSXCondFmt\", */ T:1 },\n\t/*::[*/0x022F/*::]*/: { /* n:\"BrtEndSXCondFmt\", */ T:-1 },\n\t/*::[*/0x0230/*::]*/: { /* n:\"BrtBeginSXCondFmts\", */ T:1 },\n\t/*::[*/0x0231/*::]*/: { /* n:\"BrtEndSXCondFmts\", */ T:-1 },\n\t/*::[*/0x0232/*::]*/: { /* n:\"BrtBkHim\" */ },\n\t/*::[*/0x0234/*::]*/: { /* n:\"BrtColor\" */ },\n\t/*::[*/0x0235/*::]*/: { /* n:\"BrtBeginIndexedColors\", */ T:1 },\n\t/*::[*/0x0236/*::]*/: { /* n:\"BrtEndIndexedColors\", */ T:-1 },\n\t/*::[*/0x0239/*::]*/: { /* n:\"BrtBeginMRUColors\", */ T:1 },\n\t/*::[*/0x023A/*::]*/: { /* n:\"BrtEndMRUColors\", */ T:-1 },\n\t/*::[*/0x023C/*::]*/: { /* n:\"BrtMRUColor\" */ },\n\t/*::[*/0x023D/*::]*/: { /* n:\"BrtBeginDVals\", */ T:1 },\n\t/*::[*/0x023E/*::]*/: { /* n:\"BrtEndDVals\", */ T:-1 },\n\t/*::[*/0x0241/*::]*/: { /* n:\"BrtSupNameStart\" */ },\n\t/*::[*/0x0242/*::]*/: { /* n:\"BrtSupNameValueStart\" */ },\n\t/*::[*/0x0243/*::]*/: { /* n:\"BrtSupNameValueEnd\" */ },\n\t/*::[*/0x0244/*::]*/: { /* n:\"BrtSupNameNum\" */ },\n\t/*::[*/0x0245/*::]*/: { /* n:\"BrtSupNameErr\" */ },\n\t/*::[*/0x0246/*::]*/: { /* n:\"BrtSupNameSt\" */ },\n\t/*::[*/0x0247/*::]*/: { /* n:\"BrtSupNameNil\" */ },\n\t/*::[*/0x0248/*::]*/: { /* n:\"BrtSupNameBool\" */ },\n\t/*::[*/0x0249/*::]*/: { /* n:\"BrtSupNameFmla\" */ },\n\t/*::[*/0x024A/*::]*/: { /* n:\"BrtSupNameBits\" */ },\n\t/*::[*/0x024B/*::]*/: { /* n:\"BrtSupNameEnd\" */ },\n\t/*::[*/0x024C/*::]*/: { /* n:\"BrtEndSupBook\", */ T:-1 },\n\t/*::[*/0x024D/*::]*/: { /* n:\"BrtCellSmartTagProperty\" */ },\n\t/*::[*/0x024E/*::]*/: { /* n:\"BrtBeginCellSmartTag\", */ T:1 },\n\t/*::[*/0x024F/*::]*/: { /* n:\"BrtEndCellSmartTag\", */ T:-1 },\n\t/*::[*/0x0250/*::]*/: { /* n:\"BrtBeginCellSmartTags\", */ T:1 },\n\t/*::[*/0x0251/*::]*/: { /* n:\"BrtEndCellSmartTags\", */ T:-1 },\n\t/*::[*/0x0252/*::]*/: { /* n:\"BrtBeginSmartTags\", */ T:1 },\n\t/*::[*/0x0253/*::]*/: { /* n:\"BrtEndSmartTags\", */ T:-1 },\n\t/*::[*/0x0254/*::]*/: { /* n:\"BrtSmartTagType\" */ },\n\t/*::[*/0x0255/*::]*/: { /* n:\"BrtBeginSmartTagTypes\", */ T:1 },\n\t/*::[*/0x0256/*::]*/: { /* n:\"BrtEndSmartTagTypes\", */ T:-1 },\n\t/*::[*/0x0257/*::]*/: { /* n:\"BrtBeginSXFilters\", */ T:1 },\n\t/*::[*/0x0258/*::]*/: { /* n:\"BrtEndSXFilters\", */ T:-1 },\n\t/*::[*/0x0259/*::]*/: { /* n:\"BrtBeginSXFILTER\", */ T:1 },\n\t/*::[*/0x025A/*::]*/: { /* n:\"BrtEndSXFilter\", */ T:-1 },\n\t/*::[*/0x025B/*::]*/: { /* n:\"BrtBeginFills\", */ T:1 },\n\t/*::[*/0x025C/*::]*/: { /* n:\"BrtEndFills\", */ T:-1 },\n\t/*::[*/0x025D/*::]*/: { /* n:\"BrtBeginCellWatches\", */ T:1 },\n\t/*::[*/0x025E/*::]*/: { /* n:\"BrtEndCellWatches\", */ T:-1 },\n\t/*::[*/0x025F/*::]*/: { /* n:\"BrtCellWatch\" */ },\n\t/*::[*/0x0260/*::]*/: { /* n:\"BrtBeginCRErrs\", */ T:1 },\n\t/*::[*/0x0261/*::]*/: { /* n:\"BrtEndCRErrs\", */ T:-1 },\n\t/*::[*/0x0262/*::]*/: { /* n:\"BrtCrashRecErr\" */ },\n\t/*::[*/0x0263/*::]*/: { /* n:\"BrtBeginFonts\", */ T:1 },\n\t/*::[*/0x0264/*::]*/: { /* n:\"BrtEndFonts\", */ T:-1 },\n\t/*::[*/0x0265/*::]*/: { /* n:\"BrtBeginBorders\", */ T:1 },\n\t/*::[*/0x0266/*::]*/: { /* n:\"BrtEndBorders\", */ T:-1 },\n\t/*::[*/0x0267/*::]*/: { /* n:\"BrtBeginFmts\", */ T:1 },\n\t/*::[*/0x0268/*::]*/: { /* n:\"BrtEndFmts\", */ T:-1 },\n\t/*::[*/0x0269/*::]*/: { /* n:\"BrtBeginCellXFs\", */ T:1 },\n\t/*::[*/0x026A/*::]*/: { /* n:\"BrtEndCellXFs\", */ T:-1 },\n\t/*::[*/0x026B/*::]*/: { /* n:\"BrtBeginStyles\", */ T:1 },\n\t/*::[*/0x026C/*::]*/: { /* n:\"BrtEndStyles\", */ T:-1 },\n\t/*::[*/0x0271/*::]*/: { /* n:\"BrtBigName\" */ },\n\t/*::[*/0x0272/*::]*/: { /* n:\"BrtBeginCellStyleXFs\", */ T:1 },\n\t/*::[*/0x0273/*::]*/: { /* n:\"BrtEndCellStyleXFs\", */ T:-1 },\n\t/*::[*/0x0274/*::]*/: { /* n:\"BrtBeginComments\", */ T:1 },\n\t/*::[*/0x0275/*::]*/: { /* n:\"BrtEndComments\", */ T:-1 },\n\t/*::[*/0x0276/*::]*/: { /* n:\"BrtBeginCommentAuthors\", */ T:1 },\n\t/*::[*/0x0277/*::]*/: { /* n:\"BrtEndCommentAuthors\", */ T:-1 },\n\t/*::[*/0x0278/*::]*/: { /* n:\"BrtCommentAuthor\", */ f:parse_BrtCommentAuthor },\n\t/*::[*/0x0279/*::]*/: { /* n:\"BrtBeginCommentList\", */ T:1 },\n\t/*::[*/0x027A/*::]*/: { /* n:\"BrtEndCommentList\", */ T:-1 },\n\t/*::[*/0x027B/*::]*/: { /* n:\"BrtBeginComment\", */ T:1, f:parse_BrtBeginComment},\n\t/*::[*/0x027C/*::]*/: { /* n:\"BrtEndComment\", */ T:-1 },\n\t/*::[*/0x027D/*::]*/: { /* n:\"BrtCommentText\", */ f:parse_BrtCommentText },\n\t/*::[*/0x027E/*::]*/: { /* n:\"BrtBeginOleObjects\", */ T:1 },\n\t/*::[*/0x027F/*::]*/: { /* n:\"BrtOleObject\" */ },\n\t/*::[*/0x0280/*::]*/: { /* n:\"BrtEndOleObjects\", */ T:-1 },\n\t/*::[*/0x0281/*::]*/: { /* n:\"BrtBeginSxrules\", */ T:1 },\n\t/*::[*/0x0282/*::]*/: { /* n:\"BrtEndSxRules\", */ T:-1 },\n\t/*::[*/0x0283/*::]*/: { /* n:\"BrtBeginActiveXControls\", */ T:1 },\n\t/*::[*/0x0284/*::]*/: { /* n:\"BrtActiveX\" */ },\n\t/*::[*/0x0285/*::]*/: { /* n:\"BrtEndActiveXControls\", */ T:-1 },\n\t/*::[*/0x0286/*::]*/: { /* n:\"BrtBeginPCDSDTCEMembersSortBy\", */ T:1 },\n\t/*::[*/0x0288/*::]*/: { /* n:\"BrtBeginCellIgnoreECs\", */ T:1 },\n\t/*::[*/0x0289/*::]*/: { /* n:\"BrtCellIgnoreEC\" */ },\n\t/*::[*/0x028A/*::]*/: { /* n:\"BrtEndCellIgnoreECs\", */ T:-1 },\n\t/*::[*/0x028B/*::]*/: { /* n:\"BrtCsProp\", */ f:parse_BrtCsProp },\n\t/*::[*/0x028C/*::]*/: { /* n:\"BrtCsPageSetup\" */ },\n\t/*::[*/0x028D/*::]*/: { /* n:\"BrtBeginUserCsViews\", */ T:1 },\n\t/*::[*/0x028E/*::]*/: { /* n:\"BrtEndUserCsViews\", */ T:-1 },\n\t/*::[*/0x028F/*::]*/: { /* n:\"BrtBeginUserCsView\", */ T:1 },\n\t/*::[*/0x0290/*::]*/: { /* n:\"BrtEndUserCsView\", */ T:-1 },\n\t/*::[*/0x0291/*::]*/: { /* n:\"BrtBeginPcdSFCIEntries\", */ T:1 },\n\t/*::[*/0x0292/*::]*/: { /* n:\"BrtEndPCDSFCIEntries\", */ T:-1 },\n\t/*::[*/0x0293/*::]*/: { /* n:\"BrtPCDSFCIEntry\" */ },\n\t/*::[*/0x0294/*::]*/: { /* n:\"BrtBeginListParts\", */ T:1 },\n\t/*::[*/0x0295/*::]*/: { /* n:\"BrtListPart\" */ },\n\t/*::[*/0x0296/*::]*/: { /* n:\"BrtEndListParts\", */ T:-1 },\n\t/*::[*/0x0297/*::]*/: { /* n:\"BrtSheetCalcProp\" */ },\n\t/*::[*/0x0298/*::]*/: { /* n:\"BrtBeginFnGroup\", */ T:1 },\n\t/*::[*/0x0299/*::]*/: { /* n:\"BrtFnGroup\" */ },\n\t/*::[*/0x029A/*::]*/: { /* n:\"BrtEndFnGroup\", */ T:-1 },\n\t/*::[*/0x029B/*::]*/: { /* n:\"BrtSupAddin\" */ },\n\t/*::[*/0x029C/*::]*/: { /* n:\"BrtSXTDMPOrder\" */ },\n\t/*::[*/0x029D/*::]*/: { /* n:\"BrtCsProtection\" */ },\n\t/*::[*/0x029F/*::]*/: { /* n:\"BrtBeginWsSortMap\", */ T:1 },\n\t/*::[*/0x02A0/*::]*/: { /* n:\"BrtEndWsSortMap\", */ T:-1 },\n\t/*::[*/0x02A1/*::]*/: { /* n:\"BrtBeginRRSort\", */ T:1 },\n\t/*::[*/0x02A2/*::]*/: { /* n:\"BrtEndRRSort\", */ T:-1 },\n\t/*::[*/0x02A3/*::]*/: { /* n:\"BrtRRSortItem\" */ },\n\t/*::[*/0x02A4/*::]*/: { /* n:\"BrtFileSharingIso\" */ },\n\t/*::[*/0x02A5/*::]*/: { /* n:\"BrtBookProtectionIso\" */ },\n\t/*::[*/0x02A6/*::]*/: { /* n:\"BrtSheetProtectionIso\" */ },\n\t/*::[*/0x02A7/*::]*/: { /* n:\"BrtCsProtectionIso\" */ },\n\t/*::[*/0x02A8/*::]*/: { /* n:\"BrtRangeProtectionIso\" */ },\n\t/*::[*/0x02A9/*::]*/: { /* n:\"BrtDValList\" */ },\n\t/*::[*/0x0400/*::]*/: { /* n:\"BrtRwDescent\" */ },\n\t/*::[*/0x0401/*::]*/: { /* n:\"BrtKnownFonts\" */ },\n\t/*::[*/0x0402/*::]*/: { /* n:\"BrtBeginSXTupleSet\", */ T:1 },\n\t/*::[*/0x0403/*::]*/: { /* n:\"BrtEndSXTupleSet\", */ T:-1 },\n\t/*::[*/0x0404/*::]*/: { /* n:\"BrtBeginSXTupleSetHeader\", */ T:1 },\n\t/*::[*/0x0405/*::]*/: { /* n:\"BrtEndSXTupleSetHeader\", */ T:-1 },\n\t/*::[*/0x0406/*::]*/: { /* n:\"BrtSXTupleSetHeaderItem\" */ },\n\t/*::[*/0x0407/*::]*/: { /* n:\"BrtBeginSXTupleSetData\", */ T:1 },\n\t/*::[*/0x0408/*::]*/: { /* n:\"BrtEndSXTupleSetData\", */ T:-1 },\n\t/*::[*/0x0409/*::]*/: { /* n:\"BrtBeginSXTupleSetRow\", */ T:1 },\n\t/*::[*/0x040A/*::]*/: { /* n:\"BrtEndSXTupleSetRow\", */ T:-1 },\n\t/*::[*/0x040B/*::]*/: { /* n:\"BrtSXTupleSetRowItem\" */ },\n\t/*::[*/0x040C/*::]*/: { /* n:\"BrtNameExt\" */ },\n\t/*::[*/0x040D/*::]*/: { /* n:\"BrtPCDH14\" */ },\n\t/*::[*/0x040E/*::]*/: { /* n:\"BrtBeginPCDCalcMem14\", */ T:1 },\n\t/*::[*/0x040F/*::]*/: { /* n:\"BrtEndPCDCalcMem14\", */ T:-1 },\n\t/*::[*/0x0410/*::]*/: { /* n:\"BrtSXTH14\" */ },\n\t/*::[*/0x0411/*::]*/: { /* n:\"BrtBeginSparklineGroup\", */ T:1 },\n\t/*::[*/0x0412/*::]*/: { /* n:\"BrtEndSparklineGroup\", */ T:-1 },\n\t/*::[*/0x0413/*::]*/: { /* n:\"BrtSparkline\" */ },\n\t/*::[*/0x0414/*::]*/: { /* n:\"BrtSXDI14\" */ },\n\t/*::[*/0x0415/*::]*/: { /* n:\"BrtWsFmtInfoEx14\" */ },\n\t/*::[*/0x0416/*::]*/: { /* n:\"BrtBeginConditionalFormatting14\", */ T:1 },\n\t/*::[*/0x0417/*::]*/: { /* n:\"BrtEndConditionalFormatting14\", */ T:-1 },\n\t/*::[*/0x0418/*::]*/: { /* n:\"BrtBeginCFRule14\", */ T:1 },\n\t/*::[*/0x0419/*::]*/: { /* n:\"BrtEndCFRule14\", */ T:-1 },\n\t/*::[*/0x041A/*::]*/: { /* n:\"BrtCFVO14\" */ },\n\t/*::[*/0x041B/*::]*/: { /* n:\"BrtBeginDatabar14\", */ T:1 },\n\t/*::[*/0x041C/*::]*/: { /* n:\"BrtBeginIconSet14\", */ T:1 },\n\t/*::[*/0x041D/*::]*/: { /* n:\"BrtDVal14\", */ f: parse_BrtDVal14 },\n\t/*::[*/0x041E/*::]*/: { /* n:\"BrtBeginDVals14\", */ T:1 },\n\t/*::[*/0x041F/*::]*/: { /* n:\"BrtColor14\" */ },\n\t/*::[*/0x0420/*::]*/: { /* n:\"BrtBeginSparklines\", */ T:1 },\n\t/*::[*/0x0421/*::]*/: { /* n:\"BrtEndSparklines\", */ T:-1 },\n\t/*::[*/0x0422/*::]*/: { /* n:\"BrtBeginSparklineGroups\", */ T:1 },\n\t/*::[*/0x0423/*::]*/: { /* n:\"BrtEndSparklineGroups\", */ T:-1 },\n\t/*::[*/0x0425/*::]*/: { /* n:\"BrtSXVD14\" */ },\n\t/*::[*/0x0426/*::]*/: { /* n:\"BrtBeginSXView14\", */ T:1 },\n\t/*::[*/0x0427/*::]*/: { /* n:\"BrtEndSXView14\", */ T:-1 },\n\t/*::[*/0x0428/*::]*/: { /* n:\"BrtBeginSXView16\", */ T:1 },\n\t/*::[*/0x0429/*::]*/: { /* n:\"BrtEndSXView16\", */ T:-1 },\n\t/*::[*/0x042A/*::]*/: { /* n:\"BrtBeginPCD14\", */ T:1 },\n\t/*::[*/0x042B/*::]*/: { /* n:\"BrtEndPCD14\", */ T:-1 },\n\t/*::[*/0x042C/*::]*/: { /* n:\"BrtBeginExtConn14\", */ T:1 },\n\t/*::[*/0x042D/*::]*/: { /* n:\"BrtEndExtConn14\", */ T:-1 },\n\t/*::[*/0x042E/*::]*/: { /* n:\"BrtBeginSlicerCacheIDs\", */ T:1 },\n\t/*::[*/0x042F/*::]*/: { /* n:\"BrtEndSlicerCacheIDs\", */ T:-1 },\n\t/*::[*/0x0430/*::]*/: { /* n:\"BrtBeginSlicerCacheID\", */ T:1 },\n\t/*::[*/0x0431/*::]*/: { /* n:\"BrtEndSlicerCacheID\", */ T:-1 },\n\t/*::[*/0x0433/*::]*/: { /* n:\"BrtBeginSlicerCache\", */ T:1 },\n\t/*::[*/0x0434/*::]*/: { /* n:\"BrtEndSlicerCache\", */ T:-1 },\n\t/*::[*/0x0435/*::]*/: { /* n:\"BrtBeginSlicerCacheDef\", */ T:1 },\n\t/*::[*/0x0436/*::]*/: { /* n:\"BrtEndSlicerCacheDef\", */ T:-1 },\n\t/*::[*/0x0437/*::]*/: { /* n:\"BrtBeginSlicersEx\", */ T:1 },\n\t/*::[*/0x0438/*::]*/: { /* n:\"BrtEndSlicersEx\", */ T:-1 },\n\t/*::[*/0x0439/*::]*/: { /* n:\"BrtBeginSlicerEx\", */ T:1 },\n\t/*::[*/0x043A/*::]*/: { /* n:\"BrtEndSlicerEx\", */ T:-1 },\n\t/*::[*/0x043B/*::]*/: { /* n:\"BrtBeginSlicer\", */ T:1 },\n\t/*::[*/0x043C/*::]*/: { /* n:\"BrtEndSlicer\", */ T:-1 },\n\t/*::[*/0x043D/*::]*/: { /* n:\"BrtSlicerCachePivotTables\" */ },\n\t/*::[*/0x043E/*::]*/: { /* n:\"BrtBeginSlicerCacheOlapImpl\", */ T:1 },\n\t/*::[*/0x043F/*::]*/: { /* n:\"BrtEndSlicerCacheOlapImpl\", */ T:-1 },\n\t/*::[*/0x0440/*::]*/: { /* n:\"BrtBeginSlicerCacheLevelsData\", */ T:1 },\n\t/*::[*/0x0441/*::]*/: { /* n:\"BrtEndSlicerCacheLevelsData\", */ T:-1 },\n\t/*::[*/0x0442/*::]*/: { /* n:\"BrtBeginSlicerCacheLevelData\", */ T:1 },\n\t/*::[*/0x0443/*::]*/: { /* n:\"BrtEndSlicerCacheLevelData\", */ T:-1 },\n\t/*::[*/0x0444/*::]*/: { /* n:\"BrtBeginSlicerCacheSiRanges\", */ T:1 },\n\t/*::[*/0x0445/*::]*/: { /* n:\"BrtEndSlicerCacheSiRanges\", */ T:-1 },\n\t/*::[*/0x0446/*::]*/: { /* n:\"BrtBeginSlicerCacheSiRange\", */ T:1 },\n\t/*::[*/0x0447/*::]*/: { /* n:\"BrtEndSlicerCacheSiRange\", */ T:-1 },\n\t/*::[*/0x0448/*::]*/: { /* n:\"BrtSlicerCacheOlapItem\" */ },\n\t/*::[*/0x0449/*::]*/: { /* n:\"BrtBeginSlicerCacheSelections\", */ T:1 },\n\t/*::[*/0x044A/*::]*/: { /* n:\"BrtSlicerCacheSelection\" */ },\n\t/*::[*/0x044B/*::]*/: { /* n:\"BrtEndSlicerCacheSelections\", */ T:-1 },\n\t/*::[*/0x044C/*::]*/: { /* n:\"BrtBeginSlicerCacheNative\", */ T:1 },\n\t/*::[*/0x044D/*::]*/: { /* n:\"BrtEndSlicerCacheNative\", */ T:-1 },\n\t/*::[*/0x044E/*::]*/: { /* n:\"BrtSlicerCacheNativeItem\" */ },\n\t/*::[*/0x044F/*::]*/: { /* n:\"BrtRangeProtection14\" */ },\n\t/*::[*/0x0450/*::]*/: { /* n:\"BrtRangeProtectionIso14\" */ },\n\t/*::[*/0x0451/*::]*/: { /* n:\"BrtCellIgnoreEC14\" */ },\n\t/*::[*/0x0457/*::]*/: { /* n:\"BrtList14\" */ },\n\t/*::[*/0x0458/*::]*/: { /* n:\"BrtCFIcon\" */ },\n\t/*::[*/0x0459/*::]*/: { /* n:\"BrtBeginSlicerCachesPivotCacheIDs\", */ T:1 },\n\t/*::[*/0x045A/*::]*/: { /* n:\"BrtEndSlicerCachesPivotCacheIDs\", */ T:-1 },\n\t/*::[*/0x045B/*::]*/: { /* n:\"BrtBeginSlicers\", */ T:1 },\n\t/*::[*/0x045C/*::]*/: { /* n:\"BrtEndSlicers\", */ T:-1 },\n\t/*::[*/0x045D/*::]*/: { /* n:\"BrtWbProp14\" */ },\n\t/*::[*/0x045E/*::]*/: { /* n:\"BrtBeginSXEdit\", */ T:1 },\n\t/*::[*/0x045F/*::]*/: { /* n:\"BrtEndSXEdit\", */ T:-1 },\n\t/*::[*/0x0460/*::]*/: { /* n:\"BrtBeginSXEdits\", */ T:1 },\n\t/*::[*/0x0461/*::]*/: { /* n:\"BrtEndSXEdits\", */ T:-1 },\n\t/*::[*/0x0462/*::]*/: { /* n:\"BrtBeginSXChange\", */ T:1 },\n\t/*::[*/0x0463/*::]*/: { /* n:\"BrtEndSXChange\", */ T:-1 },\n\t/*::[*/0x0464/*::]*/: { /* n:\"BrtBeginSXChanges\", */ T:1 },\n\t/*::[*/0x0465/*::]*/: { /* n:\"BrtEndSXChanges\", */ T:-1 },\n\t/*::[*/0x0466/*::]*/: { /* n:\"BrtSXTupleItems\" */ },\n\t/*::[*/0x0468/*::]*/: { /* n:\"BrtBeginSlicerStyle\", */ T:1 },\n\t/*::[*/0x0469/*::]*/: { /* n:\"BrtEndSlicerStyle\", */ T:-1 },\n\t/*::[*/0x046A/*::]*/: { /* n:\"BrtSlicerStyleElement\" */ },\n\t/*::[*/0x046B/*::]*/: { /* n:\"BrtBeginStyleSheetExt14\", */ T:1 },\n\t/*::[*/0x046C/*::]*/: { /* n:\"BrtEndStyleSheetExt14\", */ T:-1 },\n\t/*::[*/0x046D/*::]*/: { /* n:\"BrtBeginSlicerCachesPivotCacheID\", */ T:1 },\n\t/*::[*/0x046E/*::]*/: { /* n:\"BrtEndSlicerCachesPivotCacheID\", */ T:-1 },\n\t/*::[*/0x046F/*::]*/: { /* n:\"BrtBeginConditionalFormattings\", */ T:1 },\n\t/*::[*/0x0470/*::]*/: { /* n:\"BrtEndConditionalFormattings\", */ T:-1 },\n\t/*::[*/0x0471/*::]*/: { /* n:\"BrtBeginPCDCalcMemExt\", */ T:1 },\n\t/*::[*/0x0472/*::]*/: { /* n:\"BrtEndPCDCalcMemExt\", */ T:-1 },\n\t/*::[*/0x0473/*::]*/: { /* n:\"BrtBeginPCDCalcMemsExt\", */ T:1 },\n\t/*::[*/0x0474/*::]*/: { /* n:\"BrtEndPCDCalcMemsExt\", */ T:-1 },\n\t/*::[*/0x0475/*::]*/: { /* n:\"BrtPCDField14\" */ },\n\t/*::[*/0x0476/*::]*/: { /* n:\"BrtBeginSlicerStyles\", */ T:1 },\n\t/*::[*/0x0477/*::]*/: { /* n:\"BrtEndSlicerStyles\", */ T:-1 },\n\t/*::[*/0x0478/*::]*/: { /* n:\"BrtBeginSlicerStyleElements\", */ T:1 },\n\t/*::[*/0x0479/*::]*/: { /* n:\"BrtEndSlicerStyleElements\", */ T:-1 },\n\t/*::[*/0x047A/*::]*/: { /* n:\"BrtCFRuleExt\" */ },\n\t/*::[*/0x047B/*::]*/: { /* n:\"BrtBeginSXCondFmt14\", */ T:1 },\n\t/*::[*/0x047C/*::]*/: { /* n:\"BrtEndSXCondFmt14\", */ T:-1 },\n\t/*::[*/0x047D/*::]*/: { /* n:\"BrtBeginSXCondFmts14\", */ T:1 },\n\t/*::[*/0x047E/*::]*/: { /* n:\"BrtEndSXCondFmts14\", */ T:-1 },\n\t/*::[*/0x0480/*::]*/: { /* n:\"BrtBeginSortCond14\", */ T:1 },\n\t/*::[*/0x0481/*::]*/: { /* n:\"BrtEndSortCond14\", */ T:-1 },\n\t/*::[*/0x0482/*::]*/: { /* n:\"BrtEndDVals14\", */ T:-1 },\n\t/*::[*/0x0483/*::]*/: { /* n:\"BrtEndIconSet14\", */ T:-1 },\n\t/*::[*/0x0484/*::]*/: { /* n:\"BrtEndDatabar14\", */ T:-1 },\n\t/*::[*/0x0485/*::]*/: { /* n:\"BrtBeginColorScale14\", */ T:1 },\n\t/*::[*/0x0486/*::]*/: { /* n:\"BrtEndColorScale14\", */ T:-1 },\n\t/*::[*/0x0487/*::]*/: { /* n:\"BrtBeginSxrules14\", */ T:1 },\n\t/*::[*/0x0488/*::]*/: { /* n:\"BrtEndSxrules14\", */ T:-1 },\n\t/*::[*/0x0489/*::]*/: { /* n:\"BrtBeginPRule14\", */ T:1 },\n\t/*::[*/0x048A/*::]*/: { /* n:\"BrtEndPRule14\", */ T:-1 },\n\t/*::[*/0x048B/*::]*/: { /* n:\"BrtBeginPRFilters14\", */ T:1 },\n\t/*::[*/0x048C/*::]*/: { /* n:\"BrtEndPRFilters14\", */ T:-1 },\n\t/*::[*/0x048D/*::]*/: { /* n:\"BrtBeginPRFilter14\", */ T:1 },\n\t/*::[*/0x048E/*::]*/: { /* n:\"BrtEndPRFilter14\", */ T:-1 },\n\t/*::[*/0x048F/*::]*/: { /* n:\"BrtBeginPRFItem14\", */ T:1 },\n\t/*::[*/0x0490/*::]*/: { /* n:\"BrtEndPRFItem14\", */ T:-1 },\n\t/*::[*/0x0491/*::]*/: { /* n:\"BrtBeginCellIgnoreECs14\", */ T:1 },\n\t/*::[*/0x0492/*::]*/: { /* n:\"BrtEndCellIgnoreECs14\", */ T:-1 },\n\t/*::[*/0x0493/*::]*/: { /* n:\"BrtDxf14\" */ },\n\t/*::[*/0x0494/*::]*/: { /* n:\"BrtBeginDxF14s\", */ T:1 },\n\t/*::[*/0x0495/*::]*/: { /* n:\"BrtEndDxf14s\", */ T:-1 },\n\t/*::[*/0x0499/*::]*/: { /* n:\"BrtFilter14\" */ },\n\t/*::[*/0x049A/*::]*/: { /* n:\"BrtBeginCustomFilters14\", */ T:1 },\n\t/*::[*/0x049C/*::]*/: { /* n:\"BrtCustomFilter14\" */ },\n\t/*::[*/0x049D/*::]*/: { /* n:\"BrtIconFilter14\" */ },\n\t/*::[*/0x049E/*::]*/: { /* n:\"BrtPivotCacheConnectionName\" */ },\n\t/*::[*/0x0800/*::]*/: { /* n:\"BrtBeginDecoupledPivotCacheIDs\", */ T:1 },\n\t/*::[*/0x0801/*::]*/: { /* n:\"BrtEndDecoupledPivotCacheIDs\", */ T:-1 },\n\t/*::[*/0x0802/*::]*/: { /* n:\"BrtDecoupledPivotCacheID\" */ },\n\t/*::[*/0x0803/*::]*/: { /* n:\"BrtBeginPivotTableRefs\", */ T:1 },\n\t/*::[*/0x0804/*::]*/: { /* n:\"BrtEndPivotTableRefs\", */ T:-1 },\n\t/*::[*/0x0805/*::]*/: { /* n:\"BrtPivotTableRef\" */ },\n\t/*::[*/0x0806/*::]*/: { /* n:\"BrtSlicerCacheBookPivotTables\" */ },\n\t/*::[*/0x0807/*::]*/: { /* n:\"BrtBeginSxvcells\", */ T:1 },\n\t/*::[*/0x0808/*::]*/: { /* n:\"BrtEndSxvcells\", */ T:-1 },\n\t/*::[*/0x0809/*::]*/: { /* n:\"BrtBeginSxRow\", */ T:1 },\n\t/*::[*/0x080A/*::]*/: { /* n:\"BrtEndSxRow\", */ T:-1 },\n\t/*::[*/0x080C/*::]*/: { /* n:\"BrtPcdCalcMem15\" */ },\n\t/*::[*/0x0813/*::]*/: { /* n:\"BrtQsi15\" */ },\n\t/*::[*/0x0814/*::]*/: { /* n:\"BrtBeginWebExtensions\", */ T:1 },\n\t/*::[*/0x0815/*::]*/: { /* n:\"BrtEndWebExtensions\", */ T:-1 },\n\t/*::[*/0x0816/*::]*/: { /* n:\"BrtWebExtension\" */ },\n\t/*::[*/0x0817/*::]*/: { /* n:\"BrtAbsPath15\" */ },\n\t/*::[*/0x0818/*::]*/: { /* n:\"BrtBeginPivotTableUISettings\", */ T:1 },\n\t/*::[*/0x0819/*::]*/: { /* n:\"BrtEndPivotTableUISettings\", */ T:-1 },\n\t/*::[*/0x081B/*::]*/: { /* n:\"BrtTableSlicerCacheIDs\" */ },\n\t/*::[*/0x081C/*::]*/: { /* n:\"BrtTableSlicerCacheID\" */ },\n\t/*::[*/0x081D/*::]*/: { /* n:\"BrtBeginTableSlicerCache\", */ T:1 },\n\t/*::[*/0x081E/*::]*/: { /* n:\"BrtEndTableSlicerCache\", */ T:-1 },\n\t/*::[*/0x081F/*::]*/: { /* n:\"BrtSxFilter15\" */ },\n\t/*::[*/0x0820/*::]*/: { /* n:\"BrtBeginTimelineCachePivotCacheIDs\", */ T:1 },\n\t/*::[*/0x0821/*::]*/: { /* n:\"BrtEndTimelineCachePivotCacheIDs\", */ T:-1 },\n\t/*::[*/0x0822/*::]*/: { /* n:\"BrtTimelineCachePivotCacheID\" */ },\n\t/*::[*/0x0823/*::]*/: { /* n:\"BrtBeginTimelineCacheIDs\", */ T:1 },\n\t/*::[*/0x0824/*::]*/: { /* n:\"BrtEndTimelineCacheIDs\", */ T:-1 },\n\t/*::[*/0x0825/*::]*/: { /* n:\"BrtBeginTimelineCacheID\", */ T:1 },\n\t/*::[*/0x0826/*::]*/: { /* n:\"BrtEndTimelineCacheID\", */ T:-1 },\n\t/*::[*/0x0827/*::]*/: { /* n:\"BrtBeginTimelinesEx\", */ T:1 },\n\t/*::[*/0x0828/*::]*/: { /* n:\"BrtEndTimelinesEx\", */ T:-1 },\n\t/*::[*/0x0829/*::]*/: { /* n:\"BrtBeginTimelineEx\", */ T:1 },\n\t/*::[*/0x082A/*::]*/: { /* n:\"BrtEndTimelineEx\", */ T:-1 },\n\t/*::[*/0x082B/*::]*/: { /* n:\"BrtWorkBookPr15\" */ },\n\t/*::[*/0x082C/*::]*/: { /* n:\"BrtPCDH15\" */ },\n\t/*::[*/0x082D/*::]*/: { /* n:\"BrtBeginTimelineStyle\", */ T:1 },\n\t/*::[*/0x082E/*::]*/: { /* n:\"BrtEndTimelineStyle\", */ T:-1 },\n\t/*::[*/0x082F/*::]*/: { /* n:\"BrtTimelineStyleElement\" */ },\n\t/*::[*/0x0830/*::]*/: { /* n:\"BrtBeginTimelineStylesheetExt15\", */ T:1 },\n\t/*::[*/0x0831/*::]*/: { /* n:\"BrtEndTimelineStylesheetExt15\", */ T:-1 },\n\t/*::[*/0x0832/*::]*/: { /* n:\"BrtBeginTimelineStyles\", */ T:1 },\n\t/*::[*/0x0833/*::]*/: { /* n:\"BrtEndTimelineStyles\", */ T:-1 },\n\t/*::[*/0x0834/*::]*/: { /* n:\"BrtBeginTimelineStyleElements\", */ T:1 },\n\t/*::[*/0x0835/*::]*/: { /* n:\"BrtEndTimelineStyleElements\", */ T:-1 },\n\t/*::[*/0x0836/*::]*/: { /* n:\"BrtDxf15\" */ },\n\t/*::[*/0x0837/*::]*/: { /* n:\"BrtBeginDxfs15\", */ T:1 },\n\t/*::[*/0x0838/*::]*/: { /* n:\"BrtEndDxfs15\", */ T:-1 },\n\t/*::[*/0x0839/*::]*/: { /* n:\"BrtSlicerCacheHideItemsWithNoData\" */ },\n\t/*::[*/0x083A/*::]*/: { /* n:\"BrtBeginItemUniqueNames\", */ T:1 },\n\t/*::[*/0x083B/*::]*/: { /* n:\"BrtEndItemUniqueNames\", */ T:-1 },\n\t/*::[*/0x083C/*::]*/: { /* n:\"BrtItemUniqueName\" */ },\n\t/*::[*/0x083D/*::]*/: { /* n:\"BrtBeginExtConn15\", */ T:1 },\n\t/*::[*/0x083E/*::]*/: { /* n:\"BrtEndExtConn15\", */ T:-1 },\n\t/*::[*/0x083F/*::]*/: { /* n:\"BrtBeginOledbPr15\", */ T:1 },\n\t/*::[*/0x0840/*::]*/: { /* n:\"BrtEndOledbPr15\", */ T:-1 },\n\t/*::[*/0x0841/*::]*/: { /* n:\"BrtBeginDataFeedPr15\", */ T:1 },\n\t/*::[*/0x0842/*::]*/: { /* n:\"BrtEndDataFeedPr15\", */ T:-1 },\n\t/*::[*/0x0843/*::]*/: { /* n:\"BrtTextPr15\" */ },\n\t/*::[*/0x0844/*::]*/: { /* n:\"BrtRangePr15\" */ },\n\t/*::[*/0x0845/*::]*/: { /* n:\"BrtDbCommand15\" */ },\n\t/*::[*/0x0846/*::]*/: { /* n:\"BrtBeginDbTables15\", */ T:1 },\n\t/*::[*/0x0847/*::]*/: { /* n:\"BrtEndDbTables15\", */ T:-1 },\n\t/*::[*/0x0848/*::]*/: { /* n:\"BrtDbTable15\" */ },\n\t/*::[*/0x0849/*::]*/: { /* n:\"BrtBeginDataModel\", */ T:1 },\n\t/*::[*/0x084A/*::]*/: { /* n:\"BrtEndDataModel\", */ T:-1 },\n\t/*::[*/0x084B/*::]*/: { /* n:\"BrtBeginModelTables\", */ T:1 },\n\t/*::[*/0x084C/*::]*/: { /* n:\"BrtEndModelTables\", */ T:-1 },\n\t/*::[*/0x084D/*::]*/: { /* n:\"BrtModelTable\" */ },\n\t/*::[*/0x084E/*::]*/: { /* n:\"BrtBeginModelRelationships\", */ T:1 },\n\t/*::[*/0x084F/*::]*/: { /* n:\"BrtEndModelRelationships\", */ T:-1 },\n\t/*::[*/0x0850/*::]*/: { /* n:\"BrtModelRelationship\" */ },\n\t/*::[*/0x0851/*::]*/: { /* n:\"BrtBeginECTxtWiz15\", */ T:1 },\n\t/*::[*/0x0852/*::]*/: { /* n:\"BrtEndECTxtWiz15\", */ T:-1 },\n\t/*::[*/0x0853/*::]*/: { /* n:\"BrtBeginECTWFldInfoLst15\", */ T:1 },\n\t/*::[*/0x0854/*::]*/: { /* n:\"BrtEndECTWFldInfoLst15\", */ T:-1 },\n\t/*::[*/0x0855/*::]*/: { /* n:\"BrtBeginECTWFldInfo15\", */ T:1 },\n\t/*::[*/0x0856/*::]*/: { /* n:\"BrtFieldListActiveItem\" */ },\n\t/*::[*/0x0857/*::]*/: { /* n:\"BrtPivotCacheIdVersion\" */ },\n\t/*::[*/0x0858/*::]*/: { /* n:\"BrtSXDI15\" */ },\n\t/*::[*/0x0859/*::]*/: { /* n:\"BrtBeginModelTimeGroupings\", */ T:1 },\n\t/*::[*/0x085A/*::]*/: { /* n:\"BrtEndModelTimeGroupings\", */ T:-1 },\n\t/*::[*/0x085B/*::]*/: { /* n:\"BrtBeginModelTimeGrouping\", */ T:1 },\n\t/*::[*/0x085C/*::]*/: { /* n:\"BrtEndModelTimeGrouping\", */ T:-1 },\n\t/*::[*/0x085D/*::]*/: { /* n:\"BrtModelTimeGroupingCalcCol\" */ },\n\t/*::[*/0x0C00/*::]*/: { /* n:\"BrtUid\" */ },\n\t/*::[*/0x0C01/*::]*/: { /* n:\"BrtRevisionPtr\" */ },\n\t/*::[*/0x1000/*::]*/: { /* n:\"BrtBeginDynamicArrayPr\", */ T:1 },\n\t/*::[*/0x1001/*::]*/: { /* n:\"BrtEndDynamicArrayPr\", */ T:-1 },\n\t/*::[*/0x138A/*::]*/: { /* n:\"BrtBeginRichValueBlock\", */ T:1 },\n\t/*::[*/0x138B/*::]*/: { /* n:\"BrtEndRichValueBlock\", */ T:-1 },\n\t/*::[*/0x13D9/*::]*/: { /* n:\"BrtBeginRichFilters\", */ T:1 },\n\t/*::[*/0x13DA/*::]*/: { /* n:\"BrtEndRichFilters\", */ T:-1 },\n\t/*::[*/0x13DB/*::]*/: { /* n:\"BrtRichFilter\" */ },\n\t/*::[*/0x13DC/*::]*/: { /* n:\"BrtBeginRichFilterColumn\", */ T:1 },\n\t/*::[*/0x13DD/*::]*/: { /* n:\"BrtEndRichFilterColumn\", */ T:-1 },\n\t/*::[*/0x13DE/*::]*/: { /* n:\"BrtBeginCustomRichFilters\", */ T:1 },\n\t/*::[*/0x13DF/*::]*/: { /* n:\"BrtEndCustomRichFilters\", */ T:-1 },\n\t/*::[*/0x13E0/*::]*/: { /* n:\"BrtCustomRichFilter\" */ },\n\t/*::[*/0x13E1/*::]*/: { /* n:\"BrtTop10RichFilter\" */ },\n\t/*::[*/0x13E2/*::]*/: { /* n:\"BrtDynamicRichFilter\" */ },\n\t/*::[*/0x13E4/*::]*/: { /* n:\"BrtBeginRichSortCondition\", */ T:1 },\n\t/*::[*/0x13E5/*::]*/: { /* n:\"BrtEndRichSortCondition\", */ T:-1 },\n\t/*::[*/0x13E6/*::]*/: { /* n:\"BrtRichFilterDateGroupItem\" */ },\n\t/*::[*/0x13E7/*::]*/: { /* n:\"BrtBeginCalcFeatures\", */ T:1 },\n\t/*::[*/0x13E8/*::]*/: { /* n:\"BrtEndCalcFeatures\", */ T:-1 },\n\t/*::[*/0x13E9/*::]*/: { /* n:\"BrtCalcFeature\" */ },\n\t/*::[*/0x13EB/*::]*/: { /* n:\"BrtExternalLinksPr\" */ },\n\t/*::[*/0xFFFF/*::]*/: { n:\"\" }\n};\n\n/* [MS-XLS] 2.3 Record Enumeration (and other sources) */\nvar XLSRecordEnum = {\n\t/* [MS-XLS] 2.3 Record Enumeration 2021-08-17 */\n\t/*::[*/0x0006/*::]*/: { /* n:\"Formula\", */ f:parse_Formula },\n\t/*::[*/0x000a/*::]*/: { /* n:\"EOF\", */ f:parsenoop2 },\n\t/*::[*/0x000c/*::]*/: { /* n:\"CalcCount\", */ f:parseuint16 }, //\n\t/*::[*/0x000d/*::]*/: { /* n:\"CalcMode\", */ f:parseuint16 }, //\n\t/*::[*/0x000e/*::]*/: { /* n:\"CalcPrecision\", */ f:parsebool }, //\n\t/*::[*/0x000f/*::]*/: { /* n:\"CalcRefMode\", */ f:parsebool }, //\n\t/*::[*/0x0010/*::]*/: { /* n:\"CalcDelta\", */ f:parse_Xnum }, //\n\t/*::[*/0x0011/*::]*/: { /* n:\"CalcIter\", */ f:parsebool }, //\n\t/*::[*/0x0012/*::]*/: { /* n:\"Protect\", */ f:parsebool },\n\t/*::[*/0x0013/*::]*/: { /* n:\"Password\", */ f:parseuint16 },\n\t/*::[*/0x0014/*::]*/: { /* n:\"Header\", */ f:parse_XLHeaderFooter },\n\t/*::[*/0x0015/*::]*/: { /* n:\"Footer\", */ f:parse_XLHeaderFooter },\n\t/*::[*/0x0017/*::]*/: { /* n:\"ExternSheet\", */ f:parse_ExternSheet },\n\t/*::[*/0x0018/*::]*/: { /* n:\"Lbl\", */ f:parse_Lbl },\n\t/*::[*/0x0019/*::]*/: { /* n:\"WinProtect\", */ f:parsebool },\n\t/*::[*/0x001a/*::]*/: { /* n:\"VerticalPageBreaks\", */ },\n\t/*::[*/0x001b/*::]*/: { /* n:\"HorizontalPageBreaks\", */ },\n\t/*::[*/0x001c/*::]*/: { /* n:\"Note\", */ f:parse_Note },\n\t/*::[*/0x001d/*::]*/: { /* n:\"Selection\", */ },\n\t/*::[*/0x0022/*::]*/: { /* n:\"Date1904\", */ f:parsebool },\n\t/*::[*/0x0023/*::]*/: { /* n:\"ExternName\", */ f:parse_ExternName },\n\t/*::[*/0x0026/*::]*/: { /* n:\"LeftMargin\", */ f:parse_Xnum }, // *\n\t/*::[*/0x0027/*::]*/: { /* n:\"RightMargin\", */ f:parse_Xnum }, // *\n\t/*::[*/0x0028/*::]*/: { /* n:\"TopMargin\", */ f:parse_Xnum }, // *\n\t/*::[*/0x0029/*::]*/: { /* n:\"BottomMargin\", */ f:parse_Xnum }, // *\n\t/*::[*/0x002a/*::]*/: { /* n:\"PrintRowCol\", */ f:parsebool },\n\t/*::[*/0x002b/*::]*/: { /* n:\"PrintGrid\", */ f:parsebool },\n\t/*::[*/0x002f/*::]*/: { /* n:\"FilePass\", */ f:parse_FilePass },\n\t/*::[*/0x0031/*::]*/: { /* n:\"Font\", */ f:parse_Font },\n\t/*::[*/0x0033/*::]*/: { /* n:\"PrintSize\", */ f:parseuint16 },\n\t/*::[*/0x003c/*::]*/: { /* n:\"Continue\", */ },\n\t/*::[*/0x003d/*::]*/: { /* n:\"Window1\", */ f:parse_Window1 },\n\t/*::[*/0x0040/*::]*/: { /* n:\"Backup\", */ f:parsebool },\n\t/*::[*/0x0041/*::]*/: { /* n:\"Pane\", */ f:parse_Pane },\n\t/*::[*/0x0042/*::]*/: { /* n:\"CodePage\", */ f:parseuint16 },\n\t/*::[*/0x004d/*::]*/: { /* n:\"Pls\", */ },\n\t/*::[*/0x0050/*::]*/: { /* n:\"DCon\", */ },\n\t/*::[*/0x0051/*::]*/: { /* n:\"DConRef\", */ },\n\t/*::[*/0x0052/*::]*/: { /* n:\"DConName\", */ },\n\t/*::[*/0x0055/*::]*/: { /* n:\"DefColWidth\", */ f:parseuint16 },\n\t/*::[*/0x0059/*::]*/: { /* n:\"XCT\", */ },\n\t/*::[*/0x005a/*::]*/: { /* n:\"CRN\", */ },\n\t/*::[*/0x005b/*::]*/: { /* n:\"FileSharing\", */ },\n\t/*::[*/0x005c/*::]*/: { /* n:\"WriteAccess\", */ f:parse_WriteAccess },\n\t/*::[*/0x005d/*::]*/: { /* n:\"Obj\", */ f:parse_Obj },\n\t/*::[*/0x005e/*::]*/: { /* n:\"Uncalced\", */ },\n\t/*::[*/0x005f/*::]*/: { /* n:\"CalcSaveRecalc\", */ f:parsebool }, //\n\t/*::[*/0x0060/*::]*/: { /* n:\"Template\", */ },\n\t/*::[*/0x0061/*::]*/: { /* n:\"Intl\", */ },\n\t/*::[*/0x0063/*::]*/: { /* n:\"ObjProtect\", */ f:parsebool },\n\t/*::[*/0x007d/*::]*/: { /* n:\"ColInfo\", */ f:parse_ColInfo },\n\t/*::[*/0x0080/*::]*/: { /* n:\"Guts\", */ f:parse_Guts },\n\t/*::[*/0x0081/*::]*/: { /* n:\"WsBool\", */ f:parse_WsBool },\n\t/*::[*/0x0082/*::]*/: { /* n:\"GridSet\", */ f:parseuint16 },\n\t/*::[*/0x0083/*::]*/: { /* n:\"HCenter\", */ f:parsebool },\n\t/*::[*/0x0084/*::]*/: { /* n:\"VCenter\", */ f:parsebool },\n\t/*::[*/0x0085/*::]*/: { /* n:\"BoundSheet8\", */ f:parse_BoundSheet8 },\n\t/*::[*/0x0086/*::]*/: { /* n:\"WriteProtect\", */ },\n\t/*::[*/0x008c/*::]*/: { /* n:\"Country\", */ f:parse_Country },\n\t/*::[*/0x008d/*::]*/: { /* n:\"HideObj\", */ f:parseuint16 },\n\t/*::[*/0x0090/*::]*/: { /* n:\"Sort\", */ },\n\t/*::[*/0x0092/*::]*/: { /* n:\"Palette\", */ f:parse_Palette },\n\t/*::[*/0x0097/*::]*/: { /* n:\"Sync\", */ },\n\t/*::[*/0x0098/*::]*/: { /* n:\"LPr\", */ },\n\t/*::[*/0x0099/*::]*/: { /* n:\"DxGCol\", */ },\n\t/*::[*/0x009a/*::]*/: { /* n:\"FnGroupName\", */ },\n\t/*::[*/0x009b/*::]*/: { /* n:\"FilterMode\", */ },\n\t/*::[*/0x009c/*::]*/: { /* n:\"BuiltInFnGroupCount\", */ f:parseuint16 },\n\t/*::[*/0x009d/*::]*/: { /* n:\"AutoFilterInfo\", */ },\n\t/*::[*/0x009e/*::]*/: { /* n:\"AutoFilter\", */ },\n\t/*::[*/0x00a0/*::]*/: { /* n:\"Scl\", */ f:parse_Scl },\n\t/*::[*/0x00a1/*::]*/: { /* n:\"Setup\", */ f:parse_Setup },\n\t/*::[*/0x00ae/*::]*/: { /* n:\"ScenMan\", */ },\n\t/*::[*/0x00af/*::]*/: { /* n:\"SCENARIO\", */ },\n\t/*::[*/0x00b0/*::]*/: { /* n:\"SxView\", */ },\n\t/*::[*/0x00b1/*::]*/: { /* n:\"Sxvd\", */ },\n\t/*::[*/0x00b2/*::]*/: { /* n:\"SXVI\", */ },\n\t/*::[*/0x00b4/*::]*/: { /* n:\"SxIvd\", */ },\n\t/*::[*/0x00b5/*::]*/: { /* n:\"SXLI\", */ },\n\t/*::[*/0x00b6/*::]*/: { /* n:\"SXPI\", */ },\n\t/*::[*/0x00b8/*::]*/: { /* n:\"DocRoute\", */ },\n\t/*::[*/0x00b9/*::]*/: { /* n:\"RecipName\", */ },\n\t/*::[*/0x00bd/*::]*/: { /* n:\"MulRk\", */ f:parse_MulRk },\n\t/*::[*/0x00be/*::]*/: { /* n:\"MulBlank\", */ f:parse_MulBlank },\n\t/*::[*/0x00c1/*::]*/: { /* n:\"Mms\", */ f:parsenoop2 },\n\t/*::[*/0x00c5/*::]*/: { /* n:\"SXDI\", */ },\n\t/*::[*/0x00c6/*::]*/: { /* n:\"SXDB\", */ },\n\t/*::[*/0x00c7/*::]*/: { /* n:\"SXFDB\", */ },\n\t/*::[*/0x00c8/*::]*/: { /* n:\"SXDBB\", */ },\n\t/*::[*/0x00c9/*::]*/: { /* n:\"SXNum\", */ },\n\t/*::[*/0x00ca/*::]*/: { /* n:\"SxBool\", */ f:parsebool },\n\t/*::[*/0x00cb/*::]*/: { /* n:\"SxErr\", */ },\n\t/*::[*/0x00cc/*::]*/: { /* n:\"SXInt\", */ },\n\t/*::[*/0x00cd/*::]*/: { /* n:\"SXString\", */ },\n\t/*::[*/0x00ce/*::]*/: { /* n:\"SXDtr\", */ },\n\t/*::[*/0x00cf/*::]*/: { /* n:\"SxNil\", */ },\n\t/*::[*/0x00d0/*::]*/: { /* n:\"SXTbl\", */ },\n\t/*::[*/0x00d1/*::]*/: { /* n:\"SXTBRGIITM\", */ },\n\t/*::[*/0x00d2/*::]*/: { /* n:\"SxTbpg\", */ },\n\t/*::[*/0x00d3/*::]*/: { /* n:\"ObProj\", */ },\n\t/*::[*/0x00d5/*::]*/: { /* n:\"SXStreamID\", */ },\n\t/*::[*/0x00d7/*::]*/: { /* n:\"DBCell\", */ },\n\t/*::[*/0x00d8/*::]*/: { /* n:\"SXRng\", */ },\n\t/*::[*/0x00d9/*::]*/: { /* n:\"SxIsxoper\", */ },\n\t/*::[*/0x00da/*::]*/: { /* n:\"BookBool\", */ f:parseuint16 },\n\t/*::[*/0x00dc/*::]*/: { /* n:\"DbOrParamQry\", */ },\n\t/*::[*/0x00dd/*::]*/: { /* n:\"ScenarioProtect\", */ f:parsebool },\n\t/*::[*/0x00de/*::]*/: { /* n:\"OleObjectSize\", */ },\n\t/*::[*/0x00e0/*::]*/: { /* n:\"XF\", */ f:parse_XF },\n\t/*::[*/0x00e1/*::]*/: { /* n:\"InterfaceHdr\", */ f:parse_InterfaceHdr },\n\t/*::[*/0x00e2/*::]*/: { /* n:\"InterfaceEnd\", */ f:parsenoop2 },\n\t/*::[*/0x00e3/*::]*/: { /* n:\"SXVS\", */ },\n\t/*::[*/0x00e5/*::]*/: { /* n:\"MergeCells\", */ f:parse_MergeCells },\n\t/*::[*/0x00e9/*::]*/: { /* n:\"BkHim\", */ },\n\t/*::[*/0x00eb/*::]*/: { /* n:\"MsoDrawingGroup\", */ },\n\t/*::[*/0x00ec/*::]*/: { /* n:\"MsoDrawing\", */ },\n\t/*::[*/0x00ed/*::]*/: { /* n:\"MsoDrawingSelection\", */ },\n\t/*::[*/0x00ef/*::]*/: { /* n:\"PhoneticInfo\", */ },\n\t/*::[*/0x00f0/*::]*/: { /* n:\"SxRule\", */ },\n\t/*::[*/0x00f1/*::]*/: { /* n:\"SXEx\", */ },\n\t/*::[*/0x00f2/*::]*/: { /* n:\"SxFilt\", */ },\n\t/*::[*/0x00f4/*::]*/: { /* n:\"SxDXF\", */ },\n\t/*::[*/0x00f5/*::]*/: { /* n:\"SxItm\", */ },\n\t/*::[*/0x00f6/*::]*/: { /* n:\"SxName\", */ },\n\t/*::[*/0x00f7/*::]*/: { /* n:\"SxSelect\", */ },\n\t/*::[*/0x00f8/*::]*/: { /* n:\"SXPair\", */ },\n\t/*::[*/0x00f9/*::]*/: { /* n:\"SxFmla\", */ },\n\t/*::[*/0x00fb/*::]*/: { /* n:\"SxFormat\", */ },\n\t/*::[*/0x00fc/*::]*/: { /* n:\"SST\", */ f:parse_SST },\n\t/*::[*/0x00fd/*::]*/: { /* n:\"LabelSst\", */ f:parse_LabelSst },\n\t/*::[*/0x00ff/*::]*/: { /* n:\"ExtSST\", */ f:parse_ExtSST },\n\t/*::[*/0x0100/*::]*/: { /* n:\"SXVDEx\", */ },\n\t/*::[*/0x0103/*::]*/: { /* n:\"SXFormula\", */ },\n\t/*::[*/0x0122/*::]*/: { /* n:\"SXDBEx\", */ },\n\t/*::[*/0x0137/*::]*/: { /* n:\"RRDInsDel\", */ },\n\t/*::[*/0x0138/*::]*/: { /* n:\"RRDHead\", */ },\n\t/*::[*/0x013b/*::]*/: { /* n:\"RRDChgCell\", */ },\n\t/*::[*/0x013d/*::]*/: { /* n:\"RRTabId\", */ f:parseuint16a },\n\t/*::[*/0x013e/*::]*/: { /* n:\"RRDRenSheet\", */ },\n\t/*::[*/0x013f/*::]*/: { /* n:\"RRSort\", */ },\n\t/*::[*/0x0140/*::]*/: { /* n:\"RRDMove\", */ },\n\t/*::[*/0x014a/*::]*/: { /* n:\"RRFormat\", */ },\n\t/*::[*/0x014b/*::]*/: { /* n:\"RRAutoFmt\", */ },\n\t/*::[*/0x014d/*::]*/: { /* n:\"RRInsertSh\", */ },\n\t/*::[*/0x014e/*::]*/: { /* n:\"RRDMoveBegin\", */ },\n\t/*::[*/0x014f/*::]*/: { /* n:\"RRDMoveEnd\", */ },\n\t/*::[*/0x0150/*::]*/: { /* n:\"RRDInsDelBegin\", */ },\n\t/*::[*/0x0151/*::]*/: { /* n:\"RRDInsDelEnd\", */ },\n\t/*::[*/0x0152/*::]*/: { /* n:\"RRDConflict\", */ },\n\t/*::[*/0x0153/*::]*/: { /* n:\"RRDDefName\", */ },\n\t/*::[*/0x0154/*::]*/: { /* n:\"RRDRstEtxp\", */ },\n\t/*::[*/0x015f/*::]*/: { /* n:\"LRng\", */ },\n\t/*::[*/0x0160/*::]*/: { /* n:\"UsesELFs\", */ f:parsebool },\n\t/*::[*/0x0161/*::]*/: { /* n:\"DSF\", */ f:parsenoop2 },\n\t/*::[*/0x0191/*::]*/: { /* n:\"CUsr\", */ },\n\t/*::[*/0x0192/*::]*/: { /* n:\"CbUsr\", */ },\n\t/*::[*/0x0193/*::]*/: { /* n:\"UsrInfo\", */ },\n\t/*::[*/0x0194/*::]*/: { /* n:\"UsrExcl\", */ },\n\t/*::[*/0x0195/*::]*/: { /* n:\"FileLock\", */ },\n\t/*::[*/0x0196/*::]*/: { /* n:\"RRDInfo\", */ },\n\t/*::[*/0x0197/*::]*/: { /* n:\"BCUsrs\", */ },\n\t/*::[*/0x0198/*::]*/: { /* n:\"UsrChk\", */ },\n\t/*::[*/0x01a9/*::]*/: { /* n:\"UserBView\", */ },\n\t/*::[*/0x01aa/*::]*/: { /* n:\"UserSViewBegin\", */ },\n\t/*::[*/0x01ab/*::]*/: { /* n:\"UserSViewEnd\", */ },\n\t/*::[*/0x01ac/*::]*/: { /* n:\"RRDUserView\", */ },\n\t/*::[*/0x01ad/*::]*/: { /* n:\"Qsi\", */ },\n\t/*::[*/0x01ae/*::]*/: { /* n:\"SupBook\", */ f:parse_SupBook },\n\t/*::[*/0x01af/*::]*/: { /* n:\"Prot4Rev\", */ f:parsebool },\n\t/*::[*/0x01b0/*::]*/: { /* n:\"CondFmt\", */ },\n\t/*::[*/0x01b1/*::]*/: { /* n:\"CF\", */ },\n\t/*::[*/0x01b2/*::]*/: { /* n:\"DVal\", */ },\n\t/*::[*/0x01b5/*::]*/: { /* n:\"DConBin\", */ },\n\t/*::[*/0x01b6/*::]*/: { /* n:\"TxO\", */ f:parse_TxO },\n\t/*::[*/0x01b7/*::]*/: { /* n:\"RefreshAll\", */ f:parsebool }, //\n\t/*::[*/0x01b8/*::]*/: { /* n:\"HLink\", */ f:parse_HLink },\n\t/*::[*/0x01b9/*::]*/: { /* n:\"Lel\", */ },\n\t/*::[*/0x01ba/*::]*/: { /* n:\"CodeName\", */ f:parse_XLUnicodeString },\n\t/*::[*/0x01bb/*::]*/: { /* n:\"SXFDBType\", */ },\n\t/*::[*/0x01bc/*::]*/: { /* n:\"Prot4RevPass\", */ f:parseuint16 },\n\t/*::[*/0x01bd/*::]*/: { /* n:\"ObNoMacros\", */ },\n\t/*::[*/0x01be/*::]*/: { /* n:\"Dv\", */ },\n\t/*::[*/0x01c0/*::]*/: { /* n:\"Excel9File\", */ f:parsenoop2 },\n\t/*::[*/0x01c1/*::]*/: { /* n:\"RecalcId\", */ f:parse_RecalcId, r:2},\n\t/*::[*/0x01c2/*::]*/: { /* n:\"EntExU2\", */ f:parsenoop2 },\n\t/*::[*/0x0200/*::]*/: { /* n:\"Dimensions\", */ f:parse_Dimensions },\n\t/*::[*/0x0201/*::]*/: { /* n:\"Blank\", */ f:parse_Blank },\n\t/*::[*/0x0203/*::]*/: { /* n:\"Number\", */ f:parse_Number },\n\t/*::[*/0x0204/*::]*/: { /* n:\"Label\", */ f:parse_Label },\n\t/*::[*/0x0205/*::]*/: { /* n:\"BoolErr\", */ f:parse_BoolErr },\n\t/*::[*/0x0207/*::]*/: { /* n:\"String\", */ f:parse_String },\n\t/*::[*/0x0208/*::]*/: { /* n:\"Row\", */ f:parse_Row },\n\t/*::[*/0x020b/*::]*/: { /* n:\"Index\", */ },\n\t/*::[*/0x0221/*::]*/: { /* n:\"Array\", */ f:parse_Array },\n\t/*::[*/0x0225/*::]*/: { /* n:\"DefaultRowHeight\", */ f:parse_DefaultRowHeight },\n\t/*::[*/0x0236/*::]*/: { /* n:\"Table\", */ },\n\t/*::[*/0x023e/*::]*/: { /* n:\"Window2\", */ f:parse_Window2 },\n\t/*::[*/0x027e/*::]*/: { /* n:\"RK\", */ f:parse_RK },\n\t/*::[*/0x0293/*::]*/: { /* n:\"Style\", */ },\n\t/*::[*/0x0418/*::]*/: { /* n:\"BigName\", */ },\n\t/*::[*/0x041e/*::]*/: { /* n:\"Format\", */ f:parse_Format },\n\t/*::[*/0x043c/*::]*/: { /* n:\"ContinueBigName\", */ },\n\t/*::[*/0x04bc/*::]*/: { /* n:\"ShrFmla\", */ f:parse_ShrFmla },\n\t/*::[*/0x0800/*::]*/: { /* n:\"HLinkTooltip\", */ f:parse_HLinkTooltip },\n\t/*::[*/0x0801/*::]*/: { /* n:\"WebPub\", */ },\n\t/*::[*/0x0802/*::]*/: { /* n:\"QsiSXTag\", */ },\n\t/*::[*/0x0803/*::]*/: { /* n:\"DBQueryExt\", */ },\n\t/*::[*/0x0804/*::]*/: { /* n:\"ExtString\", */ },\n\t/*::[*/0x0805/*::]*/: { /* n:\"TxtQry\", */ },\n\t/*::[*/0x0806/*::]*/: { /* n:\"Qsir\", */ },\n\t/*::[*/0x0807/*::]*/: { /* n:\"Qsif\", */ },\n\t/*::[*/0x0808/*::]*/: { /* n:\"RRDTQSIF\", */ },\n\t/*::[*/0x0809/*::]*/: { /* n:\"BOF\", */ f:parse_BOF },\n\t/*::[*/0x080a/*::]*/: { /* n:\"OleDbConn\", */ },\n\t/*::[*/0x080b/*::]*/: { /* n:\"WOpt\", */ },\n\t/*::[*/0x080c/*::]*/: { /* n:\"SXViewEx\", */ },\n\t/*::[*/0x080d/*::]*/: { /* n:\"SXTH\", */ },\n\t/*::[*/0x080e/*::]*/: { /* n:\"SXPIEx\", */ },\n\t/*::[*/0x080f/*::]*/: { /* n:\"SXVDTEx\", */ },\n\t/*::[*/0x0810/*::]*/: { /* n:\"SXViewEx9\", */ },\n\t/*::[*/0x0812/*::]*/: { /* n:\"ContinueFrt\", */ },\n\t/*::[*/0x0813/*::]*/: { /* n:\"RealTimeData\", */ },\n\t/*::[*/0x0850/*::]*/: { /* n:\"ChartFrtInfo\", */ },\n\t/*::[*/0x0851/*::]*/: { /* n:\"FrtWrapper\", */ },\n\t/*::[*/0x0852/*::]*/: { /* n:\"StartBlock\", */ },\n\t/*::[*/0x0853/*::]*/: { /* n:\"EndBlock\", */ },\n\t/*::[*/0x0854/*::]*/: { /* n:\"StartObject\", */ },\n\t/*::[*/0x0855/*::]*/: { /* n:\"EndObject\", */ },\n\t/*::[*/0x0856/*::]*/: { /* n:\"CatLab\", */ },\n\t/*::[*/0x0857/*::]*/: { /* n:\"YMult\", */ },\n\t/*::[*/0x0858/*::]*/: { /* n:\"SXViewLink\", */ },\n\t/*::[*/0x0859/*::]*/: { /* n:\"PivotChartBits\", */ },\n\t/*::[*/0x085a/*::]*/: { /* n:\"FrtFontList\", */ },\n\t/*::[*/0x0862/*::]*/: { /* n:\"SheetExt\", */ },\n\t/*::[*/0x0863/*::]*/: { /* n:\"BookExt\", */ r:12},\n\t/*::[*/0x0864/*::]*/: { /* n:\"SXAddl\", */ },\n\t/*::[*/0x0865/*::]*/: { /* n:\"CrErr\", */ },\n\t/*::[*/0x0866/*::]*/: { /* n:\"HFPicture\", */ },\n\t/*::[*/0x0867/*::]*/: { /* n:\"FeatHdr\", */ f:parsenoop2 },\n\t/*::[*/0x0868/*::]*/: { /* n:\"Feat\", */ },\n\t/*::[*/0x086a/*::]*/: { /* n:\"DataLabExt\", */ },\n\t/*::[*/0x086b/*::]*/: { /* n:\"DataLabExtContents\", */ },\n\t/*::[*/0x086c/*::]*/: { /* n:\"CellWatch\", */ },\n\t/*::[*/0x0871/*::]*/: { /* n:\"FeatHdr11\", */ },\n\t/*::[*/0x0872/*::]*/: { /* n:\"Feature11\", */ },\n\t/*::[*/0x0874/*::]*/: { /* n:\"DropDownObjIds\", */ },\n\t/*::[*/0x0875/*::]*/: { /* n:\"ContinueFrt11\", */ },\n\t/*::[*/0x0876/*::]*/: { /* n:\"DConn\", */ },\n\t/*::[*/0x0877/*::]*/: { /* n:\"List12\", */ },\n\t/*::[*/0x0878/*::]*/: { /* n:\"Feature12\", */ },\n\t/*::[*/0x0879/*::]*/: { /* n:\"CondFmt12\", */ },\n\t/*::[*/0x087a/*::]*/: { /* n:\"CF12\", */ },\n\t/*::[*/0x087b/*::]*/: { /* n:\"CFEx\", */ },\n\t/*::[*/0x087c/*::]*/: { /* n:\"XFCRC\", */ f:parse_XFCRC, r:12 },\n\t/*::[*/0x087d/*::]*/: { /* n:\"XFExt\", */ f:parse_XFExt, r:12 },\n\t/*::[*/0x087e/*::]*/: { /* n:\"AutoFilter12\", */ },\n\t/*::[*/0x087f/*::]*/: { /* n:\"ContinueFrt12\", */ },\n\t/*::[*/0x0884/*::]*/: { /* n:\"MDTInfo\", */ },\n\t/*::[*/0x0885/*::]*/: { /* n:\"MDXStr\", */ },\n\t/*::[*/0x0886/*::]*/: { /* n:\"MDXTuple\", */ },\n\t/*::[*/0x0887/*::]*/: { /* n:\"MDXSet\", */ },\n\t/*::[*/0x0888/*::]*/: { /* n:\"MDXProp\", */ },\n\t/*::[*/0x0889/*::]*/: { /* n:\"MDXKPI\", */ },\n\t/*::[*/0x088a/*::]*/: { /* n:\"MDB\", */ },\n\t/*::[*/0x088b/*::]*/: { /* n:\"PLV\", */ },\n\t/*::[*/0x088c/*::]*/: { /* n:\"Compat12\", */ f:parsebool, r:12 },\n\t/*::[*/0x088d/*::]*/: { /* n:\"DXF\", */ },\n\t/*::[*/0x088e/*::]*/: { /* n:\"TableStyles\", */ r:12 },\n\t/*::[*/0x088f/*::]*/: { /* n:\"TableStyle\", */ },\n\t/*::[*/0x0890/*::]*/: { /* n:\"TableStyleElement\", */ },\n\t/*::[*/0x0892/*::]*/: { /* n:\"StyleExt\", */ },\n\t/*::[*/0x0893/*::]*/: { /* n:\"NamePublish\", */ },\n\t/*::[*/0x0894/*::]*/: { /* n:\"NameCmt\", */ f:parse_NameCmt, r:12 },\n\t/*::[*/0x0895/*::]*/: { /* n:\"SortData\", */ },\n\t/*::[*/0x0896/*::]*/: { /* n:\"Theme\", */ f:parse_Theme, r:12 },\n\t/*::[*/0x0897/*::]*/: { /* n:\"GUIDTypeLib\", */ },\n\t/*::[*/0x0898/*::]*/: { /* n:\"FnGrp12\", */ },\n\t/*::[*/0x0899/*::]*/: { /* n:\"NameFnGrp12\", */ },\n\t/*::[*/0x089a/*::]*/: { /* n:\"MTRSettings\", */ f:parse_MTRSettings, r:12 },\n\t/*::[*/0x089b/*::]*/: { /* n:\"CompressPictures\", */ f:parsenoop2 },\n\t/*::[*/0x089c/*::]*/: { /* n:\"HeaderFooter\", */ },\n\t/*::[*/0x089d/*::]*/: { /* n:\"CrtLayout12\", */ },\n\t/*::[*/0x089e/*::]*/: { /* n:\"CrtMlFrt\", */ },\n\t/*::[*/0x089f/*::]*/: { /* n:\"CrtMlFrtContinue\", */ },\n\t/*::[*/0x08a3/*::]*/: { /* n:\"ForceFullCalculation\", */ f:parse_ForceFullCalculation },\n\t/*::[*/0x08a4/*::]*/: { /* n:\"ShapePropsStream\", */ },\n\t/*::[*/0x08a5/*::]*/: { /* n:\"TextPropsStream\", */ },\n\t/*::[*/0x08a6/*::]*/: { /* n:\"RichTextStream\", */ },\n\t/*::[*/0x08a7/*::]*/: { /* n:\"CrtLayout12A\", */ },\n\t/*::[*/0x1001/*::]*/: { /* n:\"Units\", */ },\n\t/*::[*/0x1002/*::]*/: { /* n:\"Chart\", */ },\n\t/*::[*/0x1003/*::]*/: { /* n:\"Series\", */ },\n\t/*::[*/0x1006/*::]*/: { /* n:\"DataFormat\", */ },\n\t/*::[*/0x1007/*::]*/: { /* n:\"LineFormat\", */ },\n\t/*::[*/0x1009/*::]*/: { /* n:\"MarkerFormat\", */ },\n\t/*::[*/0x100a/*::]*/: { /* n:\"AreaFormat\", */ },\n\t/*::[*/0x100b/*::]*/: { /* n:\"PieFormat\", */ },\n\t/*::[*/0x100c/*::]*/: { /* n:\"AttachedLabel\", */ },\n\t/*::[*/0x100d/*::]*/: { /* n:\"SeriesText\", */ },\n\t/*::[*/0x1014/*::]*/: { /* n:\"ChartFormat\", */ },\n\t/*::[*/0x1015/*::]*/: { /* n:\"Legend\", */ },\n\t/*::[*/0x1016/*::]*/: { /* n:\"SeriesList\", */ },\n\t/*::[*/0x1017/*::]*/: { /* n:\"Bar\", */ },\n\t/*::[*/0x1018/*::]*/: { /* n:\"Line\", */ },\n\t/*::[*/0x1019/*::]*/: { /* n:\"Pie\", */ },\n\t/*::[*/0x101a/*::]*/: { /* n:\"Area\", */ },\n\t/*::[*/0x101b/*::]*/: { /* n:\"Scatter\", */ },\n\t/*::[*/0x101c/*::]*/: { /* n:\"CrtLine\", */ },\n\t/*::[*/0x101d/*::]*/: { /* n:\"Axis\", */ },\n\t/*::[*/0x101e/*::]*/: { /* n:\"Tick\", */ },\n\t/*::[*/0x101f/*::]*/: { /* n:\"ValueRange\", */ },\n\t/*::[*/0x1020/*::]*/: { /* n:\"CatSerRange\", */ },\n\t/*::[*/0x1021/*::]*/: { /* n:\"AxisLine\", */ },\n\t/*::[*/0x1022/*::]*/: { /* n:\"CrtLink\", */ },\n\t/*::[*/0x1024/*::]*/: { /* n:\"DefaultText\", */ },\n\t/*::[*/0x1025/*::]*/: { /* n:\"Text\", */ },\n\t/*::[*/0x1026/*::]*/: { /* n:\"FontX\", */ f:parseuint16 },\n\t/*::[*/0x1027/*::]*/: { /* n:\"ObjectLink\", */ },\n\t/*::[*/0x1032/*::]*/: { /* n:\"Frame\", */ },\n\t/*::[*/0x1033/*::]*/: { /* n:\"Begin\", */ },\n\t/*::[*/0x1034/*::]*/: { /* n:\"End\", */ },\n\t/*::[*/0x1035/*::]*/: { /* n:\"PlotArea\", */ },\n\t/*::[*/0x103a/*::]*/: { /* n:\"Chart3d\", */ },\n\t/*::[*/0x103c/*::]*/: { /* n:\"PicF\", */ },\n\t/*::[*/0x103d/*::]*/: { /* n:\"DropBar\", */ },\n\t/*::[*/0x103e/*::]*/: { /* n:\"Radar\", */ },\n\t/*::[*/0x103f/*::]*/: { /* n:\"Surf\", */ },\n\t/*::[*/0x1040/*::]*/: { /* n:\"RadarArea\", */ },\n\t/*::[*/0x1041/*::]*/: { /* n:\"AxisParent\", */ },\n\t/*::[*/0x1043/*::]*/: { /* n:\"LegendException\", */ },\n\t/*::[*/0x1044/*::]*/: { /* n:\"ShtProps\", */ f:parse_ShtProps },\n\t/*::[*/0x1045/*::]*/: { /* n:\"SerToCrt\", */ },\n\t/*::[*/0x1046/*::]*/: { /* n:\"AxesUsed\", */ },\n\t/*::[*/0x1048/*::]*/: { /* n:\"SBaseRef\", */ },\n\t/*::[*/0x104a/*::]*/: { /* n:\"SerParent\", */ },\n\t/*::[*/0x104b/*::]*/: { /* n:\"SerAuxTrend\", */ },\n\t/*::[*/0x104e/*::]*/: { /* n:\"IFmtRecord\", */ },\n\t/*::[*/0x104f/*::]*/: { /* n:\"Pos\", */ },\n\t/*::[*/0x1050/*::]*/: { /* n:\"AlRuns\", */ },\n\t/*::[*/0x1051/*::]*/: { /* n:\"BRAI\", */ },\n\t/*::[*/0x105b/*::]*/: { /* n:\"SerAuxErrBar\", */ },\n\t/*::[*/0x105c/*::]*/: { /* n:\"ClrtClient\", */ f:parse_ClrtClient },\n\t/*::[*/0x105d/*::]*/: { /* n:\"SerFmt\", */ },\n\t/*::[*/0x105f/*::]*/: { /* n:\"Chart3DBarShape\", */ },\n\t/*::[*/0x1060/*::]*/: { /* n:\"Fbi\", */ },\n\t/*::[*/0x1061/*::]*/: { /* n:\"BopPop\", */ },\n\t/*::[*/0x1062/*::]*/: { /* n:\"AxcExt\", */ },\n\t/*::[*/0x1063/*::]*/: { /* n:\"Dat\", */ },\n\t/*::[*/0x1064/*::]*/: { /* n:\"PlotGrowth\", */ },\n\t/*::[*/0x1065/*::]*/: { /* n:\"SIIndex\", */ },\n\t/*::[*/0x1066/*::]*/: { /* n:\"GelFrame\", */ },\n\t/*::[*/0x1067/*::]*/: { /* n:\"BopPopCustom\", */ },\n\t/*::[*/0x1068/*::]*/: { /* n:\"Fbi2\", */ },\n\n\t/*::[*/0x0000/*::]*/: { /* n:\"Dimensions\", */ f:parse_Dimensions },\n\t/*::[*/0x0001/*::]*/: { /* n:\"BIFF2BLANK\", */ },\n\t/*::[*/0x0002/*::]*/: { /* n:\"BIFF2INT\", */ f:parse_BIFF2INT },\n\t/*::[*/0x0003/*::]*/: { /* n:\"BIFF2NUM\", */ f:parse_BIFF2NUM },\n\t/*::[*/0x0004/*::]*/: { /* n:\"BIFF2STR\", */ f:parse_BIFF2STR },\n\t/*::[*/0x0005/*::]*/: { /* n:\"BoolErr\", */ f:parse_BoolErr },\n\t/*::[*/0x0007/*::]*/: { /* n:\"String\", */ f:parse_BIFF2STRING },\n\t/*::[*/0x0008/*::]*/: { /* n:\"BIFF2ROW\", */ },\n\t/*::[*/0x0009/*::]*/: { /* n:\"BOF\", */ f:parse_BOF },\n\t/*::[*/0x000b/*::]*/: { /* n:\"Index\", */ },\n\t/*::[*/0x0016/*::]*/: { /* n:\"ExternCount\", */ f:parseuint16 },\n\t/*::[*/0x001e/*::]*/: { /* n:\"BIFF2FORMAT\", */ f:parse_BIFF2Format },\n\t/*::[*/0x001f/*::]*/: { /* n:\"BIFF2FMTCNT\", */ }, /* 16-bit cnt of BIFF2FORMAT records */\n\t/*::[*/0x0020/*::]*/: { /* n:\"BIFF2COLINFO\", */ },\n\t/*::[*/0x0021/*::]*/: { /* n:\"Array\", */ f:parse_Array },\n\t/*::[*/0x0024/*::]*/: { /* n:\"COLWIDTH\", */ },\n\t/*::[*/0x0025/*::]*/: { /* n:\"DefaultRowHeight\", */ f:parse_DefaultRowHeight },\n\t// 0x2c ??\n\t// 0x2d ??\n\t// 0x2e ??\n\t// 0x30 FONTCOUNT: number of fonts\n\t/*::[*/0x0032/*::]*/: { /* n:\"BIFF2FONTXTRA\", */ f:parse_BIFF2FONTXTRA },\n\t// 0x35: INFOOPTS\n\t// 0x36: TABLE (BIFF2 only)\n\t// 0x37: TABLE2 (BIFF2 only)\n\t// 0x38: WNDESK\n\t// 0x39 ??\n\t// 0x3a: BEGINPREF\n\t// 0x3b: ENDPREF\n\t/*::[*/0x003e/*::]*/: { /* n:\"BIFF2WINDOW2\", */ },\n\t// 0x3f ??\n\t// 0x46: SHOWSCROLL\n\t// 0x47: SHOWFORMULA\n\t// 0x48: STATUSBAR\n\t// 0x49: SHORTMENUS\n\t// 0x4A:\n\t// 0x4B:\n\t// 0x4C:\n\t// 0x4E:\n\t// 0x4F:\n\t// 0x58: TOOLBAR (BIFF3)\n\n\t/* - - - */\n\t/*::[*/0x0034/*::]*/: { /* n:\"DDEObjName\", */ },\n\t/*::[*/0x0043/*::]*/: { /* n:\"BIFF2XF\", */ },\n\t/*::[*/0x0044/*::]*/: { /* n:\"BIFF2XFINDEX\", */ f:parseuint16 },\n\t/*::[*/0x0045/*::]*/: { /* n:\"BIFF2FONTCLR\", */ },\n\t/*::[*/0x0056/*::]*/: { /* n:\"BIFF4FMTCNT\", */ }, /* 16-bit cnt, similar to BIFF2 */\n\t/*::[*/0x007e/*::]*/: { /* n:\"RK\", */ }, /* Not necessarily same as 0x027e */\n\t/*::[*/0x007f/*::]*/: { /* n:\"ImData\", */ f:parse_ImData },\n\t/*::[*/0x0087/*::]*/: { /* n:\"Addin\", */ },\n\t/*::[*/0x0088/*::]*/: { /* n:\"Edg\", */ },\n\t/*::[*/0x0089/*::]*/: { /* n:\"Pub\", */ },\n\t// 0x8A\n\t// 0x8B LH: alternate menu key flag (BIFF3/4)\n\t// 0x8E\n\t// 0x8F\n\t/*::[*/0x0091/*::]*/: { /* n:\"Sub\", */ },\n\t// 0x93 STYLE\n\t/*::[*/0x0094/*::]*/: { /* n:\"LHRecord\", */ },\n\t/*::[*/0x0095/*::]*/: { /* n:\"LHNGraph\", */ },\n\t/*::[*/0x0096/*::]*/: { /* n:\"Sound\", */ },\n\t// 0xA2 FNPROTO: function prototypes (BIFF4)\n\t// 0xA3\n\t// 0xA8\n\t/*::[*/0x00a9/*::]*/: { /* n:\"CoordList\", */ },\n\t/*::[*/0x00ab/*::]*/: { /* n:\"GCW\", */ },\n\t/*::[*/0x00bc/*::]*/: { /* n:\"ShrFmla\", */ }, /* Not necessarily same as 0x04bc */\n\t/*::[*/0x00bf/*::]*/: { /* n:\"ToolbarHdr\", */ },\n\t/*::[*/0x00c0/*::]*/: { /* n:\"ToolbarEnd\", */ },\n\t/*::[*/0x00c2/*::]*/: { /* n:\"AddMenu\", */ },\n\t/*::[*/0x00c3/*::]*/: { /* n:\"DelMenu\", */ },\n\t/*::[*/0x00d6/*::]*/: { /* n:\"RString\", */ f:parse_RString },\n\t/*::[*/0x00df/*::]*/: { /* n:\"UDDesc\", */ },\n\t/*::[*/0x00ea/*::]*/: { /* n:\"TabIdConf\", */ },\n\t/*::[*/0x0162/*::]*/: { /* n:\"XL5Modify\", */ },\n\t/*::[*/0x01a5/*::]*/: { /* n:\"FileSharing2\", */ },\n\t/*::[*/0x0206/*::]*/: { /* n:\"Formula\", */ f:parse_Formula },\n\t/*::[*/0x0209/*::]*/: { /* n:\"BOF\", */ f:parse_BOF },\n\t/*::[*/0x0218/*::]*/: { /* n:\"Lbl\", */ f:parse_Lbl },\n\t/*::[*/0x0223/*::]*/: { /* n:\"ExternName\", */ f:parse_ExternName },\n\t/*::[*/0x0231/*::]*/: { /* n:\"Font\", */ },\n\t/*::[*/0x0243/*::]*/: { /* n:\"BIFF3XF\", */ },\n\t/*::[*/0x0406/*::]*/: { /* n:\"Formula\", */ f:parse_Formula },\n\t/*::[*/0x0409/*::]*/: { /* n:\"BOF\", */ f:parse_BOF },\n\t/*::[*/0x0443/*::]*/: { /* n:\"BIFF4XF\", */ },\n\t/*::[*/0x086d/*::]*/: { /* n:\"FeatInfo\", */ },\n\t/*::[*/0x0873/*::]*/: { /* n:\"FeatInfo11\", */ },\n\t/*::[*/0x0881/*::]*/: { /* n:\"SXAddl12\", */ },\n\t/*::[*/0x08c0/*::]*/: { /* n:\"AutoWebPub\", */ },\n\t/*::[*/0x08c1/*::]*/: { /* n:\"ListObj\", */ },\n\t/*::[*/0x08c2/*::]*/: { /* n:\"ListField\", */ },\n\t/*::[*/0x08c3/*::]*/: { /* n:\"ListDV\", */ },\n\t/*::[*/0x08c4/*::]*/: { /* n:\"ListCondFmt\", */ },\n\t/*::[*/0x08c5/*::]*/: { /* n:\"ListCF\", */ },\n\t/*::[*/0x08c6/*::]*/: { /* n:\"FMQry\", */ },\n\t/*::[*/0x08c7/*::]*/: { /* n:\"FMSQry\", */ },\n\t/*::[*/0x08c8/*::]*/: { /* n:\"PLV\", */ },\n\t/*::[*/0x08c9/*::]*/: { /* n:\"LnExt\", */ },\n\t/*::[*/0x08ca/*::]*/: { /* n:\"MkrExt\", */ },\n\t/*::[*/0x08cb/*::]*/: { /* n:\"CrtCoopt\", */ },\n\t/*::[*/0x08d6/*::]*/: { /* n:\"FRTArchId$\", */ r:12 },\n\n\t/*::[*/0x7262/*::]*/: {}\n};\n\nfunction write_biff_rec(ba/*:BufArray*/, type/*:number*/, payload, length/*:?number*/)/*:void*/ {\n\tvar t/*:number*/ = type;\n\tif(isNaN(t)) return;\n\tvar len = length || (payload||[]).length || 0;\n\tvar o = ba.next(4);\n\to.write_shift(2, t);\n\to.write_shift(2, len);\n\tif(/*:: len != null &&*/len > 0 && is_buf(payload)) ba.push(payload);\n}\n\nfunction write_biff_continue(ba/*:BufArray*/, type/*:number*/, payload, length/*:?number*/)/*:void*/ {\n\tvar len = length || (payload||[]).length || 0;\n\tif(len <= 8224) return write_biff_rec(ba, type, payload, len);\n\tvar t = type;\n\tif(isNaN(t)) return;\n\tvar parts = payload.parts || [], sidx = 0;\n\tvar i = 0, w = 0;\n\twhile(w + (parts[sidx] || 8224) <= 8224) { w+= (parts[sidx] || 8224); sidx++; }\n\tvar o = ba.next(4);\n\to.write_shift(2, t);\n\to.write_shift(2, w);\n\tba.push(payload.slice(i, i + w));\n\ti += w;\n\twhile(i < len) {\n\t\to = ba.next(4);\n\t\to.write_shift(2, 0x3c); // TODO: figure out correct continue type\n\t\tw = 0;\n\t\twhile(w + (parts[sidx] || 8224) <= 8224) { w+= (parts[sidx] || 8224); sidx++; }\n\t\to.write_shift(2, w);\n\t\tba.push(payload.slice(i, i+w)); i+= w;\n\t}\n}\n\nfunction write_BIFF2Cell(out, r/*:number*/, c/*:number*/) {\n\tif(!out) out = new_buf(7);\n\tout.write_shift(2, r);\n\tout.write_shift(2, c);\n\tout.write_shift(2, 0);\n\tout.write_shift(1, 0);\n\treturn out;\n}\n\nfunction write_BIFF2BERR(r/*:number*/, c/*:number*/, val, t/*:?string*/) {\n\tvar out = new_buf(9);\n\twrite_BIFF2Cell(out, r, c);\n\twrite_Bes(val, t || 'b', out);\n\treturn out;\n}\n\n/* TODO: codepage, large strings */\nfunction write_BIFF2LABEL(r/*:number*/, c/*:number*/, val) {\n\tvar out = new_buf(8 + 2*val.length);\n\twrite_BIFF2Cell(out, r, c);\n\tout.write_shift(1, val.length);\n\tout.write_shift(val.length, val, 'sbcs');\n\treturn out.l < out.length ? out.slice(0, out.l) : out;\n}\n\nfunction write_ws_biff2_cell(ba/*:BufArray*/, cell/*:Cell*/, R/*:number*/, C/*:number*//*::, opts*/) {\n\tif(cell.v != null) switch(cell.t) {\n\t\tcase 'd': case 'n':\n\t\t\tvar v = cell.t == 'd' ? datenum(parseDate(cell.v)) : cell.v;\n\t\t\tif((v == (v|0)) && (v >= 0) && (v < 65536))\n\t\t\t\twrite_biff_rec(ba, 0x0002, write_BIFF2INT(R, C, v));\n\t\t\telse\n\t\t\t\twrite_biff_rec(ba, 0x0003, write_BIFF2NUM(R,C, v));\n\t\t\treturn;\n\t\tcase 'b': case 'e': write_biff_rec(ba, 0x0005, write_BIFF2BERR(R, C, cell.v, cell.t)); return;\n\t\t/* TODO: codepage, sst */\n\t\tcase 's': case 'str':\n\t\t\twrite_biff_rec(ba, 0x0004, write_BIFF2LABEL(R, C, (cell.v||\"\").slice(0,255)));\n\t\t\treturn;\n\t}\n\twrite_biff_rec(ba, 0x0001, write_BIFF2Cell(null, R, C));\n}\n\nfunction write_ws_biff2(ba/*:BufArray*/, ws/*:Worksheet*/, idx/*:number*/, opts/*::, wb:Workbook*/) {\n\tvar dense = Array.isArray(ws);\n\tvar range = safe_decode_range(ws['!ref'] || \"A1\"), ref/*:string*/, rr = \"\", cols/*:Array<string>*/ = [];\n\tif(range.e.c > 0xFF || range.e.r > 0x3FFF) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + (ws['!ref'] || \"A1\") + \" exceeds format limit A1:IV16384\");\n\t\trange.e.c = Math.min(range.e.c, 0xFF);\n\t\trange.e.r = Math.min(range.e.c, 0x3FFF);\n\t\tref = encode_range(range);\n\t}\n\tfor(var R = range.s.r; R <= range.e.r; ++R) {\n\t\trr = encode_row(R);\n\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\tref = cols[C] + rr;\n\t\t\tvar cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\tif(!cell) continue;\n\t\t\t/* write cell */\n\t\t\twrite_ws_biff2_cell(ba, cell, R, C, opts);\n\t\t}\n\t}\n}\n\n/* Based on test files */\nfunction write_biff2_buf(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\tvar o = opts || {};\n\tif(DENSE != null && o.dense == null) o.dense = DENSE;\n\tvar ba = buf_array();\n\tvar idx = 0;\n\tfor(var i=0;i<wb.SheetNames.length;++i) if(wb.SheetNames[i] == o.sheet) idx=i;\n\tif(idx == 0 && !!o.sheet && wb.SheetNames[0] != o.sheet) throw new Error(\"Sheet not found: \" + o.sheet);\n\twrite_biff_rec(ba, (o.biff == 4 ? 0x0409 : (o.biff == 3 ? 0x0209 : 0x0009)), write_BOF(wb, 0x10, o));\n\t/* ... */\n\twrite_ws_biff2(ba, wb.Sheets[wb.SheetNames[idx]], idx, o, wb);\n\t/* ... */\n\twrite_biff_rec(ba, 0x000A);\n\treturn ba.end();\n}\n\nfunction write_FONTS_biff8(ba, data, opts) {\n\twrite_biff_rec(ba, 0x0031 /* Font */, write_Font({\n\t\tsz:12,\n\t\tcolor: {theme:1},\n\t\tname: \"Arial\",\n\t\tfamily: 2,\n\t\tscheme: \"minor\"\n\t}, opts));\n}\n\n\nfunction write_FMTS_biff8(ba, NF/*:?SSFTable*/, opts) {\n\tif(!NF) return;\n\t[[5,8],[23,26],[41,44],[/*63*/50,/*66],[164,*/392]].forEach(function(r) {\n\t\t/*:: if(!NF) return; */\n\t\tfor(var i = r[0]; i <= r[1]; ++i) if(NF[i] != null) write_biff_rec(ba, 0x041E /* Format */, write_Format(i, NF[i], opts));\n\t});\n}\n\nfunction write_FEAT(ba, ws) {\n\t/* [MS-XLS] 2.4.112 */\n\tvar o = new_buf(19);\n\to.write_shift(4, 0x867); o.write_shift(4, 0); o.write_shift(4, 0);\n\to.write_shift(2, 3); o.write_shift(1, 1); o.write_shift(4, 0);\n\twrite_biff_rec(ba, 0x0867 /* FeatHdr */, o);\n\t/* [MS-XLS] 2.4.111 */\n\to = new_buf(39);\n\to.write_shift(4, 0x868); o.write_shift(4, 0); o.write_shift(4, 0);\n\to.write_shift(2, 3); o.write_shift(1, 0); o.write_shift(4, 0);\n\to.write_shift(2, 1); o.write_shift(4, 4); o.write_shift(2, 0);\n\twrite_Ref8U(safe_decode_range(ws['!ref']||\"A1\"), o);\n\to.write_shift(4, 4);\n\twrite_biff_rec(ba, 0x0868 /* Feat */, o);\n}\n\nfunction write_CELLXFS_biff8(ba, opts) {\n\tfor(var i = 0; i < 16; ++i) write_biff_rec(ba, 0x00e0 /* XF */, write_XF({numFmtId:0, style:true}, 0, opts));\n\topts.cellXfs.forEach(function(c) {\n\t\twrite_biff_rec(ba, 0x00e0 /* XF */, write_XF(c, 0, opts));\n\t});\n}\n\nfunction write_ws_biff8_hlinks(ba/*:BufArray*/, ws) {\n\tfor(var R=0; R<ws['!links'].length; ++R) {\n\t\tvar HL = ws['!links'][R];\n\t\twrite_biff_rec(ba, 0x01b8 /* HLink */, write_HLink(HL));\n\t\tif(HL[1].Tooltip) write_biff_rec(ba, 0x0800 /* HLinkTooltip */, write_HLinkTooltip(HL));\n\t}\n\tdelete ws['!links'];\n}\n\nfunction write_ws_cols_biff8(ba, cols) {\n\tif(!cols) return;\n\tvar cnt = 0;\n\tcols.forEach(function(col, idx) {\n\t\tif(++cnt <= 256 && col) {\n\t\t\twrite_biff_rec(ba, 0x007d /* ColInfo */, write_ColInfo(col_obj_w(idx, col), idx));\n\t\t}\n\t});\n}\n\nfunction write_ws_biff8_cell(ba/*:BufArray*/, cell/*:Cell*/, R/*:number*/, C/*:number*/, opts) {\n\tvar os = 16 + get_cell_style(opts.cellXfs, cell, opts);\n\tif(cell.v == null && !cell.bf) {\n\t\twrite_biff_rec(ba, 0x0201 /* Blank */, write_XLSCell(R, C, os));\n\t\treturn;\n\t}\n\tif(cell.bf) write_biff_rec(ba, 0x0006 /* Formula */, write_Formula(cell, R, C, opts, os));\n\telse switch(cell.t) {\n\t\tcase 'd': case 'n':\n\t\t\tvar v = cell.t == 'd' ? datenum(parseDate(cell.v)) : cell.v;\n\t\t\t/* TODO: emit RK as appropriate */\n\t\t\twrite_biff_rec(ba, 0x0203 /* Number */, write_Number(R, C, v, os, opts));\n\t\t\tbreak;\n\t\tcase 'b': case 'e':\n\t\t\twrite_biff_rec(ba, 0x0205 /* BoolErr */, write_BoolErr(R, C, cell.v, os, opts, cell.t));\n\t\t\tbreak;\n\t\t/* TODO: codepage, sst */\n\t\tcase 's': case 'str':\n\t\t\tif(opts.bookSST) {\n\t\t\t\tvar isst = get_sst_id(opts.Strings, cell.v, opts.revStrings);\n\t\t\t\twrite_biff_rec(ba, 0x00fd /* LabelSst */, write_LabelSst(R, C, isst, os, opts));\n\t\t\t} else write_biff_rec(ba, 0x0204 /* Label */, write_Label(R, C, (cell.v||\"\").slice(0,255), os, opts));\n\t\t\tbreak;\n\t\tdefault:\n\t\t\twrite_biff_rec(ba, 0x0201 /* Blank */, write_XLSCell(R, C, os));\n\t}\n}\n\n/* [MS-XLS] 2.1.7.20.5 */\nfunction write_ws_biff8(idx/*:number*/, opts, wb/*:Workbook*/) {\n\tvar ba = buf_array();\n\tvar s = wb.SheetNames[idx], ws = wb.Sheets[s] || {};\n\tvar _WB/*:WBWBProps*/ = ((wb||{}).Workbook||{}/*:any*/);\n\tvar _sheet/*:WBWSProp*/ = ((_WB.Sheets||[])[idx]||{}/*:any*/);\n\tvar dense = Array.isArray(ws);\n\tvar b8 = opts.biff == 8;\n\tvar ref/*:string*/, rr = \"\", cols/*:Array<string>*/ = [];\n\tvar range = safe_decode_range(ws['!ref'] || \"A1\");\n\tvar MAX_ROWS = b8 ? 65536 : 16384;\n\tif(range.e.c > 0xFF || range.e.r >= MAX_ROWS) {\n\t\tif(opts.WTF) throw new Error(\"Range \" + (ws['!ref'] || \"A1\") + \" exceeds format limit A1:IV16384\");\n\t\trange.e.c = Math.min(range.e.c, 0xFF);\n\t\trange.e.r = Math.min(range.e.c, MAX_ROWS-1);\n\t}\n\n\twrite_biff_rec(ba, 0x0809, write_BOF(wb, 0x10, opts));\n\t/* [Uncalced] Index */\n\twrite_biff_rec(ba, 0x000d /* CalcMode */, writeuint16(1));\n\twrite_biff_rec(ba, 0x000c /* CalcCount */, writeuint16(100));\n\twrite_biff_rec(ba, 0x000f /* CalcRefMode */, writebool(true));\n\twrite_biff_rec(ba, 0x0011 /* CalcIter */, writebool(false));\n\twrite_biff_rec(ba, 0x0010 /* CalcDelta */, write_Xnum(0.001));\n\twrite_biff_rec(ba, 0x005f /* CalcSaveRecalc */, writebool(true));\n\twrite_biff_rec(ba, 0x002a /* PrintRowCol */, writebool(false));\n\twrite_biff_rec(ba, 0x002b /* PrintGrid */, writebool(false));\n\twrite_biff_rec(ba, 0x0082 /* GridSet */, writeuint16(1));\n\twrite_biff_rec(ba, 0x0080 /* Guts */, write_Guts([0,0]));\n\t/* DefaultRowHeight WsBool [Sync] [LPr] [HorizontalPageBreaks] [VerticalPageBreaks] */\n\t/* Header (string) */\n\t/* Footer (string) */\n\twrite_biff_rec(ba, 0x0083 /* HCenter */, writebool(false));\n\twrite_biff_rec(ba, 0x0084 /* VCenter */, writebool(false));\n\t/* ... */\n\tif(b8) write_ws_cols_biff8(ba, ws[\"!cols\"]);\n\t/* ... */\n\twrite_biff_rec(ba, 0x200, write_Dimensions(range, opts));\n\t/* ... */\n\n\tif(b8) ws['!links'] = [];\n\tfor(var R = range.s.r; R <= range.e.r; ++R) {\n\t\trr = encode_row(R);\n\t\tfor(var C = range.s.c; C <= range.e.c; ++C) {\n\t\t\tif(R === range.s.r) cols[C] = encode_col(C);\n\t\t\tref = cols[C] + rr;\n\t\t\tvar cell = dense ? (ws[R]||[])[C] : ws[ref];\n\t\t\tif(!cell) continue;\n\t\t\t/* write cell */\n\t\t\twrite_ws_biff8_cell(ba, cell, R, C, opts);\n\t\t\tif(b8 && cell.l) ws['!links'].push([ref, cell.l]);\n\t\t}\n\t}\n\tvar cname/*:string*/ = _sheet.CodeName || _sheet.name || s;\n\t/* ... */\n\tif(b8) write_biff_rec(ba, 0x023e /* Window2 */, write_Window2((_WB.Views||[])[0]));\n\t/* ... */\n\tif(b8 && (ws['!merges']||[]).length) write_biff_rec(ba, 0x00e5 /* MergeCells */, write_MergeCells(ws['!merges']));\n\t/* [LRng] *QUERYTABLE [PHONETICINFO] CONDFMTS */\n\tif(b8) write_ws_biff8_hlinks(ba, ws);\n\t/* [DVAL] */\n\twrite_biff_rec(ba, 0x01ba /* CodeName */, write_XLUnicodeString(cname, opts));\n\t/* *WebPub *CellWatch [SheetExt] */\n\tif(b8) write_FEAT(ba, ws);\n\t/* *FEAT11 *RECORD12 */\n\twrite_biff_rec(ba, 0x000a /* EOF */);\n\treturn ba.end();\n}\n\n/* [MS-XLS] 2.1.7.20.3 */\nfunction write_biff8_global(wb/*:Workbook*/, bufs, opts/*:WriteOpts*/) {\n\tvar A = buf_array();\n\tvar _WB/*:WBWBProps*/ = ((wb||{}).Workbook||{}/*:any*/);\n\tvar _sheets/*:Array<WBWSProp>*/ = (_WB.Sheets||[]);\n\tvar _wb/*:WBProps*/ = /*::((*/_WB.WBProps||{/*::CodeName:\"ThisWorkbook\"*/}/*:: ):any)*/;\n\tvar b8 = opts.biff == 8, b5 = opts.biff == 5;\n\twrite_biff_rec(A, 0x0809, write_BOF(wb, 0x05, opts));\n\tif(opts.bookType == \"xla\") write_biff_rec(A, 0x0087 /* Addin */);\n\twrite_biff_rec(A, 0x00e1 /* InterfaceHdr */, b8 ? writeuint16(0x04b0) : null);\n\twrite_biff_rec(A, 0x00c1 /* Mms */, writezeroes(2));\n\tif(b5) write_biff_rec(A, 0x00bf /* ToolbarHdr */);\n\tif(b5) write_biff_rec(A, 0x00c0 /* ToolbarEnd */);\n\twrite_biff_rec(A, 0x00e2 /* InterfaceEnd */);\n\twrite_biff_rec(A, 0x005c /* WriteAccess */, write_WriteAccess(\"SheetJS\", opts));\n\t/* [FileSharing] */\n\twrite_biff_rec(A, 0x0042 /* CodePage */, writeuint16(b8 ? 0x04b0 : 0x04E4));\n\t/* *2047 Lel */\n\tif(b8) write_biff_rec(A, 0x0161 /* DSF */, writeuint16(0));\n\tif(b8) write_biff_rec(A, 0x01c0 /* Excel9File */);\n\twrite_biff_rec(A, 0x013d /* RRTabId */, write_RRTabId(wb.SheetNames.length));\n\tif(b8 && wb.vbaraw) write_biff_rec(A, 0x00d3 /* ObProj */);\n\t/* [ObNoMacros] */\n\tif(b8 && wb.vbaraw) {\n\t\tvar cname/*:string*/ = _wb.CodeName || \"ThisWorkbook\";\n\t\twrite_biff_rec(A, 0x01ba /* CodeName */, write_XLUnicodeString(cname, opts));\n\t}\n\twrite_biff_rec(A, 0x009c /* BuiltInFnGroupCount */, writeuint16(0x11));\n\t/* *FnGroupName *FnGrp12 */\n\t/* *Lbl */\n\t/* [OleObjectSize] */\n\twrite_biff_rec(A, 0x0019 /* WinProtect */, writebool(false));\n\twrite_biff_rec(A, 0x0012 /* Protect */, writebool(false));\n\twrite_biff_rec(A, 0x0013 /* Password */, writeuint16(0));\n\tif(b8) write_biff_rec(A, 0x01af /* Prot4Rev */, writebool(false));\n\tif(b8) write_biff_rec(A, 0x01bc /* Prot4RevPass */, writeuint16(0));\n\twrite_biff_rec(A, 0x003d /* Window1 */, write_Window1(opts));\n\twrite_biff_rec(A, 0x0040 /* Backup */, writebool(false));\n\twrite_biff_rec(A, 0x008d /* HideObj */, writeuint16(0));\n\twrite_biff_rec(A, 0x0022 /* Date1904 */, writebool(safe1904(wb)==\"true\"));\n\twrite_biff_rec(A, 0x000e /* CalcPrecision */, writebool(true));\n\tif(b8) write_biff_rec(A, 0x01b7 /* RefreshAll */, writebool(false));\n\twrite_biff_rec(A, 0x00DA /* BookBool */, writeuint16(0));\n\t/* ... */\n\twrite_FONTS_biff8(A, wb, opts);\n\twrite_FMTS_biff8(A, wb.SSF, opts);\n\twrite_CELLXFS_biff8(A, opts);\n\t/* ... */\n\tif(b8) write_biff_rec(A, 0x0160 /* UsesELFs */, writebool(false));\n\tvar a = A.end();\n\n\tvar C = buf_array();\n\t/* METADATA [MTRSettings] [ForceFullCalculation] */\n\tif(b8) write_biff_rec(C, 0x008C, write_Country());\n\t/* *SUPBOOK *LBL *RTD [RecalcId] *HFPicture *MSODRAWINGGROUP */\n\n\t/* BIFF8: [SST *Continue] ExtSST */\n\tif(b8 && opts.Strings) write_biff_continue(C, 0x00FC, write_SST(opts.Strings, opts));\n\n\t/* *WebPub [WOpt] [CrErr] [BookExt] *FeatHdr *DConn [THEME] [CompressPictures] [Compat12] [GUIDTypeLib] */\n\twrite_biff_rec(C, 0x000A /* EOF */);\n\tvar c = C.end();\n\n\tvar B = buf_array();\n\tvar blen = 0, j = 0;\n\tfor(j = 0; j < wb.SheetNames.length; ++j) blen += (b8 ? 12 : 11) + (b8 ? 2 : 1) * wb.SheetNames[j].length;\n\tvar start = a.length + blen + c.length;\n\tfor(j = 0; j < wb.SheetNames.length; ++j) {\n\t\tvar _sheet/*:WBWSProp*/ = _sheets[j] || ({}/*:any*/);\n\t\twrite_biff_rec(B, 0x0085 /* BoundSheet8 */, write_BoundSheet8({pos:start, hs:_sheet.Hidden||0, dt:0, name:wb.SheetNames[j]}, opts));\n\t\tstart += bufs[j].length;\n\t}\n\t/* 1*BoundSheet8 */\n\tvar b = B.end();\n\tif(blen != b.length) throw new Error(\"BS8 \" + blen + \" != \" + b.length);\n\n\tvar out = [];\n\tif(a.length) out.push(a);\n\tif(b.length) out.push(b);\n\tif(c.length) out.push(c);\n\treturn bconcat(out);\n}\n\n/* [MS-XLS] 2.1.7.20 Workbook Stream */\nfunction write_biff8_buf(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\tvar o = opts || {};\n\tvar bufs = [];\n\n\tif(wb && !wb.SSF) {\n\t\twb.SSF = dup(table_fmt);\n\t}\n\tif(wb && wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\to.revssf = evert_num(wb.SSF); o.revssf[wb.SSF[65535]] = 0;\n\t\to.ssf = wb.SSF;\n\t}\n\n\to.Strings = /*::((*/[]/*:: :any):SST)*/; o.Strings.Count = 0; o.Strings.Unique = 0;\n\tfix_write_opts(o);\n\n\to.cellXfs = [];\n\tget_cell_style(o.cellXfs, {}, {revssf:{\"General\":0}});\n\n\tif(!wb.Props) wb.Props = {};\n\n\tfor(var i = 0; i < wb.SheetNames.length; ++i) bufs[bufs.length] = write_ws_biff8(i, o, wb);\n\tbufs.unshift(write_biff8_global(wb, bufs, o));\n\treturn bconcat(bufs);\n}\n\nfunction write_biff_buf(wb/*:Workbook*/, opts/*:WriteOpts*/) {\n\tfor(var i = 0; i <= wb.SheetNames.length; ++i) {\n\t\tvar ws = wb.Sheets[wb.SheetNames[i]];\n\t\tif(!ws || !ws[\"!ref\"]) continue;\n\t\tvar range = decode_range(ws[\"!ref\"]);\n\t\tif(range.e.c > 255) { // note: 255 is IV\n\t\tif(typeof console != \"undefined\" && console.error) console.error(\"Worksheet '\" + wb.SheetNames[i] + \"' extends beyond column IV (255).  Data may be lost.\");\n\t\t}\n\t}\n\n\tvar o = opts || {};\n\tswitch(o.biff || 2) {\n\t\tcase 8: case 5: return write_biff8_buf(wb, opts);\n\t\tcase 4: case 3: case 2: return write_biff2_buf(wb, opts);\n\t}\n\tthrow new Error(\"invalid type \" + o.bookType + \" for BIFF\");\n}\n/* note: browser DOM element cannot see mso- style attrs, must parse */\nfunction html_to_sheet(str/*:string*/, _opts)/*:Workbook*/ {\n\tvar opts = _opts || {};\n\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\tvar ws/*:Worksheet*/ = opts.dense ? ([]/*:any*/) : ({}/*:any*/);\n\tstr = str.replace(/<!--.*?-->/g, \"\");\n\tvar mtch/*:any*/ = str.match(/<table/i);\n\tif(!mtch) throw new Error(\"Invalid HTML: could not find <table>\");\n\tvar mtch2/*:any*/ = str.match(/<\\/table/i);\n\tvar i/*:number*/ = mtch.index, j/*:number*/ = mtch2 && mtch2.index || str.length;\n\tvar rows = split_regex(str.slice(i, j), /(:?<tr[^>]*>)/i, \"<tr>\");\n\tvar R = -1, C = 0, RS = 0, CS = 0;\n\tvar range/*:Range*/ = {s:{r:10000000, c:10000000},e:{r:0,c:0}};\n\tvar merges/*:Array<Range>*/ = [];\n\tfor(i = 0; i < rows.length; ++i) {\n\t\tvar row = rows[i].trim();\n\t\tvar hd = row.slice(0,3).toLowerCase();\n\t\tif(hd == \"<tr\") { ++R; if(opts.sheetRows && opts.sheetRows <= R) { --R; break; } C = 0; continue; }\n\t\tif(hd != \"<td\" && hd != \"<th\") continue;\n\t\tvar cells = row.split(/<\\/t[dh]>/i);\n\t\tfor(j = 0; j < cells.length; ++j) {\n\t\t\tvar cell = cells[j].trim();\n\t\t\tif(!cell.match(/<t[dh]/i)) continue;\n\t\t\tvar m = cell, cc = 0;\n\t\t\t/* TODO: parse styles etc */\n\t\t\twhile(m.charAt(0) == \"<\" && (cc = m.indexOf(\">\")) > -1) m = m.slice(cc+1);\n\t\t\tfor(var midx = 0; midx < merges.length; ++midx) {\n\t\t\t\tvar _merge/*:Range*/ = merges[midx];\n\t\t\t\tif(_merge.s.c == C && _merge.s.r < R && R <= _merge.e.r) { C = _merge.e.c + 1; midx = -1; }\n\t\t\t}\n\t\t\tvar tag = parsexmltag(cell.slice(0, cell.indexOf(\">\")));\n\t\t\tCS = tag.colspan ? +tag.colspan : 1;\n\t\t\tif((RS = +tag.rowspan)>1 || CS>1) merges.push({s:{r:R,c:C},e:{r:R + (RS||1) - 1, c:C + CS - 1}});\n\t\t\tvar _t/*:string*/ = tag.t || tag[\"data-t\"] || \"\";\n\t\t\t/* TODO: generate stub cells */\n\t\t\tif(!m.length) { C += CS; continue; }\n\t\t\tm = htmldecode(m);\n\t\t\tif(range.s.r > R) range.s.r = R; if(range.e.r < R) range.e.r = R;\n\t\t\tif(range.s.c > C) range.s.c = C; if(range.e.c < C) range.e.c = C;\n\t\t\tif(!m.length) { C += CS; continue; }\n\t\t\tvar o/*:Cell*/ = {t:'s', v:m};\n\t\t\tif(opts.raw || !m.trim().length || _t == 's'){}\n\t\t\telse if(m === 'TRUE') o = {t:'b', v:true};\n\t\t\telse if(m === 'FALSE') o = {t:'b', v:false};\n\t\t\telse if(!isNaN(fuzzynum(m))) o = {t:'n', v:fuzzynum(m)};\n\t\t\telse if(!isNaN(fuzzydate(m).getDate())) {\n\t\t\t\to = ({t:'d', v:parseDate(m)}/*:any*/);\n\t\t\t\tif(!opts.cellDates) o = ({t:'n', v:datenum(o.v)}/*:any*/);\n\t\t\t\to.z = opts.dateNF || table_fmt[14];\n\t\t\t}\n\t\t\tif(opts.dense) { if(!ws[R]) ws[R] = []; ws[R][C] = o; }\n\t\t\telse ws[encode_cell({r:R, c:C})] = o;\n\t\t\tC += CS;\n\t\t}\n\t}\n\tws['!ref'] = encode_range(range);\n\tif(merges.length) ws[\"!merges\"] = merges;\n\treturn ws;\n}\nfunction make_html_row(ws/*:Worksheet*/, r/*:Range*/, R/*:number*/, o/*:Sheet2HTMLOpts*/)/*:string*/ {\n\tvar M/*:Array<Range>*/ = (ws['!merges'] ||[]);\n\tvar oo/*:Array<string>*/ = [];\n\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\tvar RS = 0, CS = 0;\n\t\tfor(var j = 0; j < M.length; ++j) {\n\t\t\tif(M[j].s.r > R || M[j].s.c > C) continue;\n\t\t\tif(M[j].e.r < R || M[j].e.c < C) continue;\n\t\t\tif(M[j].s.r < R || M[j].s.c < C) { RS = -1; break; }\n\t\t\tRS = M[j].e.r - M[j].s.r + 1; CS = M[j].e.c - M[j].s.c + 1; break;\n\t\t}\n\t\tif(RS < 0) continue;\n\t\tvar coord = encode_cell({r:R,c:C});\n\t\tvar cell = o.dense ? (ws[R]||[])[C] : ws[coord];\n\t\t/* TODO: html entities */\n\t\tvar w = (cell && cell.v != null) && (cell.h || escapehtml(cell.w || (format_cell(cell), cell.w) || \"\")) || \"\";\n\t\tvar sp = ({}/*:any*/);\n\t\tif(RS > 1) sp.rowspan = RS;\n\t\tif(CS > 1) sp.colspan = CS;\n\t\tif(o.editable) w = '<span contenteditable=\"true\">' + w + '</span>';\n\t\telse if(cell) {\n\t\t\tsp[\"data-t\"] = cell && cell.t || 'z';\n\t\t\tif(cell.v != null) sp[\"data-v\"] = cell.v;\n\t\t\tif(cell.z != null) sp[\"data-z\"] = cell.z;\n\t\t\tif(cell.l && (cell.l.Target || \"#\").charAt(0) != \"#\") w = '<a href=\"' + cell.l.Target +'\">' + w + '</a>';\n\t\t}\n\t\tsp.id = (o.id || \"sjs\") + \"-\" + coord;\n\t\too.push(writextag('td', w, sp));\n\t}\n\tvar preamble = \"<tr>\";\n\treturn preamble + oo.join(\"\") + \"</tr>\";\n}\n\nvar HTML_BEGIN = '<html><head><meta charset=\"utf-8\"/><title>SheetJS Table Export</title></head><body>';\nvar HTML_END = '</body></html>';\n\nfunction html_to_workbook(str/*:string*/, opts)/*:Workbook*/ {\n\tvar mtch = str.match(/<table[\\s\\S]*?>[\\s\\S]*?<\\/table>/gi);\n\tif(!mtch || mtch.length == 0) throw new Error(\"Invalid HTML: could not find <table>\");\n\tif(mtch.length == 1) return sheet_to_workbook(html_to_sheet(mtch[0], opts), opts);\n\tvar wb = book_new();\n\tmtch.forEach(function(s, idx) { book_append_sheet(wb, html_to_sheet(s, opts), \"Sheet\" + (idx+1)); });\n\treturn wb;\n}\n\nfunction make_html_preamble(ws/*:Worksheet*/, R/*:Range*/, o/*:Sheet2HTMLOpts*/)/*:string*/ {\n\tvar out/*:Array<string>*/ = [];\n\treturn out.join(\"\") + '<table' + (o && o.id ? ' id=\"' + o.id + '\"' : \"\") + '>';\n}\n\nfunction sheet_to_html(ws/*:Worksheet*/, opts/*:?Sheet2HTMLOpts*//*, wb:?Workbook*/)/*:string*/ {\n\tvar o = opts || {};\n\tvar header = o.header != null ? o.header : HTML_BEGIN;\n\tvar footer = o.footer != null ? o.footer : HTML_END;\n\tvar out/*:Array<string>*/ = [header];\n\tvar r = decode_range(ws['!ref']);\n\to.dense = Array.isArray(ws);\n\tout.push(make_html_preamble(ws, r, o));\n\tfor(var R = r.s.r; R <= r.e.r; ++R) out.push(make_html_row(ws, r, R, o));\n\tout.push(\"</table>\" + footer);\n\treturn out.join(\"\");\n}\n\nfunction sheet_add_dom(ws/*:Worksheet*/, table/*:HTMLElement*/, _opts/*:?any*/)/*:Worksheet*/ {\n\tvar opts = _opts || {};\n\tif(DENSE != null) opts.dense = DENSE;\n\tvar or_R = 0, or_C = 0;\n\tif(opts.origin != null) {\n\t\tif(typeof opts.origin == 'number') or_R = opts.origin;\n\t\telse {\n\t\t\tvar _origin/*:CellAddress*/ = typeof opts.origin == \"string\" ? decode_cell(opts.origin) : opts.origin;\n\t\t\tor_R = _origin.r; or_C = _origin.c;\n\t\t}\n\t}\n\n\tvar rows/*:HTMLCollection<HTMLTableRowElement>*/ = table.getElementsByTagName('tr');\n\tvar sheetRows = Math.min(opts.sheetRows||10000000, rows.length);\n\tvar range/*:Range*/ = {s:{r:0,c:0},e:{r:or_R,c:or_C}};\n\tif(ws[\"!ref\"]) {\n\t\tvar _range/*:Range*/ = decode_range(ws[\"!ref\"]);\n\t\trange.s.r = Math.min(range.s.r, _range.s.r);\n\t\trange.s.c = Math.min(range.s.c, _range.s.c);\n\t\trange.e.r = Math.max(range.e.r, _range.e.r);\n\t\trange.e.c = Math.max(range.e.c, _range.e.c);\n\t\tif(or_R == -1) range.e.r = or_R = _range.e.r + 1;\n\t}\n\tvar merges/*:Array<Range>*/ = [], midx = 0;\n\tvar rowinfo/*:Array<RowInfo>*/ = ws[\"!rows\"] || (ws[\"!rows\"] = []);\n\tvar _R = 0, R = 0, _C = 0, C = 0, RS = 0, CS = 0;\n\tif(!ws[\"!cols\"]) ws['!cols'] = [];\n\tfor(; _R < rows.length && R < sheetRows; ++_R) {\n\t\tvar row/*:HTMLTableRowElement*/ = rows[_R];\n\t\tif (is_dom_element_hidden(row)) {\n\t\t\tif (opts.display) continue;\n\t\t\trowinfo[R] = {hidden: true};\n\t\t}\n\t\tvar elts/*:HTMLCollection<HTMLTableCellElement>*/ = (row.children/*:any*/);\n\t\tfor(_C = C = 0; _C < elts.length; ++_C) {\n\t\t\tvar elt/*:HTMLTableCellElement*/ = elts[_C];\n\t\t\tif (opts.display && is_dom_element_hidden(elt)) continue;\n\t\t\tvar v/*:?string*/ = elt.hasAttribute('data-v') ? elt.getAttribute('data-v') : elt.hasAttribute('v') ? elt.getAttribute('v') : htmldecode(elt.innerHTML);\n\t\t\tvar z/*:?string*/ = elt.getAttribute('data-z') || elt.getAttribute('z');\n\t\t\tfor(midx = 0; midx < merges.length; ++midx) {\n\t\t\t\tvar m/*:Range*/ = merges[midx];\n\t\t\t\tif(m.s.c == C + or_C && m.s.r < R + or_R && R + or_R <= m.e.r) { C = m.e.c+1 - or_C; midx = -1; }\n\t\t\t}\n\t\t\t/* TODO: figure out how to extract nonstandard mso- style */\n\t\t\tCS = +elt.getAttribute(\"colspan\") || 1;\n\t\t\tif( ((RS = (+elt.getAttribute(\"rowspan\") || 1)))>1 || CS>1) merges.push({s:{r:R + or_R,c:C + or_C},e:{r:R + or_R + (RS||1) - 1, c:C + or_C + (CS||1) - 1}});\n\t\t\tvar o/*:Cell*/ = {t:'s', v:v};\n\t\t\tvar _t/*:string*/ = elt.getAttribute(\"data-t\") || elt.getAttribute(\"t\") || \"\";\n\t\t\tif(v != null) {\n\t\t\t\tif(v.length == 0) o.t = _t || 'z';\n\t\t\t\telse if(opts.raw || v.trim().length == 0 || _t == \"s\"){}\n\t\t\t\telse if(v === 'TRUE') o = {t:'b', v:true};\n\t\t\t\telse if(v === 'FALSE') o = {t:'b', v:false};\n\t\t\t\telse if(!isNaN(fuzzynum(v))) o = {t:'n', v:fuzzynum(v)};\n\t\t\t\telse if(!isNaN(fuzzydate(v).getDate())) {\n\t\t\t\t\to = ({t:'d', v:parseDate(v)}/*:any*/);\n\t\t\t\t\tif(!opts.cellDates) o = ({t:'n', v:datenum(o.v)}/*:any*/);\n\t\t\t\t\to.z = opts.dateNF || table_fmt[14];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(o.z === undefined && z != null) o.z = z;\n\t\t\t/* The first link is used.  Links are assumed to be fully specified.\n\t\t\t * TODO: The right way to process relative links is to make a new <a> */\n\t\t\tvar l = \"\", Aelts = elt.getElementsByTagName(\"A\");\n\t\t\tif(Aelts && Aelts.length) for(var Aelti = 0; Aelti < Aelts.length; ++Aelti)\tif(Aelts[Aelti].hasAttribute(\"href\")) {\n\t\t\t\tl = Aelts[Aelti].getAttribute(\"href\"); if(l.charAt(0) != \"#\") break;\n\t\t\t}\n\t\t\tif(l && l.charAt(0) != \"#\") o.l = ({ Target: l });\n\t\t\tif(opts.dense) { if(!ws[R + or_R]) ws[R + or_R] = []; ws[R + or_R][C + or_C] = o; }\n\t\t\telse ws[encode_cell({c:C + or_C, r:R + or_R})] = o;\n\t\t\tif(range.e.c < C + or_C) range.e.c = C + or_C;\n\t\t\tC += CS;\n\t\t}\n\t\t++R;\n\t}\n\tif(merges.length) ws['!merges'] = (ws[\"!merges\"] || []).concat(merges);\n\trange.e.r = Math.max(range.e.r, R - 1 + or_R);\n\tws['!ref'] = encode_range(range);\n\tif(R >= sheetRows) ws['!fullref'] = encode_range((range.e.r = rows.length-_R+R-1 + or_R,range)); // We can count the real number of rows to parse but we don't to improve the performance\n\treturn ws;\n}\n\nfunction parse_dom_table(table/*:HTMLElement*/, _opts/*:?any*/)/*:Worksheet*/ {\n\tvar opts = _opts || {};\n\tvar ws/*:Worksheet*/ = opts.dense ? ([]/*:any*/) : ({}/*:any*/);\n\treturn sheet_add_dom(ws, table, _opts);\n}\n\nfunction table_to_book(table/*:HTMLElement*/, opts/*:?any*/)/*:Workbook*/ {\n\treturn sheet_to_workbook(parse_dom_table(table, opts), opts);\n}\n\nfunction is_dom_element_hidden(element/*:HTMLElement*/)/*:boolean*/ {\n\tvar display/*:string*/ = '';\n\tvar get_computed_style/*:?function*/ = get_get_computed_style_function(element);\n\tif(get_computed_style) display = get_computed_style(element).getPropertyValue('display');\n\tif(!display) display = element.style && element.style.display;\n\treturn display === 'none';\n}\n\n/* global getComputedStyle */\nfunction get_get_computed_style_function(element/*:HTMLElement*/)/*:?function*/ {\n\t// The proper getComputedStyle implementation is the one defined in the element window\n\tif(element.ownerDocument.defaultView && typeof element.ownerDocument.defaultView.getComputedStyle === 'function') return element.ownerDocument.defaultView.getComputedStyle;\n\t// If it is not available, try to get one from the global namespace\n\tif(typeof getComputedStyle === 'function') return getComputedStyle;\n\treturn null;\n}\n/* OpenDocument */\nfunction parse_text_p(text/*:string*//*::, tag*/)/*:Array<any>*/ {\n\t/* 6.1.2 White Space Characters */\n\tvar fixed = text\n\t\t.replace(/[\\t\\r\\n]/g, \" \").trim().replace(/ +/g, \" \")\n\t\t.replace(/<text:s\\/>/g,\" \")\n\t\t.replace(/<text:s text:c=\"(\\d+)\"\\/>/g, function($$,$1) { return Array(parseInt($1,10)+1).join(\" \"); })\n\t\t.replace(/<text:tab[^>]*\\/>/g,\"\\t\")\n\t\t.replace(/<text:line-break\\/>/g,\"\\n\");\n\tvar v = unescapexml(fixed.replace(/<[^>]*>/g,\"\"));\n\n\treturn [v];\n}\n\nvar number_formats_ods = {\n\t/* ods name: [short ssf fmt, long ssf fmt] */\n\tday:           [\"d\",   \"dd\"],\n\tmonth:         [\"m\",   \"mm\"],\n\tyear:          [\"y\",   \"yy\"],\n\thours:         [\"h\",   \"hh\"],\n\tminutes:       [\"m\",   \"mm\"],\n\tseconds:       [\"s\",   \"ss\"],\n\t\"am-pm\":       [\"A/P\", \"AM/PM\"],\n\t\"day-of-week\": [\"ddd\", \"dddd\"],\n\tera:           [\"e\",   \"ee\"],\n\t/* there is no native representation of LO \"Q\" format */\n\tquarter:       [\"\\\\Qm\", \"m\\\\\\\"th quarter\\\"\"]\n};\n\n\nfunction parse_content_xml(d/*:string*/, _opts)/*:Workbook*/ {\n\t\tvar opts = _opts || {};\n\t\tif(DENSE != null && opts.dense == null) opts.dense = DENSE;\n\t\tvar str = xlml_normalize(d);\n\t\tvar state/*:Array<any>*/ = [], tmp;\n\t\tvar tag/*:: = {}*/;\n\t\tvar NFtag = {name:\"\"}, NF = \"\", pidx = 0;\n\t\tvar sheetag/*:: = {name:\"\", '名称':\"\"}*/;\n\t\tvar rowtag/*:: = {'行号':\"\"}*/;\n\t\tvar Sheets = {}, SheetNames/*:Array<string>*/ = [];\n\t\tvar ws = opts.dense ? ([]/*:any*/) : ({}/*:any*/);\n\t\tvar Rn, q/*:: :any = ({t:\"\", v:null, z:null, w:\"\",c:[],}:any)*/;\n\t\tvar ctag = ({value:\"\"}/*:any*/);\n\t\tvar textp = \"\", textpidx = 0, textptag/*:: = {}*/;\n\t\tvar textR = [];\n\t\tvar R = -1, C = -1, range = {s: {r:1000000,c:10000000}, e: {r:0, c:0}};\n\t\tvar row_ol = 0;\n\t\tvar number_format_map = {};\n\t\tvar merges/*:Array<Range>*/ = [], mrange = {}, mR = 0, mC = 0;\n\t\tvar rowinfo/*:Array<RowInfo>*/ = [], rowpeat = 1, colpeat = 1;\n\t\tvar arrayf/*:Array<[Range, string]>*/ = [];\n\t\tvar WB = {Names:[]};\n\t\tvar atag = ({}/*:any*/);\n\t\tvar _Ref/*:[string, string]*/ = [\"\", \"\"];\n\t\tvar comments/*:Array<Comment>*/ = [], comment/*:Comment*/ = ({}/*:any*/);\n\t\tvar creator = \"\", creatoridx = 0;\n\t\tvar isstub = false, intable = false;\n\t\tvar i = 0;\n\t\txlmlregex.lastIndex = 0;\n\t\tstr = str.replace(/<!--([\\s\\S]*?)-->/mg,\"\").replace(/<!DOCTYPE[^\\[]*\\[[^\\]]*\\]>/gm,\"\");\n\t\twhile((Rn = xlmlregex.exec(str))) switch((Rn[3]=Rn[3].replace(/_.*$/,\"\"))) {\n\n\t\t\tcase 'table': case '工作表': // 9.1.2 <table:table>\n\t\t\t\tif(Rn[1]==='/') {\n\t\t\t\t\tif(range.e.c >= range.s.c && range.e.r >= range.s.r) ws['!ref'] = encode_range(range);\n\t\t\t\t\telse ws['!ref'] = \"A1:A1\";\n\t\t\t\t\tif(opts.sheetRows > 0 && opts.sheetRows <= range.e.r) {\n\t\t\t\t\t\tws['!fullref'] = ws['!ref'];\n\t\t\t\t\t\trange.e.r = opts.sheetRows - 1;\n\t\t\t\t\t\tws['!ref'] = encode_range(range);\n\t\t\t\t\t}\n\t\t\t\t\tif(merges.length) ws['!merges'] = merges;\n\t\t\t\t\tif(rowinfo.length) ws[\"!rows\"] = rowinfo;\n\t\t\t\t\tsheetag.name = sheetag['名称'] || sheetag.name;\n\t\t\t\t\tif(typeof JSON !== 'undefined') JSON.stringify(sheetag);\n\t\t\t\t\tSheetNames.push(sheetag.name);\n\t\t\t\t\tSheets[sheetag.name] = ws;\n\t\t\t\t\tintable = false;\n\t\t\t\t}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\t\tsheetag = parsexmltag(Rn[0], false);\n\t\t\t\t\tR = C = -1;\n\t\t\t\t\trange.s.r = range.s.c = 10000000; range.e.r = range.e.c = 0;\n\t\t\t\t\tws = opts.dense ? ([]/*:any*/) : ({}/*:any*/); merges = [];\n\t\t\t\t\trowinfo = [];\n\t\t\t\t\tintable = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'table-row-group': // 9.1.9 <table:table-row-group>\n\t\t\t\tif(Rn[1] === \"/\") --row_ol; else ++row_ol;\n\t\t\t\tbreak;\n\t\t\tcase 'table-row': case '行': // 9.1.3 <table:table-row>\n\t\t\t\tif(Rn[1] === '/') { R+=rowpeat; rowpeat = 1; break; }\n\t\t\t\trowtag = parsexmltag(Rn[0], false);\n\t\t\t\tif(rowtag['行号']) R = rowtag['行号'] - 1; else if(R == -1) R = 0;\n\t\t\t\trowpeat = +rowtag['number-rows-repeated'] || 1;\n\t\t\t\t/* TODO: remove magic */\n\t\t\t\tif(rowpeat < 10) for(i = 0; i < rowpeat; ++i) if(row_ol > 0) rowinfo[R + i] = {level: row_ol};\n\t\t\t\tC = -1; break;\n\t\t\tcase 'covered-table-cell': // 9.1.5 <table:covered-table-cell>\n\t\t\t\tif(Rn[1] !== '/') ++C;\n\t\t\t\tif(opts.sheetStubs) {\n\t\t\t\t\tif(opts.dense) { if(!ws[R]) ws[R] = []; ws[R][C] = {t:'z'}; }\n\t\t\t\t\telse ws[encode_cell({r:R,c:C})] = {t:'z'};\n\t\t\t\t}\n\t\t\t\ttextp = \"\"; textR = [];\n\t\t\t\tbreak; /* stub */\n\t\t\tcase 'table-cell': case '数据':\n\t\t\t\tif(Rn[0].charAt(Rn[0].length-2) === '/') {\n\t\t\t\t\t++C;\n\t\t\t\t\tctag = parsexmltag(Rn[0], false);\n\t\t\t\t\tcolpeat = parseInt(ctag['number-columns-repeated']||\"1\", 10);\n\t\t\t\t\tq = ({t:'z', v:null/*:: , z:null, w:\"\",c:[]*/}/*:any*/);\n\t\t\t\t\tif(ctag.formula && opts.cellFormula != false) q.f = ods_to_csf_formula(unescapexml(ctag.formula));\n\t\t\t\t\tif((ctag['数据类型'] || ctag['value-type']) == \"string\") {\n\t\t\t\t\t\tq.t = \"s\"; q.v = unescapexml(ctag['string-value'] || \"\");\n\t\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\t\tif(!ws[R]) ws[R] = [];\n\t\t\t\t\t\t\tws[R][C] = q;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tws[encode_cell({r:R,c:C})] = q;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tC+= colpeat-1;\n\t\t\t\t} else if(Rn[1]!=='/') {\n\t\t\t\t\t++C;\n\t\t\t\t\ttextp = \"\"; textpidx = 0; textR = [];\n\t\t\t\t\tcolpeat = 1;\n\t\t\t\t\tvar rptR = rowpeat ? R + rowpeat - 1 : R;\n\t\t\t\t\tif(C > range.e.c) range.e.c = C;\n\t\t\t\t\tif(C < range.s.c) range.s.c = C;\n\t\t\t\t\tif(R < range.s.r) range.s.r = R;\n\t\t\t\t\tif(rptR > range.e.r) range.e.r = rptR;\n\t\t\t\t\tctag = parsexmltag(Rn[0], false);\n\t\t\t\t\tcomments = []; comment = ({}/*:any*/);\n\t\t\t\t\tq = ({t:ctag['数据类型'] || ctag['value-type'], v:null/*:: , z:null, w:\"\",c:[]*/}/*:any*/);\n\t\t\t\t\tif(opts.cellFormula) {\n\t\t\t\t\t\tif(ctag.formula) ctag.formula = unescapexml(ctag.formula);\n\t\t\t\t\t\tif(ctag['number-matrix-columns-spanned'] && ctag['number-matrix-rows-spanned']) {\n\t\t\t\t\t\t\tmR = parseInt(ctag['number-matrix-rows-spanned'],10) || 0;\n\t\t\t\t\t\t\tmC = parseInt(ctag['number-matrix-columns-spanned'],10) || 0;\n\t\t\t\t\t\t\tmrange = {s: {r:R,c:C}, e:{r:R + mR-1,c:C + mC-1}};\n\t\t\t\t\t\t\tq.F = encode_range(mrange);\n\t\t\t\t\t\t\tarrayf.push([mrange, q.F]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(ctag.formula) q.f = ods_to_csf_formula(ctag.formula);\n\t\t\t\t\t\telse for(i = 0; i < arrayf.length; ++i)\n\t\t\t\t\t\t\tif(R >= arrayf[i][0].s.r && R <= arrayf[i][0].e.r)\n\t\t\t\t\t\t\t\tif(C >= arrayf[i][0].s.c && C <= arrayf[i][0].e.c)\n\t\t\t\t\t\t\t\t\tq.F = arrayf[i][1];\n\t\t\t\t\t}\n\t\t\t\t\tif(ctag['number-columns-spanned'] || ctag['number-rows-spanned']) {\n\t\t\t\t\t\tmR = parseInt(ctag['number-rows-spanned'],10) || 0;\n\t\t\t\t\t\tmC = parseInt(ctag['number-columns-spanned'],10) || 0;\n\t\t\t\t\t\tmrange = {s: {r:R,c:C}, e:{r:R + mR-1,c:C + mC-1}};\n\t\t\t\t\t\tmerges.push(mrange);\n\t\t\t\t\t}\n\n\t\t\t\t\t/* 19.675.2 table:number-columns-repeated */\n\t\t\t\t\tif(ctag['number-columns-repeated']) colpeat = parseInt(ctag['number-columns-repeated'], 10);\n\n\t\t\t\t\t/* 19.385 office:value-type */\n\t\t\t\t\tswitch(q.t) {\n\t\t\t\t\t\tcase 'boolean': q.t = 'b'; q.v = parsexmlbool(ctag['boolean-value']); break;\n\t\t\t\t\t\tcase 'float': q.t = 'n'; q.v = parseFloat(ctag.value); break;\n\t\t\t\t\t\tcase 'percentage': q.t = 'n'; q.v = parseFloat(ctag.value); break;\n\t\t\t\t\t\tcase 'currency': q.t = 'n'; q.v = parseFloat(ctag.value); break;\n\t\t\t\t\t\tcase 'date': q.t = 'd'; q.v = parseDate(ctag['date-value']);\n\t\t\t\t\t\t\tif(!opts.cellDates) { q.t = 'n'; q.v = datenum(q.v); }\n\t\t\t\t\t\t\tq.z = 'm/d/yy'; break;\n\t\t\t\t\t\tcase 'time': q.t = 'n'; q.v = parse_isodur(ctag['time-value'])/86400;\n\t\t\t\t\t\t\tif(opts.cellDates) { q.t = 'd'; q.v = numdate(q.v); }\n\t\t\t\t\t\t\tq.z = 'HH:MM:SS'; break;\n\t\t\t\t\t\tcase 'number': q.t = 'n'; q.v = parseFloat(ctag['数据数值']); break;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif(q.t === 'string' || q.t === 'text' || !q.t) {\n\t\t\t\t\t\t\t\tq.t = 's';\n\t\t\t\t\t\t\t\tif(ctag['string-value'] != null) { textp = unescapexml(ctag['string-value']); textR = []; }\n\t\t\t\t\t\t\t} else throw new Error('Unsupported value type ' + q.t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tisstub = false;\n\t\t\t\t\tif(q.t === 's') {\n\t\t\t\t\t\tq.v = textp || '';\n\t\t\t\t\t\tif(textR.length) q.R = textR;\n\t\t\t\t\t\tisstub = textpidx == 0;\n\t\t\t\t\t}\n\t\t\t\t\tif(atag.Target) q.l = atag;\n\t\t\t\t\tif(comments.length > 0) { q.c = comments; comments = []; }\n\t\t\t\t\tif(textp && opts.cellText !== false) q.w = textp;\n\t\t\t\t\tif(isstub) { q.t = \"z\"; delete q.v; }\n\t\t\t\t\tif(!isstub || opts.sheetStubs) {\n\t\t\t\t\t\tif(!(opts.sheetRows && opts.sheetRows <= R)) {\n\t\t\t\t\t\t\tfor(var rpt = 0; rpt < rowpeat; ++rpt) {\n\t\t\t\t\t\t\t\tcolpeat = parseInt(ctag['number-columns-repeated']||\"1\", 10);\n\t\t\t\t\t\t\t\tif(opts.dense) {\n\t\t\t\t\t\t\t\t\tif(!ws[R + rpt]) ws[R + rpt] = [];\n\t\t\t\t\t\t\t\t\tws[R + rpt][C] = rpt == 0 ? q : dup(q);\n\t\t\t\t\t\t\t\t\twhile(--colpeat > 0) ws[R + rpt][C + colpeat] = dup(q);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tws[encode_cell({r:R + rpt,c:C})] = q;\n\t\t\t\t\t\t\t\t\twhile(--colpeat > 0) ws[encode_cell({r:R + rpt,c:C + colpeat})] = dup(q);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(range.e.c <= C) range.e.c = C;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcolpeat = parseInt(ctag['number-columns-repeated']||\"1\", 10);\n\t\t\t\t\tC += colpeat-1; colpeat = 0;\n\t\t\t\t\tq = {/*:: t:\"\", v:null, z:null, w:\"\",c:[]*/};\n\t\t\t\t\ttextp = \"\"; textR = [];\n\t\t\t\t}\n\t\t\t\tatag = ({}/*:any*/);\n\t\t\t\tbreak; // 9.1.4 <table:table-cell>\n\n\t\t\t/* pure state */\n\t\t\tcase 'document': // TODO: <office:document> is the root for FODS\n\t\t\tcase 'document-content': case '电子表格文档': // 3.1.3.2 <office:document-content>\n\t\t\tcase 'spreadsheet': case '主体': // 3.7 <office:spreadsheet>\n\t\t\tcase 'scripts': // 3.12 <office:scripts>\n\t\t\tcase 'styles': // TODO <office:styles>\n\t\t\tcase 'font-face-decls': // 3.14 <office:font-face-decls>\n\t\t\tcase 'master-styles': // 3.15.4 <office:master-styles> -- relevant for FODS\n\t\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw \"Bad state: \"+tmp;}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], true]);\n\t\t\t\tbreak;\n\n\t\t\tcase 'annotation': // 14.1 <office:annotation>\n\t\t\t\tif(Rn[1]==='/'){\n\t\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw \"Bad state: \"+tmp;\n\t\t\t\t\tcomment.t = textp;\n\t\t\t\t\tif(textR.length) /*::(*/comment/*:: :any)*/.R = textR;\n\t\t\t\t\tcomment.a = creator;\n\t\t\t\t\tcomments.push(comment);\n\t\t\t\t}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') {state.push([Rn[3], false]);}\n\t\t\t\tcreator = \"\"; creatoridx = 0;\n\t\t\t\ttextp = \"\"; textpidx = 0; textR = [];\n\t\t\t\tbreak;\n\n\t\t\tcase 'creator': // 4.3.2.7 <dc:creator>\n\t\t\t\tif(Rn[1]==='/') { creator = str.slice(creatoridx,Rn.index); }\n\t\t\t\telse creatoridx = Rn.index + Rn[0].length;\n\t\t\t\tbreak;\n\n\t\t\t/* ignore state */\n\t\t\tcase 'meta': case '元数据': // TODO: <office:meta> <uof:元数据> FODS/UOF\n\t\t\tcase 'settings': // TODO: <office:settings>\n\t\t\tcase 'config-item-set': // TODO: <office:config-item-set>\n\t\t\tcase 'config-item-map-indexed': // TODO: <office:config-item-map-indexed>\n\t\t\tcase 'config-item-map-entry': // TODO: <office:config-item-map-entry>\n\t\t\tcase 'config-item-map-named': // TODO: <office:config-item-map-entry>\n\t\t\tcase 'shapes': // 9.2.8 <table:shapes>\n\t\t\tcase 'frame': // 10.4.2 <draw:frame>\n\t\t\tcase 'text-box': // 10.4.3 <draw:text-box>\n\t\t\tcase 'image': // 10.4.4 <draw:image>\n\t\t\tcase 'data-pilot-tables': // 9.6.2 <table:data-pilot-tables>\n\t\t\tcase 'list-style': // 16.30 <text:list-style>\n\t\t\tcase 'form': // 13.13 <form:form>\n\t\t\tcase 'dde-links': // 9.8 <table:dde-links>\n\t\t\tcase 'event-listeners': // TODO\n\t\t\tcase 'chart': // TODO\n\t\t\t\tif(Rn[1]==='/'){if((tmp=state.pop())[0]!==Rn[3]) throw \"Bad state: \"+tmp;}\n\t\t\t\telse if(Rn[0].charAt(Rn[0].length-2) !== '/') state.push([Rn[3], false]);\n\t\t\t\ttextp = \"\"; textpidx = 0; textR = [];\n\t\t\t\tbreak;\n\n\t\t\tcase 'scientific-number': // TODO: <number:scientific-number>\n\t\t\t\tbreak;\n\t\t\tcase 'currency-symbol': // TODO: <number:currency-symbol>\n\t\t\t\tbreak;\n\t\t\tcase 'currency-style': // TODO: <number:currency-style>\n\t\t\t\tbreak;\n\t\t\tcase 'number-style': // 16.27.2 <number:number-style>\n\t\t\tcase 'percentage-style': // 16.27.9 <number:percentage-style>\n\t\t\tcase 'date-style': // 16.27.10 <number:date-style>\n\t\t\tcase 'time-style': // 16.27.18 <number:time-style>\n\t\t\t\tif(Rn[1]==='/'){\n\t\t\t\t\tnumber_format_map[NFtag.name] = NF;\n\t\t\t\t\tif((tmp=state.pop())[0]!==Rn[3]) throw \"Bad state: \"+tmp;\n\t\t\t\t} else if(Rn[0].charAt(Rn[0].length-2) !== '/') {\n\t\t\t\t\tNF = \"\";\n\t\t\t\t\tNFtag = parsexmltag(Rn[0], false);\n\t\t\t\t\tstate.push([Rn[3], true]);\n\t\t\t\t} break;\n\n\t\t\tcase 'script': break; // 3.13 <office:script>\n\t\t\tcase 'libraries': break; // TODO: <ooo:libraries>\n\t\t\tcase 'automatic-styles': break; // 3.15.3 <office:automatic-styles>\n\n\t\t\tcase 'default-style': // TODO: <style:default-style>\n\t\t\tcase 'page-layout': break; // TODO: <style:page-layout>\n\t\t\tcase 'style': // 16.2 <style:style>\n\t\t\t\tbreak;\n\t\t\tcase 'map': break; // 16.3 <style:map>\n\t\t\tcase 'font-face': break; // 16.21 <style:font-face>\n\n\t\t\tcase 'paragraph-properties': break; // 17.6 <style:paragraph-properties>\n\t\t\tcase 'table-properties': break; // 17.15 <style:table-properties>\n\t\t\tcase 'table-column-properties': break; // 17.16 <style:table-column-properties>\n\t\t\tcase 'table-row-properties': break; // 17.17 <style:table-row-properties>\n\t\t\tcase 'table-cell-properties': break; // 17.18 <style:table-cell-properties>\n\n\t\t\tcase 'number': // 16.27.3 <number:number>\n\t\t\t\tswitch(state[state.length-1][0]) {\n\t\t\t\t\tcase 'time-style':\n\t\t\t\t\tcase 'date-style':\n\t\t\t\t\t\ttag = parsexmltag(Rn[0], false);\n\t\t\t\t\t\tNF += number_formats_ods[Rn[3]][tag.style==='long'?1:0]; break;\n\t\t\t\t} break;\n\n\t\t\tcase 'fraction': break; // TODO 16.27.6 <number:fraction>\n\n\t\t\tcase 'day': // 16.27.11 <number:day>\n\t\t\tcase 'month': // 16.27.12 <number:month>\n\t\t\tcase 'year': // 16.27.13 <number:year>\n\t\t\tcase 'era': // 16.27.14 <number:era>\n\t\t\tcase 'day-of-week': // 16.27.15 <number:day-of-week>\n\t\t\tcase 'week-of-year': // 16.27.16 <number:week-of-year>\n\t\t\tcase 'quarter': // 16.27.17 <number:quarter>\n\t\t\tcase 'hours': // 16.27.19 <number:hours>\n\t\t\tcase 'minutes': // 16.27.20 <number:minutes>\n\t\t\tcase 'seconds': // 16.27.21 <number:seconds>\n\t\t\tcase 'am-pm': // 16.27.22 <number:am-pm>\n\t\t\t\tswitch(state[state.length-1][0]) {\n\t\t\t\t\tcase 'time-style':\n\t\t\t\t\tcase 'date-style':\n\t\t\t\t\t\ttag = parsexmltag(Rn[0], false);\n\t\t\t\t\t\tNF += number_formats_ods[Rn[3]][tag.style==='long'?1:0]; break;\n\t\t\t\t} break;\n\n\t\t\tcase 'boolean-style': break; // 16.27.23 <number:boolean-style>\n\t\t\tcase 'boolean': break; // 16.27.24 <number:boolean>\n\t\t\tcase 'text-style': break; // 16.27.25 <number:text-style>\n\t\t\tcase 'text': // 16.27.26 <number:text>\n\t\t\t\tif(Rn[0].slice(-2) === \"/>\") break;\n\t\t\t\telse if(Rn[1]===\"/\") switch(state[state.length-1][0]) {\n\t\t\t\t\tcase 'number-style':\n\t\t\t\t\tcase 'date-style':\n\t\t\t\t\tcase 'time-style':\n\t\t\t\t\t\tNF += str.slice(pidx, Rn.index);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse pidx = Rn.index + Rn[0].length;\n\t\t\t\tbreak;\n\n\t\t\tcase 'named-range': // 9.4.12 <table:named-range>\n\t\t\t\ttag = parsexmltag(Rn[0], false);\n\t\t\t\t_Ref = ods_to_csf_3D(tag['cell-range-address']);\n\t\t\t\tvar nrange = ({Name:tag.name, Ref:_Ref[0] + '!' + _Ref[1]}/*:any*/);\n\t\t\t\tif(intable) nrange.Sheet = SheetNames.length;\n\t\t\t\tWB.Names.push(nrange);\n\t\t\t\tbreak;\n\n\t\t\tcase 'text-content': break; // 16.27.27 <number:text-content>\n\t\t\tcase 'text-properties': break; // 16.27.27 <style:text-properties>\n\t\t\tcase 'embedded-text': break; // 16.27.4 <number:embedded-text>\n\n\t\t\tcase 'body': case '电子表格': break; // 3.3 16.9.6 19.726.3\n\n\t\t\tcase 'forms': break; // 12.25.2 13.2\n\t\t\tcase 'table-column': break; // 9.1.6 <table:table-column>\n\t\t\tcase 'table-header-rows': break; // 9.1.7 <table:table-header-rows>\n\t\t\tcase 'table-rows': break; // 9.1.12 <table:table-rows>\n\t\t\t/* TODO: outline levels */\n\t\t\tcase 'table-column-group': break; // 9.1.10 <table:table-column-group>\n\t\t\tcase 'table-header-columns': break; // 9.1.11 <table:table-header-columns>\n\t\t\tcase 'table-columns': break; // 9.1.12 <table:table-columns>\n\n\t\t\tcase 'null-date': break; // 9.4.2 <table:null-date> TODO: date1904\n\n\t\t\tcase 'graphic-properties': break; // 17.21 <style:graphic-properties>\n\t\t\tcase 'calculation-settings': break; // 9.4.1 <table:calculation-settings>\n\t\t\tcase 'named-expressions': break; // 9.4.11 <table:named-expressions>\n\t\t\tcase 'label-range': break; // 9.4.9 <table:label-range>\n\t\t\tcase 'label-ranges': break; // 9.4.10 <table:label-ranges>\n\t\t\tcase 'named-expression': break; // 9.4.13 <table:named-expression>\n\t\t\tcase 'sort': break; // 9.4.19 <table:sort>\n\t\t\tcase 'sort-by': break; // 9.4.20 <table:sort-by>\n\t\t\tcase 'sort-groups': break; // 9.4.22 <table:sort-groups>\n\n\t\t\tcase 'tab': break; // 6.1.4 <text:tab>\n\t\t\tcase 'line-break': break; // 6.1.5 <text:line-break>\n\t\t\tcase 'span': break; // 6.1.7 <text:span>\n\t\t\tcase 'p': case '文本串': // 5.1.3 <text:p>\n\t\t\t\tif(['master-styles'].indexOf(state[state.length-1][0]) > -1) break;\n\t\t\t\tif(Rn[1]==='/' && (!ctag || !ctag['string-value'])) {\n\t\t\t\t\tvar ptp = parse_text_p(str.slice(textpidx,Rn.index), textptag);\n\t\t\t\t\ttextp = (textp.length > 0 ? textp + \"\\n\" : \"\") + ptp[0];\n\t\t\t\t} else { textptag = parsexmltag(Rn[0], false); textpidx = Rn.index + Rn[0].length; }\n\t\t\t\tbreak; // <text:p>\n\t\t\tcase 's': break; // <text:s>\n\n\t\t\tcase 'database-range': // 9.4.15 <table:database-range>\n\t\t\t\tif(Rn[1]==='/') break;\n\t\t\t\ttry {\n\t\t\t\t\t_Ref = ods_to_csf_3D(parsexmltag(Rn[0])['target-range-address']);\n\t\t\t\t\tSheets[_Ref[0]]['!autofilter'] = { ref:_Ref[1] };\n\t\t\t\t} catch(e) {/* empty */}\n\t\t\t\tbreak;\n\n\t\t\tcase 'date': break; // <*:date>\n\n\t\t\tcase 'object': break; // 10.4.6.2 <draw:object>\n\t\t\tcase 'title': case '标题': break; // <*:title> OR <uof:标题>\n\t\t\tcase 'desc': break; // <*:desc>\n\t\t\tcase 'binary-data': break; // 10.4.5 TODO: b64 blob\n\n\t\t\t/* 9.2 Advanced Tables */\n\t\t\tcase 'table-source': break; // 9.2.6\n\t\t\tcase 'scenario': break; // 9.2.6\n\n\t\t\tcase 'iteration': break; // 9.4.3 <table:iteration>\n\t\t\tcase 'content-validations': break; // 9.4.4 <table:\n\t\t\tcase 'content-validation': break; // 9.4.5 <table:\n\t\t\tcase 'help-message': break; // 9.4.6 <table:\n\t\t\tcase 'error-message': break; // 9.4.7 <table:\n\t\t\tcase 'database-ranges': break; // 9.4.14 <table:database-ranges>\n\t\t\tcase 'filter': break; // 9.5.2 <table:filter>\n\t\t\tcase 'filter-and': break; // 9.5.3 <table:filter-and>\n\t\t\tcase 'filter-or': break; // 9.5.4 <table:filter-or>\n\t\t\tcase 'filter-condition': break; // 9.5.5 <table:filter-condition>\n\n\t\t\tcase 'list-level-style-bullet': break; // 16.31 <text:\n\t\t\tcase 'list-level-style-number': break; // 16.32 <text:\n\t\t\tcase 'list-level-properties': break; // 17.19 <style:\n\n\t\t\t/* 7.3 Document Fields */\n\t\t\tcase 'sender-firstname': // 7.3.6.2\n\t\t\tcase 'sender-lastname': // 7.3.6.3\n\t\t\tcase 'sender-initials': // 7.3.6.4\n\t\t\tcase 'sender-title': // 7.3.6.5\n\t\t\tcase 'sender-position': // 7.3.6.6\n\t\t\tcase 'sender-email': // 7.3.6.7\n\t\t\tcase 'sender-phone-private': // 7.3.6.8\n\t\t\tcase 'sender-fax': // 7.3.6.9\n\t\t\tcase 'sender-company': // 7.3.6.10\n\t\t\tcase 'sender-phone-work': // 7.3.6.11\n\t\t\tcase 'sender-street': // 7.3.6.12\n\t\t\tcase 'sender-city': // 7.3.6.13\n\t\t\tcase 'sender-postal-code': // 7.3.6.14\n\t\t\tcase 'sender-country': // 7.3.6.15\n\t\t\tcase 'sender-state-or-province': // 7.3.6.16\n\t\t\tcase 'author-name': // 7.3.7.1\n\t\t\tcase 'author-initials': // 7.3.7.2\n\t\t\tcase 'chapter': // 7.3.8\n\t\t\tcase 'file-name': // 7.3.9\n\t\t\tcase 'template-name': // 7.3.9\n\t\t\tcase 'sheet-name': // 7.3.9\n\t\t\t\tbreak;\n\n\t\t\tcase 'event-listener':\n\t\t\t\tbreak;\n\t\t\t/* TODO: FODS Properties */\n\t\t\tcase 'initial-creator':\n\t\t\tcase 'creation-date':\n\t\t\tcase 'print-date':\n\t\t\tcase 'generator':\n\t\t\tcase 'document-statistic':\n\t\t\tcase 'user-defined':\n\t\t\tcase 'editing-duration':\n\t\t\tcase 'editing-cycles':\n\t\t\t\tbreak;\n\n\t\t\t/* TODO: FODS Config */\n\t\t\tcase 'config-item':\n\t\t\t\tbreak;\n\n\t\t\t/* TODO: style tokens */\n\t\t\tcase 'page-number': break; // TODO <text:page-number>\n\t\t\tcase 'page-count': break; // TODO <text:page-count>\n\t\t\tcase 'time': break; // TODO <text:time>\n\n\t\t\t/* 9.3 Advanced Table Cells */\n\t\t\tcase 'cell-range-source': break; // 9.3.1 <table:\n\t\t\tcase 'detective': break; // 9.3.2 <table:\n\t\t\tcase 'operation': break; // 9.3.3 <table:\n\t\t\tcase 'highlighted-range': break; // 9.3.4 <table:\n\n\t\t\t/* 9.6 Data Pilot Tables <table: */\n\t\t\tcase 'data-pilot-table': // 9.6.3\n\t\t\tcase 'source-cell-range': // 9.6.5\n\t\t\tcase 'source-service': // 9.6.6\n\t\t\tcase 'data-pilot-field': // 9.6.7\n\t\t\tcase 'data-pilot-level': // 9.6.8\n\t\t\tcase 'data-pilot-subtotals': // 9.6.9\n\t\t\tcase 'data-pilot-subtotal': // 9.6.10\n\t\t\tcase 'data-pilot-members': // 9.6.11\n\t\t\tcase 'data-pilot-member': // 9.6.12\n\t\t\tcase 'data-pilot-display-info': // 9.6.13\n\t\t\tcase 'data-pilot-sort-info': // 9.6.14\n\t\t\tcase 'data-pilot-layout-info': // 9.6.15\n\t\t\tcase 'data-pilot-field-reference': // 9.6.16\n\t\t\tcase 'data-pilot-groups': // 9.6.17\n\t\t\tcase 'data-pilot-group': // 9.6.18\n\t\t\tcase 'data-pilot-group-member': // 9.6.19\n\t\t\t\tbreak;\n\n\t\t\t/* 10.3 Drawing Shapes */\n\t\t\tcase 'rect': // 10.3.2\n\t\t\t\tbreak;\n\n\t\t\t/* 14.6 DDE Connections */\n\t\t\tcase 'dde-connection-decls': // 14.6.2 <text:\n\t\t\tcase 'dde-connection-decl': // 14.6.3 <text:\n\t\t\tcase 'dde-link': // 14.6.4 <table:\n\t\t\tcase 'dde-source': // 14.6.5 <office:\n\t\t\t\tbreak;\n\n\t\t\tcase 'properties': break; // 13.7 <form:properties>\n\t\t\tcase 'property': break; // 13.8 <form:property>\n\n\t\t\tcase 'a': // 6.1.8 hyperlink\n\t\t\t\tif(Rn[1]!== '/') {\n\t\t\t\t\tatag = parsexmltag(Rn[0], false);\n\t\t\t\t\tif(!atag.href) break;\n\t\t\t\t\tatag.Target = unescapexml(atag.href); delete atag.href;\n\t\t\t\t\tif(atag.Target.charAt(0) == \"#\" && atag.Target.indexOf(\".\") > -1) {\n\t\t\t\t\t\t_Ref = ods_to_csf_3D(atag.Target.slice(1));\n\t\t\t\t\t\tatag.Target = \"#\" + _Ref[0] + \"!\" + _Ref[1];\n\t\t\t\t\t} else if(atag.Target.match(/^\\.\\.[\\\\\\/]/)) atag.Target = atag.Target.slice(3);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t/* non-standard */\n\t\t\tcase 'table-protection': break;\n\t\t\tcase 'data-pilot-grand-total': break; // <table:\n\t\t\tcase 'office-document-common-attrs': break; // bare\n\t\t\tdefault: switch(Rn[2]) {\n\t\t\t\tcase 'dc:':       // TODO: properties\n\t\t\t\tcase 'calcext:':  // ignore undocumented extensions\n\t\t\t\tcase 'loext:':    // ignore undocumented extensions\n\t\t\t\tcase 'ooo:':      // ignore undocumented extensions\n\t\t\t\tcase 'chartooo:': // ignore undocumented extensions\n\t\t\t\tcase 'draw:':     // TODO: drawing\n\t\t\t\tcase 'style:':    // TODO: styles\n\t\t\t\tcase 'chart:':    // TODO: charts\n\t\t\t\tcase 'form:':     // TODO: forms\n\t\t\t\tcase 'uof:':      // TODO: uof\n\t\t\t\tcase '表:':       // TODO: uof\n\t\t\t\tcase '字:':       // TODO: uof\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: if(opts.WTF) throw new Error(Rn);\n\t\t\t}\n\t\t}\n\t\tvar out/*:Workbook*/ = ({\n\t\t\tSheets: Sheets,\n\t\t\tSheetNames: SheetNames,\n\t\t\tWorkbook: WB\n\t\t}/*:any*/);\n\t\tif(opts.bookSheets) delete /*::(*/out/*:: :any)*/.Sheets;\n\t\treturn out;\n}\n\nfunction parse_ods(zip/*:ZIPFile*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\topts = opts || ({}/*:any*/);\n\tif(safegetzipfile(zip, 'META-INF/manifest.xml')) parse_manifest(getzipdata(zip, 'META-INF/manifest.xml'), opts);\n\tvar content = getzipstr(zip, 'content.xml');\n\tif(!content) throw new Error(\"Missing content.xml in ODS / UOF file\");\n\tvar wb = parse_content_xml(utf8read(content), opts);\n\tif(safegetzipfile(zip, 'meta.xml')) wb.Props = parse_core_props(getzipdata(zip, 'meta.xml'));\n\treturn wb;\n}\nfunction parse_fods(data/*:string*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\treturn parse_content_xml(data, opts);\n}\n\n/* OpenDocument */\nvar write_styles_ods/*:{(wb:any, opts:any):string}*/ = /* @__PURE__ */(function() {\n\tvar master_styles = [\n\t\t'<office:master-styles>',\n\t\t\t'<style:master-page style:name=\"mp1\" style:page-layout-name=\"mp1\">',\n\t\t\t\t'<style:header/>',\n\t\t\t\t'<style:header-left style:display=\"false\"/>',\n\t\t\t\t'<style:footer/>',\n\t\t\t\t'<style:footer-left style:display=\"false\"/>',\n\t\t\t'</style:master-page>',\n\t\t'</office:master-styles>'\n\t].join(\"\");\n\n\tvar payload = '<office:document-styles ' + wxt_helper({\n\t\t'xmlns:office':   \"urn:oasis:names:tc:opendocument:xmlns:office:1.0\",\n\t\t'xmlns:table':    \"urn:oasis:names:tc:opendocument:xmlns:table:1.0\",\n\t\t'xmlns:style':    \"urn:oasis:names:tc:opendocument:xmlns:style:1.0\",\n\t\t'xmlns:text':     \"urn:oasis:names:tc:opendocument:xmlns:text:1.0\",\n\t\t'xmlns:draw':     \"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0\",\n\t\t'xmlns:fo':       \"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0\",\n\t\t'xmlns:xlink':    \"http://www.w3.org/1999/xlink\",\n\t\t'xmlns:dc':       \"http://purl.org/dc/elements/1.1/\",\n\t\t'xmlns:number':   \"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0\",\n\t\t'xmlns:svg':      \"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0\",\n\t\t'xmlns:of':       \"urn:oasis:names:tc:opendocument:xmlns:of:1.2\",\n\t\t'office:version': \"1.2\"\n\t}) + '>' + master_styles + '</office:document-styles>';\n\n\treturn function wso(/*::wb, opts*/) {\n\t\treturn XML_HEADER + payload;\n\t};\n})();\nvar write_content_ods/*:{(wb:any, opts:any):string}*/ = /* @__PURE__ */(function() {\n\t/* 6.1.2 White Space Characters */\n\tvar write_text_p = function(text/*:string*/)/*:string*/ {\n\t\treturn escapexml(text)\n\t\t\t.replace(/  +/g, function($$){return '<text:s text:c=\"'+$$.length+'\"/>';})\n\t\t\t.replace(/\\t/g, \"<text:tab/>\")\n\t\t\t.replace(/\\n/g, \"</text:p><text:p>\")\n\t\t\t.replace(/^ /, \"<text:s/>\").replace(/ $/, \"<text:s/>\");\n\t};\n\n\tvar null_cell_xml = '          <table:table-cell />\\n';\n\tvar covered_cell_xml = '          <table:covered-table-cell/>\\n';\n\tvar write_ws = function(ws, wb/*:Workbook*/, i/*:number*//*::, opts*/)/*:string*/ {\n\t\t/* Section 9 Tables */\n\t\tvar o/*:Array<string>*/ = [];\n\t\to.push('      <table:table table:name=\"' + escapexml(wb.SheetNames[i]) + '\" table:style-name=\"ta1\">\\n');\n\t\tvar R=0,C=0, range = decode_range(ws['!ref']||\"A1\");\n\t\tvar marr/*:Array<Range>*/ = ws['!merges'] || [], mi = 0;\n\t\tvar dense = Array.isArray(ws);\n\t\tif(ws[\"!cols\"]) {\n\t\t\tfor(C = 0; C <= range.e.c; ++C) o.push('        <table:table-column' + (ws[\"!cols\"][C] ? ' table:style-name=\"co' + ws[\"!cols\"][C].ods + '\"' : '') + '></table:table-column>\\n');\n\t\t}\n\t\tvar H = \"\", ROWS = ws[\"!rows\"]||[];\n\t\tfor(R = 0; R < range.s.r; ++R) {\n\t\t\tH = ROWS[R] ? ' table:style-name=\"ro' + ROWS[R].ods + '\"' : \"\";\n\t\t\to.push('        <table:table-row' + H + '></table:table-row>\\n');\n\t\t}\n\t\tfor(; R <= range.e.r; ++R) {\n\t\t\tH = ROWS[R] ? ' table:style-name=\"ro' + ROWS[R].ods + '\"' : \"\";\n\t\t\to.push('        <table:table-row' + H + '>\\n');\n\t\t\tfor(C=0; C < range.s.c; ++C) o.push(null_cell_xml);\n\t\t\tfor(; C <= range.e.c; ++C) {\n\t\t\t\tvar skip = false, ct = {}, textp = \"\";\n\t\t\t\tfor(mi = 0; mi != marr.length; ++mi) {\n\t\t\t\t\tif(marr[mi].s.c > C) continue;\n\t\t\t\t\tif(marr[mi].s.r > R) continue;\n\t\t\t\t\tif(marr[mi].e.c < C) continue;\n\t\t\t\t\tif(marr[mi].e.r < R) continue;\n\t\t\t\t\tif(marr[mi].s.c != C || marr[mi].s.r != R) skip = true;\n\t\t\t\t\tct['table:number-columns-spanned'] = (marr[mi].e.c - marr[mi].s.c + 1);\n\t\t\t\t\tct['table:number-rows-spanned'] =    (marr[mi].e.r - marr[mi].s.r + 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(skip) { o.push(covered_cell_xml); continue; }\n\t\t\t\tvar ref = encode_cell({r:R, c:C}), cell = dense ? (ws[R]||[])[C]: ws[ref];\n\t\t\t\tif(cell && cell.f) {\n\t\t\t\t\tct['table:formula'] = escapexml(csf_to_ods_formula(cell.f));\n\t\t\t\t\tif(cell.F) {\n\t\t\t\t\t\tif(cell.F.slice(0, ref.length) == ref) {\n\t\t\t\t\t\t\tvar _Fref = decode_range(cell.F);\n\t\t\t\t\t\t\tct['table:number-matrix-columns-spanned'] = (_Fref.e.c - _Fref.s.c + 1);\n\t\t\t\t\t\t\tct['table:number-matrix-rows-spanned'] =    (_Fref.e.r - _Fref.s.r + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!cell) { o.push(null_cell_xml); continue; }\n\t\t\t\tswitch(cell.t) {\n\t\t\t\t\tcase 'b':\n\t\t\t\t\t\ttextp = (cell.v ? 'TRUE' : 'FALSE');\n\t\t\t\t\t\tct['office:value-type'] = \"boolean\";\n\t\t\t\t\t\tct['office:boolean-value'] = (cell.v ? 'true' : 'false');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'n':\n\t\t\t\t\t\ttextp = (cell.w||String(cell.v||0));\n\t\t\t\t\t\tct['office:value-type'] = \"float\";\n\t\t\t\t\t\tct['office:value'] = (cell.v||0);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 's': case 'str':\n\t\t\t\t\t\ttextp = cell.v == null ? \"\" : cell.v;\n\t\t\t\t\t\tct['office:value-type'] = \"string\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'd':\n\t\t\t\t\t\ttextp = (cell.w||(parseDate(cell.v).toISOString()));\n\t\t\t\t\t\tct['office:value-type'] = \"date\";\n\t\t\t\t\t\tct['office:date-value'] = (parseDate(cell.v).toISOString());\n\t\t\t\t\t\tct['table:style-name'] = \"ce1\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t//case 'e':\n\t\t\t\t\tdefault: o.push(null_cell_xml); continue;\n\t\t\t\t}\n\t\t\t\tvar text_p = write_text_p(textp);\n\t\t\t\tif(cell.l && cell.l.Target) {\n\t\t\t\t\tvar _tgt = cell.l.Target;\n\t\t\t\t\t_tgt = _tgt.charAt(0) == \"#\" ? \"#\" + csf_to_ods_3D(_tgt.slice(1)) : _tgt;\n\t\t\t\t\t// TODO: choose correct parent path format based on link delimiters\n\t\t\t\t\tif(_tgt.charAt(0) != \"#\" && !_tgt.match(/^\\w+:/)) _tgt = '../' + _tgt;\n\t\t\t\t\ttext_p = writextag('text:a', text_p, {'xlink:href': _tgt.replace(/&/g, \"&amp;\")});\n\t\t\t\t}\n\t\t\t\to.push('          ' + writextag('table:table-cell', writextag('text:p', text_p, {}), ct) + '\\n');\n\t\t\t}\n\t\t\to.push('        </table:table-row>\\n');\n\t\t}\n\t\to.push('      </table:table>\\n');\n\t\treturn o.join(\"\");\n\t};\n\n\tvar write_automatic_styles_ods = function(o/*:Array<string>*/, wb) {\n\t\to.push(' <office:automatic-styles>\\n');\n\n\t\to.push('  <number:date-style style:name=\"N37\" number:automatic-order=\"true\">\\n');\n\t\to.push('   <number:month number:style=\"long\"/>\\n');\n\t\to.push('   <number:text>/</number:text>\\n');\n\t\to.push('   <number:day number:style=\"long\"/>\\n');\n\t\to.push('   <number:text>/</number:text>\\n');\n\t\to.push('   <number:year/>\\n');\n\t\to.push('  </number:date-style>\\n');\n\n\t\t/* column styles */\n\t\tvar cidx = 0;\n\t\twb.SheetNames.map(function(n) { return wb.Sheets[n]; }).forEach(function(ws) {\n\t\t\tif(!ws) return;\n\t\t\tif(ws[\"!cols\"]) {\n\t\t\t\tfor(var C = 0; C < ws[\"!cols\"].length; ++C) if(ws[\"!cols\"][C]) {\n\t\t\t\t\tvar colobj = ws[\"!cols\"][C];\n\t\t\t\t\tif(colobj.width == null && colobj.wpx == null && colobj.wch == null) continue;\n\t\t\t\t\tprocess_col(colobj);\n\t\t\t\t\tcolobj.ods = cidx;\n\t\t\t\t\tvar w = ws[\"!cols\"][C].wpx + \"px\";\n\t\t\t\t\to.push('  <style:style style:name=\"co' + cidx + '\" style:family=\"table-column\">\\n');\n\t\t\t\t\to.push('   <style:table-column-properties fo:break-before=\"auto\" style:column-width=\"' + w + '\"/>\\n');\n\t\t\t\t\to.push('  </style:style>\\n');\n\t\t\t\t\t++cidx;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t/* row styles */\n\t\tvar ridx = 0;\n\t\twb.SheetNames.map(function(n) { return wb.Sheets[n]; }).forEach(function(ws) {\n\t\t\tif(!ws) return;\n\t\t\tif(ws[\"!rows\"]) {\n\t\t\t\tfor(var R = 0; R < ws[\"!rows\"].length; ++R) if(ws[\"!rows\"][R]) {\n\t\t\t\t\tws[\"!rows\"][R].ods = ridx;\n\t\t\t\t\tvar h = ws[\"!rows\"][R].hpx + \"px\";\n\t\t\t\t\to.push('  <style:style style:name=\"ro' + ridx + '\" style:family=\"table-row\">\\n');\n\t\t\t\t\to.push('   <style:table-row-properties fo:break-before=\"auto\" style:row-height=\"' + h + '\"/>\\n');\n\t\t\t\t\to.push('  </style:style>\\n');\n\t\t\t\t\t++ridx;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t/* table */\n\t\to.push('  <style:style style:name=\"ta1\" style:family=\"table\" style:master-page-name=\"mp1\">\\n');\n\t\to.push('   <style:table-properties table:display=\"true\" style:writing-mode=\"lr-tb\"/>\\n');\n\t\to.push('  </style:style>\\n');\n\n\t\t/* table cells, text */\n\t\to.push('  <style:style style:name=\"ce1\" style:family=\"table-cell\" style:parent-style-name=\"Default\" style:data-style-name=\"N37\"/>\\n');\n\n\t\t/* page-layout */\n\n\t\to.push(' </office:automatic-styles>\\n');\n\t};\n\n\treturn function wcx(wb, opts) {\n\t\tvar o = [XML_HEADER];\n\t\t/* 3.1.3.2 */\n\t\tvar attr = wxt_helper({\n\t\t\t'xmlns:office':       \"urn:oasis:names:tc:opendocument:xmlns:office:1.0\",\n\t\t\t'xmlns:table':        \"urn:oasis:names:tc:opendocument:xmlns:table:1.0\",\n\t\t\t'xmlns:style':        \"urn:oasis:names:tc:opendocument:xmlns:style:1.0\",\n\t\t\t'xmlns:text':         \"urn:oasis:names:tc:opendocument:xmlns:text:1.0\",\n\t\t\t'xmlns:draw':         \"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0\",\n\t\t\t'xmlns:fo':           \"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0\",\n\t\t\t'xmlns:xlink':        \"http://www.w3.org/1999/xlink\",\n\t\t\t'xmlns:dc':           \"http://purl.org/dc/elements/1.1/\",\n\t\t\t'xmlns:meta':         \"urn:oasis:names:tc:opendocument:xmlns:meta:1.0\",\n\t\t\t'xmlns:number':       \"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0\",\n\t\t\t'xmlns:presentation': \"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0\",\n\t\t\t'xmlns:svg':          \"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0\",\n\t\t\t'xmlns:chart':        \"urn:oasis:names:tc:opendocument:xmlns:chart:1.0\",\n\t\t\t'xmlns:dr3d':         \"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0\",\n\t\t\t'xmlns:math':         \"http://www.w3.org/1998/Math/MathML\",\n\t\t\t'xmlns:form':         \"urn:oasis:names:tc:opendocument:xmlns:form:1.0\",\n\t\t\t'xmlns:script':       \"urn:oasis:names:tc:opendocument:xmlns:script:1.0\",\n\t\t\t'xmlns:ooo':          \"http://openoffice.org/2004/office\",\n\t\t\t'xmlns:ooow':         \"http://openoffice.org/2004/writer\",\n\t\t\t'xmlns:oooc':         \"http://openoffice.org/2004/calc\",\n\t\t\t'xmlns:dom':          \"http://www.w3.org/2001/xml-events\",\n\t\t\t'xmlns:xforms':       \"http://www.w3.org/2002/xforms\",\n\t\t\t'xmlns:xsd':          \"http://www.w3.org/2001/XMLSchema\",\n\t\t\t'xmlns:xsi':          \"http://www.w3.org/2001/XMLSchema-instance\",\n\t\t\t'xmlns:sheet':        \"urn:oasis:names:tc:opendocument:sh33tjs:1.0\",\n\t\t\t'xmlns:rpt':          \"http://openoffice.org/2005/report\",\n\t\t\t'xmlns:of':           \"urn:oasis:names:tc:opendocument:xmlns:of:1.2\",\n\t\t\t'xmlns:xhtml':        \"http://www.w3.org/1999/xhtml\",\n\t\t\t'xmlns:grddl':        \"http://www.w3.org/2003/g/data-view#\",\n\t\t\t'xmlns:tableooo':     \"http://openoffice.org/2009/table\",\n\t\t\t'xmlns:drawooo':      \"http://openoffice.org/2010/draw\",\n\t\t\t'xmlns:calcext':      \"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0\",\n\t\t\t'xmlns:loext':        \"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0\",\n\t\t\t'xmlns:field':        \"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0\",\n\t\t\t'xmlns:formx':        \"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0\",\n\t\t\t'xmlns:css3t':        \"http://www.w3.org/TR/css3-text/\",\n\t\t\t'office:version':     \"1.2\"\n\t\t});\n\n\t\tvar fods = wxt_helper({\n\t\t\t'xmlns:config':    \"urn:oasis:names:tc:opendocument:xmlns:config:1.0\",\n\t\t\t'office:mimetype': \"application/vnd.oasis.opendocument.spreadsheet\"\n\t\t});\n\n\t\tif(opts.bookType == \"fods\") {\n\t\t\to.push('<office:document' + attr + fods + '>\\n');\n\t\t\to.push(write_meta_ods().replace(/office:document-meta/g, \"office:meta\"));\n\t\t\t// TODO: settings (equiv of settings.xml for ODS)\n\t\t} else o.push('<office:document-content' + attr  + '>\\n');\n\t\t// o.push('  <office:scripts/>\\n');\n\t\twrite_automatic_styles_ods(o, wb);\n\t\to.push('  <office:body>\\n');\n\t\to.push('    <office:spreadsheet>\\n');\n\t\tfor(var i = 0; i != wb.SheetNames.length; ++i) o.push(write_ws(wb.Sheets[wb.SheetNames[i]], wb, i, opts));\n\t\to.push('    </office:spreadsheet>\\n');\n\t\to.push('  </office:body>\\n');\n\t\tif(opts.bookType == \"fods\") o.push('</office:document>');\n\t\telse o.push('</office:document-content>');\n\t\treturn o.join(\"\");\n\t};\n})();\n\nfunction write_ods(wb/*:any*/, opts/*:any*/) {\n\tif(opts.bookType == \"fods\") return write_content_ods(wb, opts);\n\n\tvar zip = zip_new();\n\tvar f = \"\";\n\n\tvar manifest/*:Array<Array<string> >*/ = [];\n\tvar rdf/*:Array<[string, string]>*/ = [];\n\n\t/* Part 3 Section 3.3 MIME Media Type */\n\tf = \"mimetype\";\n\tzip_add_file(zip, f, \"application/vnd.oasis.opendocument.spreadsheet\");\n\n\t/* Part 1 Section 2.2 Documents */\n\tf = \"content.xml\";\n\tzip_add_file(zip, f, write_content_ods(wb, opts));\n\tmanifest.push([f, \"text/xml\"]);\n\trdf.push([f, \"ContentFile\"]);\n\n\t/* TODO: these are hard-coded styles to satiate excel */\n\tf = \"styles.xml\";\n\tzip_add_file(zip, f, write_styles_ods(wb, opts));\n\tmanifest.push([f, \"text/xml\"]);\n\trdf.push([f, \"StylesFile\"]);\n\n\t/* TODO: this is hard-coded to satiate excel */\n\tf = \"meta.xml\";\n\tzip_add_file(zip, f, XML_HEADER + write_meta_ods(/*::wb, opts*/));\n\tmanifest.push([f, \"text/xml\"]);\n\trdf.push([f, \"MetadataFile\"]);\n\n\t/* Part 3 Section 6 Metadata Manifest File */\n\tf = \"manifest.rdf\";\n\tzip_add_file(zip, f, write_rdf(rdf/*, opts*/));\n\tmanifest.push([f, \"application/rdf+xml\"]);\n\n\t/* Part 3 Section 4 Manifest File */\n\tf = \"META-INF/manifest.xml\";\n\tzip_add_file(zip, f, write_manifest(manifest/*, opts*/));\n\n\treturn zip;\n}\n\n/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */\nfunction u8_to_dataview(array) {\n  return new DataView(array.buffer, array.byteOffset, array.byteLength);\n}\nfunction u8str(u8) {\n  return typeof TextDecoder != \"undefined\" ? new TextDecoder().decode(u8) : utf8read(a2s(u8));\n}\nfunction stru8(str) {\n  return typeof TextEncoder != \"undefined\" ? new TextEncoder().encode(str) : s2a(utf8write(str));\n}\nfunction u8contains(body, search) {\n  outer:\n    for (var L = 0; L <= body.length - search.length; ++L) {\n      for (var j = 0; j < search.length; ++j)\n        if (body[L + j] != search[j])\n          continue outer;\n      return true;\n    }\n  return false;\n}\nfunction u8concat(u8a) {\n  var len = u8a.reduce(function(acc, x) {\n    return acc + x.length;\n  }, 0);\n  var out = new Uint8Array(len);\n  var off = 0;\n  u8a.forEach(function(u8) {\n    out.set(u8, off);\n    off += u8.length;\n  });\n  return out;\n}\nfunction popcnt(x) {\n  x -= x >> 1 & 1431655765;\n  x = (x & 858993459) + (x >> 2 & 858993459);\n  return (x + (x >> 4) & 252645135) * 16843009 >>> 24;\n}\nfunction readDecimal128LE(buf, offset) {\n  var exp = (buf[offset + 15] & 127) << 7 | buf[offset + 14] >> 1;\n  var mantissa = buf[offset + 14] & 1;\n  for (var j = offset + 13; j >= offset; --j)\n    mantissa = mantissa * 256 + buf[j];\n  return (buf[offset + 15] & 128 ? -mantissa : mantissa) * Math.pow(10, exp - 6176);\n}\nfunction writeDecimal128LE(buf, offset, value) {\n  var exp = Math.floor(value == 0 ? 0 : Math.LOG10E * Math.log(Math.abs(value))) + 6176 - 20;\n  var mantissa = value / Math.pow(10, exp - 6176);\n  buf[offset + 15] |= exp >> 7;\n  buf[offset + 14] |= (exp & 127) << 1;\n  for (var i = 0; mantissa >= 1; ++i, mantissa /= 256)\n    buf[offset + i] = mantissa & 255;\n  buf[offset + 15] |= value >= 0 ? 0 : 128;\n}\nfunction parse_varint49(buf, ptr) {\n  var l = ptr ? ptr[0] : 0;\n  var usz = buf[l] & 127;\n  varint:\n    if (buf[l++] >= 128) {\n      usz |= (buf[l] & 127) << 7;\n      if (buf[l++] < 128)\n        break varint;\n      usz |= (buf[l] & 127) << 14;\n      if (buf[l++] < 128)\n        break varint;\n      usz |= (buf[l] & 127) << 21;\n      if (buf[l++] < 128)\n        break varint;\n      usz += (buf[l] & 127) * Math.pow(2, 28);\n      ++l;\n      if (buf[l++] < 128)\n        break varint;\n      usz += (buf[l] & 127) * Math.pow(2, 35);\n      ++l;\n      if (buf[l++] < 128)\n        break varint;\n      usz += (buf[l] & 127) * Math.pow(2, 42);\n      ++l;\n      if (buf[l++] < 128)\n        break varint;\n    }\n  if (ptr)\n    ptr[0] = l;\n  return usz;\n}\nfunction write_varint49(v) {\n  var usz = new Uint8Array(7);\n  usz[0] = v & 127;\n  var L = 1;\n  sz:\n    if (v > 127) {\n      usz[L - 1] |= 128;\n      usz[L] = v >> 7 & 127;\n      ++L;\n      if (v <= 16383)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v >> 14 & 127;\n      ++L;\n      if (v <= 2097151)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v >> 21 & 127;\n      ++L;\n      if (v <= 268435455)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v / 256 >>> 21 & 127;\n      ++L;\n      if (v <= 34359738367)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v / 65536 >>> 21 & 127;\n      ++L;\n      if (v <= 4398046511103)\n        break sz;\n      usz[L - 1] |= 128;\n      usz[L] = v / 16777216 >>> 21 & 127;\n      ++L;\n    }\n  return usz.slice(0, L);\n}\nfunction varint_to_i32(buf) {\n  var l = 0, i32 = buf[l] & 127;\n  varint:\n    if (buf[l++] >= 128) {\n      i32 |= (buf[l] & 127) << 7;\n      if (buf[l++] < 128)\n        break varint;\n      i32 |= (buf[l] & 127) << 14;\n      if (buf[l++] < 128)\n        break varint;\n      i32 |= (buf[l] & 127) << 21;\n      if (buf[l++] < 128)\n        break varint;\n      i32 |= (buf[l] & 127) << 28;\n    }\n  return i32;\n}\nfunction parse_shallow(buf) {\n  var out = [], ptr = [0];\n  while (ptr[0] < buf.length) {\n    var off = ptr[0];\n    var num = parse_varint49(buf, ptr);\n    var type = num & 7;\n    num = Math.floor(num / 8);\n    var len = 0;\n    var res;\n    if (num == 0)\n      break;\n    switch (type) {\n      case 0:\n        {\n          var l = ptr[0];\n          while (buf[ptr[0]++] >= 128)\n            ;\n          res = buf.slice(l, ptr[0]);\n        }\n        break;\n      case 5:\n        len = 4;\n        res = buf.slice(ptr[0], ptr[0] + len);\n        ptr[0] += len;\n        break;\n      case 1:\n        len = 8;\n        res = buf.slice(ptr[0], ptr[0] + len);\n        ptr[0] += len;\n        break;\n      case 2:\n        len = parse_varint49(buf, ptr);\n        res = buf.slice(ptr[0], ptr[0] + len);\n        ptr[0] += len;\n        break;\n      case 3:\n      case 4:\n      default:\n        throw new Error(\"PB Type \".concat(type, \" for Field \").concat(num, \" at offset \").concat(off));\n    }\n    var v = { data: res, type: type };\n    if (out[num] == null)\n      out[num] = [v];\n    else\n      out[num].push(v);\n  }\n  return out;\n}\nfunction write_shallow(proto) {\n  var out = [];\n  proto.forEach(function(field, idx) {\n    field.forEach(function(item) {\n      if (!item.data)\n        return;\n      out.push(write_varint49(idx * 8 + item.type));\n      if (item.type == 2)\n        out.push(write_varint49(item.data.length));\n      out.push(item.data);\n    });\n  });\n  return u8concat(out);\n}\nfunction mappa(data, cb) {\n  return (data == null ? void 0 : data.map(function(d) {\n    return cb(d.data);\n  })) || [];\n}\nfunction parse_iwa_file(buf) {\n  var _a;\n  var out = [], ptr = [0];\n  while (ptr[0] < buf.length) {\n    var len = parse_varint49(buf, ptr);\n    var ai = parse_shallow(buf.slice(ptr[0], ptr[0] + len));\n    ptr[0] += len;\n    var res = {\n      id: varint_to_i32(ai[1][0].data),\n      messages: []\n    };\n    ai[2].forEach(function(b) {\n      var mi = parse_shallow(b.data);\n      var fl = varint_to_i32(mi[3][0].data);\n      res.messages.push({\n        meta: mi,\n        data: buf.slice(ptr[0], ptr[0] + fl)\n      });\n      ptr[0] += fl;\n    });\n    if ((_a = ai[3]) == null ? void 0 : _a[0])\n      res.merge = varint_to_i32(ai[3][0].data) >>> 0 > 0;\n    out.push(res);\n  }\n  return out;\n}\nfunction write_iwa_file(ias) {\n  var bufs = [];\n  ias.forEach(function(ia) {\n    var ai = [];\n    ai[1] = [{ data: write_varint49(ia.id), type: 0 }];\n    ai[2] = [];\n    if (ia.merge != null)\n      ai[3] = [{ data: write_varint49(+!!ia.merge), type: 0 }];\n    var midata = [];\n    ia.messages.forEach(function(mi) {\n      midata.push(mi.data);\n      mi.meta[3] = [{ type: 0, data: write_varint49(mi.data.length) }];\n      ai[2].push({ data: write_shallow(mi.meta), type: 2 });\n    });\n    var aipayload = write_shallow(ai);\n    bufs.push(write_varint49(aipayload.length));\n    bufs.push(aipayload);\n    midata.forEach(function(mid) {\n      return bufs.push(mid);\n    });\n  });\n  return u8concat(bufs);\n}\nfunction parse_snappy_chunk(type, buf) {\n  if (type != 0)\n    throw new Error(\"Unexpected Snappy chunk type \".concat(type));\n  var ptr = [0];\n  var usz = parse_varint49(buf, ptr);\n  var chunks = [];\n  while (ptr[0] < buf.length) {\n    var tag = buf[ptr[0]] & 3;\n    if (tag == 0) {\n      var len = buf[ptr[0]++] >> 2;\n      if (len < 60)\n        ++len;\n      else {\n        var c = len - 59;\n        len = buf[ptr[0]];\n        if (c > 1)\n          len |= buf[ptr[0] + 1] << 8;\n        if (c > 2)\n          len |= buf[ptr[0] + 2] << 16;\n        if (c > 3)\n          len |= buf[ptr[0] + 3] << 24;\n        len >>>= 0;\n        len++;\n        ptr[0] += c;\n      }\n      chunks.push(buf.slice(ptr[0], ptr[0] + len));\n      ptr[0] += len;\n      continue;\n    } else {\n      var offset = 0, length = 0;\n      if (tag == 1) {\n        length = (buf[ptr[0]] >> 2 & 7) + 4;\n        offset = (buf[ptr[0]++] & 224) << 3;\n        offset |= buf[ptr[0]++];\n      } else {\n        length = (buf[ptr[0]++] >> 2) + 1;\n        if (tag == 2) {\n          offset = buf[ptr[0]] | buf[ptr[0] + 1] << 8;\n          ptr[0] += 2;\n        } else {\n          offset = (buf[ptr[0]] | buf[ptr[0] + 1] << 8 | buf[ptr[0] + 2] << 16 | buf[ptr[0] + 3] << 24) >>> 0;\n          ptr[0] += 4;\n        }\n      }\n      chunks = [u8concat(chunks)];\n      if (offset == 0)\n        throw new Error(\"Invalid offset 0\");\n      if (offset > chunks[0].length)\n        throw new Error(\"Invalid offset beyond length\");\n      if (length >= offset) {\n        chunks.push(chunks[0].slice(-offset));\n        length -= offset;\n        while (length >= chunks[chunks.length - 1].length) {\n          chunks.push(chunks[chunks.length - 1]);\n          length -= chunks[chunks.length - 1].length;\n        }\n      }\n      chunks.push(chunks[0].slice(-offset, -offset + length));\n    }\n  }\n  var o = u8concat(chunks);\n  if (o.length != usz)\n    throw new Error(\"Unexpected length: \".concat(o.length, \" != \").concat(usz));\n  return o;\n}\nfunction decompress_iwa_file(buf) {\n  var out = [];\n  var l = 0;\n  while (l < buf.length) {\n    var t = buf[l++];\n    var len = buf[l] | buf[l + 1] << 8 | buf[l + 2] << 16;\n    l += 3;\n    out.push(parse_snappy_chunk(t, buf.slice(l, l + len)));\n    l += len;\n  }\n  if (l !== buf.length)\n    throw new Error(\"data is not a valid framed stream!\");\n  return u8concat(out);\n}\nfunction compress_iwa_file(buf) {\n  var out = [];\n  var l = 0;\n  while (l < buf.length) {\n    var c = Math.min(buf.length - l, 268435455);\n    var frame = new Uint8Array(4);\n    out.push(frame);\n    var usz = write_varint49(c);\n    var L = usz.length;\n    out.push(usz);\n    if (c <= 60) {\n      L++;\n      out.push(new Uint8Array([c - 1 << 2]));\n    } else if (c <= 256) {\n      L += 2;\n      out.push(new Uint8Array([240, c - 1 & 255]));\n    } else if (c <= 65536) {\n      L += 3;\n      out.push(new Uint8Array([244, c - 1 & 255, c - 1 >> 8 & 255]));\n    } else if (c <= 16777216) {\n      L += 4;\n      out.push(new Uint8Array([248, c - 1 & 255, c - 1 >> 8 & 255, c - 1 >> 16 & 255]));\n    } else if (c <= 4294967296) {\n      L += 5;\n      out.push(new Uint8Array([252, c - 1 & 255, c - 1 >> 8 & 255, c - 1 >> 16 & 255, c - 1 >>> 24 & 255]));\n    }\n    out.push(buf.slice(l, l + c));\n    L += c;\n    frame[0] = 0;\n    frame[1] = L & 255;\n    frame[2] = L >> 8 & 255;\n    frame[3] = L >> 16 & 255;\n    l += c;\n  }\n  return u8concat(out);\n}\nfunction parse_old_storage(buf, sst, rsst, v) {\n  var dv = u8_to_dataview(buf);\n  var flags = dv.getUint32(4, true);\n  var data_offset = (v > 1 ? 12 : 8) + popcnt(flags & (v > 1 ? 3470 : 398)) * 4;\n  var ridx = -1, sidx = -1, ieee = NaN, dt = new Date(2001, 0, 1);\n  if (flags & 512) {\n    ridx = dv.getUint32(data_offset, true);\n    data_offset += 4;\n  }\n  data_offset += popcnt(flags & (v > 1 ? 12288 : 4096)) * 4;\n  if (flags & 16) {\n    sidx = dv.getUint32(data_offset, true);\n    data_offset += 4;\n  }\n  if (flags & 32) {\n    ieee = dv.getFloat64(data_offset, true);\n    data_offset += 8;\n  }\n  if (flags & 64) {\n    dt.setTime(dt.getTime() + dv.getFloat64(data_offset, true) * 1e3);\n    data_offset += 8;\n  }\n  var ret;\n  switch (buf[2]) {\n    case 0:\n      break;\n    case 2:\n      ret = { t: \"n\", v: ieee };\n      break;\n    case 3:\n      ret = { t: \"s\", v: sst[sidx] };\n      break;\n    case 5:\n      ret = { t: \"d\", v: dt };\n      break;\n    case 6:\n      ret = { t: \"b\", v: ieee > 0 };\n      break;\n    case 7:\n      ret = { t: \"n\", v: ieee / 86400 };\n      break;\n    case 8:\n      ret = { t: \"e\", v: 0 };\n      break;\n    case 9:\n      {\n        if (ridx > -1)\n          ret = { t: \"s\", v: rsst[ridx] };\n        else if (sidx > -1)\n          ret = { t: \"s\", v: sst[sidx] };\n        else if (!isNaN(ieee))\n          ret = { t: \"n\", v: ieee };\n        else\n          throw new Error(\"Unsupported cell type \".concat(buf.slice(0, 4)));\n      }\n      break;\n    default:\n      throw new Error(\"Unsupported cell type \".concat(buf.slice(0, 4)));\n  }\n  return ret;\n}\nfunction parse_new_storage(buf, sst, rsst) {\n  var dv = u8_to_dataview(buf);\n  var flags = dv.getUint32(8, true);\n  var data_offset = 12;\n  var ridx = -1, sidx = -1, d128 = NaN, ieee = NaN, dt = new Date(2001, 0, 1);\n  if (flags & 1) {\n    d128 = readDecimal128LE(buf, data_offset);\n    data_offset += 16;\n  }\n  if (flags & 2) {\n    ieee = dv.getFloat64(data_offset, true);\n    data_offset += 8;\n  }\n  if (flags & 4) {\n    dt.setTime(dt.getTime() + dv.getFloat64(data_offset, true) * 1e3);\n    data_offset += 8;\n  }\n  if (flags & 8) {\n    sidx = dv.getUint32(data_offset, true);\n    data_offset += 4;\n  }\n  if (flags & 16) {\n    ridx = dv.getUint32(data_offset, true);\n    data_offset += 4;\n  }\n  var ret;\n  switch (buf[1]) {\n    case 0:\n      break;\n    case 2:\n      ret = { t: \"n\", v: d128 };\n      break;\n    case 3:\n      ret = { t: \"s\", v: sst[sidx] };\n      break;\n    case 5:\n      ret = { t: \"d\", v: dt };\n      break;\n    case 6:\n      ret = { t: \"b\", v: ieee > 0 };\n      break;\n    case 7:\n      ret = { t: \"n\", v: ieee / 86400 };\n      break;\n    case 8:\n      ret = { t: \"e\", v: 0 };\n      break;\n    case 9:\n      {\n        if (ridx > -1)\n          ret = { t: \"s\", v: rsst[ridx] };\n        else\n          throw new Error(\"Unsupported cell type \".concat(buf[1], \" : \").concat(flags & 31, \" : \").concat(buf.slice(0, 4)));\n      }\n      break;\n    case 10:\n      ret = { t: \"n\", v: d128 };\n      break;\n    default:\n      throw new Error(\"Unsupported cell type \".concat(buf[1], \" : \").concat(flags & 31, \" : \").concat(buf.slice(0, 4)));\n  }\n  return ret;\n}\nfunction write_new_storage(cell, sst) {\n  var out = new Uint8Array(32), dv = u8_to_dataview(out), l = 12, flags = 0;\n  out[0] = 5;\n  switch (cell.t) {\n    case \"n\":\n      out[1] = 2;\n      writeDecimal128LE(out, l, cell.v);\n      flags |= 1;\n      l += 16;\n      break;\n    case \"b\":\n      out[1] = 6;\n      dv.setFloat64(l, cell.v ? 1 : 0, true);\n      flags |= 2;\n      l += 8;\n      break;\n    case \"s\":\n      if (sst.indexOf(cell.v) == -1)\n        throw new Error(\"Value \".concat(cell.v, \" missing from SST!\"));\n      out[1] = 3;\n      dv.setUint32(l, sst.indexOf(cell.v), true);\n      flags |= 8;\n      l += 4;\n      break;\n    default:\n      throw \"unsupported cell type \" + cell.t;\n  }\n  dv.setUint32(8, flags, true);\n  return out.slice(0, l);\n}\nfunction write_old_storage(cell, sst) {\n  var out = new Uint8Array(32), dv = u8_to_dataview(out), l = 12, flags = 0;\n  out[0] = 3;\n  switch (cell.t) {\n    case \"n\":\n      out[2] = 2;\n      dv.setFloat64(l, cell.v, true);\n      flags |= 32;\n      l += 8;\n      break;\n    case \"b\":\n      out[2] = 6;\n      dv.setFloat64(l, cell.v ? 1 : 0, true);\n      flags |= 32;\n      l += 8;\n      break;\n    case \"s\":\n      if (sst.indexOf(cell.v) == -1)\n        throw new Error(\"Value \".concat(cell.v, \" missing from SST!\"));\n      out[2] = 3;\n      dv.setUint32(l, sst.indexOf(cell.v), true);\n      flags |= 16;\n      l += 4;\n      break;\n    default:\n      throw \"unsupported cell type \" + cell.t;\n  }\n  dv.setUint32(4, flags, true);\n  return out.slice(0, l);\n}\nfunction parse_cell_storage(buf, sst, rsst) {\n  switch (buf[0]) {\n    case 0:\n    case 1:\n    case 2:\n    case 3:\n      return parse_old_storage(buf, sst, rsst, buf[0]);\n    case 5:\n      return parse_new_storage(buf, sst, rsst);\n    default:\n      throw new Error(\"Unsupported payload version \".concat(buf[0]));\n  }\n}\nfunction parse_TSP_Reference(buf) {\n  var pb = parse_shallow(buf);\n  return parse_varint49(pb[1][0].data);\n}\nfunction write_TSP_Reference(idx) {\n  var out = [];\n  out[1] = [{ type: 0, data: write_varint49(idx) }];\n  return write_shallow(out);\n}\nfunction parse_TST_TableDataList(M, root) {\n  var pb = parse_shallow(root.data);\n  var type = varint_to_i32(pb[1][0].data);\n  var entries = pb[3];\n  var data = [];\n  (entries || []).forEach(function(entry) {\n    var le = parse_shallow(entry.data);\n    var key = varint_to_i32(le[1][0].data) >>> 0;\n    switch (type) {\n      case 1:\n        data[key] = u8str(le[3][0].data);\n        break;\n      case 8:\n        {\n          var rt = M[parse_TSP_Reference(le[9][0].data)][0];\n          var rtp = parse_shallow(rt.data);\n          var rtpref = M[parse_TSP_Reference(rtp[1][0].data)][0];\n          var mtype = varint_to_i32(rtpref.meta[1][0].data);\n          if (mtype != 2001)\n            throw new Error(\"2000 unexpected reference to \".concat(mtype));\n          var tswpsa = parse_shallow(rtpref.data);\n          data[key] = tswpsa[3].map(function(x) {\n            return u8str(x.data);\n          }).join(\"\");\n        }\n        break;\n    }\n  });\n  return data;\n}\nfunction parse_TST_TileRowInfo(u8, type) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;\n  var pb = parse_shallow(u8);\n  var R = varint_to_i32(pb[1][0].data) >>> 0;\n  var cnt = varint_to_i32(pb[2][0].data) >>> 0;\n  var wide_offsets = ((_b = (_a = pb[8]) == null ? void 0 : _a[0]) == null ? void 0 : _b.data) && varint_to_i32(pb[8][0].data) > 0 || false;\n  var used_storage_u8, used_storage;\n  if (((_d = (_c = pb[7]) == null ? void 0 : _c[0]) == null ? void 0 : _d.data) && type != 0) {\n    used_storage_u8 = (_f = (_e = pb[7]) == null ? void 0 : _e[0]) == null ? void 0 : _f.data;\n    used_storage = (_h = (_g = pb[6]) == null ? void 0 : _g[0]) == null ? void 0 : _h.data;\n  } else if (((_j = (_i = pb[4]) == null ? void 0 : _i[0]) == null ? void 0 : _j.data) && type != 1) {\n    used_storage_u8 = (_l = (_k = pb[4]) == null ? void 0 : _k[0]) == null ? void 0 : _l.data;\n    used_storage = (_n = (_m = pb[3]) == null ? void 0 : _m[0]) == null ? void 0 : _n.data;\n  } else\n    throw \"NUMBERS Tile missing \".concat(type, \" cell storage\");\n  var width = wide_offsets ? 4 : 1;\n  var used_storage_offsets = u8_to_dataview(used_storage_u8);\n  var offsets = [];\n  for (var C = 0; C < used_storage_u8.length / 2; ++C) {\n    var off = used_storage_offsets.getUint16(C * 2, true);\n    if (off < 65535)\n      offsets.push([C, off]);\n  }\n  if (offsets.length != cnt)\n    throw \"Expected \".concat(cnt, \" cells, found \").concat(offsets.length);\n  var cells = [];\n  for (C = 0; C < offsets.length - 1; ++C)\n    cells[offsets[C][0]] = used_storage.subarray(offsets[C][1] * width, offsets[C + 1][1] * width);\n  if (offsets.length >= 1)\n    cells[offsets[offsets.length - 1][0]] = used_storage.subarray(offsets[offsets.length - 1][1] * width);\n  return { R: R, cells: cells };\n}\nfunction parse_TST_Tile(M, root) {\n  var _a;\n  var pb = parse_shallow(root.data);\n  var storage = ((_a = pb == null ? void 0 : pb[7]) == null ? void 0 : _a[0]) ? varint_to_i32(pb[7][0].data) >>> 0 > 0 ? 1 : 0 : -1;\n  var ri = mappa(pb[5], function(u8) {\n    return parse_TST_TileRowInfo(u8, storage);\n  });\n  return {\n    nrows: varint_to_i32(pb[4][0].data) >>> 0,\n    data: ri.reduce(function(acc, x) {\n      if (!acc[x.R])\n        acc[x.R] = [];\n      x.cells.forEach(function(cell, C) {\n        if (acc[x.R][C])\n          throw new Error(\"Duplicate cell r=\".concat(x.R, \" c=\").concat(C));\n        acc[x.R][C] = cell;\n      });\n      return acc;\n    }, [])\n  };\n}\nfunction parse_TST_TableModelArchive(M, root, ws) {\n  var _a;\n  var pb = parse_shallow(root.data);\n  var range = { s: { r: 0, c: 0 }, e: { r: 0, c: 0 } };\n  range.e.r = (varint_to_i32(pb[6][0].data) >>> 0) - 1;\n  if (range.e.r < 0)\n    throw new Error(\"Invalid row varint \".concat(pb[6][0].data));\n  range.e.c = (varint_to_i32(pb[7][0].data) >>> 0) - 1;\n  if (range.e.c < 0)\n    throw new Error(\"Invalid col varint \".concat(pb[7][0].data));\n  ws[\"!ref\"] = encode_range(range);\n  var store = parse_shallow(pb[4][0].data);\n  var sst = parse_TST_TableDataList(M, M[parse_TSP_Reference(store[4][0].data)][0]);\n  var rsst = ((_a = store[17]) == null ? void 0 : _a[0]) ? parse_TST_TableDataList(M, M[parse_TSP_Reference(store[17][0].data)][0]) : [];\n  var tile = parse_shallow(store[3][0].data);\n  var _R = 0;\n  tile[1].forEach(function(t) {\n    var tl = parse_shallow(t.data);\n    var ref = M[parse_TSP_Reference(tl[2][0].data)][0];\n    var mtype = varint_to_i32(ref.meta[1][0].data);\n    if (mtype != 6002)\n      throw new Error(\"6001 unexpected reference to \".concat(mtype));\n    var _tile = parse_TST_Tile(M, ref);\n    _tile.data.forEach(function(row, R) {\n      row.forEach(function(buf, C) {\n        var addr = encode_cell({ r: _R + R, c: C });\n        var res = parse_cell_storage(buf, sst, rsst);\n        if (res)\n          ws[addr] = res;\n      });\n    });\n    _R += _tile.nrows;\n  });\n}\nfunction parse_TST_TableInfoArchive(M, root) {\n  var pb = parse_shallow(root.data);\n  var out = { \"!ref\": \"A1\" };\n  var tableref = M[parse_TSP_Reference(pb[2][0].data)];\n  var mtype = varint_to_i32(tableref[0].meta[1][0].data);\n  if (mtype != 6001)\n    throw new Error(\"6000 unexpected reference to \".concat(mtype));\n  parse_TST_TableModelArchive(M, tableref[0], out);\n  return out;\n}\nfunction parse_TN_SheetArchive(M, root) {\n  var _a;\n  var pb = parse_shallow(root.data);\n  var out = {\n    name: ((_a = pb[1]) == null ? void 0 : _a[0]) ? u8str(pb[1][0].data) : \"\",\n    sheets: []\n  };\n  var shapeoffs = mappa(pb[2], parse_TSP_Reference);\n  shapeoffs.forEach(function(off) {\n    M[off].forEach(function(m) {\n      var mtype = varint_to_i32(m.meta[1][0].data);\n      if (mtype == 6e3)\n        out.sheets.push(parse_TST_TableInfoArchive(M, m));\n    });\n  });\n  return out;\n}\nfunction parse_TN_DocumentArchive(M, root) {\n  var out = book_new();\n  var pb = parse_shallow(root.data);\n  var sheetoffs = mappa(pb[1], parse_TSP_Reference);\n  sheetoffs.forEach(function(off) {\n    M[off].forEach(function(m) {\n      var mtype = varint_to_i32(m.meta[1][0].data);\n      if (mtype == 2) {\n        var root2 = parse_TN_SheetArchive(M, m);\n        root2.sheets.forEach(function(sheet, idx) {\n          book_append_sheet(out, sheet, idx == 0 ? root2.name : root2.name + \"_\" + idx, true);\n        });\n      }\n    });\n  });\n  if (out.SheetNames.length == 0)\n    throw new Error(\"Empty NUMBERS file\");\n  return out;\n}\nfunction parse_numbers_iwa(cfb) {\n  var _a, _b, _c, _d;\n  var M = {}, indices = [];\n  cfb.FullPaths.forEach(function(p) {\n    if (p.match(/\\.iwpv2/))\n      throw new Error(\"Unsupported password protection\");\n  });\n  cfb.FileIndex.forEach(function(s) {\n    if (!s.name.match(/\\.iwa$/))\n      return;\n    var o;\n    try {\n      o = decompress_iwa_file(s.content);\n    } catch (e) {\n      return console.log(\"?? \" + s.content.length + \" \" + (e.message || e));\n    }\n    var packets;\n    try {\n      packets = parse_iwa_file(o);\n    } catch (e) {\n      return console.log(\"## \" + (e.message || e));\n    }\n    packets.forEach(function(packet) {\n      M[packet.id] = packet.messages;\n      indices.push(packet.id);\n    });\n  });\n  if (!indices.length)\n    throw new Error(\"File has no messages\");\n  var docroot = ((_d = (_c = (_b = (_a = M == null ? void 0 : M[1]) == null ? void 0 : _a[0]) == null ? void 0 : _b.meta) == null ? void 0 : _c[1]) == null ? void 0 : _d[0].data) && varint_to_i32(M[1][0].meta[1][0].data) == 1 && M[1][0];\n  if (!docroot)\n    indices.forEach(function(idx) {\n      M[idx].forEach(function(iwam) {\n        var mtype = varint_to_i32(iwam.meta[1][0].data) >>> 0;\n        if (mtype == 1) {\n          if (!docroot)\n            docroot = iwam;\n          else\n            throw new Error(\"Document has multiple roots\");\n        }\n      });\n    });\n  if (!docroot)\n    throw new Error(\"Cannot find Document root\");\n  return parse_TN_DocumentArchive(M, docroot);\n}\nfunction write_tile_row(tri, data, SST) {\n  var _a, _b, _c, _d;\n  if (!((_a = tri[6]) == null ? void 0 : _a[0]) || !((_b = tri[7]) == null ? void 0 : _b[0]))\n    throw \"Mutation only works on post-BNC storages!\";\n  var wide_offsets = ((_d = (_c = tri[8]) == null ? void 0 : _c[0]) == null ? void 0 : _d.data) && varint_to_i32(tri[8][0].data) > 0 || false;\n  if (wide_offsets)\n    throw \"Math only works with normal offsets\";\n  var cnt = 0;\n  var dv = u8_to_dataview(tri[7][0].data), last_offset = 0, cell_storage = [];\n  var _dv = u8_to_dataview(tri[4][0].data), _last_offset = 0, _cell_storage = [];\n  for (var C = 0; C < data.length; ++C) {\n    if (data[C] == null) {\n      dv.setUint16(C * 2, 65535, true);\n      _dv.setUint16(C * 2, 65535);\n      continue;\n    }\n    dv.setUint16(C * 2, last_offset, true);\n    _dv.setUint16(C * 2, _last_offset, true);\n    var celload, _celload;\n    switch (typeof data[C]) {\n      case \"string\":\n        celload = write_new_storage({ t: \"s\", v: data[C] }, SST);\n        _celload = write_old_storage({ t: \"s\", v: data[C] }, SST);\n        break;\n      case \"number\":\n        celload = write_new_storage({ t: \"n\", v: data[C] }, SST);\n        _celload = write_old_storage({ t: \"n\", v: data[C] }, SST);\n        break;\n      case \"boolean\":\n        celload = write_new_storage({ t: \"b\", v: data[C] }, SST);\n        _celload = write_old_storage({ t: \"b\", v: data[C] }, SST);\n        break;\n      default:\n        throw new Error(\"Unsupported value \" + data[C]);\n    }\n    cell_storage.push(celload);\n    last_offset += celload.length;\n    _cell_storage.push(_celload);\n    _last_offset += _celload.length;\n    ++cnt;\n  }\n  tri[2][0].data = write_varint49(cnt);\n  for (; C < tri[7][0].data.length / 2; ++C) {\n    dv.setUint16(C * 2, 65535, true);\n    _dv.setUint16(C * 2, 65535, true);\n  }\n  tri[6][0].data = u8concat(cell_storage);\n  tri[3][0].data = u8concat(_cell_storage);\n  return cnt;\n}\nfunction write_numbers_iwa(wb, opts) {\n  if (!opts || !opts.numbers)\n    throw new Error(\"Must pass a `numbers` option -- check the README\");\n  var ws = wb.Sheets[wb.SheetNames[0]];\n  if (wb.SheetNames.length > 1)\n    console.error(\"The Numbers writer currently writes only the first table\");\n  var range = decode_range(ws[\"!ref\"]);\n  range.s.r = range.s.c = 0;\n  var trunc = false;\n  if (range.e.c > 9) {\n    trunc = true;\n    range.e.c = 9;\n  }\n  if (range.e.r > 49) {\n    trunc = true;\n    range.e.r = 49;\n  }\n  if (trunc)\n    console.error(\"The Numbers writer is currently limited to \".concat(encode_range(range)));\n  var data = sheet_to_json(ws, { range: range, header: 1 });\n  var SST = [\"~Sh33tJ5~\"];\n  data.forEach(function(row) {\n    return row.forEach(function(cell) {\n      if (typeof cell == \"string\")\n        SST.push(cell);\n    });\n  });\n  var dependents = {};\n  var indices = [];\n  var cfb = CFB.read(opts.numbers, { type: \"base64\" });\n  cfb.FileIndex.map(function(fi, idx) {\n    return [fi, cfb.FullPaths[idx]];\n  }).forEach(function(row) {\n    var fi = row[0], fp = row[1];\n    if (fi.type != 2)\n      return;\n    if (!fi.name.match(/\\.iwa/))\n      return;\n    var old_content = fi.content;\n    var raw1 = decompress_iwa_file(old_content);\n    var x2 = parse_iwa_file(raw1);\n    x2.forEach(function(packet2) {\n      indices.push(packet2.id);\n      dependents[packet2.id] = { deps: [], location: fp, type: varint_to_i32(packet2.messages[0].meta[1][0].data) };\n    });\n  });\n  indices.sort(function(x2, y2) {\n    return x2 - y2;\n  });\n  var indices_varint = indices.filter(function(x2) {\n    return x2 > 1;\n  }).map(function(x2) {\n    return [x2, write_varint49(x2)];\n  });\n  cfb.FileIndex.map(function(fi, idx) {\n    return [fi, cfb.FullPaths[idx]];\n  }).forEach(function(row) {\n    var fi = row[0], fp = row[1];\n    if (!fi.name.match(/\\.iwa/))\n      return;\n    var x2 = parse_iwa_file(decompress_iwa_file(fi.content));\n    x2.forEach(function(ia) {\n      ia.messages.forEach(function(m) {\n        indices_varint.forEach(function(ivi) {\n          if (ia.messages.some(function(mess) {\n            return varint_to_i32(mess.meta[1][0].data) != 11006 && u8contains(mess.data, ivi[1]);\n          })) {\n            dependents[ivi[0]].deps.push(ia.id);\n          }\n        });\n      });\n    });\n  });\n  function get_unique_msgid() {\n    for (var i = 927262; i < 2e6; ++i)\n      if (!dependents[i])\n        return i;\n    throw new Error(\"Too many messages\");\n  }\n  var entry = CFB.find(cfb, dependents[1].location);\n  var x = parse_iwa_file(decompress_iwa_file(entry.content));\n  var docroot;\n  for (var xi = 0; xi < x.length; ++xi) {\n    var packet = x[xi];\n    if (packet.id == 1)\n      docroot = packet;\n  }\n  var sheetrootref = parse_TSP_Reference(parse_shallow(docroot.messages[0].data)[1][0].data);\n  entry = CFB.find(cfb, dependents[sheetrootref].location);\n  x = parse_iwa_file(decompress_iwa_file(entry.content));\n  for (xi = 0; xi < x.length; ++xi) {\n    packet = x[xi];\n    if (packet.id == sheetrootref)\n      docroot = packet;\n  }\n  sheetrootref = parse_TSP_Reference(parse_shallow(docroot.messages[0].data)[2][0].data);\n  entry = CFB.find(cfb, dependents[sheetrootref].location);\n  x = parse_iwa_file(decompress_iwa_file(entry.content));\n  for (xi = 0; xi < x.length; ++xi) {\n    packet = x[xi];\n    if (packet.id == sheetrootref)\n      docroot = packet;\n  }\n  sheetrootref = parse_TSP_Reference(parse_shallow(docroot.messages[0].data)[2][0].data);\n  entry = CFB.find(cfb, dependents[sheetrootref].location);\n  x = parse_iwa_file(decompress_iwa_file(entry.content));\n  for (xi = 0; xi < x.length; ++xi) {\n    packet = x[xi];\n    if (packet.id == sheetrootref)\n      docroot = packet;\n  }\n  var pb = parse_shallow(docroot.messages[0].data);\n  {\n    pb[6][0].data = write_varint49(range.e.r + 1);\n    pb[7][0].data = write_varint49(range.e.c + 1);\n    var cruidsref = parse_TSP_Reference(pb[46][0].data);\n    var oldbucket = CFB.find(cfb, dependents[cruidsref].location);\n    var _x = parse_iwa_file(decompress_iwa_file(oldbucket.content));\n    {\n      for (var j = 0; j < _x.length; ++j) {\n        if (_x[j].id == cruidsref)\n          break;\n      }\n      if (_x[j].id != cruidsref)\n        throw \"Bad ColumnRowUIDMapArchive\";\n      var cruids = parse_shallow(_x[j].messages[0].data);\n      cruids[1] = [];\n      cruids[2] = [], cruids[3] = [];\n      for (var C = 0; C <= range.e.c; ++C) {\n        var uuid = [];\n        uuid[1] = uuid[2] = [{ type: 0, data: write_varint49(C + 420690) }];\n        cruids[1].push({ type: 2, data: write_shallow(uuid) });\n        cruids[2].push({ type: 0, data: write_varint49(C) });\n        cruids[3].push({ type: 0, data: write_varint49(C) });\n      }\n      cruids[4] = [];\n      cruids[5] = [], cruids[6] = [];\n      for (var R = 0; R <= range.e.r; ++R) {\n        uuid = [];\n        uuid[1] = uuid[2] = [{ type: 0, data: write_varint49(R + 726270) }];\n        cruids[4].push({ type: 2, data: write_shallow(uuid) });\n        cruids[5].push({ type: 0, data: write_varint49(R) });\n        cruids[6].push({ type: 0, data: write_varint49(R) });\n      }\n      _x[j].messages[0].data = write_shallow(cruids);\n    }\n    oldbucket.content = compress_iwa_file(write_iwa_file(_x));\n    oldbucket.size = oldbucket.content.length;\n    delete pb[46];\n    var store = parse_shallow(pb[4][0].data);\n    {\n      store[7][0].data = write_varint49(range.e.r + 1);\n      var row_headers = parse_shallow(store[1][0].data);\n      var row_header_ref = parse_TSP_Reference(row_headers[2][0].data);\n      oldbucket = CFB.find(cfb, dependents[row_header_ref].location);\n      _x = parse_iwa_file(decompress_iwa_file(oldbucket.content));\n      {\n        if (_x[0].id != row_header_ref)\n          throw \"Bad HeaderStorageBucket\";\n        var base_bucket = parse_shallow(_x[0].messages[0].data);\n        for (R = 0; R < data.length; ++R) {\n          var _bucket = parse_shallow(base_bucket[2][0].data);\n          _bucket[1][0].data = write_varint49(R);\n          _bucket[4][0].data = write_varint49(data[R].length);\n          base_bucket[2][R] = { type: base_bucket[2][0].type, data: write_shallow(_bucket) };\n        }\n        _x[0].messages[0].data = write_shallow(base_bucket);\n      }\n      oldbucket.content = compress_iwa_file(write_iwa_file(_x));\n      oldbucket.size = oldbucket.content.length;\n      var col_header_ref = parse_TSP_Reference(store[2][0].data);\n      oldbucket = CFB.find(cfb, dependents[col_header_ref].location);\n      _x = parse_iwa_file(decompress_iwa_file(oldbucket.content));\n      {\n        if (_x[0].id != col_header_ref)\n          throw \"Bad HeaderStorageBucket\";\n        base_bucket = parse_shallow(_x[0].messages[0].data);\n        for (C = 0; C <= range.e.c; ++C) {\n          _bucket = parse_shallow(base_bucket[2][0].data);\n          _bucket[1][0].data = write_varint49(C);\n          _bucket[4][0].data = write_varint49(range.e.r + 1);\n          base_bucket[2][C] = { type: base_bucket[2][0].type, data: write_shallow(_bucket) };\n        }\n        _x[0].messages[0].data = write_shallow(base_bucket);\n      }\n      oldbucket.content = compress_iwa_file(write_iwa_file(_x));\n      oldbucket.size = oldbucket.content.length;\n      var sstref = parse_TSP_Reference(store[4][0].data);\n      (function() {\n        var sentry = CFB.find(cfb, dependents[sstref].location);\n        var sx = parse_iwa_file(decompress_iwa_file(sentry.content));\n        var sstroot;\n        for (var sxi = 0; sxi < sx.length; ++sxi) {\n          var packet2 = sx[sxi];\n          if (packet2.id == sstref)\n            sstroot = packet2;\n        }\n        var sstdata = parse_shallow(sstroot.messages[0].data);\n        {\n          sstdata[3] = [];\n          var newsst = [];\n          SST.forEach(function(str, i) {\n            newsst[1] = [{ type: 0, data: write_varint49(i) }];\n            newsst[2] = [{ type: 0, data: write_varint49(1) }];\n            newsst[3] = [{ type: 2, data: stru8(str) }];\n            sstdata[3].push({ type: 2, data: write_shallow(newsst) });\n          });\n        }\n        sstroot.messages[0].data = write_shallow(sstdata);\n        var sy = write_iwa_file(sx);\n        var raw32 = compress_iwa_file(sy);\n        sentry.content = raw32;\n        sentry.size = sentry.content.length;\n      })();\n      var tile = parse_shallow(store[3][0].data);\n      {\n        var t = tile[1][0];\n        delete tile[2];\n        var tl = parse_shallow(t.data);\n        {\n          var tileref = parse_TSP_Reference(tl[2][0].data);\n          (function() {\n            var tentry = CFB.find(cfb, dependents[tileref].location);\n            var tx = parse_iwa_file(decompress_iwa_file(tentry.content));\n            var tileroot;\n            for (var sxi = 0; sxi < tx.length; ++sxi) {\n              var packet2 = tx[sxi];\n              if (packet2.id == tileref)\n                tileroot = packet2;\n            }\n            var tiledata = parse_shallow(tileroot.messages[0].data);\n            {\n              delete tiledata[6];\n              delete tile[7];\n              var rowload = new Uint8Array(tiledata[5][0].data);\n              tiledata[5] = [];\n              var cnt = 0;\n              for (var R2 = 0; R2 <= range.e.r; ++R2) {\n                var tilerow = parse_shallow(rowload);\n                cnt += write_tile_row(tilerow, data[R2], SST);\n                tilerow[1][0].data = write_varint49(R2);\n                tiledata[5].push({ data: write_shallow(tilerow), type: 2 });\n              }\n              tiledata[1] = [{ type: 0, data: write_varint49(range.e.c + 1) }];\n              tiledata[2] = [{ type: 0, data: write_varint49(range.e.r + 1) }];\n              tiledata[3] = [{ type: 0, data: write_varint49(cnt) }];\n              tiledata[4] = [{ type: 0, data: write_varint49(range.e.r + 1) }];\n            }\n            tileroot.messages[0].data = write_shallow(tiledata);\n            var ty = write_iwa_file(tx);\n            var raw32 = compress_iwa_file(ty);\n            tentry.content = raw32;\n            tentry.size = tentry.content.length;\n          })();\n        }\n        t.data = write_shallow(tl);\n      }\n      store[3][0].data = write_shallow(tile);\n    }\n    pb[4][0].data = write_shallow(store);\n  }\n  docroot.messages[0].data = write_shallow(pb);\n  var y = write_iwa_file(x);\n  var raw3 = compress_iwa_file(y);\n  entry.content = raw3;\n  entry.size = entry.content.length;\n  return cfb;\n}\nfunction fix_opts_func(defaults/*:Array<Array<any> >*/)/*:{(o:any):void}*/ {\n\treturn function fix_opts(opts) {\n\t\tfor(var i = 0; i != defaults.length; ++i) {\n\t\t\tvar d = defaults[i];\n\t\t\tif(opts[d[0]] === undefined) opts[d[0]] = d[1];\n\t\t\tif(d[2] === 'n') opts[d[0]] = Number(opts[d[0]]);\n\t\t}\n\t};\n}\n\nfunction fix_read_opts(opts) {\nfix_opts_func([\n\t['cellNF', false], /* emit cell number format string as .z */\n\t['cellHTML', true], /* emit html string as .h */\n\t['cellFormula', true], /* emit formulae as .f */\n\t['cellStyles', false], /* emits style/theme as .s */\n\t['cellText', true], /* emit formatted text as .w */\n\t['cellDates', false], /* emit date cells with type `d` */\n\n\t['sheetStubs', false], /* emit empty cells */\n\t['sheetRows', 0, 'n'], /* read n rows (0 = read all rows) */\n\n\t['bookDeps', false], /* parse calculation chains */\n\t['bookSheets', false], /* only try to get sheet names (no Sheets) */\n\t['bookProps', false], /* only try to get properties (no Sheets) */\n\t['bookFiles', false], /* include raw file structure (keys, files, cfb) */\n\t['bookVBA', false], /* include vba raw data (vbaraw) */\n\n\t['password',''], /* password */\n\t['WTF', false] /* WTF mode (throws errors) */\n])(opts);\n}\n\nfunction fix_write_opts(opts) {\nfix_opts_func([\n\t['cellDates', false], /* write date cells with type `d` */\n\n\t['bookSST', false], /* Generate Shared String Table */\n\n\t['bookType', 'xlsx'], /* Type of workbook (xlsx/m/b) */\n\n\t['compression', false], /* Use file compression */\n\n\t['WTF', false] /* WTF mode (throws errors) */\n])(opts);\n}\nfunction get_sheet_type(n/*:string*/)/*:string*/ {\n\tif(RELS.WS.indexOf(n) > -1) return \"sheet\";\n\tif(RELS.CS && n == RELS.CS) return \"chart\";\n\tif(RELS.DS && n == RELS.DS) return \"dialog\";\n\tif(RELS.MS && n == RELS.MS) return \"macro\";\n\treturn (n && n.length) ? n : \"sheet\";\n}\nfunction safe_parse_wbrels(wbrels, sheets) {\n\tif(!wbrels) return 0;\n\ttry {\n\t\twbrels = sheets.map(function pwbr(w) { if(!w.id) w.id = w.strRelID; return [w.name, wbrels['!id'][w.id].Target, get_sheet_type(wbrels['!id'][w.id].Type)]; });\n\t} catch(e) { return null; }\n\treturn !wbrels || wbrels.length === 0 ? null : wbrels;\n}\n\nfunction safe_parse_sheet(zip, path/*:string*/, relsPath/*:string*/, sheet, idx/*:number*/, sheetRels, sheets, stype/*:string*/, opts, wb, themes, styles) {\n\ttry {\n\t\tsheetRels[sheet]=parse_rels(getzipstr(zip, relsPath, true), path);\n\t\tvar data = getzipdata(zip, path);\n\t\tvar _ws;\n\t\tswitch(stype) {\n\t\t\tcase 'sheet':  _ws = parse_ws(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;\n\t\t\tcase 'chart':  _ws = parse_cs(data, path, idx, opts, sheetRels[sheet], wb, themes, styles);\n\t\t\t\tif(!_ws || !_ws['!drawel']) break;\n\t\t\t\tvar dfile = resolve_path(_ws['!drawel'].Target, path);\n\t\t\t\tvar drelsp = get_rels_path(dfile);\n\t\t\t\tvar draw = parse_drawing(getzipstr(zip, dfile, true), parse_rels(getzipstr(zip, drelsp, true), dfile));\n\t\t\t\tvar chartp = resolve_path(draw, dfile);\n\t\t\t\tvar crelsp = get_rels_path(chartp);\n\t\t\t\t_ws = parse_chart(getzipstr(zip, chartp, true), chartp, opts, parse_rels(getzipstr(zip, crelsp, true), chartp), wb, _ws);\n\t\t\t\tbreak;\n\t\t\tcase 'macro':  _ws = parse_ms(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;\n\t\t\tcase 'dialog': _ws = parse_ds(data, path, idx, opts, sheetRels[sheet], wb, themes, styles); break;\n\t\t\tdefault: throw new Error(\"Unrecognized sheet type \" + stype);\n\t\t}\n\t\tsheets[sheet] = _ws;\n\n\t\t/* scan rels for comments and threaded comments */\n\t\tvar tcomments = [];\n\t\tif(sheetRels && sheetRels[sheet]) keys(sheetRels[sheet]).forEach(function(n) {\n\t\t\tvar dfile = \"\";\n\t\t\tif(sheetRels[sheet][n].Type == RELS.CMNT) {\n\t\t\t\tdfile = resolve_path(sheetRels[sheet][n].Target, path);\n\t\t\t\tvar comments = parse_cmnt(getzipdata(zip, dfile, true), dfile, opts);\n\t\t\t\tif(!comments || !comments.length) return;\n\t\t\t\tsheet_insert_comments(_ws, comments, false);\n\t\t\t}\n\t\t\tif(sheetRels[sheet][n].Type == RELS.TCMNT) {\n\t\t\t\tdfile = resolve_path(sheetRels[sheet][n].Target, path);\n\t\t\t\ttcomments = tcomments.concat(parse_tcmnt_xml(getzipdata(zip, dfile, true), opts));\n\t\t\t}\n\t\t});\n\t\tif(tcomments && tcomments.length) sheet_insert_comments(_ws, tcomments, true, opts.people || []);\n\t} catch(e) { if(opts.WTF) throw e; }\n}\n\nfunction strip_front_slash(x/*:string*/)/*:string*/ { return x.charAt(0) == '/' ? x.slice(1) : x; }\n\nfunction parse_zip(zip/*:ZIP*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tmake_ssf();\n\topts = opts || {};\n\tfix_read_opts(opts);\n\n\t/* OpenDocument Part 3 Section 2.2.1 OpenDocument Package */\n\tif(safegetzipfile(zip, 'META-INF/manifest.xml')) return parse_ods(zip, opts);\n\t/* UOC */\n\tif(safegetzipfile(zip, 'objectdata.xml')) return parse_ods(zip, opts);\n\t/* Numbers */\n\tif(safegetzipfile(zip, 'Index/Document.iwa')) {\n\t\tif(typeof Uint8Array == \"undefined\") throw new Error('NUMBERS file parsing requires Uint8Array support');\n\t\tif(typeof parse_numbers_iwa != \"undefined\") {\n\t\t\tif(zip.FileIndex) return parse_numbers_iwa(zip);\n\t\t\tvar _zip = CFB.utils.cfb_new();\n\t\t\tzipentries(zip).forEach(function(e) { zip_add_file(_zip, e, getzipbin(zip, e)); });\n\t\t\treturn parse_numbers_iwa(_zip);\n\t\t}\n\t\tthrow new Error('Unsupported NUMBERS file');\n\t}\n\tif(!safegetzipfile(zip, '[Content_Types].xml')) {\n\t\tif(safegetzipfile(zip, 'index.xml.gz')) throw new Error('Unsupported NUMBERS 08 file');\n\t\tif(safegetzipfile(zip, 'index.xml')) throw new Error('Unsupported NUMBERS 09 file');\n\t\tthrow new Error('Unsupported ZIP file');\n\t}\n\n\tvar entries = zipentries(zip);\n\tvar dir = parse_ct((getzipstr(zip, '[Content_Types].xml')/*:?any*/));\n\tvar xlsb = false;\n\tvar sheets, binname;\n\tif(dir.workbooks.length === 0) {\n\t\tbinname = \"xl/workbook.xml\";\n\t\tif(getzipdata(zip,binname, true)) dir.workbooks.push(binname);\n\t}\n\tif(dir.workbooks.length === 0) {\n\t\tbinname = \"xl/workbook.bin\";\n\t\tif(!getzipdata(zip,binname,true)) throw new Error(\"Could not find workbook\");\n\t\tdir.workbooks.push(binname);\n\t\txlsb = true;\n\t}\n\tif(dir.workbooks[0].slice(-3) == \"bin\") xlsb = true;\n\n\tvar themes = ({}/*:any*/);\n\tvar styles = ({}/*:any*/);\n\tif(!opts.bookSheets && !opts.bookProps) {\n\t\tstrs = [];\n\t\tif(dir.sst) try { strs=parse_sst(getzipdata(zip, strip_front_slash(dir.sst)), dir.sst, opts); } catch(e) { if(opts.WTF) throw e; }\n\n\t\tif(opts.cellStyles && dir.themes.length) themes = parse_theme(getzipstr(zip, dir.themes[0].replace(/^\\//,''), true)||\"\",dir.themes[0], opts);\n\n\t\tif(dir.style) styles = parse_sty(getzipdata(zip, strip_front_slash(dir.style)), dir.style, themes, opts);\n\t}\n\n\t/*var externbooks = */dir.links.map(function(link) {\n\t\ttry {\n\t\t\tvar rels = parse_rels(getzipstr(zip, get_rels_path(strip_front_slash(link))), link);\n\t\t\treturn parse_xlink(getzipdata(zip, strip_front_slash(link)), rels, link, opts);\n\t\t} catch(e) {}\n\t});\n\n\tvar wb = parse_wb(getzipdata(zip, strip_front_slash(dir.workbooks[0])), dir.workbooks[0], opts);\n\n\tvar props = {}, propdata = \"\";\n\n\tif(dir.coreprops.length) {\n\t\tpropdata = getzipdata(zip, strip_front_slash(dir.coreprops[0]), true);\n\t\tif(propdata) props = parse_core_props(propdata);\n\t\tif(dir.extprops.length !== 0) {\n\t\t\tpropdata = getzipdata(zip, strip_front_slash(dir.extprops[0]), true);\n\t\t\tif(propdata) parse_ext_props(propdata, props, opts);\n\t\t}\n\t}\n\n\tvar custprops = {};\n\tif(!opts.bookSheets || opts.bookProps) {\n\t\tif (dir.custprops.length !== 0) {\n\t\t\tpropdata = getzipstr(zip, strip_front_slash(dir.custprops[0]), true);\n\t\t\tif(propdata) custprops = parse_cust_props(propdata, opts);\n\t\t}\n\t}\n\n\tvar out = ({}/*:any*/);\n\tif(opts.bookSheets || opts.bookProps) {\n\t\tif(wb.Sheets) sheets = wb.Sheets.map(function pluck(x){ return x.name; });\n\t\telse if(props.Worksheets && props.SheetNames.length > 0) sheets=props.SheetNames;\n\t\tif(opts.bookProps) { out.Props = props; out.Custprops = custprops; }\n\t\tif(opts.bookSheets && typeof sheets !== 'undefined') out.SheetNames = sheets;\n\t\tif(opts.bookSheets ? out.SheetNames : opts.bookProps) return out;\n\t}\n\tsheets = {};\n\n\tvar deps = {};\n\tif(opts.bookDeps && dir.calcchain) deps=parse_cc(getzipdata(zip, strip_front_slash(dir.calcchain)),dir.calcchain,opts);\n\n\tvar i=0;\n\tvar sheetRels = ({}/*:any*/);\n\tvar path, relsPath;\n\n\t{\n\t\tvar wbsheets = wb.Sheets;\n\t\tprops.Worksheets = wbsheets.length;\n\t\tprops.SheetNames = [];\n\t\tfor(var j = 0; j != wbsheets.length; ++j) {\n\t\t\tprops.SheetNames[j] = wbsheets[j].name;\n\t\t}\n\t}\n\n\tvar wbext = xlsb ? \"bin\" : \"xml\";\n\tvar wbrelsi = dir.workbooks[0].lastIndexOf(\"/\");\n\tvar wbrelsfile = (dir.workbooks[0].slice(0, wbrelsi+1) + \"_rels/\" + dir.workbooks[0].slice(wbrelsi+1) + \".rels\").replace(/^\\//,\"\");\n\tif(!safegetzipfile(zip, wbrelsfile)) wbrelsfile = 'xl/_rels/workbook.' + wbext + '.rels';\n\tvar wbrels = parse_rels(getzipstr(zip, wbrelsfile, true), wbrelsfile.replace(/_rels.*/, \"s5s\"));\n\n\tif((dir.metadata || []).length >= 1) {\n\t\t/* TODO: MDX and other types of metadata */\n\t\topts.xlmeta = parse_xlmeta(getzipdata(zip, strip_front_slash(dir.metadata[0])),dir.metadata[0],opts);\n\t}\n\n\tif((dir.people || []).length >= 1) {\n\t\topts.people = parse_people_xml(getzipdata(zip, strip_front_slash(dir.people[0])),opts);\n\t}\n\n\tif(wbrels) wbrels = safe_parse_wbrels(wbrels, wb.Sheets);\n\n\t/* Numbers iOS hack */\n\tvar nmode = (getzipdata(zip,\"xl/worksheets/sheet.xml\",true))?1:0;\n\twsloop: for(i = 0; i != props.Worksheets; ++i) {\n\t\tvar stype = \"sheet\";\n\t\tif(wbrels && wbrels[i]) {\n\t\t\tpath = 'xl/' + (wbrels[i][1]).replace(/[\\/]?xl\\//, \"\");\n\t\t\tif(!safegetzipfile(zip, path)) path = wbrels[i][1];\n\t\t\tif(!safegetzipfile(zip, path)) path = wbrelsfile.replace(/_rels\\/.*$/,\"\") + wbrels[i][1];\n\t\t\tstype = wbrels[i][2];\n\t\t} else {\n\t\t\tpath = 'xl/worksheets/sheet'+(i+1-nmode)+\".\" + wbext;\n\t\t\tpath = path.replace(/sheet0\\./,\"sheet.\");\n\t\t}\n\t\trelsPath = path.replace(/^(.*)(\\/)([^\\/]*)$/, \"$1/_rels/$3.rels\");\n\t\tif(opts && opts.sheets != null) switch(typeof opts.sheets) {\n\t\t\tcase \"number\": if(i != opts.sheets) continue wsloop; break;\n\t\t\tcase \"string\": if(props.SheetNames[i].toLowerCase() != opts.sheets.toLowerCase()) continue wsloop; break;\n\t\t\tdefault: if(Array.isArray && Array.isArray(opts.sheets)) {\n\t\t\t\tvar snjseen = false;\n\t\t\t\tfor(var snj = 0; snj != opts.sheets.length; ++snj) {\n\t\t\t\t\tif(typeof opts.sheets[snj] == \"number\" && opts.sheets[snj] == i) snjseen=1;\n\t\t\t\t\tif(typeof opts.sheets[snj] == \"string\" && opts.sheets[snj].toLowerCase() == props.SheetNames[i].toLowerCase()) snjseen = 1;\n\t\t\t\t}\n\t\t\t\tif(!snjseen) continue wsloop;\n\t\t\t}\n\t\t}\n\t\tsafe_parse_sheet(zip, path, relsPath, props.SheetNames[i], i, sheetRels, sheets, stype, opts, wb, themes, styles);\n\t}\n\n\tout = ({\n\t\tDirectory: dir,\n\t\tWorkbook: wb,\n\t\tProps: props,\n\t\tCustprops: custprops,\n\t\tDeps: deps,\n\t\tSheets: sheets,\n\t\tSheetNames: props.SheetNames,\n\t\tStrings: strs,\n\t\tStyles: styles,\n\t\tThemes: themes,\n\t\tSSF: dup(table_fmt)\n\t}/*:any*/);\n\tif(opts && opts.bookFiles) {\n\t\tif(zip.files) {\n\t\t\tout.keys = entries;\n\t\t\tout.files = zip.files;\n\t\t} else {\n\t\t\tout.keys = [];\n\t\t\tout.files = {};\n\t\t\tzip.FullPaths.forEach(function(p, idx) {\n\t\t\t\tp = p.replace(/^Root Entry[\\/]/, \"\");\n\t\t\t\tout.keys.push(p);\n\t\t\t\tout.files[p] = zip.FileIndex[idx];\n\t\t\t});\n\t\t}\n\t}\n\tif(opts && opts.bookVBA) {\n\t\tif(dir.vba.length > 0) out.vbaraw = getzipdata(zip,strip_front_slash(dir.vba[0]),true);\n\t\telse if(dir.defaults && dir.defaults.bin === CT_VBA) out.vbaraw = getzipdata(zip, 'xl/vbaProject.bin',true);\n\t}\n\treturn out;\n}\n\n/* [MS-OFFCRYPTO] 2.1.1 */\nfunction parse_xlsxcfb(cfb, _opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tvar opts = _opts || {};\n\tvar f = 'Workbook', data = CFB.find(cfb, f);\n\ttry {\n\tf = '/!DataSpaces/Version';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\t/*var version = */parse_DataSpaceVersionInfo(data.content);\n\n\t/* 2.3.4.1 */\n\tf = '/!DataSpaces/DataSpaceMap';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\tvar dsm = parse_DataSpaceMap(data.content);\n\tif(dsm.length !== 1 || dsm[0].comps.length !== 1 || dsm[0].comps[0].t !== 0 || dsm[0].name !== \"StrongEncryptionDataSpace\" || dsm[0].comps[0].v !== \"EncryptedPackage\")\n\t\tthrow new Error(\"ECMA-376 Encrypted file bad \" + f);\n\n\t/* 2.3.4.2 */\n\tf = '/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\tvar seds = parse_DataSpaceDefinition(data.content);\n\tif(seds.length != 1 || seds[0] != \"StrongEncryptionTransform\")\n\t\tthrow new Error(\"ECMA-376 Encrypted file bad \" + f);\n\n\t/* 2.3.4.3 */\n\tf = '/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\t/*var hdr = */parse_Primary(data.content);\n\t} catch(e) {}\n\n\tf = '/EncryptionInfo';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\tvar einfo = parse_EncryptionInfo(data.content);\n\n\t/* 2.3.4.4 */\n\tf = '/EncryptedPackage';\n\tdata = CFB.find(cfb, f); if(!data || !data.content) throw new Error(\"ECMA-376 Encrypted file missing \" + f);\n\n/*global decrypt_agile */\n/*:: declare var decrypt_agile:any; */\n\tif(einfo[0] == 0x04 && typeof decrypt_agile !== 'undefined') return decrypt_agile(einfo[1], data.content, opts.password || \"\", opts);\n/*global decrypt_std76 */\n/*:: declare var decrypt_std76:any; */\n\tif(einfo[0] == 0x02 && typeof decrypt_std76 !== 'undefined') return decrypt_std76(einfo[1], data.content, opts.password || \"\", opts);\n\tthrow new Error(\"File is password-protected\");\n}\n\nfunction write_zip(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:ZIP*/ {\n\tif(opts.bookType == \"ods\") return write_ods(wb, opts);\n\tif(opts.bookType == \"numbers\") return write_numbers_iwa(wb, opts);\n\tif(opts.bookType == \"xlsb\") return write_zip_xlsxb(wb, opts);\n\treturn write_zip_xlsx(wb, opts);\n}\n\n/* XLSX and XLSB writing are very similar.  Originally they were unified in one\n   export function.  This is horrible for tree shaking in the common case (most\n   applications need to export files in one format) so this function supports\n   both formats while write_zip_xlsx only handles XLSX */\nfunction write_zip_xlsxb(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:ZIP*/ {\n\t_shapeid = 1024;\n\tif(wb && !wb.SSF) {\n\t\twb.SSF = dup(table_fmt);\n\t}\n\tif(wb && wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\topts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;\n\t\topts.ssf = wb.SSF;\n\t}\n\topts.rels = {}; opts.wbrels = {};\n\topts.Strings = /*::((*/[]/*:: :any):SST)*/; opts.Strings.Count = 0; opts.Strings.Unique = 0;\n\tif(browser_has_Map) opts.revStrings = new Map();\n\telse { opts.revStrings = {}; opts.revStrings.foo = []; delete opts.revStrings.foo; }\n\tvar wbext = opts.bookType == \"xlsb\" ? \"bin\" : \"xml\";\n\tvar vbafmt = VBAFMTS.indexOf(opts.bookType) > -1;\n\tvar ct = new_ct();\n\tfix_write_opts(opts = opts || {});\n\tvar zip = zip_new();\n\tvar f = \"\", rId = 0;\n\n\topts.cellXfs = [];\n\tget_cell_style(opts.cellXfs, {}, {revssf:{\"General\":0}});\n\n\tif(!wb.Props) wb.Props = {};\n\n\tf = \"docProps/core.xml\";\n\tzip_add_file(zip, f, write_core_props(wb.Props, opts));\n\tct.coreprops.push(f);\n\tadd_rels(opts.rels, 2, f, RELS.CORE_PROPS);\n\n\t/*::if(!wb.Props) throw \"unreachable\"; */\n\tf = \"docProps/app.xml\";\n\tif(wb.Props && wb.Props.SheetNames){/* empty */}\n\telse if(!wb.Workbook || !wb.Workbook.Sheets) wb.Props.SheetNames = wb.SheetNames;\n\telse {\n\t\tvar _sn = [];\n\t\tfor(var _i = 0; _i < wb.SheetNames.length; ++_i)\n\t\t\tif((wb.Workbook.Sheets[_i]||{}).Hidden != 2) _sn.push(wb.SheetNames[_i]);\n\t\twb.Props.SheetNames = _sn;\n\t}\n\twb.Props.Worksheets = wb.Props.SheetNames.length;\n\tzip_add_file(zip, f, write_ext_props(wb.Props, opts));\n\tct.extprops.push(f);\n\tadd_rels(opts.rels, 3, f, RELS.EXT_PROPS);\n\n\tif(wb.Custprops !== wb.Props && keys(wb.Custprops||{}).length > 0) {\n\t\tf = \"docProps/custom.xml\";\n\t\tzip_add_file(zip, f, write_cust_props(wb.Custprops, opts));\n\t\tct.custprops.push(f);\n\t\tadd_rels(opts.rels, 4, f, RELS.CUST_PROPS);\n\t}\n\n\tfor(rId=1;rId <= wb.SheetNames.length; ++rId) {\n\t\tvar wsrels = {'!id':{}};\n\t\tvar ws = wb.Sheets[wb.SheetNames[rId-1]];\n\t\tvar _type = (ws || {})[\"!type\"] || \"sheet\";\n\t\tswitch(_type) {\n\t\tcase \"chart\":\n\t\t\t/* falls through */\n\t\tdefault:\n\t\t\tf = \"xl/worksheets/sheet\" + rId + \".\" + wbext;\n\t\t\tzip_add_file(zip, f, write_ws(rId-1, f, opts, wb, wsrels));\n\t\t\tct.sheets.push(f);\n\t\t\tadd_rels(opts.wbrels, -1, \"worksheets/sheet\" + rId + \".\" + wbext, RELS.WS[0]);\n\t\t}\n\n\t\tif(ws) {\n\t\t\tvar comments = ws['!comments'];\n\t\t\tvar need_vml = false;\n\t\t\tvar cf = \"\";\n\t\t\tif(comments && comments.length > 0) {\n\t\t\t\tcf = \"xl/comments\" + rId + \".\" + wbext;\n\t\t\t\tzip_add_file(zip, cf, write_cmnt(comments, cf, opts));\n\t\t\t\tct.comments.push(cf);\n\t\t\t\tadd_rels(wsrels, -1, \"../comments\" + rId + \".\" + wbext, RELS.CMNT);\n\t\t\t\tneed_vml = true;\n\t\t\t}\n\t\t\tif(ws['!legacy']) {\n\t\t\t\tif(need_vml) zip_add_file(zip, \"xl/drawings/vmlDrawing\" + (rId) + \".vml\", write_comments_vml(rId, ws['!comments']));\n\t\t\t}\n\t\t\tdelete ws['!comments'];\n\t\t\tdelete ws['!legacy'];\n\t\t}\n\n\t\tif(wsrels['!id'].rId1) zip_add_file(zip, get_rels_path(f), write_rels(wsrels));\n\t}\n\n\tif(opts.Strings != null && opts.Strings.length > 0) {\n\t\tf = \"xl/sharedStrings.\" + wbext;\n\t\tzip_add_file(zip, f, write_sst(opts.Strings, f, opts));\n\t\tct.strs.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"sharedStrings.\" + wbext, RELS.SST);\n\t}\n\n\tf = \"xl/workbook.\" + wbext;\n\tzip_add_file(zip, f, write_wb(wb, f, opts));\n\tct.workbooks.push(f);\n\tadd_rels(opts.rels, 1, f, RELS.WB);\n\n\t/* TODO: something more intelligent with themes */\n\n\tf = \"xl/theme/theme1.xml\";\n\tzip_add_file(zip, f, write_theme(wb.Themes, opts));\n\tct.themes.push(f);\n\tadd_rels(opts.wbrels, -1, \"theme/theme1.xml\", RELS.THEME);\n\n\t/* TODO: something more intelligent with styles */\n\n\tf = \"xl/styles.\" + wbext;\n\tzip_add_file(zip, f, write_sty(wb, f, opts));\n\tct.styles.push(f);\n\tadd_rels(opts.wbrels, -1, \"styles.\" + wbext, RELS.STY);\n\n\tif(wb.vbaraw && vbafmt) {\n\t\tf = \"xl/vbaProject.bin\";\n\t\tzip_add_file(zip, f, wb.vbaraw);\n\t\tct.vba.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"vbaProject.bin\", RELS.VBA);\n\t}\n\n\tf = \"xl/metadata.\" + wbext;\n\tzip_add_file(zip, f, write_xlmeta(f));\n\tct.metadata.push(f);\n\tadd_rels(opts.wbrels, -1, \"metadata.\" + wbext, RELS.XLMETA);\n\n\tzip_add_file(zip, \"[Content_Types].xml\", write_ct(ct, opts));\n\tzip_add_file(zip, '_rels/.rels', write_rels(opts.rels));\n\tzip_add_file(zip, 'xl/_rels/workbook.' + wbext + '.rels', write_rels(opts.wbrels));\n\n\tdelete opts.revssf; delete opts.ssf;\n\treturn zip;\n}\n\nfunction write_zip_xlsx(wb/*:Workbook*/, opts/*:WriteOpts*/)/*:ZIP*/ {\n\t_shapeid = 1024;\n\tif(wb && !wb.SSF) {\n\t\twb.SSF = dup(table_fmt);\n\t}\n\tif(wb && wb.SSF) {\n\t\tmake_ssf(); SSF_load_table(wb.SSF);\n\t\t// $FlowIgnore\n\t\topts.revssf = evert_num(wb.SSF); opts.revssf[wb.SSF[65535]] = 0;\n\t\topts.ssf = wb.SSF;\n\t}\n\topts.rels = {}; opts.wbrels = {};\n\topts.Strings = /*::((*/[]/*:: :any):SST)*/; opts.Strings.Count = 0; opts.Strings.Unique = 0;\n\tif(browser_has_Map) opts.revStrings = new Map();\n\telse { opts.revStrings = {}; opts.revStrings.foo = []; delete opts.revStrings.foo; }\n\tvar wbext = \"xml\";\n\tvar vbafmt = VBAFMTS.indexOf(opts.bookType) > -1;\n\tvar ct = new_ct();\n\tfix_write_opts(opts = opts || {});\n\tvar zip = zip_new();\n\tvar f = \"\", rId = 0;\n\n\topts.cellXfs = [];\n\tget_cell_style(opts.cellXfs, {}, {revssf:{\"General\":0}});\n\n\tif(!wb.Props) wb.Props = {};\n\n\tf = \"docProps/core.xml\";\n\tzip_add_file(zip, f, write_core_props(wb.Props, opts));\n\tct.coreprops.push(f);\n\tadd_rels(opts.rels, 2, f, RELS.CORE_PROPS);\n\n\t/*::if(!wb.Props) throw \"unreachable\"; */\n\tf = \"docProps/app.xml\";\n\tif(wb.Props && wb.Props.SheetNames){/* empty */}\n\telse if(!wb.Workbook || !wb.Workbook.Sheets) wb.Props.SheetNames = wb.SheetNames;\n\telse {\n\t\tvar _sn = [];\n\t\tfor(var _i = 0; _i < wb.SheetNames.length; ++_i)\n\t\t\tif((wb.Workbook.Sheets[_i]||{}).Hidden != 2) _sn.push(wb.SheetNames[_i]);\n\t\twb.Props.SheetNames = _sn;\n\t}\n\twb.Props.Worksheets = wb.Props.SheetNames.length;\n\tzip_add_file(zip, f, write_ext_props(wb.Props, opts));\n\tct.extprops.push(f);\n\tadd_rels(opts.rels, 3, f, RELS.EXT_PROPS);\n\n\tif(wb.Custprops !== wb.Props && keys(wb.Custprops||{}).length > 0) {\n\t\tf = \"docProps/custom.xml\";\n\t\tzip_add_file(zip, f, write_cust_props(wb.Custprops, opts));\n\t\tct.custprops.push(f);\n\t\tadd_rels(opts.rels, 4, f, RELS.CUST_PROPS);\n\t}\n\n\tvar people = [\"SheetJ5\"];\n\topts.tcid = 0;\n\n\tfor(rId=1;rId <= wb.SheetNames.length; ++rId) {\n\t\tvar wsrels = {'!id':{}};\n\t\tvar ws = wb.Sheets[wb.SheetNames[rId-1]];\n\t\tvar _type = (ws || {})[\"!type\"] || \"sheet\";\n\t\tswitch(_type) {\n\t\tcase \"chart\":\n\t\t\t/* falls through */\n\t\tdefault:\n\t\t\tf = \"xl/worksheets/sheet\" + rId + \".\" + wbext;\n\t\t\tzip_add_file(zip, f, write_ws_xml(rId-1, opts, wb, wsrels));\n\t\t\tct.sheets.push(f);\n\t\t\tadd_rels(opts.wbrels, -1, \"worksheets/sheet\" + rId + \".\" + wbext, RELS.WS[0]);\n\t\t}\n\n\t\tif(ws) {\n\t\t\tvar comments = ws['!comments'];\n\t\t\tvar need_vml = false;\n\t\t\tvar cf = \"\";\n\t\t\tif(comments && comments.length > 0) {\n\t\t\t\tvar needtc = false;\n\t\t\t\tcomments.forEach(function(carr) {\n\t\t\t\t\tcarr[1].forEach(function(c) { if(c.T == true) needtc = true; });\n\t\t\t\t});\n\t\t\t\tif(needtc) {\n\t\t\t\t\tcf = \"xl/threadedComments/threadedComment\" + rId + \".\" + wbext;\n\t\t\t\t\tzip_add_file(zip, cf, write_tcmnt_xml(comments, people, opts));\n\t\t\t\t\tct.threadedcomments.push(cf);\n\t\t\t\t\tadd_rels(wsrels, -1, \"../threadedComments/threadedComment\" + rId + \".\" + wbext, RELS.TCMNT);\n\t\t\t\t}\n\n\t\t\t\tcf = \"xl/comments\" + rId + \".\" + wbext;\n\t\t\t\tzip_add_file(zip, cf, write_comments_xml(comments, opts));\n\t\t\t\tct.comments.push(cf);\n\t\t\t\tadd_rels(wsrels, -1, \"../comments\" + rId + \".\" + wbext, RELS.CMNT);\n\t\t\t\tneed_vml = true;\n\t\t\t}\n\t\t\tif(ws['!legacy']) {\n\t\t\t\tif(need_vml) zip_add_file(zip, \"xl/drawings/vmlDrawing\" + (rId) + \".vml\", write_comments_vml(rId, ws['!comments']));\n\t\t\t}\n\t\t\tdelete ws['!comments'];\n\t\t\tdelete ws['!legacy'];\n\t\t}\n\n\t\tif(wsrels['!id'].rId1) zip_add_file(zip, get_rels_path(f), write_rels(wsrels));\n\t}\n\n\tif(opts.Strings != null && opts.Strings.length > 0) {\n\t\tf = \"xl/sharedStrings.\" + wbext;\n\t\tzip_add_file(zip, f, write_sst_xml(opts.Strings, opts));\n\t\tct.strs.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"sharedStrings.\" + wbext, RELS.SST);\n\t}\n\n\tf = \"xl/workbook.\" + wbext;\n\tzip_add_file(zip, f, write_wb_xml(wb, opts));\n\tct.workbooks.push(f);\n\tadd_rels(opts.rels, 1, f, RELS.WB);\n\n\t/* TODO: something more intelligent with themes */\n\n\tf = \"xl/theme/theme1.xml\";\n\tzip_add_file(zip, f, write_theme(wb.Themes, opts));\n\tct.themes.push(f);\n\tadd_rels(opts.wbrels, -1, \"theme/theme1.xml\", RELS.THEME);\n\n\t/* TODO: something more intelligent with styles */\n\n\tf = \"xl/styles.\" + wbext;\n\tzip_add_file(zip, f, write_sty_xml(wb, opts));\n\tct.styles.push(f);\n\tadd_rels(opts.wbrels, -1, \"styles.\" + wbext, RELS.STY);\n\n\tif(wb.vbaraw && vbafmt) {\n\t\tf = \"xl/vbaProject.bin\";\n\t\tzip_add_file(zip, f, wb.vbaraw);\n\t\tct.vba.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"vbaProject.bin\", RELS.VBA);\n\t}\n\n\tf = \"xl/metadata.\" + wbext;\n\tzip_add_file(zip, f, write_xlmeta_xml());\n\tct.metadata.push(f);\n\tadd_rels(opts.wbrels, -1, \"metadata.\" + wbext, RELS.XLMETA);\n\n\tif(people.length > 1) {\n\t\tf = \"xl/persons/person.xml\";\n\t\tzip_add_file(zip, f, write_people_xml(people, opts));\n\t\tct.people.push(f);\n\t\tadd_rels(opts.wbrels, -1, \"persons/person.xml\", RELS.PEOPLE);\n\t}\n\n\tzip_add_file(zip, \"[Content_Types].xml\", write_ct(ct, opts));\n\tzip_add_file(zip, '_rels/.rels', write_rels(opts.rels));\n\tzip_add_file(zip, 'xl/_rels/workbook.' + wbext + '.rels', write_rels(opts.wbrels));\n\n\tdelete opts.revssf; delete opts.ssf;\n\treturn zip;\n}\n\nfunction firstbyte(f/*:RawData*/,o/*:?TypeOpts*/)/*:Array<number>*/ {\n\tvar x = \"\";\n\tswitch((o||{}).type || \"base64\") {\n\t\tcase 'buffer': return [f[0], f[1], f[2], f[3], f[4], f[5], f[6], f[7]];\n\t\tcase 'base64': x = Base64_decode(f.slice(0,12)); break;\n\t\tcase 'binary': x = f; break;\n\t\tcase 'array':  return [f[0], f[1], f[2], f[3], f[4], f[5], f[6], f[7]];\n\t\tdefault: throw new Error(\"Unrecognized type \" + (o && o.type || \"undefined\"));\n\t}\n\treturn [x.charCodeAt(0), x.charCodeAt(1), x.charCodeAt(2), x.charCodeAt(3), x.charCodeAt(4), x.charCodeAt(5), x.charCodeAt(6), x.charCodeAt(7)];\n}\n\nfunction read_cfb(cfb/*:CFBContainer*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tif(CFB.find(cfb, \"EncryptedPackage\")) return parse_xlsxcfb(cfb, opts);\n\treturn parse_xlscfb(cfb, opts);\n}\n\nfunction read_zip(data/*:RawData*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tvar zip, d = data;\n\tvar o = opts||{};\n\tif(!o.type) o.type = (has_buf && Buffer.isBuffer(data)) ? \"buffer\" : \"base64\";\n\tzip = zip_read(d, o);\n\treturn parse_zip(zip, o);\n}\n\nfunction read_plaintext(data/*:string*/, o/*:ParseOpts*/)/*:Workbook*/ {\n\tvar i = 0;\n\tmain: while(i < data.length) switch(data.charCodeAt(i)) {\n\t\tcase 0x0A: case 0x0D: case 0x20: ++i; break;\n\t\tcase 0x3C: return parse_xlml(data.slice(i),o);\n\t\tdefault: break main;\n\t}\n\treturn PRN.to_workbook(data, o);\n}\n\nfunction read_plaintext_raw(data/*:RawData*/, o/*:ParseOpts*/)/*:Workbook*/ {\n\tvar str = \"\", bytes = firstbyte(data, o);\n\tswitch(o.type) {\n\t\tcase 'base64': str = Base64_decode(data); break;\n\t\tcase 'binary': str = data; break;\n\t\tcase 'buffer': str = data.toString('binary'); break;\n\t\tcase 'array': str = cc2str(data); break;\n\t\tdefault: throw new Error(\"Unrecognized type \" + o.type);\n\t}\n\tif(bytes[0] == 0xEF && bytes[1] == 0xBB && bytes[2] == 0xBF) str = utf8read(str);\n\to.type = \"binary\";\n\treturn read_plaintext(str, o);\n}\n\nfunction read_utf16(data/*:RawData*/, o/*:ParseOpts*/)/*:Workbook*/ {\n\tvar d = data;\n\tif(o.type == 'base64') d = Base64_decode(d);\n\td = $cptable.utils.decode(1200, d.slice(2), 'str');\n\to.type = \"binary\";\n\treturn read_plaintext(d, o);\n}\n\nfunction bstrify(data/*:string*/)/*:string*/ {\n\treturn !data.match(/[^\\x00-\\x7F]/) ? data : utf8write(data);\n}\n\nfunction read_prn(data, d, o, str) {\n\tif(str) { o.type = \"string\"; return PRN.to_workbook(data, o); }\n\treturn PRN.to_workbook(d, o);\n}\n\nfunction readSync(data/*:RawData*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\treset_cp();\n\tvar o = opts||{};\n\tif(typeof ArrayBuffer !== 'undefined' && data instanceof ArrayBuffer) return readSync(new Uint8Array(data), (o = dup(o), o.type = \"array\", o));\n\tif(typeof Uint8Array !== 'undefined' && data instanceof Uint8Array && !o.type) o.type = typeof Deno !== \"undefined\" ? \"buffer\" : \"array\";\n\tvar d = data, n = [0,0,0,0], str = false;\n\tif(o.cellStyles) { o.cellNF = true; o.sheetStubs = true; }\n\t_ssfopts = {};\n\tif(o.dateNF) _ssfopts.dateNF = o.dateNF;\n\tif(!o.type) o.type = (has_buf && Buffer.isBuffer(data)) ? \"buffer\" : \"base64\";\n\tif(o.type == \"file\") { o.type = has_buf ? \"buffer\" : \"binary\"; d = read_binary(data); if(typeof Uint8Array !== 'undefined' && !has_buf) o.type = \"array\"; }\n\tif(o.type == \"string\") { str = true; o.type = \"binary\"; o.codepage = 65001; d = bstrify(data); }\n\tif(o.type == 'array' && typeof Uint8Array !== 'undefined' && data instanceof Uint8Array && typeof ArrayBuffer !== 'undefined') {\n\t\t// $FlowIgnore\n\t\tvar ab=new ArrayBuffer(3), vu=new Uint8Array(ab); vu.foo=\"bar\";\n\t\t// $FlowIgnore\n\t\tif(!vu.foo) {o=dup(o); o.type='array'; return readSync(ab2a(d), o);}\n\t}\n\tswitch((n = firstbyte(d, o))[0]) {\n\t\tcase 0xD0: if(n[1] === 0xCF && n[2] === 0x11 && n[3] === 0xE0 && n[4] === 0xA1 && n[5] === 0xB1 && n[6] === 0x1A && n[7] === 0xE1) return read_cfb(CFB.read(d, o), o); break;\n\t\tcase 0x09: if(n[1] <= 0x08) return parse_xlscfb(d, o); break;\n\t\tcase 0x3C: return parse_xlml(d, o);\n\t\tcase 0x49:\n\t\t\tif(n[1] === 0x49 && n[2] === 0x2a && n[3] === 0x00) throw new Error(\"TIFF Image File is not a spreadsheet\");\n\t\t\tif(n[1] === 0x44) return read_wb_ID(d, o);\n\t\t\tbreak;\n\t\tcase 0x54: if(n[1] === 0x41 && n[2] === 0x42 && n[3] === 0x4C) return DIF.to_workbook(d, o); break;\n\t\tcase 0x50: return (n[1] === 0x4B && n[2] < 0x09 && n[3] < 0x09) ? read_zip(d, o) : read_prn(data, d, o, str);\n\t\tcase 0xEF: return n[3] === 0x3C ? parse_xlml(d, o) : read_prn(data, d, o, str);\n\t\tcase 0xFF:\n\t\t\tif(n[1] === 0xFE) { return read_utf16(d, o); }\n\t\t\telse if(n[1] === 0x00 && n[2] === 0x02 && n[3] === 0x00) return WK_.to_workbook(d, o);\n\t\t\tbreak;\n\t\tcase 0x00:\n\t\t\tif(n[1] === 0x00) {\n\t\t\t\tif(n[2] >= 0x02 && n[3] === 0x00) return WK_.to_workbook(d, o);\n\t\t\t\tif(n[2] === 0x00 && (n[3] === 0x08 || n[3] === 0x09)) return WK_.to_workbook(d, o);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 0x03: case 0x83: case 0x8B: case 0x8C: return DBF.to_workbook(d, o);\n\t\tcase 0x7B: if(n[1] === 0x5C && n[2] === 0x72 && n[3] === 0x74) return RTF.to_workbook(d, o); break;\n\t\tcase 0x0A: case 0x0D: case 0x20: return read_plaintext_raw(d, o);\n\t\tcase 0x89: if(n[1] === 0x50 && n[2] === 0x4E && n[3] === 0x47) throw new Error(\"PNG Image File is not a spreadsheet\"); break;\n\t}\n\tif(DBF_SUPPORTED_VERSIONS.indexOf(n[0]) > -1 && n[2] <= 12 && n[3] <= 31) return DBF.to_workbook(d, o);\n\treturn read_prn(data, d, o, str);\n}\n\nfunction readFileSync(filename/*:string*/, opts/*:?ParseOpts*/)/*:Workbook*/ {\n\tvar o = opts||{}; o.type = 'file';\n\treturn readSync(filename, o);\n}\nfunction write_cfb_ctr(cfb/*:CFBContainer*/, o/*:WriteOpts*/)/*:any*/ {\n\tswitch(o.type) {\n\t\tcase \"base64\": case \"binary\": break;\n\t\tcase \"buffer\": case \"array\": o.type = \"\"; break;\n\t\tcase \"file\": return write_dl(o.file, CFB.write(cfb, {type:has_buf ? 'buffer' : \"\"}));\n\t\tcase \"string\": throw new Error(\"'string' output type invalid for '\" + o.bookType + \"' files\");\n\t\tdefault: throw new Error(\"Unrecognized type \" + o.type);\n\t}\n\treturn CFB.write(cfb, o);\n}\n\n/*:: declare var encrypt_agile:any; */\nfunction write_zip_type(wb/*:Workbook*/, opts/*:?WriteOpts*/)/*:any*/ {\n\tvar o = dup(opts||{});\n\tvar z = write_zip(wb, o);\n\treturn write_zip_denouement(z, o);\n}\nfunction write_zip_typeXLSX(wb/*:Workbook*/, opts/*:?WriteOpts*/)/*:any*/ {\n\tvar o = dup(opts||{});\n\tvar z = write_zip_xlsx(wb, o);\n\treturn write_zip_denouement(z, o);\n}\nfunction write_zip_denouement(z/*:any*/, o/*:?WriteOpts*/)/*:any*/ {\n\tvar oopts = {};\n\tvar ftype = has_buf ? \"nodebuffer\" : (typeof Uint8Array !== \"undefined\" ? \"array\" : \"string\");\n\tif(o.compression) oopts.compression = 'DEFLATE';\n\tif(o.password) oopts.type = ftype;\n\telse switch(o.type) {\n\t\tcase \"base64\": oopts.type = \"base64\"; break;\n\t\tcase \"binary\": oopts.type = \"string\"; break;\n\t\tcase \"string\": throw new Error(\"'string' output type invalid for '\" + o.bookType + \"' files\");\n\t\tcase \"buffer\":\n\t\tcase \"file\": oopts.type = ftype; break;\n\t\tdefault: throw new Error(\"Unrecognized type \" + o.type);\n\t}\n\tvar out = z.FullPaths ? CFB.write(z, {fileType:\"zip\", type: /*::(*/{\"nodebuffer\": \"buffer\", \"string\": \"binary\"}/*:: :any)*/[oopts.type] || oopts.type, compression: !!o.compression}) : z.generate(oopts);\n\tif(typeof Deno !== \"undefined\") {\n\t\tif(typeof out == \"string\") {\n\t\t\tif(o.type == \"binary\" || o.type == \"base64\") return out;\n\t\t\tout = new Uint8Array(s2ab(out));\n\t\t}\n\t}\n/*jshint -W083 */\n\tif(o.password && typeof encrypt_agile !== 'undefined') return write_cfb_ctr(encrypt_agile(out, o.password), o); // eslint-disable-line no-undef\n/*jshint +W083 */\n\tif(o.type === \"file\") return write_dl(o.file, out);\n\treturn o.type == \"string\" ? utf8read(/*::(*/out/*:: :any)*/) : out;\n}\n\nfunction write_cfb_type(wb/*:Workbook*/, opts/*:?WriteOpts*/)/*:any*/ {\n\tvar o = opts||{};\n\tvar cfb/*:CFBContainer*/ = write_xlscfb(wb, o);\n\treturn write_cfb_ctr(cfb, o);\n}\n\nfunction write_string_type(out/*:string*/, opts/*:WriteOpts*/, bom/*:?string*/)/*:any*/ {\n\tif(!bom) bom = \"\";\n\tvar o = bom + out;\n\tswitch(opts.type) {\n\t\tcase \"base64\": return Base64_encode(utf8write(o));\n\t\tcase \"binary\": return utf8write(o);\n\t\tcase \"string\": return out;\n\t\tcase \"file\": return write_dl(opts.file, o, 'utf8');\n\t\tcase \"buffer\": {\n\t\t\tif(has_buf) return Buffer_from(o, 'utf8');\n\t\t\telse if(typeof TextEncoder !== \"undefined\") return new TextEncoder().encode(o);\n\t\t\telse return write_string_type(o, {type:'binary'}).split(\"\").map(function(c) { return c.charCodeAt(0); });\n\t\t}\n\t}\n\tthrow new Error(\"Unrecognized type \" + opts.type);\n}\n\nfunction write_stxt_type(out/*:string*/, opts/*:WriteOpts*/)/*:any*/ {\n\tswitch(opts.type) {\n\t\tcase \"base64\": return Base64_encode(out);\n\t\tcase \"binary\": return out;\n\t\tcase \"string\": return out; /* override in sheet_to_txt */\n\t\tcase \"file\": return write_dl(opts.file, out, 'binary');\n\t\tcase \"buffer\": {\n\t\t\tif(has_buf) return Buffer_from(out, 'binary');\n\t\t\telse return out.split(\"\").map(function(c) { return c.charCodeAt(0); });\n\t\t}\n\t}\n\tthrow new Error(\"Unrecognized type \" + opts.type);\n}\n\n/* TODO: test consistency */\nfunction write_binary_type(out, opts/*:WriteOpts*/)/*:any*/ {\n\tswitch(opts.type) {\n\t\tcase \"string\":\n\t\tcase \"base64\":\n\t\tcase \"binary\":\n\t\t\tvar bstr = \"\";\n\t\t\t// $FlowIgnore\n\t\t\tfor(var i = 0; i < out.length; ++i) bstr += String.fromCharCode(out[i]);\n\t\t\treturn opts.type == 'base64' ? Base64_encode(bstr) : opts.type == 'string' ? utf8read(bstr) : bstr;\n\t\tcase \"file\": return write_dl(opts.file, out);\n\t\tcase \"buffer\": return out;\n\t\tdefault: throw new Error(\"Unrecognized type \" + opts.type);\n\t}\n}\n\nfunction writeSyncXLSX(wb/*:Workbook*/, opts/*:?WriteOpts*/) {\n\treset_cp();\n\tcheck_wb(wb);\n\tvar o = dup(opts||{});\n\tif(o.cellStyles) { o.cellNF = true; o.sheetStubs = true; }\n\tif(o.type == \"array\") { o.type = \"binary\"; var out/*:string*/ = (writeSyncXLSX(wb, o)/*:any*/); o.type = \"array\"; return s2ab(out); }\n\treturn write_zip_typeXLSX(wb, o);\n}\n\nfunction writeSync(wb/*:Workbook*/, opts/*:?WriteOpts*/) {\n\treset_cp();\n\tcheck_wb(wb);\n\tvar o = dup(opts||{});\n\tif(o.cellStyles) { o.cellNF = true; o.sheetStubs = true; }\n\tif(o.type == \"array\") { o.type = \"binary\"; var out/*:string*/ = (writeSync(wb, o)/*:any*/); o.type = \"array\"; return s2ab(out); }\n\tvar idx = 0;\n\tif(o.sheet) {\n\t\tif(typeof o.sheet == \"number\") idx = o.sheet;\n\t\telse idx = wb.SheetNames.indexOf(o.sheet);\n\t\tif(!wb.SheetNames[idx]) throw new Error(\"Sheet not found: \" + o.sheet + \" : \" + (typeof o.sheet));\n\t}\n\tswitch(o.bookType || 'xlsb') {\n\t\tcase 'xml':\n\t\tcase 'xlml': return write_string_type(write_xlml(wb, o), o);\n\t\tcase 'slk':\n\t\tcase 'sylk': return write_string_type(SYLK.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'htm':\n\t\tcase 'html': return write_string_type(sheet_to_html(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'txt': return write_stxt_type(sheet_to_txt(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'csv': return write_string_type(sheet_to_csv(wb.Sheets[wb.SheetNames[idx]], o), o, \"\\ufeff\");\n\t\tcase 'dif': return write_string_type(DIF.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'dbf': return write_binary_type(DBF.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'prn': return write_string_type(PRN.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'rtf': return write_string_type(RTF.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'eth': return write_string_type(ETH.from_sheet(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'fods': return write_string_type(write_ods(wb, o), o);\n\t\tcase 'wk1': return write_binary_type(WK_.sheet_to_wk1(wb.Sheets[wb.SheetNames[idx]], o), o);\n\t\tcase 'wk3': return write_binary_type(WK_.book_to_wk3(wb, o), o);\n\t\tcase 'biff2': if(!o.biff) o.biff = 2; /* falls through */\n\t\tcase 'biff3': if(!o.biff) o.biff = 3; /* falls through */\n\t\tcase 'biff4': if(!o.biff) o.biff = 4; return write_binary_type(write_biff_buf(wb, o), o);\n\t\tcase 'biff5': if(!o.biff) o.biff = 5; /* falls through */\n\t\tcase 'biff8':\n\t\tcase 'xla':\n\t\tcase 'xls': if(!o.biff) o.biff = 8; return write_cfb_type(wb, o);\n\t\tcase 'xlsx':\n\t\tcase 'xlsm':\n\t\tcase 'xlam':\n\t\tcase 'xlsb':\n\t\tcase 'numbers':\n\t\tcase 'ods': return write_zip_type(wb, o);\n\t\tdefault: throw new Error (\"Unrecognized bookType |\" + o.bookType + \"|\");\n\t}\n}\n\nfunction resolve_book_type(o/*:WriteFileOpts*/) {\n\tif(o.bookType) return;\n\tvar _BT = {\n\t\t\"xls\": \"biff8\",\n\t\t\"htm\": \"html\",\n\t\t\"slk\": \"sylk\",\n\t\t\"socialcalc\": \"eth\",\n\t\t\"Sh33tJS\": \"WTF\"\n\t};\n\tvar ext = o.file.slice(o.file.lastIndexOf(\".\")).toLowerCase();\n\tif(ext.match(/^\\.[a-z]+$/)) o.bookType = ext.slice(1);\n\to.bookType = _BT[o.bookType] || o.bookType;\n}\n\nfunction writeFileSync(wb/*:Workbook*/, filename/*:string*/, opts/*:?WriteFileOpts*/) {\n\tvar o = opts||{}; o.type = 'file';\n\to.file = filename;\n\tresolve_book_type(o);\n\treturn writeSync(wb, o);\n}\n\nfunction writeFileSyncXLSX(wb/*:Workbook*/, filename/*:string*/, opts/*:?WriteFileOpts*/) {\n\tvar o = opts||{}; o.type = 'file';\n\to.file = filename;\n\tresolve_book_type(o);\n\treturn writeSyncXLSX(wb, o);\n}\n\n\nfunction writeFileAsync(filename/*:string*/, wb/*:Workbook*/, opts/*:?WriteFileOpts*/, cb/*:?(e?:ErrnoError)=>void*/) {\n\tvar o = opts||{}; o.type = 'file';\n\to.file = filename;\n\tresolve_book_type(o);\n\to.type = 'buffer';\n\tvar _cb = cb; if(!(_cb instanceof Function)) _cb = (opts/*:any*/);\n\treturn _fs.writeFile(filename, writeSync(wb, o), _cb);\n}\n/*::\ntype MJRObject = {\n\trow: any;\n\tisempty: boolean;\n};\n*/\nfunction make_json_row(sheet/*:Worksheet*/, r/*:Range*/, R/*:number*/, cols/*:Array<string>*/, header/*:number*/, hdr/*:Array<any>*/, dense/*:boolean*/, o/*:Sheet2JSONOpts*/)/*:MJRObject*/ {\n\tvar rr = encode_row(R);\n\tvar defval = o.defval, raw = o.raw || !Object.prototype.hasOwnProperty.call(o, \"raw\");\n\tvar isempty = true;\n\tvar row/*:any*/ = (header === 1) ? [] : {};\n\tif(header !== 1) {\n\t\tif(Object.defineProperty) try { Object.defineProperty(row, '__rowNum__', {value:R, enumerable:false}); } catch(e) { row.__rowNum__ = R; }\n\t\telse row.__rowNum__ = R;\n\t}\n\tif(!dense || sheet[R]) for (var C = r.s.c; C <= r.e.c; ++C) {\n\t\tvar val = dense ? sheet[R][C] : sheet[cols[C] + rr];\n\t\tif(val === undefined || val.t === undefined) {\n\t\t\tif(defval === undefined) continue;\n\t\t\tif(hdr[C] != null) { row[hdr[C]] = defval; }\n\t\t\tcontinue;\n\t\t}\n\t\tvar v = val.v;\n\t\tswitch(val.t){\n\t\t\tcase 'z': if(v == null) break; continue;\n\t\t\tcase 'e': v = (v == 0 ? null : void 0); break;\n\t\t\tcase 's': case 'd': case 'b': case 'n': break;\n\t\t\tdefault: throw new Error('unrecognized type ' + val.t);\n\t\t}\n\t\tif(hdr[C] != null) {\n\t\t\tif(v == null) {\n\t\t\t\tif(val.t == \"e\" && v === null) row[hdr[C]] = null;\n\t\t\t\telse if(defval !== undefined) row[hdr[C]] = defval;\n\t\t\t\telse if(raw && v === null) row[hdr[C]] = null;\n\t\t\t\telse continue;\n\t\t\t} else {\n\t\t\t\trow[hdr[C]] = raw && (val.t !== \"n\" || (val.t === \"n\" && o.rawNumbers !== false)) ? v : format_cell(val,v,o);\n\t\t\t}\n\t\t\tif(v != null) isempty = false;\n\t\t}\n\t}\n\treturn { row: row, isempty: isempty };\n}\n\n\nfunction sheet_to_json(sheet/*:Worksheet*/, opts/*:?Sheet2JSONOpts*/) {\n\tif(sheet == null || sheet[\"!ref\"] == null) return [];\n\tvar val = {t:'n',v:0}, header = 0, offset = 1, hdr/*:Array<any>*/ = [], v=0, vv=\"\";\n\tvar r = {s:{r:0,c:0},e:{r:0,c:0}};\n\tvar o = opts || {};\n\tvar range = o.range != null ? o.range : sheet[\"!ref\"];\n\tif(o.header === 1) header = 1;\n\telse if(o.header === \"A\") header = 2;\n\telse if(Array.isArray(o.header)) header = 3;\n\telse if(o.header == null) header = 0;\n\tswitch(typeof range) {\n\t\tcase 'string': r = safe_decode_range(range); break;\n\t\tcase 'number': r = safe_decode_range(sheet[\"!ref\"]); r.s.r = range; break;\n\t\tdefault: r = range;\n\t}\n\tif(header > 0) offset = 0;\n\tvar rr = encode_row(r.s.r);\n\tvar cols/*:Array<string>*/ = [];\n\tvar out/*:Array<any>*/ = [];\n\tvar outi = 0, counter = 0;\n\tvar dense = Array.isArray(sheet);\n\tvar R = r.s.r, C = 0;\n\tvar header_cnt = {};\n\tif(dense && !sheet[R]) sheet[R] = [];\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\tif(((colinfo[C]||{}).hidden)) continue;\n\t\tcols[C] = encode_col(C);\n\t\tval = dense ? sheet[R][C] : sheet[cols[C] + rr];\n\t\tswitch(header) {\n\t\t\tcase 1: hdr[C] = C - r.s.c; break;\n\t\t\tcase 2: hdr[C] = cols[C]; break;\n\t\t\tcase 3: hdr[C] = o.header[C - r.s.c]; break;\n\t\t\tdefault:\n\t\t\t\tif(val == null) val = {w: \"__EMPTY\", t: \"s\"};\n\t\t\t\tvv = v = format_cell(val, null, o);\n\t\t\t\tcounter = header_cnt[v] || 0;\n\t\t\t\tif(!counter) header_cnt[v] = 1;\n\t\t\t\telse {\n\t\t\t\t\tdo { vv = v + \"_\" + (counter++); } while(header_cnt[vv]); header_cnt[v] = counter;\n\t\t\t\t\theader_cnt[vv] = 1;\n\t\t\t\t}\n\t\t\t\thdr[C] = vv;\n\t\t}\n\t}\n\tfor (R = r.s.r + offset; R <= r.e.r; ++R) {\n\t\tif ((rowinfo[R]||{}).hidden) continue;\n\t\tvar row = make_json_row(sheet, r, R, cols, header, hdr, dense, o);\n\t\tif((row.isempty === false) || (header === 1 ? o.blankrows !== false : !!o.blankrows)) out[outi++] = row.row;\n\t}\n\tout.length = outi;\n\treturn out;\n}\n\nvar qreg = /\"/g;\nfunction make_csv_row(sheet/*:Worksheet*/, r/*:Range*/, R/*:number*/, cols/*:Array<string>*/, fs/*:number*/, rs/*:number*/, FS/*:string*/, o/*:Sheet2CSVOpts*/)/*:?string*/ {\n\tvar isempty = true;\n\tvar row/*:Array<string>*/ = [], txt = \"\", rr = encode_row(R);\n\tfor(var C = r.s.c; C <= r.e.c; ++C) {\n\t\tif (!cols[C]) continue;\n\t\tvar val = o.dense ? (sheet[R]||[])[C]: sheet[cols[C] + rr];\n\t\tif(val == null) txt = \"\";\n\t\telse if(val.v != null) {\n\t\t\tisempty = false;\n\t\t\ttxt = ''+(o.rawNumbers && val.t == \"n\" ? val.v : format_cell(val, null, o));\n\t\t\tfor(var i = 0, cc = 0; i !== txt.length; ++i) if((cc = txt.charCodeAt(i)) === fs || cc === rs || cc === 34 || o.forceQuotes) {txt = \"\\\"\" + txt.replace(qreg, '\"\"') + \"\\\"\"; break; }\n\t\t\tif(txt == \"ID\") txt = '\"ID\"';\n\t\t} else if(val.f != null && !val.F) {\n\t\t\tisempty = false;\n\t\t\ttxt = '=' + val.f; if(txt.indexOf(\",\") >= 0) txt = '\"' + txt.replace(qreg, '\"\"') + '\"';\n\t\t} else txt = \"\";\n\t\t/* NOTE: Excel CSV does not support array formulae */\n\t\trow.push(txt);\n\t}\n\tif(o.blankrows === false && isempty) return null;\n\treturn row.join(FS);\n}\n\nfunction sheet_to_csv(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/)/*:string*/ {\n\tvar out/*:Array<string>*/ = [];\n\tvar o = opts == null ? {} : opts;\n\tif(sheet == null || sheet[\"!ref\"] == null) return \"\";\n\tvar r = safe_decode_range(sheet[\"!ref\"]);\n\tvar FS = o.FS !== undefined ? o.FS : \",\", fs = FS.charCodeAt(0);\n\tvar RS = o.RS !== undefined ? o.RS : \"\\n\", rs = RS.charCodeAt(0);\n\tvar endregex = new RegExp((FS==\"|\" ? \"\\\\|\" : FS)+\"+$\");\n\tvar row = \"\", cols/*:Array<string>*/ = [];\n\to.dense = Array.isArray(sheet);\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(var C = r.s.c; C <= r.e.c; ++C) if (!((colinfo[C]||{}).hidden)) cols[C] = encode_col(C);\n\tvar w = 0;\n\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\tif ((rowinfo[R]||{}).hidden) continue;\n\t\trow = make_csv_row(sheet, r, R, cols, fs, rs, FS, o);\n\t\tif(row == null) { continue; }\n\t\tif(o.strip) row = row.replace(endregex,\"\");\n\t\tif(row || (o.blankrows !== false)) out.push((w++ ? RS : \"\") + row);\n\t}\n\tdelete o.dense;\n\treturn out.join(\"\");\n}\n\nfunction sheet_to_txt(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/) {\n\tif(!opts) opts = {}; opts.FS = \"\\t\"; opts.RS = \"\\n\";\n\tvar s = sheet_to_csv(sheet, opts);\n\tif(typeof $cptable == 'undefined' || opts.type == 'string') return s;\n\tvar o = $cptable.utils.encode(1200, s, 'str');\n\treturn String.fromCharCode(255) + String.fromCharCode(254) + o;\n}\n\nfunction sheet_to_formulae(sheet/*:Worksheet*/)/*:Array<string>*/ {\n\tvar y = \"\", x, val=\"\";\n\tif(sheet == null || sheet[\"!ref\"] == null) return [];\n\tvar r = safe_decode_range(sheet['!ref']), rr = \"\", cols/*:Array<string>*/ = [], C;\n\tvar cmds/*:Array<string>*/ = [];\n\tvar dense = Array.isArray(sheet);\n\tfor(C = r.s.c; C <= r.e.c; ++C) cols[C] = encode_col(C);\n\tfor(var R = r.s.r; R <= r.e.r; ++R) {\n\t\trr = encode_row(R);\n\t\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\t\ty = cols[C] + rr;\n\t\t\tx = dense ? (sheet[R]||[])[C] : sheet[y];\n\t\t\tval = \"\";\n\t\t\tif(x === undefined) continue;\n\t\t\telse if(x.F != null) {\n\t\t\t\ty = x.F;\n\t\t\t\tif(!x.f) continue;\n\t\t\t\tval = x.f;\n\t\t\t\tif(y.indexOf(\":\") == -1) y = y + \":\" + y;\n\t\t\t}\n\t\t\tif(x.f != null) val = x.f;\n\t\t\telse if(x.t == 'z') continue;\n\t\t\telse if(x.t == 'n' && x.v != null) val = \"\" + x.v;\n\t\t\telse if(x.t == 'b') val = x.v ? \"TRUE\" : \"FALSE\";\n\t\t\telse if(x.w !== undefined) val = \"'\" + x.w;\n\t\t\telse if(x.v === undefined) continue;\n\t\t\telse if(x.t == 's') val = \"'\" + x.v;\n\t\t\telse val = \"\"+x.v;\n\t\t\tcmds[cmds.length] = y + \"=\" + val;\n\t\t}\n\t}\n\treturn cmds;\n}\n\nfunction sheet_add_json(_ws/*:?Worksheet*/, js/*:Array<any>*/, opts)/*:Worksheet*/ {\n\tvar o = opts || {};\n\tvar offset = +!o.skipHeader;\n\tvar ws/*:Worksheet*/ = _ws || ({}/*:any*/);\n\tvar _R = 0, _C = 0;\n\tif(ws && o.origin != null) {\n\t\tif(typeof o.origin == 'number') _R = o.origin;\n\t\telse {\n\t\t\tvar _origin/*:CellAddress*/ = typeof o.origin == \"string\" ? decode_cell(o.origin) : o.origin;\n\t\t\t_R = _origin.r; _C = _origin.c;\n\t\t}\n\t}\n\tvar cell/*:Cell*/;\n\tvar range/*:Range*/ = ({s: {c:0, r:0}, e: {c:_C, r:_R + js.length - 1 + offset}}/*:any*/);\n\tif(ws['!ref']) {\n\t\tvar _range = safe_decode_range(ws['!ref']);\n\t\trange.e.c = Math.max(range.e.c, _range.e.c);\n\t\trange.e.r = Math.max(range.e.r, _range.e.r);\n\t\tif(_R == -1) { _R = _range.e.r + 1; range.e.r = _R + js.length - 1 + offset; }\n\t} else {\n\t\tif(_R == -1) { _R = 0; range.e.r = js.length - 1 + offset; }\n\t}\n\tvar hdr/*:Array<string>*/ = o.header || [], C = 0;\n\n\tjs.forEach(function (JS, R/*:number*/) {\n\t\tkeys(JS).forEach(function(k) {\n\t\t\tif((C=hdr.indexOf(k)) == -1) hdr[C=hdr.length] = k;\n\t\t\tvar v = JS[k];\n\t\t\tvar t = 'z';\n\t\t\tvar z = \"\";\n\t\t\tvar ref = encode_cell({c:_C + C,r:_R + R + offset});\n\t\t\tcell = ws_get_cell_stub(ws, ref);\n\t\t\tif(v && typeof v === 'object' && !(v instanceof Date)){\n\t\t\t\tws[ref] = v;\n\t\t\t} else {\n\t\t\t\tif(typeof v == 'number') t = 'n';\n\t\t\t\telse if(typeof v == 'boolean') t = 'b';\n\t\t\t\telse if(typeof v == 'string') t = 's';\n\t\t\t\telse if(v instanceof Date) {\n\t\t\t\t\tt = 'd';\n\t\t\t\t\tif(!o.cellDates) { t = 'n'; v = datenum(v); }\n\t\t\t\t\tz = (o.dateNF || table_fmt[14]);\n\t\t\t\t}\n\t\t\t\telse if(v === null && o.nullError) { t = 'e'; v = 0; }\n\t\t\t\tif(!cell) ws[ref] = cell = ({t:t, v:v}/*:any*/);\n\t\t\t\telse {\n\t\t\t\t\tcell.t = t; cell.v = v;\n\t\t\t\t\tdelete cell.w; delete cell.R;\n\t\t\t\t\tif(z) cell.z = z;\n\t\t\t\t}\n\t\t\t\tif(z) cell.z = z;\n\t\t\t}\n\t\t});\n\t});\n\trange.e.c = Math.max(range.e.c, _C + hdr.length - 1);\n\tvar __R = encode_row(_R);\n\tif(offset) for(C = 0; C < hdr.length; ++C) ws[encode_col(C + _C) + __R] = {t:'s', v:hdr[C]};\n\tws['!ref'] = encode_range(range);\n\treturn ws;\n}\nfunction json_to_sheet(js/*:Array<any>*/, opts)/*:Worksheet*/ { return sheet_add_json(null, js, opts); }\n\n/* get cell, creating a stub if necessary */\nfunction ws_get_cell_stub(ws/*:Worksheet*/, R, C/*:?number*/)/*:Cell*/ {\n\t/* A1 cell address */\n\tif(typeof R == \"string\") {\n\t\t/* dense */\n\t\tif(Array.isArray(ws)) {\n\t\t\tvar RC = decode_cell(R);\n\t\t\tif(!ws[RC.r]) ws[RC.r] = [];\n\t\t\treturn ws[RC.r][RC.c] || (ws[RC.r][RC.c] = {t:'z'});\n\t\t}\n\t\treturn ws[R] || (ws[R] = {t:'z'});\n\t}\n\t/* cell address object */\n\tif(typeof R != \"number\") return ws_get_cell_stub(ws, encode_cell(R));\n\t/* R and C are 0-based indices */\n\treturn ws_get_cell_stub(ws, encode_cell({r:R,c:C||0}));\n}\n\n/* find sheet index for given name / validate index */\nfunction wb_sheet_idx(wb/*:Workbook*/, sh/*:number|string*/) {\n\tif(typeof sh == \"number\") {\n\t\tif(sh >= 0 && wb.SheetNames.length > sh) return sh;\n\t\tthrow new Error(\"Cannot find sheet # \" + sh);\n\t} else if(typeof sh == \"string\") {\n\t\tvar idx = wb.SheetNames.indexOf(sh);\n\t\tif(idx > -1) return idx;\n\t\tthrow new Error(\"Cannot find sheet name |\" + sh + \"|\");\n\t} else throw new Error(\"Cannot find sheet |\" + sh + \"|\");\n}\n\n/* simple blank workbook object */\nfunction book_new()/*:Workbook*/ {\n\treturn { SheetNames: [], Sheets: {} };\n}\n\n/* add a worksheet to the end of a given workbook */\nfunction book_append_sheet(wb/*:Workbook*/, ws/*:Worksheet*/, name/*:?string*/, roll/*:?boolean*/)/*:string*/ {\n\tvar i = 1;\n\tif(!name) for(; i <= 0xFFFF; ++i, name = undefined) if(wb.SheetNames.indexOf(name = \"Sheet\" + i) == -1) break;\n\tif(!name || wb.SheetNames.length >= 0xFFFF) throw new Error(\"Too many worksheets\");\n\tif(roll && wb.SheetNames.indexOf(name) >= 0) {\n\t\tvar m = name.match(/(^.*?)(\\d+)$/);\n\t\ti = m && +m[2] || 0;\n\t\tvar root = m && m[1] || name;\n\t\tfor(++i; i <= 0xFFFF; ++i) if(wb.SheetNames.indexOf(name = root + i) == -1) break;\n\t}\n\tcheck_ws_name(name);\n\tif(wb.SheetNames.indexOf(name) >= 0) throw new Error(\"Worksheet with name |\" + name + \"| already exists!\");\n\n\twb.SheetNames.push(name);\n\twb.Sheets[name] = ws;\n\treturn name;\n}\n\n/* set sheet visibility (visible/hidden/very hidden) */\nfunction book_set_sheet_visibility(wb/*:Workbook*/, sh/*:number|string*/, vis/*:number*/) {\n\tif(!wb.Workbook) wb.Workbook = {};\n\tif(!wb.Workbook.Sheets) wb.Workbook.Sheets = [];\n\n\tvar idx = wb_sheet_idx(wb, sh);\n\t// $FlowIgnore\n\tif(!wb.Workbook.Sheets[idx]) wb.Workbook.Sheets[idx] = {};\n\n\tswitch(vis) {\n\t\tcase 0: case 1: case 2: break;\n\t\tdefault: throw new Error(\"Bad sheet visibility setting \" + vis);\n\t}\n\t// $FlowIgnore\n\twb.Workbook.Sheets[idx].Hidden = vis;\n}\n\n/* set number format */\nfunction cell_set_number_format(cell/*:Cell*/, fmt/*:string|number*/) {\n\tcell.z = fmt;\n\treturn cell;\n}\n\n/* set cell hyperlink */\nfunction cell_set_hyperlink(cell/*:Cell*/, target/*:string*/, tooltip/*:?string*/) {\n\tif(!target) {\n\t\tdelete cell.l;\n\t} else {\n\t\tcell.l = ({ Target: target }/*:Hyperlink*/);\n\t\tif(tooltip) cell.l.Tooltip = tooltip;\n\t}\n\treturn cell;\n}\nfunction cell_set_internal_link(cell/*:Cell*/, range/*:string*/, tooltip/*:?string*/) { return cell_set_hyperlink(cell, \"#\" + range, tooltip); }\n\n/* add to cell comments */\nfunction cell_add_comment(cell/*:Cell*/, text/*:string*/, author/*:?string*/) {\n\tif(!cell.c) cell.c = [];\n\tcell.c.push({t:text, a:author||\"SheetJS\"});\n}\n\n/* set array formula and flush related cells */\nfunction sheet_set_array_formula(ws/*:Worksheet*/, range, formula/*:string*/, dynamic/*:boolean*/) {\n\tvar rng = typeof range != \"string\" ? range : safe_decode_range(range);\n\tvar rngstr = typeof range == \"string\" ? range : encode_range(range);\n\tfor(var R = rng.s.r; R <= rng.e.r; ++R) for(var C = rng.s.c; C <= rng.e.c; ++C) {\n\t\tvar cell = ws_get_cell_stub(ws, R, C);\n\t\tcell.t = 'n';\n\t\tcell.F = rngstr;\n\t\tdelete cell.v;\n\t\tif(R == rng.s.r && C == rng.s.c) {\n\t\t\tcell.f = formula;\n\t\t\tif(dynamic) cell.D = true;\n\t\t}\n\t}\n\treturn ws;\n}\n\nvar utils/*:any*/ = {\n\tencode_col: encode_col,\n\tencode_row: encode_row,\n\tencode_cell: encode_cell,\n\tencode_range: encode_range,\n\tdecode_col: decode_col,\n\tdecode_row: decode_row,\n\tsplit_cell: split_cell,\n\tdecode_cell: decode_cell,\n\tdecode_range: decode_range,\n\tformat_cell: format_cell,\n\tsheet_add_aoa: sheet_add_aoa,\n\tsheet_add_json: sheet_add_json,\n\tsheet_add_dom: sheet_add_dom,\n\taoa_to_sheet: aoa_to_sheet,\n\tjson_to_sheet: json_to_sheet,\n\ttable_to_sheet: parse_dom_table,\n\ttable_to_book: table_to_book,\n\tsheet_to_csv: sheet_to_csv,\n\tsheet_to_txt: sheet_to_txt,\n\tsheet_to_json: sheet_to_json,\n\tsheet_to_html: sheet_to_html,\n\tsheet_to_formulae: sheet_to_formulae,\n\tsheet_to_row_object_array: sheet_to_json,\n\tsheet_get_cell: ws_get_cell_stub,\n\tbook_new: book_new,\n\tbook_append_sheet: book_append_sheet,\n\tbook_set_sheet_visibility: book_set_sheet_visibility,\n\tcell_set_number_format: cell_set_number_format,\n\tcell_set_hyperlink: cell_set_hyperlink,\n\tcell_set_internal_link: cell_set_internal_link,\n\tcell_add_comment: cell_add_comment,\n\tsheet_set_array_formula: sheet_set_array_formula,\n\tconsts: {\n\t\tSHEET_VISIBLE: 0,\n\t\tSHEET_HIDDEN: 1,\n\t\tSHEET_VERY_HIDDEN: 2\n\t}\n};\n\nvar _Readable;\nfunction set_readable(R) { _Readable = R; }\n\nfunction write_csv_stream(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/) {\n\tvar stream = _Readable();\n\tvar o = opts == null ? {} : opts;\n\tif(sheet == null || sheet[\"!ref\"] == null) { stream.push(null); return stream; }\n\tvar r = safe_decode_range(sheet[\"!ref\"]);\n\tvar FS = o.FS !== undefined ? o.FS : \",\", fs = FS.charCodeAt(0);\n\tvar RS = o.RS !== undefined ? o.RS : \"\\n\", rs = RS.charCodeAt(0);\n\tvar endregex = new RegExp((FS==\"|\" ? \"\\\\|\" : FS)+\"+$\");\n\tvar row/*:?string*/ = \"\", cols/*:Array<string>*/ = [];\n\to.dense = Array.isArray(sheet);\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<RowInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(var C = r.s.c; C <= r.e.c; ++C) if (!((colinfo[C]||{}).hidden)) cols[C] = encode_col(C);\n\tvar R = r.s.r;\n\tvar BOM = false, w = 0;\n\tstream._read = function() {\n\t\tif(!BOM) { BOM = true; return stream.push(\"\\uFEFF\"); }\n\t\twhile(R <= r.e.r) {\n\t\t\t++R;\n\t\t\tif ((rowinfo[R-1]||{}).hidden) continue;\n\t\t\trow = make_csv_row(sheet, r, R-1, cols, fs, rs, FS, o);\n\t\t\tif(row != null) {\n\t\t\t\tif(o.strip) row = row.replace(endregex,\"\");\n\t\t\t\tif(row || (o.blankrows !== false)) return stream.push((w++ ? RS : \"\") + row);\n\t\t\t}\n\t\t}\n\t\treturn stream.push(null);\n\t};\n\treturn stream;\n}\n\nfunction write_html_stream(ws/*:Worksheet*/, opts/*:?Sheet2HTMLOpts*/) {\n\tvar stream = _Readable();\n\n\tvar o = opts || {};\n\tvar header = o.header != null ? o.header : HTML_BEGIN;\n\tvar footer = o.footer != null ? o.footer : HTML_END;\n\tstream.push(header);\n\tvar r = decode_range(ws['!ref']);\n\to.dense = Array.isArray(ws);\n\tstream.push(make_html_preamble(ws, r, o));\n\tvar R = r.s.r;\n\tvar end = false;\n\tstream._read = function() {\n\t\tif(R > r.e.r) {\n\t\t\tif(!end) { end = true; stream.push(\"</table>\" + footer); }\n\t\t\treturn stream.push(null);\n\t\t}\n\t\twhile(R <= r.e.r) {\n\t\t\tstream.push(make_html_row(ws, r, R, o));\n\t\t\t++R;\n\t\t\tbreak;\n\t\t}\n\t};\n\treturn stream;\n}\n\nfunction write_json_stream(sheet/*:Worksheet*/, opts/*:?Sheet2CSVOpts*/) {\n\tvar stream = _Readable({objectMode:true});\n\n\tif(sheet == null || sheet[\"!ref\"] == null) { stream.push(null); return stream; }\n\tvar val = {t:'n',v:0}, header = 0, offset = 1, hdr/*:Array<any>*/ = [], v=0, vv=\"\";\n\tvar r = {s:{r:0,c:0},e:{r:0,c:0}};\n\tvar o = opts || {};\n\tvar range = o.range != null ? o.range : sheet[\"!ref\"];\n\tif(o.header === 1) header = 1;\n\telse if(o.header === \"A\") header = 2;\n\telse if(Array.isArray(o.header)) header = 3;\n\tswitch(typeof range) {\n\t\tcase 'string': r = safe_decode_range(range); break;\n\t\tcase 'number': r = safe_decode_range(sheet[\"!ref\"]); r.s.r = range; break;\n\t\tdefault: r = range;\n\t}\n\tif(header > 0) offset = 0;\n\tvar rr = encode_row(r.s.r);\n\tvar cols/*:Array<string>*/ = [];\n\tvar counter = 0;\n\tvar dense = Array.isArray(sheet);\n\tvar R = r.s.r, C = 0;\n\tvar header_cnt = {};\n\tif(dense && !sheet[R]) sheet[R] = [];\n\tvar colinfo/*:Array<ColInfo>*/ = o.skipHidden && sheet[\"!cols\"] || [];\n\tvar rowinfo/*:Array<RowInfo>*/ = o.skipHidden && sheet[\"!rows\"] || [];\n\tfor(C = r.s.c; C <= r.e.c; ++C) {\n\t\tif(((colinfo[C]||{}).hidden)) continue;\n\t\tcols[C] = encode_col(C);\n\t\tval = dense ? sheet[R][C] : sheet[cols[C] + rr];\n\t\tswitch(header) {\n\t\t\tcase 1: hdr[C] = C - r.s.c; break;\n\t\t\tcase 2: hdr[C] = cols[C]; break;\n\t\t\tcase 3: hdr[C] = o.header[C - r.s.c]; break;\n\t\t\tdefault:\n\t\t\t\tif(val == null) val = {w: \"__EMPTY\", t: \"s\"};\n\t\t\t\tvv = v = format_cell(val, null, o);\n\t\t\t\tcounter = header_cnt[v] || 0;\n\t\t\t\tif(!counter) header_cnt[v] = 1;\n\t\t\t\telse {\n\t\t\t\t\tdo { vv = v + \"_\" + (counter++); } while(header_cnt[vv]); header_cnt[v] = counter;\n\t\t\t\t\theader_cnt[vv] = 1;\n\t\t\t\t}\n\t\t\t\thdr[C] = vv;\n\t\t}\n\t}\n\tR = r.s.r + offset;\n\tstream._read = function() {\n\t\twhile(R <= r.e.r) {\n\t\t\tif ((rowinfo[R-1]||{}).hidden) continue;\n\t\t\tvar row = make_json_row(sheet, r, R, cols, header, hdr, dense, o);\n\t\t\t++R;\n\t\t\tif((row.isempty === false) || (header === 1 ? o.blankrows !== false : !!o.blankrows)) {\n\t\t\t\tstream.push(row.row);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\treturn stream.push(null);\n\t};\n\treturn stream;\n}\n\nvar __stream = {\n\tto_json: write_json_stream,\n\tto_html: write_html_stream,\n\tto_csv: write_csv_stream,\n  set_readable: set_readable\n};\nexport const version = XLSX.version;\nexport {\n\tparse_xlscfb,\n\tparse_zip,\n\treadSync as read,\n\treadFileSync as readFile,\n\treadFileSync,\n\twriteSync as write,\n\twriteFileSync as writeFile,\n\twriteFileSync,\n\twriteFileAsync,\n\twriteSyncXLSX as writeXLSX,\n\twriteFileSyncXLSX as writeFileXLSX,\n\tutils,\n\t__stream as stream,\n\tSSF,\n\tCFB\n};\n","import React, { useState } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from \"chart.js\";\r\nimport './styles.css';\r\nimport { useFinanceControl } from \"../../context/FinanceControlContext\";\r\nimport { useTableSales } from \"../../context/tableSalesContext\";\r\nimport { useTableSpents } from \"../../context/tableSpentContext\";\r\nimport * as XLSX from 'xlsx';\r\n\r\n// Registro dos componentes do Chart.js\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\r\n\r\ninterface Transaction {\r\n  CO_ID: number;\r\n  DT_DATE: string;\r\n  CO_TYPE: string;\r\n  CO_DESCRIPTION: string;\r\n  VL_VALUE: number;\r\n}\r\n\r\nexport function FinanceControl() {\r\n  const { isOpenFinanceControl } = useFinanceControl();\r\n  const { tbSales = [] } = useTableSales();\r\n  const { tbSpents = [] } = useTableSpents();\r\n\r\n  const [selectedMonth, setSelectedMonth] = useState<string>(\"\");\r\n  const [selectedType, setSelectedType] = useState<string>(\"\");\r\n  const [startDate, setStartDate] = useState<string>(\"\");\r\n  const [endDate, setEndDate] = useState<string>(\"\");\r\n  const [isChartMinimized, setIsChartMinimized] = useState<boolean>(false);\r\n\r\n  if (!isOpenFinanceControl) {\r\n    return null;\r\n  }\r\n\r\n  const extractMonth = (DT_DATE: string): string => DT_DATE.split(\"/\")[1] || \"\";\r\n\r\n  const formatDate = (dateValue: string): string => {\r\n    // Verifica se já está no formato DD/MM/YYYY\r\n    if (/^\\d{2}\\/\\d{2}\\/\\d{4}$/.test(dateValue)) {\r\n      return dateValue;\r\n    }\r\n\r\n    // Tenta converter a string para um objeto Date\r\n    const date = new Date(dateValue);\r\n\r\n    if (isNaN(date.getTime())) {\r\n      return \"Data inválida\";\r\n    }\r\n\r\n    // Extrai dia, mês e ano usando métodos UTC para evitar deslocamento de fuso\r\n    const day = String(date.getUTCDate()).padStart(2, \"0\");\r\n    const month = String(date.getUTCMonth() + 1).padStart(2, \"0\"); // +1 porque meses começam em 0\r\n    const year = date.getUTCFullYear();\r\n    return `${day}/${month}/${year}`;\r\n  };\r\n\r\n  // Normaliza as datas para DD/MM/YYYY antes de processar\r\n  const transactions: Transaction[] = [\r\n    ...(tbSales || []).map((sale) => ({\r\n      CO_ID: sale.CO_ID,\r\n      DT_DATE: formatDate(sale.DT_DATE),\r\n      CO_TYPE: \"Venda\",\r\n      CO_DESCRIPTION: `${sale.CO_CLIENT} - ${sale.CO_PRODUCT}`,\r\n      VL_VALUE: Number(sale.VL_VALUE) || 0,\r\n    })),\r\n    ...(tbSpents || []).map((spent) => ({\r\n      CO_ID: spent.CO_ID,\r\n      DT_DATE: formatDate(spent.DT_DATE),\r\n      CO_TYPE: \"Gasto\",\r\n      CO_DESCRIPTION: spent.CO_DESCRIPTION,\r\n      VL_VALUE: -Number(spent.VL_VALUE) || 0,\r\n    })),\r\n  ].sort((a, b) => {\r\n    const dateA = new Date(a.DT_DATE.split('/').reverse().join('-')); // Converte DD/MM/YYYY para YYYY-MM-DD\r\n    const dateB = new Date(b.DT_DATE.split('/').reverse().join('-'));\r\n    return dateA.getTime() - dateB.getTime();\r\n  });\r\n\r\n  const filteredTransactions = transactions.filter((t) => {\r\n    const matchesMonth = selectedMonth ? extractMonth(t.DT_DATE) === selectedMonth : true;\r\n    const matchesType = selectedType ? t.CO_TYPE === selectedType : true;\r\n    const date = new Date(t.DT_DATE.split('/').reverse().join('-')).getTime(); // Converte para comparação\r\n    const matchesStartDate = startDate ? date >= new Date(startDate).getTime() : true;\r\n    const matchesEndDate = endDate ? date <= new Date(endDate).getTime() : true;\r\n    return matchesMonth && matchesType && matchesStartDate && matchesEndDate;\r\n  });\r\n\r\n  const totalGains = filteredTransactions\r\n    .filter((t) => t.CO_TYPE === \"Venda\")\r\n    .reduce((acc, curr) => acc + curr.VL_VALUE, 0);\r\n\r\n  const totalExpenses = filteredTransactions\r\n    .filter((t) => t.CO_TYPE === \"Gasto\")\r\n    .reduce((acc, curr) => acc + Math.abs(curr.VL_VALUE), 0);\r\n\r\n  const balance = totalGains - totalExpenses;\r\n\r\n  const uniqueMonths = Array.from(new Set(transactions.map((t) => extractMonth(t.DT_DATE)))).sort();\r\n  const monthlyData = uniqueMonths.map((month) => {\r\n    const monthTransactions = transactions.filter((t) => extractMonth(t.DT_DATE) === month);\r\n    const gains = monthTransactions.filter((t) => t.CO_TYPE === \"Venda\").reduce((acc, curr) => acc + curr.VL_VALUE, 0);\r\n    const expenses = monthTransactions.filter((t) => t.CO_TYPE === \"Gasto\").reduce((acc, curr) => acc + Math.abs(curr.VL_VALUE), 0);\r\n    return { month, gains, expenses, balance: gains - expenses };\r\n  });\r\n\r\n  const monthlyAverageGain = totalGains / uniqueMonths.length || 0;\r\n  const monthlyAverageExpense = totalExpenses / uniqueMonths.length || 0;\r\n  const projectedBalanceNextMonth = balance + (monthlyAverageGain - monthlyAverageExpense);\r\n\r\n  const chartData = {\r\n    labels: monthlyData.map((d) => d.month),\r\n    datasets: [\r\n      {\r\n        label: \"Ganhos\",\r\n        data: monthlyData.map((d) => d.gains),\r\n        borderColor: \"green\",\r\n        backgroundColor: \"rgba(0, 255, 0, 0.2)\",\r\n        fill: true,\r\n      },\r\n      {\r\n        label: \"Gastos\",\r\n        data: monthlyData.map((d) => d.expenses),\r\n        borderColor: \"red\",\r\n        backgroundColor: \"rgba(255, 0, 0, 0.2)\",\r\n        fill: true,\r\n      },\r\n      {\r\n        label: \"Saldo\",\r\n        data: monthlyData.map((d) => d.balance),\r\n        borderColor: \"blue\",\r\n        backgroundColor: \"rgba(0, 0, 255, 0.2)\",\r\n        fill: true,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: { position: \"top\" as const },\r\n      title: { display: true, text: \"Evolução Financeira Mensal\" },\r\n    },\r\n    scales: {\r\n      y: { beginAtZero: true },\r\n    },\r\n  };\r\n\r\n  const exportToXLSX = () => {\r\n    const headers = [\"Data\", \"Tipo\", \"Descrição\", \"Valor\"];\r\n    const data = filteredTransactions.map((t) => [\r\n      t.DT_DATE,\r\n      t.CO_TYPE,\r\n      t.CO_DESCRIPTION,\r\n      t.VL_VALUE.toFixed(2),\r\n    ]);\r\n\r\n    const worksheet = XLSX.utils.aoa_to_sheet([headers, ...data]);\r\n    const workbook = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Transações\");\r\n    \r\n    const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n    const blob = new Blob([excelBuffer], { type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\" });\r\n    const link = document.createElement(\"a\");\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = \"finance_control.xlsx\";\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  return (\r\n    <div className=\"finance-control-container\">\r\n      <div className=\"summary\">\r\n        <div className=\"summary-item\">\r\n          <h3>Total Ganhos</h3>\r\n          <p style={{ color: 'green' }}>R$ {Number(totalGains).toFixed(2)}</p>\r\n        </div>\r\n        <div className=\"summary-item\">\r\n          <h3>Total Gastos</h3>\r\n          <p style={{ color: 'red' }}>R$ {Number(totalExpenses).toFixed(2)}</p>\r\n        </div>\r\n        <div className=\"summary-item\">\r\n          <h3>Saldo</h3>\r\n          <p style={{ color: balance >= 0 ? 'green' : 'red' }}>\r\n            R$ {Number(balance).toFixed(2)}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"filters\">\r\n        <div className=\"filter-item\">\r\n          <label htmlFor=\"MONTH\">Filtrar por Mês:</label>\r\n          <select\r\n            id=\"MONTH\"\r\n            className=\"DropdownFiltersTable\"\r\n            value={selectedMonth}\r\n            onChange={(e) => setSelectedMonth(e.target.value)}\r\n          >\r\n            <option value=\"\">Todos os meses</option>\r\n            {uniqueMonths.map((month) => (\r\n              <option key={month} value={month}>{month}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-item\">\r\n          <label htmlFor=\"TYPE\">Filtrar por Tipo:</label>\r\n          <select\r\n            id=\"TYPE\"\r\n            className=\"DropdownFiltersTable\"\r\n            value={selectedType}\r\n            onChange={(e) => setSelectedType(e.target.value)}\r\n          >\r\n            <option value=\"\">Todos</option>\r\n            <option value=\"Venda\">Venda</option>\r\n            <option value=\"Gasto\">Gasto</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-item\">\r\n          <label htmlFor=\"START_DATE\">Data Inicial:</label>\r\n          <input\r\n            type=\"date\"\r\n            id=\"START_DATE\"\r\n            value={startDate}\r\n            onChange={(e) => setStartDate(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"filter-item\">\r\n          <label htmlFor=\"END_DATE\">Data Final:</label>\r\n          <input\r\n            type=\"date\"\r\n            id=\"END_DATE\"\r\n            value={endDate}\r\n            onChange={(e) => setEndDate(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"chart-container\">\r\n        <button\r\n          className=\"toggle-chart-button\"\r\n          onClick={() => setIsChartMinimized(!isChartMinimized)}\r\n        >\r\n          {isChartMinimized ? \"Maximizar Gráfico\" : \"Minimizar Gráfico\"}\r\n        </button>\r\n        {!isChartMinimized && (\r\n          <Line data={chartData} options={chartOptions} />\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"table-container\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Data</th>\r\n              <th>Tipo</th>\r\n              <th>Descrição</th>\r\n              <th>Valor</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredTransactions.length > 0 ? (\r\n              filteredTransactions.map((transaction) => (\r\n                <tr key={`${transaction.CO_TYPE}-${transaction.CO_ID}`}>\r\n                  <td>{transaction.DT_DATE}</td>\r\n                  <td>{transaction.CO_TYPE}</td>\r\n                  <td>{transaction.CO_DESCRIPTION}</td>\r\n                  <td style={{ color: transaction.VL_VALUE >= 0 ? 'green' : 'red' }}>\r\n                    R$ {Math.abs(transaction.VL_VALUE).toFixed(2)}\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            ) : (\r\n              <tr>\r\n                <td colSpan={4}>Nenhuma transação encontrada</td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div className=\"projection\">\r\n        <h3>Projeção para o Próximo Mês</h3>\r\n        <p>Média Mensal de Ganhos: R$ {Number(monthlyAverageGain).toFixed(2)}</p>\r\n        <p>Média Mensal de Gastos: R$ {Number(monthlyAverageExpense).toFixed(2)}</p>\r\n        <p style={{ color: projectedBalanceNextMonth >= 0 ? 'green' : 'red' }}>\r\n          Saldo Projetado: R$ {Number(projectedBalanceNextMonth).toFixed(2)}\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"export\">\r\n        <button onClick={exportToXLSX} className=\"export-button\">\r\n          Exportar para XLSX\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"monthly-summary\">\r\n        <h3>Resumo Mensal</h3>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Mês</th>\r\n              <th>Ganhos</th>\r\n              <th>Gastos</th>\r\n              <th>Saldo</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {monthlyData.map((data) => (\r\n              <tr key={data.month}>\r\n                <td>{data.month}</td>\r\n                <td style={{ color: 'green' }}>R$ {Number(data.gains).toFixed(2)}</td>\r\n                <td style={{ color: 'red' }}>R$ {Number(data.expenses).toFixed(2)}</td>\r\n                <td style={{ color: data.balance >= 0 ? 'green' : 'red' }}>\r\n                  R$ {Number(data.balance).toFixed(2)}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport './styles.css';\r\nimport { useModalNewClient } from \"../../context/modalNewClientContext\";\r\nimport { useTableClients } from \"../../context/tableClientsContext\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\ninterface ModalProps {\r\n    onConfirm?: () => void;\r\n}\r\n\r\nexport function ModalNewClient({ onConfirm }: ModalProps) {\r\n    const { tbClients } = useTableClients();\r\n    const { isOpen, closeModalNewClient } = useModalNewClient();\r\n    const [CO_NAME, setCO_NAME] = useState(\"\");\r\n    const [CO_EMAIL, setCO_EMAIL] = useState(\"\");\r\n    const [CO_PHONE, setCO_PHONE] = useState(\"\");\r\n    const [CG_ADDRESS, setCG_ADDRESS] = useState(\"\");\r\n    const [VL_BALANCE, setVL_BALANCE] = useState<number | \"\">(\"\");\r\n    const [CG_CITY, setCG_CITY] = useState(\"\");\r\n    const [isCustomCity, setIsCustomCity] = useState(false);\r\n\r\n    const { createClient } = useTableClients();\r\n\r\n    const uniqueCities = Array.from(new Set(tbClients.map((client) => client.CG_CITY)));\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!CO_NAME || !CO_EMAIL || !CO_PHONE || !CG_ADDRESS || VL_BALANCE === \"\" || !CG_CITY) {\r\n            alert(\"Preencha todos os campos!\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const clientData = {\r\n                CO_NAME,\r\n                CO_EMAIL,\r\n                CO_PHONE,\r\n                CG_ADDRESS,\r\n                VL_BALANCE: Number(VL_BALANCE),\r\n                CG_CITY,\r\n            };\r\n\r\n            await createClient(clientData);\r\n\r\n            setCO_NAME(\"\");\r\n            setCO_EMAIL(\"\");\r\n            setCO_PHONE(\"\");\r\n            setCG_ADDRESS(\"\");\r\n            setVL_BALANCE(\"\");\r\n            setCG_CITY(\"\");\r\n            setIsCustomCity(false);\r\n            closeModalNewClient();\r\n\r\n            if (onConfirm) {\r\n                onConfirm();\r\n            }\r\n\r\n            alert(\"Cliente cadastrado com sucesso!\");\r\n        } catch (error) {\r\n            console.error(\"Erro ao cadastrar cliente:\", error);\r\n            alert(\"Ocorreu um erro ao cadastrar o cliente.\");\r\n        }\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={isOpen}\r\n            onRequestClose={closeModalNewClient}\r\n            contentLabel=\"Cadastrar Novo Cliente\"\r\n            className=\"ReactModal__Content\"\r\n            overlayClassName=\"ReactModal__Overlay\"\r\n        >\r\n            <div className=\"modal-header\">\r\n                <h2>Cadastrar Novo Cliente</h2>\r\n                <button className=\"modal-close\" onClick={closeModalNewClient}>\r\n                    ×\r\n                </button>\r\n            </div>\r\n            <form className=\"modal-body\" onSubmit={handleSubmit}>\r\n                <label htmlFor=\"CO_NAME\">Nome:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"CO_NAME\"\r\n                    value={CO_NAME}\r\n                    onChange={(e) => setCO_NAME(e.target.value)}\r\n                    placeholder=\"Digite o nome do cliente\"\r\n                />\r\n\r\n                <label htmlFor=\"CO_EMAIL\">Email:</label>\r\n                <input\r\n                    type=\"email\"\r\n                    id=\"CO_EMAIL\"\r\n                    value={CO_EMAIL}\r\n                    onChange={(e) => setCO_EMAIL(e.target.value)}\r\n                    placeholder=\"Digite o email do cliente\"\r\n                />\r\n\r\n                <label htmlFor=\"CO_PHONE\">Telefone:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"CO_PHONE\"\r\n                    value={CO_PHONE}\r\n                    onChange={(e) => setCO_PHONE(e.target.value)}\r\n                    placeholder=\"Digite o telefone do cliente\"\r\n                />\r\n\r\n                <label htmlFor=\"CG_ADDRESS\">Endereço:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"CG_ADDRESS\"\r\n                    value={CG_ADDRESS}\r\n                    onChange={(e) => setCG_ADDRESS(e.target.value)}\r\n                    placeholder=\"Digite o endereço do cliente\"\r\n                />\r\n\r\n                <label htmlFor=\"VL_BALANCE\">Saldo:</label>\r\n                <input\r\n                    type=\"number\"\r\n                    id=\"VL_BALANCE\"\r\n                    value={VL_BALANCE}\r\n                    onChange={(e) => setVL_BALANCE(e.target.value === \"\" ? \"\" : Number(e.target.value))}\r\n                    placeholder=\"Digite o saldo do cliente\"\r\n                />\r\n\r\n                <label htmlFor=\"CG_CITY\">Cidade:</label>\r\n                {!isCustomCity ? (\r\n                    <select\r\n                        id=\"CG_CITY\"\r\n                        value={CG_CITY}\r\n                        onChange={(e) => setCG_CITY(e.target.value)}\r\n                    >\r\n                        <option value=\"\">Selecione uma cidade</option>\r\n                        {uniqueCities.map((cityOption) => (\r\n                            <option key={cityOption} value={cityOption}>\r\n                                {cityOption}\r\n                            </option>\r\n                        ))}\r\n                        <option value=\"custom\">Outra cidade...</option>\r\n                    </select>\r\n                ) : (\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"city-input\"\r\n                        value={CG_CITY}\r\n                        onChange={(e) => setCG_CITY(e.target.value)}\r\n                        placeholder=\"Digite a cidade\"\r\n                    />\r\n                )}\r\n\r\n                {CG_CITY === \"custom\" && (\r\n                    <div className=\"city-actions\">\r\n                        <button\r\n                            id=\"add-custom-city-new-client\"\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                                setIsCustomCity(true);\r\n                                setCG_CITY(\"\");\r\n                            }}\r\n                        >\r\n                            Inserir Cidade Manualmente\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"cancel\" onClick={closeModalNewClient}>\r\n                        Cancelar\r\n                    </button>\r\n                    <button type=\"submit\" className=\"confirm\">\r\n                        Confirmar\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </Modal>\r\n    );\r\n}","import React, { useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useModalNewProduct } from \"../../context/modalNewProductContext\";\r\nimport { useTableProducts } from \"../../context/tableProductsContext\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\ninterface ModalProps {\r\n    onConfirm?: () => void;\r\n}\r\n\r\nexport function ModalNewProduct({ onConfirm }: ModalProps) {\r\n    const { isOpen, closeModalNewProduct } = useModalNewProduct();\r\n    const [CO_NAME, setCO_NAME] = useState(\"\");\r\n    const [VL_VALUE, setVL_VALUE] = useState<number | \"\">(\"\");\r\n    const [CD_QUANTITY, setCD_QUANTITY] = useState<number | \"\">(\"\");\r\n    const [CO_DESCRIPTION, setCO_DESCRIPTION] = useState(\"\");\r\n    const { createProduct } = useTableProducts();\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!CO_NAME || VL_VALUE === \"\" || CD_QUANTITY === \"\") {\r\n            alert(\"Preencha todos os campos!\");\r\n            return;\r\n        }\r\n        try {\r\n            const productData = {\r\n                CO_NAME,\r\n                VL_VALUE,\r\n                CD_QUANTITY,\r\n                CO_DESCRIPTION,\r\n            };\r\n            await createProduct(productData);\r\n            setCO_NAME(\"\");\r\n            setVL_VALUE(\"\");\r\n            setCD_QUANTITY(\"\");\r\n            setCO_DESCRIPTION(\"\");\r\n            closeModalNewProduct();\r\n            if (onConfirm) {\r\n                onConfirm();\r\n            }\r\n            alert(\"Produto cadastrado com sucesso!\");\r\n        } catch (error) {\r\n            console.error(\"Erro ao cadastrar produto:\", error);\r\n            alert(\"Ocorreu um erro ao cadastrar o produto.\");\r\n        }\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={isOpen}\r\n            onRequestClose={closeModalNewProduct}\r\n            contentLabel=\"Cadastrar Novo Produto\"\r\n            className=\"ReactModal__Content\" \r\n            overlayClassName=\"ReactModal__Overlay\" \r\n        >\r\n            <div className=\"modal-header\">\r\n                <h2>Cadastrar Novo Produto</h2>\r\n                <button className=\"modal-close\" onClick={closeModalNewProduct}>\r\n                    ×\r\n                </button>\r\n            </div>\r\n            <form className=\"modal-body\" onSubmit={handleSubmit}>\r\n                <label htmlFor=\"CO_NAME\">Nome:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"CO_NAME\"\r\n                    value={CO_NAME}\r\n                    onChange={(e) => setCO_NAME(e.target.value)}\r\n                    placeholder=\"Digite o nome do produto\"\r\n                />\r\n                <label htmlFor=\"VL_VALUE\">Valor:</label>\r\n                <input\r\n                    type=\"number\"\r\n                    id=\"VL_VALUE\"\r\n                    value={VL_VALUE}\r\n                    onChange={(e) => setVL_VALUE(e.target.value === \"\" ? \"\" : Number(e.target.value))}\r\n                    placeholder=\"Digite o valor do produto\"\r\n                />\r\n                <label htmlFor=\"CD_QUANTITY\">Quantidade:</label>\r\n                <input\r\n                    type=\"number\"\r\n                    id=\"CD_QUANTITY\"\r\n                    value={CD_QUANTITY}\r\n                    onChange={(e) => setCD_QUANTITY(e.target.value === \"\" ? \"\" : Number(e.target.value))}\r\n                    placeholder=\"Digite a quantidade do produto\"\r\n                />\r\n                <label htmlFor=\"CO_DESCRIPTION\">Descrição:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"CO_DESCRIPTION\"\r\n                    value={CO_DESCRIPTION}\r\n                    onChange={(e) => setCO_DESCRIPTION(e.target.value)}\r\n                    placeholder=\"Digite a descrição do produto\"\r\n                />\r\n                <div className=\"modal-footer\">\r\n                    <button type=\"button\" className=\"cancel\" onClick={closeModalNewProduct}>\r\n                        Cancelar\r\n                    </button>\r\n                    <button type=\"submit\" className=\"confirm\">\r\n                        Confirmar\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </Modal>\r\n    );\r\n}","import React, { useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport './styles.css';\r\nimport { useModalNewSale } from \"../../context/modalNewSaleContext\";\r\nimport { useTableSales } from \"../../context/tableSalesContext\";\r\nimport { useTableClients } from \"../../context/tableClientsContext\";\r\nimport { useTableProducts } from \"../../context/tableProductsContext\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nexport function ModalNewSale() {\r\n    const { tbSales } = useTableSales();\r\n    const { isOpen, closeModalNewSale } = useModalNewSale();\r\n    const { createSale } = useTableSales();\r\n    const { tbClients } = useTableClients();\r\n    const { tbProducts } = useTableProducts();\r\n\r\n    const getCurrentDate = () => {\r\n        const today = new Date();\r\n        const day = String(today.getDate()).padStart(2, \"0\");\r\n        const month = String(today.getMonth() + 1).padStart(2, \"0\"); // +1 porque meses começam em 0\r\n        const year = today.getFullYear();\r\n        return `${year}-${month}-${day}`; // Formato YYYY-MM-DD para input type=\"date\"\r\n    };\r\n\r\n    const [DT_DATE, setDT_DATE] = useState(getCurrentDate());\r\n    const [CO_CLIENT, setCO_CLIENT] = useState(\"\");\r\n    const [CO_PRODUCT, setCO_PRODUCT] = useState(\"\");\r\n    const [CG_CITY, setCG_CITY] = useState(\"\");\r\n    const [CD_QUANTITY, setCD_QUANTITY] = useState<number | \"\">(\"\");\r\n    const [VL_VALUE, setVL_VALUE] = useState<number | \"\">(\"\");\r\n    const [CO_SELLER, setCO_SELLER] = useState(\"\");\r\n\r\n    const handleCreateSale = async () => {\r\n        console.log(\"Iniciando handleCreateSale com os valores:\", {\r\n            DT_DATE,\r\n            CO_CLIENT,\r\n            CG_CITY,\r\n            CO_PRODUCT,\r\n            CD_QUANTITY,\r\n            VL_VALUE,\r\n            CO_SELLER,\r\n        });\r\n\r\n        if (!CO_CLIENT || !CO_PRODUCT || CD_QUANTITY === \"\" || VL_VALUE === \"\" || !CG_CITY) {\r\n            console.log(\"Validação falhou: campos obrigatórios não preenchidos\");\r\n            alert(\"Por favor, preencha todos os campos obrigatórios.\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await createSale({\r\n                DT_DATE,\r\n                CO_CLIENT,\r\n                CG_CITY,\r\n                CO_PRODUCT,\r\n                CD_QUANTITY,\r\n                VL_VALUE,\r\n                CO_SELLER,\r\n            });\r\n            console.log(\"Venda criada com sucesso\");\r\n\r\n            setDT_DATE(getCurrentDate());\r\n            setCO_CLIENT(\"\");\r\n            setCO_PRODUCT(\"\");\r\n            setCG_CITY(\"\");\r\n            setCD_QUANTITY(\"\");\r\n            setVL_VALUE(\"\");\r\n            setCO_SELLER(\"\");\r\n            closeModalNewSale();\r\n        } catch (error) {\r\n            console.error(\"Erro ao criar venda:\", error);\r\n            alert(\"Ocorreu um erro ao criar a venda.\");\r\n        }\r\n    };\r\n\r\n    console.log(\"Renderizando ModalNewSale com tbSales:\", tbSales.length, \"itens\");\r\n\r\n    return (\r\n        <Modal\r\n            id=\"modal-new-sale\"\r\n            isOpen={isOpen}\r\n            onRequestClose={closeModalNewSale}\r\n            contentLabel=\"Nova Venda\"\r\n            className=\"ReactModal__Content\"\r\n            overlayClassName=\"ReactModal__Overlay\"\r\n        >\r\n            <div className=\"modal-header\">\r\n                <h2>Nova Venda</h2>\r\n                <button className=\"modal-close\" onClick={closeModalNewSale}>\r\n                    ×\r\n                </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <label htmlFor=\"DT_DATE\">Data:</label>\r\n                <input\r\n                    type=\"date\"\r\n                    id=\"DT_DATE\"\r\n                    value={DT_DATE}\r\n                    onChange={(e) => {\r\n                        console.log(\"DT_DATE alterado para:\", e.target.value);\r\n                        setDT_DATE(e.target.value);\r\n                    }}\r\n                />\r\n\r\n                <label htmlFor=\"CO_CLIENT\">Cliente:</label>\r\n                <select\r\n                    id=\"CO_CLIENT\"\r\n                    value={CO_CLIENT}\r\n                    onChange={(e) => {\r\n                        console.log(\"CO_CLIENT alterado para:\", e.target.value);\r\n                        setCO_CLIENT(e.target.value);\r\n                    }}\r\n                >\r\n                    <option value=\"\">Selecione um cliente</option>\r\n                    {tbClients.map((client) => (\r\n                        <option key={client.CO_ID} value={client.CO_NAME}>\r\n                            {client.CO_NAME}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n\r\n                <label htmlFor=\"CG_CITY\">Cidade:</label>\r\n                <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                    <select\r\n                        id=\"city-select\"\r\n                        value={CG_CITY}\r\n                        onChange={(e) => {\r\n                            console.log(\"CG_CITY alterado para (select):\", e.target.value);\r\n                            setCG_CITY(e.target.value);\r\n                        }}\r\n                        style={{ marginBottom: \"10px\" }}\r\n                    >\r\n                        <option value=\"\">Selecione uma cidade</option>\r\n                        {Array.from(new Set(tbSales.map((sale) => sale.CG_CITY))).map((city) => (\r\n                            <option key={city} value={city}>\r\n                                {city}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"city-input\"\r\n                        value={CG_CITY}\r\n                        onChange={(e) => {\r\n                            console.log(\"CG_CITY alterado para (input):\", e.target.value);\r\n                            setCG_CITY(e.target.value);\r\n                        }}\r\n                        placeholder=\"Digite a cidade se não encontrada\"\r\n                    />\r\n                </div>\r\n\r\n                <label htmlFor=\"CO_PRODUCT\">Produto:</label>\r\n                <select\r\n                    id=\"CO_PRODUCT\"\r\n                    value={CO_PRODUCT}\r\n                    onChange={(e) => {\r\n                        console.log(\"CO_PRODUCT alterado para:\", e.target.value);\r\n                        setCO_PRODUCT(e.target.value);\r\n                    }}\r\n                >\r\n                    <option value=\"\">Selecione um produto</option>\r\n                    {tbProducts.map((product) => (\r\n                        <option key={product.CO_ID} value={product.CO_NAME}>\r\n                            {product.CO_NAME}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n\r\n                <label htmlFor=\"CD_QUANTITY\">Quantidade:</label>\r\n                <input\r\n                    type=\"number\"\r\n                    id=\"CD_QUANTITY\"\r\n                    value={CD_QUANTITY}\r\n                    onChange={(e) => {\r\n                        console.log(\"CD_QUANTITY alterado para:\", e.target.value);\r\n                        setCD_QUANTITY(e.target.value === \"\" ? \"\" : Number(e.target.value));\r\n                    }}\r\n                    placeholder=\"Digite a quantidade\"\r\n                />\r\n\r\n                <label htmlFor=\"VL_VALUE\">Valor:</label>\r\n                <input\r\n                    type=\"number\"\r\n                    id=\"VL_VALUE\"\r\n                    value={VL_VALUE}\r\n                    onChange={(e) => {\r\n                        console.log(\"VL_VALUE alterado para:\", e.target.value);\r\n                        setVL_VALUE(e.target.value === \"\" ? \"\" : Number(e.target.value));\r\n                    }}\r\n                    placeholder=\"Digite o valor\"\r\n                />\r\n\r\n                <label htmlFor=\"CO_SELLER\">Vendedor:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"CO_SELLER\"\r\n                    value={CO_SELLER}\r\n                    onChange={(e) => {\r\n                        console.log(\"CO_SELLER alterado para:\", e.target.value);\r\n                        setCO_SELLER(e.target.value);\r\n                    }}\r\n                    placeholder=\"Digite o nome do vendedor\"\r\n                />\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"cancel\"\r\n                    onClick={closeModalNewSale}\r\n                >\r\n                    Cancelar\r\n                </button>\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"confirm\"\r\n                    onClick={handleCreateSale}\r\n                >\r\n                    Confirmar\r\n                </button>\r\n            </div>\r\n        </Modal>\r\n    );\r\n}","import React, { useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport './styles.css';\r\nimport { useModalNewSpent } from \"../../context/modalNewSpent\";\r\nimport { useTableSpents } from \"../../context/tableSpentContext\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nexport function ModalNewSpent() {\r\n    const { isOpen, closeModalNewSpent } = useModalNewSpent();\r\n    const { createSpent, setIsOpenSpents } = useTableSpents();\r\n\r\n    const [formData, setFormData] = useState({\r\n        DT_DATE: \"\",\r\n        VL_VALUE: 0,\r\n        CO_DESCRIPTION: \"\",\r\n        CO_TYPE: \"\",\r\n    });\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n        const { name, value } = e.target;\r\n        setFormData((prevData) => ({\r\n            ...prevData,\r\n            [name]: name === \"VL_VALUE\" ? Number(value) : value,\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        await createSpent(formData);\r\n        closeModalNewSpent();\r\n        setIsOpenSpents(false);\r\n        setFormData({\r\n            DT_DATE: \"\",\r\n            VL_VALUE: 0,\r\n            CO_DESCRIPTION: \"\",\r\n            CO_TYPE: \"\",\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={isOpen}\r\n            onRequestClose={closeModalNewSpent}\r\n            className=\"modal-content\"\r\n            overlayClassName=\"modal-overlay\"\r\n        >\r\n            <div className=\"modal-header\">\r\n                <h2>Novo Gasto</h2>\r\n                <button className=\"close-button\" onClick={closeModalNewSpent}>\r\n                    ×\r\n                </button>\r\n            </div>\r\n            <form onSubmit={handleSubmit} className=\"modal-form\">\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"DT_DATE\">Data:</label>\r\n                    <input\r\n                        type=\"date\"\r\n                        id=\"DT_DATE\"\r\n                        name=\"DT_DATE\"\r\n                        value={formData.DT_DATE}\r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"VL_VALUE\">Valor:</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        id=\"VL_VALUE\"\r\n                        name=\"VL_VALUE\"\r\n                        value={formData.VL_VALUE}\r\n                        onChange={handleChange}\r\n                        step=\"0.01\"\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"CO_DESCRIPTION\">Descrição:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"CO_DESCRIPTION\"\r\n                        name=\"CO_DESCRIPTION\"\r\n                        value={formData.CO_DESCRIPTION}\r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"CO_TYPE\">Tipo:</label>\r\n                    <select\r\n                        id=\"CO_TYPE\"\r\n                        name=\"CO_TYPE\"\r\n                        value={formData.CO_TYPE}\r\n                        onChange={handleChange}\r\n                        required\r\n                    >\r\n                        <option value=\"\">Selecione um tipo</option>\r\n                        <option value=\"fixo\">Fixo</option>\r\n                        <option value=\"variavel\">Variável</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"modal-actions\">\r\n                    <button type=\"button\" className=\"cancel-button\" onClick={closeModalNewSpent}>\r\n                        Cancelar\r\n                    </button>\r\n                    <button type=\"submit\" className=\"submit-button\">\r\n                        Salvar\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </Modal>\r\n    );\r\n}","import React from 'react';\r\nimport { TopBar } from './components/TopBar';\r\nimport { SideBar } from './components/SideBar';\r\nimport { TableSales } from './components/TableSales';\r\nimport { TableClients } from './components/TableClients';\r\nimport { TableProducts } from './components/TableProducts';\r\nimport { FinanceControl } from './components/FinanceControl';\r\nimport { FinanceControlProvider, useFinanceControl } from './context/FinanceControlContext';\r\nimport { ModalNewClientProvider } from './context/modalNewClientContext';\r\nimport { ModalNewProductProvider } from './context/modalNewProductContext';\r\nimport { ModalNewSaleProvider } from './context/modalNewSaleContext';\r\nimport { ModalNewSpentProvider } from './context/modalNewSpent';\r\nimport { TableSalesProvider, useTableSales } from './context/tableSalesContext';\r\nimport { TableClientsProvider, useTableClients } from './context/tableClientsContext';\r\nimport { TableProductsProvider, useTableProducts } from './context/tableProductsContext';\r\nimport { TableSpentsProvider, useTableSpents } from './context/tableSpentContext';\r\nimport { ModalNewClient } from './components/ModalNewClient';\r\nimport { ModalNewProduct } from './components/ModalNewProduct/ModalNewProduct';\r\nimport { ModalNewSale } from './components/ModalNewSale';\r\nimport { ModalNewSpent } from './components/ModalNewSpent';\r\nimport './styles/global.css';\r\n\r\nfunction App() {\r\n    const { setIsOpenSales } = useTableSales();\r\n    const { setIsOpenClients } = useTableClients();\r\n    const { setIsOpenProducts } = useTableProducts();\r\n    const { setIsOpenFinanceControl } = useFinanceControl(); // Adicionado para controlar FinanceControl\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <TopBar title=\"Controle de Estoque e Finanças\" />\r\n            <SideBar \r\n                title=\"Menu\" \r\n                setIsOpenSales={setIsOpenSales} \r\n                setIsOpenClients={setIsOpenClients} \r\n                setIsOpenProducts={setIsOpenProducts} \r\n                setIsOpenFinanceControl={setIsOpenFinanceControl} // Corrigido para usar setIsOpenFinanceControl\r\n            />\r\n            <ModalNewClient />\r\n            <ModalNewProduct />\r\n            <ModalNewSale />\r\n            <ModalNewSpent />\r\n            <div id='content'>\r\n                <TableSales />\r\n                <TableClients />\r\n                <TableProducts />\r\n                <FinanceControl />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function RootApp() {\r\n    return (\r\n        <ModalNewClientProvider> \r\n            <ModalNewProductProvider>\r\n                <ModalNewSaleProvider>\r\n                    <ModalNewSpentProvider>\r\n                        <TableSalesProvider>\r\n                            <TableClientsProvider>\r\n                                <TableProductsProvider>\r\n                                    <TableSpentsProvider>\r\n                                        <FinanceControlProvider>\r\n                                            <App />\r\n                                        </FinanceControlProvider>\r\n                                    </TableSpentsProvider>\r\n                                </TableProductsProvider>\r\n                            </TableClientsProvider>\r\n                        </TableSalesProvider>\r\n                    </ModalNewSpentProvider>\r\n                </ModalNewSaleProvider>\r\n            </ModalNewProductProvider>\r\n        </ModalNewClientProvider>\r\n    );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n// Removido o MirageJS - Agora usamos o backend real\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);"],"names":["canUseDOM","window","document","createElement","ExecutionEnvironment","canUseWorkers","Worker","canUseEventListeners","addEventListener","attachEvent","canUseViewport","screen","define","ReactPropTypesSecret","require","emptyFunction","emptyFunctionWithReset","resetWarningCache","module","exports","shim","props","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","Scheduler","React","ReactDOM","formatProdErrorMessage","code","url","arguments","length","encodeURIComponent","i","isValidContainer","nodeType","REACT_LEGACY_ELEMENT_TYPE","Symbol","for","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_OFFSCREEN_TYPE","REACT_MEMO_CACHE_SENTINEL","MAYBE_ITERATOR_SYMBOL","iterator","getIteratorFn","maybeIterable","REACT_CLIENT_REFERENCE","getComponentNameFromType","type","$$typeof","displayName","_context","innerType","render","_payload","_init","x","prefix","suffix","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","assign","Object","describeBuiltInComponentFrame","match","stack","trim","indexOf","reentry","describeNativeComponentFrame","fn","construct","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","Fake","defineProperty","prototype","set","Reflect","control","call","x$0","x$1","catch","sample","namePropDescriptor","getOwnPropertyDescriptor","configurable","value","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","split","controlLines","includes","frame","replace","describeFiber","fiber","tag","getStackByFiberInDevAndProd","workInProgress","info","return","message","getNearestMountedFiber","nearestMounted","alternate","flags","getSuspenseInstanceFromFiber","suspenseState","memoizedState","dehydrated","assertIsMounted","findCurrentHostFiberImpl","child","sibling","isArrayImpl","Array","isArray","ReactDOMSharedInternals","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","sharedNotPendingObject","pending","data","method","action","valueStack","index","createCursor","defaultValue","current","pop","cursor","push","contextStackCursor","contextFiberStackCursor","rootInstanceStackCursor","hostTransitionProviderCursor","pushHostContainer","nextRootInstance","documentElement","namespaceURI","getOwnHostContext","parentNode","tagName","getChildHostContextProd","popHostContainer","pushHostContext","context","JSCompiler_inline_result","popHostContext","HostTransitionContext","_currentValue","hasOwnProperty","scheduleCallback$3","unstable_scheduleCallback","cancelCallback$1","unstable_cancelCallback","shouldYield","unstable_shouldYield","requestPaint","unstable_requestPaint","now","unstable_now","getCurrentPriorityLevel","unstable_getCurrentPriorityLevel","ImmediatePriority","unstable_ImmediatePriority","UserBlockingPriority","unstable_UserBlockingPriority","NormalPriority$1","unstable_NormalPriority","LowPriority","unstable_LowPriority","IdlePriority","unstable_IdlePriority","log$1","log","unstable_setDisableYieldValue","rendererID","injectedHook","setIsStrictModeForDevtools","newIsStrictMode","setStrictMode","clz32","Math","LN2","nextTransitionLane","nextRetryLane","getHighestPriorityLanes","lanes","pendingSyncLanes","getNextLanes","root","wipLanes","pendingLanes","nextLanes","suspendedLanes","pingedLanes","warmLanes","finishedLanes","nonIdlePendingLanes","checkIfRootIsPrerendering","renderLanes","computeExpirationTime","lane","currentTime","claimNextTransitionLane","claimNextRetryLane","createLaneMap","initial","laneMap","markRootUpdated$1","updateLane","markSpawnedDeferredLane","spawnedLane","entangledLanes","spawnedLaneIndex","entanglements","markRootEntangled","rootEntangledLanes","index$8","lanesToEventPriority","resolveUpdatePriority","updatePriority","p","event","getEventPriority","randomKey","random","toString","slice","internalInstanceKey","internalPropsKey","internalContainerInstanceKey","internalEventHandlersKey","internalEventHandlerListenersKey","internalEventHandlesSetKey","internalRootNodeResourcesKey","internalHoistableMarker","detachDeletedInstance","getClosestInstanceFromNode","targetNode","targetInst","getParentSuspenseInstance","getInstanceFromNode","getNodeFromInstance","inst","stateNode","getResourcesFromRoot","resources","hoistableStyles","Map","hoistableScripts","markNodeAsHoistable","allNativeEvents","Set","registrationNameDependencies","registerTwoPhaseEvent","registrationName","dependencies","registerDirectEvent","add","VALID_ATTRIBUTE_NAME_REGEX","RegExp","illegalAttributeNameCache","validatedAttributeNameCache","setValueForAttribute","attributeName","test","removeAttribute","prefix$10","toLowerCase","setAttribute","setValueForKnownAttribute","setValueForNamespacedAttribute","namespace","setAttributeNS","getToStringValue","isCheckable","elem","nodeName","track","_valueTracker","valueField","descriptor","constructor","currentValue","get","this","enumerable","getValue","setValue","stopTracking","trackValueOnNode","updateValueIfChanged","tracker","lastValue","checked","getActiveElement","doc","activeElement","body","e","escapeSelectorAttributeValueInsideDoubleQuotesRegex","escapeSelectorAttributeValueInsideDoubleQuotes","ch","charCodeAt","updateInput","lastDefaultValue","defaultChecked","setDefaultValue","initInput","isHydrating","ownerDocument","updateOptions","multiple","propValue","setDefaultSelected","options","selected","defaultSelected","disabled","updateTextarea","initTextarea","children","textContent","setTextContent","text","firstChild","lastChild","nodeValue","unitlessNumbers","setValueForStyle","style","styleName","isCustomProperty","setProperty","cssFloat","has","setValueForStyles","styles","prevStyles","styleName$16","styleName$17","isCustomElement","aliases","isJavaScriptProtocol","sanitizeURL","currentReplayingEvent","getEventTarget","nativeEvent","target","srcElement","correspondingUseElement","restoreTarget","restoreQueue","restoreStateOfTarget","internalInstance","a","querySelectorAll","otherNode","form","otherProps","isInsideEventHandler","batchedUpdates$1","b","flushSyncWork$1","getListener","passiveBrowserEventsSupported","removeEventListener","startText","fallbackText","getData","start","end","startValue","startLength","endValue","endLength","minEnd","getEventCharCode","keyCode","charCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","nativeEventTarget","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","lastMovementX","lastMovementY","lastMouseEvent","EventInterface","eventPhase","bubbles","cancelable","timeStamp","Date","isTrusted","SyntheticEvent","UIEventInterface","view","detail","SyntheticUIEvent","MouseEventInterface","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","getEventModifierState","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","SyntheticMouseEvent","SyntheticDragEvent","dataTransfer","SyntheticFocusEvent","SyntheticAnimationEvent","animationName","elapsedTime","pseudoElement","SyntheticClipboardEvent","clipboardData","SyntheticCompositionEvent","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","modifierKeyToProp","Alt","Control","Meta","Shift","modifierStateGetter","keyArg","SyntheticKeyboardEvent","key","String","fromCharCode","repeat","locale","which","SyntheticPointerEvent","pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SyntheticTouchEvent","touches","targetTouches","changedTouches","SyntheticTransitionEvent","propertyName","SyntheticWheelEvent","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","SyntheticToggleEvent","newState","oldState","END_KEYCODES","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CHAR","hasSpaceKeypress","isFallbackCompositionEnd","domEventName","getDataFromCustomEvent","isComposing","supportedInputTypes","color","date","datetime","email","month","password","range","search","tel","time","week","isTextInputElement","createAndAccumulateChangeEvent","dispatchQueue","accumulateTwoPhaseListeners","listeners","activeElement$1","activeElementInst$1","runEventInBatch","processDispatchQueue","getInstIfValueChanged","getTargetInstForChangeEvent","isInputEventSupported","JSCompiler_inline_result$jscomp$283","isSupported$jscomp$inline_418","element$jscomp$inline_419","oninput","stopWatchingForValueChange","detachEvent","handlePropertyChange","handleEventsForInputEventPolyfill","getTargetInstForInputEventPolyfill","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","objectIs","is","y","shallowEqual","objA","objB","keysA","keys","keysB","currentKey","getLeafNode","getNodeForCharacterOffset","offset","nodeEnd","nextSibling","containsNode","outerNode","innerNode","contains","compareDocumentPosition","getActiveElementDeep","containerInfo","defaultView","HTMLIFrameElement","contentWindow","href","hasSelectionCapabilities","contentEditable","restoreSelection","priorSelectionInformation","curFocusedElem","focusedElem","priorSelectionRange","selectionRange","selectionStart","selectionEnd","min","getSelection","extend","endMarker","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","left","scrollLeft","top","scrollTop","focus","skipSelectionChangeEvent","activeElementInst","lastSelection","mouseDown","constructSelectEvent","makePrefixMap","styleProp","eventName","prefixes","vendorPrefixes","animationend","animationiteration","animationstart","transitionrun","transitionstart","transitioncancel","transitionend","prefixedEventNames","getVendorPrefixedEventName","prefixMap","animation","transition","ANIMATION_END","ANIMATION_ITERATION","ANIMATION_START","TRANSITION_RUN","TRANSITION_START","TRANSITION_CANCEL","TRANSITION_END","topLevelEventsToReactNames","simpleEventPluginEvents","registerSimpleEvent","concurrentQueues","concurrentQueuesIndex","concurrentlyUpdatedLanes","finishQueueingConcurrentUpdates","endIndex","queue","update","next","markUpdateLaneFromFiberToRoot","enqueueUpdate$1","enqueueConcurrentHookUpdate","getRootForUpdatedFiber","enqueueConcurrentRenderForLane","sourceFiber","isHidden","parent","childLanes","_visibility","hiddenUpdates","nestedUpdateCount","rootWithNestedUpdates","emptyContextObject","CapturedStacks","WeakMap","createCapturedValueAtFiber","source","existing","forkStack","forkStackIndex","treeForkProvider","treeForkCount","idStack","idStackIndex","treeContextProvider","treeContextId","treeContextOverflow","pushTreeFork","totalChildren","pushTreeId","baseIdWithLeadingBit","baseLength","numberOfOverflowBits","pushMaterializedTreeId","popTreeContext","hydrationParentFiber","nextHydratableInstance","hydrationErrors","rootOrSingletonContext","HydrationMismatchException","throwOnHydrationMismatch","queueHydrationError","prepareToHydrateHostInstance","instance","memoizedProps","listenToNonDelegatedEvent","mediaEventTypes","suppressHydrationWarning","checkForUnmatchedText","popover","onScroll","onScrollEnd","onClick","onclick","noop$1","popToNextHostParent","popHydrationState","JSCompiler_temp","shouldClear","shouldSetTextContent","getNextHydratable","resetHydrationState","error","SuspenseException","SuspenseyCommitException","noopSuspenseyCommitThenable","then","isThenableResolved","thenable","status","noop$3","trackUsedThenable","thenableState","reason","workInProgressRoot","shellSuspendCounter","fulfilledValue","fulfilledThenable","rejectedThenable","suspendedThenable","getSuspendedThenable","thenableState$1","thenableIndexCounter$1","unwrapThenable","coerceRef","ref","throwOnInvalidObjectType","returnFiber","newChild","join","resolveLazy","lazyType","init","createChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","deletions","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","useFiber","pendingProps","createWorkInProgress","placeChild","newFiber","lastPlacedIndex","newIndex","placeSingleChild","updateTextNode","createFiberFromText","mode","updateElement","updateFragment","createFiberFromTypeAndProps","updatePortal","portal","implementation","createFiberFromPortal","fragment","createFiberFromFragment","createChild","readContextDuringReconciliation","updateSlot","oldFiber","updateFromMap","newIdx","reconcileChildFibersImpl","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","delete","forEach","reconcileChildrenArray","step","done","reconcileChildrenIterator","firstChildFiber","createFiberImplClass","reconcileChildFibers","mountChildFibers","currentTreeHiddenStackCursor","prevEntangledRenderLanesCursor","pushHiddenContext","entangledRenderLanes","baseLanes","reuseHiddenContextOnStack","popHiddenContext","suspenseHandlerStackCursor","shellBoundary","pushPrimaryTreeSuspenseHandler","handler","suspenseStackCursor","pushOffscreenSuspenseHandler","reuseSuspenseHandlerOnStack","popSuspenseHandler","findFirstSuspended","row","state","revealOrder","AbortControllerLocal","AbortController","signal","aborted","listener","abort","scheduleCallback$2","NormalPriority","CacheContext","Consumer","Provider","_currentValue2","_threadCount","createCache","controller","refCount","releaseCache","cache","currentEntangledListeners","currentEntangledPendingCount","currentEntangledLane","currentEntangledActionThenable","pingEngtangledActionScope","prevOnStartTransitionFinish","S","entangledListeners","requestTransitionLane","resolve","entangleAsyncAction","resumedCache","peekCacheFromPool","cacheResumedFromPreviousRender","pooledCache","pushTransition","offscreenWorkInProgress","prevCachePool","pool","getSuspendedCache","cacheFromPool","currentlyRenderingFiber$1","currentHook","workInProgressHook","didScheduleRenderPhaseUpdate","didScheduleRenderPhaseUpdateDuringThisPass","shouldDoubleInvokeUserFnsInHooksDEV","localIdCounter","thenableIndexCounter","globalClientIdCounter","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","Component","secondArg","nextRenderLanes","updateQueue","H","HooksDispatcherOnMount","HooksDispatcherOnUpdate","renderWithHooksAgain","finishRenderingHooks","ContextOnlyDispatcher","didRenderTooFewHooks","didReceiveUpdate","checkIfContextChanged","numberOfReRenders","lastEffect","events","stores","memoCache","HooksDispatcherOnRerender","TransitionAwareHostComponent","dispatcher","maybeThenable","useState","useThenable","checkDidRenderIdHook","didRenderIdHook","bailoutHooks","resetHooksOnUnwind","mountWorkInProgressHook","hook","baseState","baseQueue","updateWorkInProgressHook","nextCurrentHook","nextWorkInProgressHook","use","usable","readContext","useMemoCache","size","map","basicStateReducer","updateReducer","reducer","updateReducerImpl","lastRenderedReducer","pendingQueue","baseFirst","newBaseQueueFirst","newBaseQueueLast","didReadFromEntangledAsyncAction$54","workInProgressRootRenderLanes","revertLane","hasEagerState","eagerState","workInProgressRootSkippedLanes","lastRenderedState","dispatch","rerenderReducer","lastRenderPhaseUpdate","updateSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","isHydrating$jscomp$0","snapshotChanged","updateEffect","subscribeToStore","bind","pushEffect","updateStoreInstance","destroy","pushStoreConsistencyCheck","renderedSnapshot","nextSnapshot","checkIfSnapshotChanged","forceStoreRerender","latestGetSnapshot","nextValue","scheduleUpdateOnFiber","mountStateImpl","initialState","initialStateInitializer","updateOptimisticImpl","passthrough","dispatchActionState","actionQueue","setPendingState","setState","payload","isRenderPhaseUpdate","actionNode","isTransition","T","runActionStateAction","prevState","prevTransition","currentTransition","onStartTransitionFinish","handleActionReturnValue","onActionError","error$60","nextState","onActionSuccess","notifyActionListeners","last","actionStateReducer","mountActionState","initialStateProp","ssrFormState","formState","JSCompiler_inline_result$jscomp$0","inRootOrSingleton","dispatchSetState","dispatchOptimisticSetState","updateActionState","updateActionStateImpl","stateHook","currentStateHook","actionQueueHook","actionStateActionEffect","rerenderActionState","create","deps","updateRef","mountEffectImpl","fiberFlags","hookFlags","updateEffectImpl","mountEffect","updateInsertionEffect","updateLayoutEffect","imperativeHandleEffect","refCleanup","updateImperativeHandle","concat","mountDebugValue","updateCallback","callback","updateMemo","nextCreate","mountDeferredValueImpl","initialValue","requestDeferredLane","updateDeferredValueImpl","prevValue","startTransition","pendingState","finishedState","previousPriority","dispatchSetStateInternal","result","thenableWithOverride","chainThenableValue","requestUpdateLane","noop$2","startHostTransition","formFiber","formData","ensureFormComponentIsStateful","requestFormReset$1","existingStateHook","initialResetState","useHostTransitionStatus","updateId","updateRefresh","refreshCache","provider","root$63","enqueueUpdate","createUpdate","entangleTransitions","dispatchReducerAction","enqueueRenderPhaseUpdate","entangleTransitionUpdate","currentState","throwIfDuringRender","queueLanes","useCallback","useContext","useEffect","useImperativeHandle","useLayoutEffect","useInsertionEffect","useMemo","useReducer","useRef","useDebugValue","useDeferredValue","useTransition","useSyncExternalStore","useId","useCacheRefresh","useFormState","useActionState","useOptimistic","initialArg","identifierPrefix","booleanOrThenable","applyDerivedStateFromProps","ctor","getDerivedStateFromProps","nextProps","classComponentUpdater","isMounted","component","_reactInternals","enqueueSetState","enqueueReplaceState","enqueueForceUpdate","checkShouldComponentUpdate","oldProps","newProps","nextContext","shouldComponentUpdate","isPureReactComponent","callComponentWillReceiveProps","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","resolveClassComponentProps","baseProps","defaultProps","propName$67","reportGlobalError","reportError","ErrorEvent","dispatchEvent","process","emit","console","defaultOnUncaughtError","defaultOnCaughtError","defaultOnRecoverableError","logUncaughtError","errorInfo","onUncaughtError","componentStack","e$68","setTimeout","logCaughtError","boundary","onCaughtError","errorBoundary","e$69","createRootErrorUpdate","createClassErrorUpdate","initializeClassErrorUpdate","getDerivedStateFromError","componentDidCatch","legacyErrorBoundariesThatAlreadyFailed","SelectiveHydrationException","reconcileChildren","nextChildren","updateForwardRef","propsWithoutRef","prepareToReadContext","bailoutOnAlreadyFinishedWork","updateMemoComponent","shouldConstruct","compare","updateSimpleMemoComponent","checkScheduledUpdateOrContext","prevProps","updateFunctionComponent","updateOffscreenComponent","nextIsDetached","_pendingVisibility","markRef","deferHiddenOffscreenComponent","cachePool","nextBaseLanes","propagateParentContextChanges","replayFunctionComponent","updateClassComponent","contextType","updater","refs","initializeUpdateQueue","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","processUpdateQueue","suspendIfUpdateReadFromEntangledAsyncAction","componentDidMount","unresolvedOldProps","oldContext","contextType$jscomp$0","hasForceUpdate","cloneUpdateQueue","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","mountHostRootWithoutHydrating","SUSPENDED_MARKER","treeContext","retryLane","mountSuspenseOffscreenState","getRemainingWorkInPrimaryTree","primaryTreeDidDefer","workInProgressDeferredLane","updateSuspenseComponent","showFallback","didSuspend","JSCompiler_temp$jscomp$0","nextInstance","c","id","overflow","fallback","mountWorkInProgressOffscreenFiber","mountSuspensePrimaryChildren","retrySuspenseComponentWithoutHydrating","dataset","digest","dgst","renderDidSuspendDelayIfPossible","retryDehydratedSuspenseBoundary","_reactRetry","subtreeFlags","primaryChildren","offscreenProps","createFiberFromOffscreen","scheduleSuspenseWorkOnFiber","propagationRoot","scheduleContextWorkOnParentPath","initSuspenseListRenderState","isBackwards","tail","lastContentRow","tailMode","renderState","rendering","renderingStartTime","updateSuspenseListComponent","beginWork","pushProvider","didSuspendBefore","attemptEarlyBailoutIfNoScheduledUpdate","lazyComponent","propagateContextChanges","isDehydrated","getResource","getOwnerDocumentFromRootContainer","setInitialProperties","resolveSingletonInstance","anyProps","hasAttribute","getAttribute","rel","crossOrigin","title","src","canHydrateInstance","canHydrateTextInstance","pooledCacheLanes","valueCursor","currentlyRenderingFiber","lastContextDependency","providerFiber","popProvider","contexts","forcePropagateEntireTree","list","nextFiber","firstContext","dependency","isInsidePropagationBailout","currentParent","currentDependencies","memoizedValue","readContextForConsumer","consumer","firstBaseUpdate","lastBaseUpdate","shared","hiddenCallbacks","callbacks","executionContext","enqueueCapturedUpdate","capturedUpdate","newFirst","newLast","clone","didReadFromEntangledAsyncAction","workInProgress$jscomp$0","instance$jscomp$0","lastPendingUpdate","firstPendingUpdate","isHiddenUpdate","callCallback","commitCallbacks","commitHookEffectListMount","finishedWork","firstEffect","captureCommitPhaseError","commitHookEffectListUnmount","nearestMountedAncestor$jscomp$0","nearestMountedAncestor","commitClassCallbacks","safelyCallComponentWillUnmount","componentWillUnmount","safelyAttachRef","instanceToUse","safelyDetachRef","error$112","commitHostMount","autoFocus","srcSet","srcset","commitHostUpdate","domElement","lastProps","propKey","lastProp","setProp","propKey$203","propKey$219","propKey$224","propKey$229","setPropOnCustomElement","propKey$234","updateProperties","isHostParent","getHostSibling","insertOrAppendPlacementNodeIntoContainer","before","insertBefore","appendChild","_reactRootContainer","insertOrAppendPlacementNode","offscreenSubtreeIsHidden","offscreenSubtreeWasHidden","needsFormReset","PossiblyWeakSet","WeakSet","nextEffect","shouldFireAfterActiveInstanceBlur","commitLayoutEffectOnFiber","finishedRoot","recursivelyTraverseLayoutEffects","__reactInternalSnapshotBeforeUpdate","error$111","commitSuspenseHydrationCallbacks","prevOffscreenSubtreeIsHidden","prevOffscreenSubtreeWasHidden","recursivelyTraverseReappearLayoutEffects","detachFiberAfterEffects","hostParent","hostParentIsContainer","recursivelyTraverseDeletionEffects","commitDeletionEffectsOnFiber","deletedFiber","onCommitFiberUnmount","count","removeChild","prevHostParent","prevHostParentIsContainer","attributes","removeAttributeNode","prevHostParentIsContainer$119","clearSuspenseBoundary","retryIfBlockedOn","attachSuspenseRetryListeners","wakeables","retryCache","_retryCache","getRetryCache","wakeable","retry","resolveRetryWakeable","recursivelyTraverseMutationEffects","root$jscomp$0","parentFiber","commitMutationEffectsOnFiber","currentHoistableRoot","commitReconciliationEffects","hoistableRoot","currentResource","getElementsByTagName","head","querySelector","maybeNodes","getHydratableHoistableCache","splice","content","property","httpEquiv","charSet","mountHoistable","acquireResource","nextNode","tagCaches","getHoistableRoot","recursivelyResetForms","globalMostRecentFallbackTime","_current","recursivelyTraverseDisappearLayoutEffects","display","retryQueue","parent$jscomp$0","parent$113","parent$115","reset","finishedRoot$jscomp$0","includeWorkInProgressEffects","commitOffscreenPassiveMountEffects","previousCache","commitCachePassiveMountEffect","recursivelyTraversePassiveMountEffects","committedLanes","committedTransitions","commitPassiveMountOnFiber","_finishedWork$memoize2","onPostCommit","passiveEffectDuration","recursivelyTraverseAtomicPassiveEffects","recursivelyTraverseReconnectPassiveEffects","committedLanes$jscomp$0","committedTransitions$jscomp$0","suspenseyCommitFlag","recursivelyAccumulateSuspenseyCommit","accumulateSuspenseyCommitOnFiber","resource","suspendedState","media","matchMedia","matches","loading","getStyleKey","getStylesheetSelectorFromKey","_p","onUnsuspend","stylesheetPropsFromRawProps","preloadPropsMap","adoptPreloadPropsForStylesheet","linkInstance","Promise","reject","onload","onerror","stylesheets","preload","suspendResource","previousHoistableRoot","detachAlternateSiblings","previousFiber","recursivelyTraversePassiveUnmountEffects","commitPassiveUnmountEffectsInsideOfDeletedTree_begin","commitPassiveUnmountOnFiber","recursivelyTraverseDisconnectPassiveEffects","deletedSubtreeRoot","FiberNode","isReactComponent","resetWorkInProgress","owner","fiberTag","hostContext","itemProp","precedence","onLoad","onError","async","isHostHoistableType","elements","primaryChildInstance","_pendingMarkers","_transitions","detach","attach","pendingChildren","markUpdate","preloadResourceAndSuspendIfNeeded","preloadResource","scheduleRetryEffect","workInProgressSuspendedRetryLanes","cutOffTailIfNeeded","hasRenderedATailFallback","lastTailNode","lastTailNode$131","bubbleProperties","completedWork","didBailout","newChildLanes","child$132","completeWork","pendingContext","queueRecoverableErrors","createElementNS","innerHTML","createTextNode","cache$144","listenToAllSupportedEvents","workInProgressRootExitStatus","workInProgressRootRenderTargetTime","unwindWork","unwindInterruptedWork","interruptedWork","DefaultAsyncDispatcher","getCacheForType","resourceType","cacheForType","PossiblyWeakMap","workInProgressSuspendedReason","workInProgressThrownValue","workInProgressRootDidSkipSuspendedSiblings","workInProgressRootIsPrerendering","workInProgressRootDidAttachPingListener","workInProgressRootInterleavedUpdatedLanes","workInProgressRootPingedLanes","workInProgressRootConcurrentErrors","workInProgressRootRecoverableErrors","workInProgressRootDidIncludeRecursiveRenderUpdate","Infinity","workInProgressTransitions","rootDoesHavePassiveEffects","rootWithPendingPassiveEffects","pendingPassiveEffectsLanes","pendingPassiveEffectsRemainingLanes","pendingPassiveTransitions","suspenseHandler","cancelPendingCommit","prepareFreshStack","markRootSuspended","ensureRootIsScheduled","performWorkOnRoot","forceSync","shouldTimeSlice","expiredLanes","exitStatus","prevExecutionContext","prevDispatcher","pushDispatcher","prevAsyncDispatcher","pushAsyncDispatcher","thrownValue","throwAndUnwindWorkLoop","replaySuspendedUnitOfWork","hostFiber","completeUnitOfWork","resetWorkInProgressStack","workLoopConcurrent","thrownValue$166","handleThrow","A","renderRootConcurrent","renderRootSync","renderWasConcurrent","isRenderConsistentWithExternalStores","errorRecoveryDisabledLanes","wasRootDehydrated","timeoutHandle","scheduleTimeout","commitRootWhenReady","errors","apply","recoverableErrors","transitions","didIncludeRenderPhaseUpdate","updatedLanes","suspendedRetryLanes","didSkipSuspendedSiblings","suspendedCommitReason","completedRenderStartTime","completedRenderEndTime","unsuspend","noop","insertSuspendedStylesheets","commit","stylesheetTimer","clearTimeout","waitForCommitToBeReady","commitRoot","check","didAttemptEntireTree","expirationTimes","index$6","flushSyncWorkAcrossRoots_impl","cancelTimeout","allEntangledLanes","index$4","shouldYieldForPrerendering","unitOfWork","workLoopSync","thrownValue$164","performUnitOfWork","suspendedReason","rootRenderLanes","attachPingListener","markerInstances","cause","wrapperError","throwException","unwindUnitOfWork","skipSiblings","previousUpdateLanePriority","renderPriorityLevel","flushPassiveEffects","callbackNode","callbackPriority","remainingLanes","previouslyPendingLanes","index$7","hiddenUpdatesForLane","markRootFinished","priorityLevel","scheduleCallback$1","eventsEnabled","_enabled","selection","e$20","indexWithinAnchor","indexWithinFocus","selectionInformation","resolvedPrevProps","clearContainerSparingly","commitBeforeMutationEffects","releaseRootPooledCache","onCommitFiberRoot","onCommitRoot","onRecoverableError","commitRootImpl","root$170","renderPriority","onPostCommitFiberRoot","captureCommitPhaseErrorOnRoot","rootFiber","pingCache","threadIDs","pingSuspendedRoot","retryTimedOutBoundary","boundaryFiber","firstScheduledRoot","lastScheduledRoot","didScheduleMicrotask","mightHavePendingSyncWork","isFlushingWork","currentEventTransitionLane","cb","processRootScheduleInMicrotask","scheduleMicrotask","syncTransitionLanes","onlyLegacy","didPerformSomeWork","root$172","performSyncWorkOnRoot","currentPopstateTransitionEvent","shouldAttemptEagerTransition","prev","scheduleTaskForRootDuringMicrotask","index$5","expirationTime","performWorkOnRootViaSchedulerTask","didTimeout","originalCallbackNode","workInProgressRootRenderLanes$jscomp$0","coerceFormActionProp","actionProp","createFormDataWithSubmitter","submitter","temp","FormData","i$jscomp$inline_1439","eventName$jscomp$inline_1440","toUpperCase","nonDelegatedEvents","eventSystemFlags","_dispatchQueue$i","previousInstance","i$jscomp$0","_dispatchListeners$i","targetElement","listenerSetKey","addTrappedEventListener","listenToNativeEvent","isCapturePhaseListener","listeningMarker","rootContainerElement","targetContainer","listenerWrapper","dispatchDiscreteEvent","dispatchContinuousEvent","capture","passive","dispatchEventForPluginEventSystem","targetInst$jscomp$0","ancestorInst","nodeTag","container","grandTag","SyntheticEventCtor","inCapturePhase","accumulateTargetOnly","reactEventName","lastHostComponent","_instance","createDispatchListener","parentWindow","getParent","accumulateEnterLeaveListenersForEvent","getTargetInstFunc","handleEventFunc","fallbackData","eventType","getNativeBeforeInputChars","char","getFallbackBeforeInputChars","maybeTargetInst","formAction","extractEvents$1","targetFiber","captureName","_instance2","unshift","common","_instance3","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","normalizeMarkupForTextOrAttribute","markup","serverText","clientText","formEncType","formMethod","formTarget","encType","__html","muted","isNaN","endsWith","hasSrc","hasSrcSet","propValue$186","parentNamespace","dangerouslySetInnerHTML","localPromise","queueMicrotask","handleErrorInNextTick","parentInstance","suspenseInstance","depth","targetInstance","previousSibling","rootContainerInstance","preconnectsSet","getRootNode","previousDispatcher","d","f","previousWasRendering","wasRendering","r","formInst","D","preconnectAs","C","L","as","globalDocument","preloadSelector","imageSrcSet","imageSizes","getScriptKey","getScriptSelectorFromKey","m","X","scripts","adoptPreloadPropsForScript","link","insertStylesheet","M","limitedEscapedHref","currentProps","preloadProps","styles$242","resource$243","integrity","hrefLang","referrerPolicy","rawProps","styleProps","instance$248","nodes","prior","stylesheetProps","scriptProps","keyAttribute","caches","nodeKey","precedencesByRoot","insertStylesheetIntoRoot","precedences","FiberRootNode","hydrate","incompleteTransitions","createFiberRoot","initialChildren","hydrationCallbacks","isStrictMode","transitionCallbacks","getContextForSubtree","parentComponent","updateContainerImpl","markRetryLaneImpl","markRetryLaneIfNotHydrated","attemptContinuousHydration","blockedOn","findInstanceBlockingEvent","return_targetInst","clearIfContinuousEvent","queuedFocus","accumulateOrCreateContinuousQueuedReplayableEvent","queuedDrag","queuedMouse","queuedPointers","queuedPointerCaptures","queueIfContinuousEvent","discreteReplayableEvents","findInstanceBlockingTarget","hasScheduledReplayAttempt","queuedExplicitHydrationTargets","existingQueuedEvent","targetContainers","attemptExplicitHydrationTarget","queuedTarget","priority","runWithPriority","attemptReplayContinuousQueuedEvent","queuedEvent","nextBlockedOn","nativeEventClone","shift","attemptReplayContinuousQueuedEventInMap","replayUnblockedEvents","scheduleCallbackIfUnblocked","unblocked","lastScheduledReplayQueue","scheduleReplayQueueIfNeeded","formReplayingQueue","submitterOrAction","unblock","$$reactFormReplay","formProps","ReactDOMRoot","internalRoot","_internalRoot","ReactDOMHydrationRoot","unmount","unstable_scheduleHydration","isomorphicReactPackageVersion$jscomp$inline_1686","version","findDOMNode","componentOrElement","parentA","parentB","didFindChild","child$2","findCurrentFiberUsingSlowPath","internals$jscomp$inline_2165","bundleType","rendererPackageName","currentDispatcherRef","findFiberByHostInstance","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","hook$jscomp$inline_2166","isDisabled","supportsFiber","inject","createRoot","unstable_strictMode","unstable_transitionCallbacks","hydrateRoot","Internals","getCrossOriginStringAs","input","createPortal","createPortal$1","flushSync","previousTransition","previousUpdatePriority","preconnect","prefetchDNS","preinit","fetchPriority","nonce","preinitModule","preloadModule","requestFormReset","unstable_batchedUpdates","permalink","useFormStatus","checkDCE","undefined","__reactInternalSnapshotFlag","__reactInternalSnapshot","polyfill","foundWillMountName","foundWillReceivePropsName","foundWillUpdateName","newApiName","maybeSnapshot","snapshot","__suppressDeprecationWarning","bodyOpenClassName","portalClassName","_extends","_createClass","defineProperties","writable","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_reactDom2","_propTypes2","_ModalPortal2","ariaAppHider","obj","__esModule","newObj","default","_interopRequireWildcard","_safeHTMLElement","_safeHTMLElement2","_reactLifecyclesCompat","_possibleConstructorReturn","self","ReferenceError","isReact16","createHTMLElement","getCreatePortal","unstable_renderSubtreeIntoContainer","getParentElement","parentSelector","Modal","_Component","_ref","_temp","_this","TypeError","_classCallCheck","_len","args","_key","__proto__","getPrototypeOf","removePortal","unmountComponentAtNode","warn","portalRef","renderPortal","defaultStyles","subClass","superClass","setPrototypeOf","_inherits","className","prevParent","nextParent","_","_props","isOpen","closesAt","closeTimeoutMS","beforeClose","closeWithTimeout","setElement","propTypes","overlay","htmlOpenClassName","base","afterOpen","overlayClassName","appElement","SafeHTMLCollection","SafeNodeList","onAfterOpen","onRequestClose","ariaHideApp","shouldFocusAfterRender","shouldCloseOnOverlayClick","shouldReturnFocusAfterClose","preventScroll","aria","role","contentLabel","shouldCloseOnEsc","overlayRef","contentRef","overlayElement","contentElement","contentEl","position","right","bottom","backgroundColor","border","background","WebkitOverflowScrolling","borderRadius","outline","padding","_typeof","focusManager","_scopeTab2","classList","_portalOpenInstances2","CLASS_NAMES","ariaHiddenInstances","ModalPortal","setOverlayRef","setContentRef","afterClose","_this$props","parentDocument","remove","show","returnFocus","teardownScopedFocus","popWithoutFocus","onAfterClose","deregister","open","beforeOpen","closeTimer","setupScopedFocus","markForFocusLater","openAnimationFrame","requestAnimationFrame","overlayEl","close","closeWithoutTimeout","focusContent","contentHasFocus","handleKeyDown","isTabKey","isEscKey","requestClose","handleOverlayOnClick","shouldClose","ownerHandlesClose","handleContentOnMouseUp","handleOverlayOnMouseDown","handleContentOnClick","handleContentOnMouseDown","shouldBeClosed","buildClassName","additional","classNames","attributesFromObject","items","reduce","acc","moveFromContentToOverlay","cancelAnimationFrame","hide","register","_props2","contentStyles","overlayStyles","overlayProps","onMouseDown","contentProps","tabIndex","onKeyDown","onMouseUp","modal","testId","resetState","globalElement","assertNodeList","useElement","el","validateElement","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","documentNotReadyOrSSRTesting","_warning","_warning2","nodeList","selector","HTMLCollection","NodeList","_arr","after","_i","item","instances","_arr2","_i2","_portalOpenInstances","openInstances","opacity","cloneNode","parentElement","htmlElement","cls","htmlClassList","removeClass","_cls","docBodyClassList","at","classString","classListRef","poll","incrementReference","decrementReference","focusLaterElements","handleBlur","handleFocus","toFocus","modalElement","_tabbable","_tabbable2","needToFocus","portalOpenInstances","PortalOpenInstances","openInstance","subscribers","subscriber","_exenv","EE","SafeHTMLElement","HTMLElement","tabbable","checkSafari","exec","navigator","userAgent","shadowRoot","findTabbableDescendants","descendants","finished","filter","DISPLAY_NONE","DISPLAY_CONTENTS","tabbableNode","hidesContents","zeroSize","offsetWidth","offsetHeight","getComputedStyle","displayValue","getPropertyValue","scrollWidth","scrollHeight","isNotOverflowing","exception","focusable","isTabIndexNotNaN","rootNode","host","visible","isTabIndexNaN","_Modal","_Modal2","jsxProd","config","maybeKey","jsx","jsxs","ReactNoopUpdateQueue","emptyObject","ComponentDummy","PureComponent","partialState","forceUpdate","pureComponentPrototype","ReactElement","isValidElement","userProvidedKeyEscapeRegex","getElementKey","escaperLookup","escape","mapIntoArray","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","nextNamePrefix","resolveThenable","mapChildren","lazyInitializer","_status","_result","moduleObject","Children","forEachFunc","forEachContext","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","act","cloneElement","childArray","createContext","childrenLength","createRef","forwardRef","lazy","memo","scope","unstable_useCacheRefresh","Context","heap","parentIndex","peek","first","halfLength","leftIndex","rightIndex","diff","sortIndex","performance","localPerformance","localDate","initialTime","taskQueue","timerQueue","taskIdCounter","currentTask","currentPriorityLevel","isPerformingWork","isHostCallbackScheduled","isHostTimeoutScheduled","localSetTimeout","localClearTimeout","localSetImmediate","setImmediate","advanceTimers","timer","startTime","handleTimeout","requestHostCallback","firstTimer","requestHostTimeout","schedulePerformWorkUntilDeadline","isMessageLoopRunning","taskTimeoutID","frameInterval","shouldYieldToHost","performWorkUntilDeadline","hasMoreWork","previousPriorityLevel","continuationCallback","MessageChannel","channel","port","port2","port1","onmessage","postMessage","ms","unstable_Profiling","task","unstable_continueExecution","unstable_forceFrameRate","fps","floor","unstable_getFirstCallbackNode","unstable_next","eventHandler","unstable_pauseExecution","unstable_runWithPriority","delay","timeout","unstable_wrapCallback","parentPriorityLevel","warning","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","o","prop","toStringTag","TopBar","_jsxs","_jsx","logo","alt","ModalNewClientContext","ModalNewClientProvider","setIsOpen","openModalNewClient","closeModalNewClient","useModalNewClient","ModalNewProductContext","openModalNewProduct","closeModalNewProduct","ModalNewProductProvider","useModalNewProduct","ModalNewSaleContext","openModalNewSale","closeModalNewSale","ModalNewSaleProvider","useModalNewSale","ModalNewSpentContext","openModalNewSpent","closeModalNewSpent","ModalNewSpentProvider","useModalNewSpent","SideBar","setIsOpenSales","setIsOpenClients","setIsOpenProducts","setIsOpenFinanceControl","activeButton","setActiveButton","viewBox","xmlns","handleListClients","handleListProducts","handleListSales","handleFinanceControl","thisArg","kindOf","thing","str","kindOfTest","typeOfTest","isUndefined","isArrayBuffer","isString","isFunction","isNumber","isObject","isPlainObject","val","isDate","isFile","isBlob","isFileList","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","l","allOwnKeys","getOwnPropertyNames","len","findKey","_global","globalThis","global","isContextDefined","isTypedArray","TypedArray","Uint8Array","isHTMLForm","isRegExp","reduceDescriptors","descriptors","getOwnPropertyDescriptors","reducedDescriptors","ret","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","isAsyncFn","_setImmediate","setImmediateSupported","postMessageSupported","token","_ref2","asap","nextTick","isBuffer","isFormData","kind","append","isArrayBufferView","ArrayBuffer","isView","buffer","isBoolean","isStream","pipe","merge","caseless","assignValue","targetKey","stripBOM","inherits","superConstructor","toFlatObject","sourceObj","destObj","propFilter","merged","searchString","lastIndex","arr","forEachEntry","pair","matchAll","regExp","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","delimiter","toCamelCase","p1","p2","toFiniteNumber","Number","isFinite","generateString","alphabet","isSpecCompliantForm","toJSONObject","visit","reducedValue","isThenable","AxiosError","request","response","captureStackTrace","utils","toJSON","description","fileName","lineNumber","columnNumber","from","customProps","axiosError","isVisitable","removeBrackets","renderKey","path","dots","predicates","metaTokens","indexes","option","visitor","defaultVisitor","useBlob","Blob","convertValue","toISOString","Buffer","JSON","stringify","some","isFlatArray","exposedHelpers","build","encode","charMap","AxiosURLSearchParams","params","_pairs","toFormData","encoder","_encode","buildURL","serialize","serializeFn","serializedParams","hashmarkIndex","handlers","fulfilled","rejected","synchronous","runWhen","eject","clear","h","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","isBrowser","classes","URLSearchParams","protocols","hasBrowserEnv","_navigator","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","origin","platform","buildPath","isNumericKey","isLast","arrayToObject","entries","parsePropPath","defaults","transitional","transitionalDefaults","adapter","transformRequest","headers","contentType","getContentType","hasJSONContentType","isObjectPayload","formDataToJSON","setContentType","helpers","isNode","toURLEncodedForm","formSerializer","_FormData","env","rawValue","parser","parse","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","ignoreDuplicateOf","$internals","normalizeHeader","header","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","parsed","line","substring","parseHeaders","tokens","tokensRE","parseTokens","matcher","deleted","deleteHeader","normalize","format","normalized","w","formatHeader","targets","asStrings","computed","_len2","_key2","accessor","accessors","defineAccessor","accessorName","methodName","arg1","arg2","arg3","buildAccessors","mapped","headerValue","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","ERR_BAD_REQUEST","samplesCount","bytes","timestamps","firstSampleTS","chunkLength","startedAt","bytesCount","passed","round","freq","lastArgs","timestamp","threshold","invoke","flush","progressEventReducer","isDownloadStream","bytesNotified","_speedometer","speedometer","throttle","loaded","total","lengthComputable","progressBytes","rate","progress","estimated","progressEventDecorator","throttled","asyncDecorator","isMSIE","URL","protocol","write","expires","domain","secure","cookie","toGMTString","read","decodeURIComponent","buildFullPath","baseURL","requestedURL","relativeURL","combineURLs","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","paramsSerializer","timeoutMessage","withCredentials","withXSRFToken","onUploadProgress","onDownloadProgress","decompress","beforeRedirect","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding","configValue","newConfig","auth","btoa","username","unescape","Boolean","isURLSameOrigin","xsrfValue","cookies","XMLHttpRequest","_config","resolveConfig","requestData","requestHeaders","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","unsubscribe","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","onreadystatechange","readyState","responseURL","onabort","ECONNABORTED","ERR_NETWORK","ontimeout","timeoutErrorMessage","ETIMEDOUT","setRequestHeader","upload","cancel","parseProtocol","send","composeSignals","signals","streamChunk","chunk","chunkSize","byteLength","pos","readStream","stream","asyncIterator","reader","getReader","trackStream","onProgress","onFinish","iterable","readBytes","_onFinish","ReadableStream","pull","loadedBytes","enqueue","highWaterMark","isFetchSupported","fetch","Request","Response","isReadableStreamSupported","encodeText","TextEncoder","arrayBuffer","supportsRequestStream","duplexAccessed","hasContentType","duplex","supportsResponseStream","resolvers","res","ERR_NOT_SUPPORT","resolveBodyLength","getContentLength","_request","getBodyLength","fetchOptions","composedSignal","toAbortSignal","requestContentLength","contentTypeHeader","isCredentialsSupported","credentials","isStreamResponse","responseContentLength","responseData","knownAdapters","http","xhr","xhrAdapter","fetchAdapter","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","s","throwIfCancellationRequested","throwIfRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","formatMessage","opt","desc","opts","ERR_DEPRECATED","spelling","correctSpelling","assertOptions","schema","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","Axios","instanceConfig","interceptors","InterceptorManager","configOrUrl","dummy","boolean","function","baseUrl","withXsrfToken","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","axios","createInstance","defaultConfig","Cancel","all","promises","spread","isAxiosError","formToJSON","getAdapter","api","TableContext","TableSalesProvider","tbSales","setTbSales","isOpenSales","createSale","sale","post","useTableSales","TableSales","CG_CITY_FILTER","setCG_CITY_FILTER","CO_PRODUCT_FILTER","setCO_PRODUCT_FILTER","MONTH_FILTER","setMONTH_FILTER","CO_CLIENT_FILTER","setCO_CLIENT_FILTER","extractMonth","DT_DATE","formatDate","dateValue","getTime","formattedDate","getUTCDate","padStart","getUTCMonth","getUTCFullYear","filteredSales","matchesCity","CG_CITY","matchesProduct","CO_PRODUCT","matchesMonth","matchesClient","CO_CLIENT","uniqueCities","uniqueProducts","uniqueMonths","uniqueClients","htmlFor","onChange","city","client","CD_QUANTITY","VL_VALUE","CO_SELLER","CO_ID","colSpan","ClientsContext","TableClientsProvider","tbClients","setTbClients","isOpenClients","createClient","useTableClients","TableClients","BALANCE_TYPE_FILTER","setBALANCE_TYPE_FILTER","formatBalance","VL_BALANCE","balanceNumber","parseFloat","toFixed","abs","formatPhone","phone","phoneStr","filteredClients","CO_NAME","CO_PHONE","CG_ADDRESS","ProductsContext","TableProductsProvider","tbProducts","setTbProducts","isOpenProducts","parsedData","parseInt","createProduct","parsedProduct","useTableProducts","TableProducts","formatValue","valueNumber","CO_DESCRIPTION","v","lim","max","p2b","n2b","b2n","n2p","map$1","B","E","F","hex","h1","h2","eq","hexString","g","isShort","alpha","HUE_RE","hsl2rgbn","k","hsv2rgbn","hwb2rgbn","rgb","rgb2hsl","hueValue","calln","hsl2rgb","hue","hueParse","hwb2rgb","hsv2rgb","Z","Y","W","V","U","R","Q","P","O","N","K","G","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names","nameParse","unpacked","tkeys","j","ok","nk","unpack","transparent","RGB_RE","to","pow","modHSL","ratio","tmp","proto","fromObject","functionParse","charAt","rgbParse","Color","hexParse","_rgb","_valid","valid","rgbString","hslString","mix","weight","c1","c2","w2","w1","interpolate","t","rgb1","rgb2","clearer","greyscale","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","uid","isNullOrUndef","isNumberFinite","finiteOrDefault","valueOrDefault","toDimension","dimension","each","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","klen","isValidKey","_merger","tval","sval","sources","merger","mergeIf","_mergerIf","keyResolvers","resolveObjectKey","resolver","parts","part","_splitKey","_getKeyResolver","_capitalize","defined","setsEqual","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","niceNum","roundedRange","niceRange","fraction","toPrimitive","isNonPrimitive","_setMinAndMaxByKey","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","sqrt","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","_lookup","table","cmp","mid","hi","lo","_lookupByKey","ti","_rlookupByKey","arrayEvents","unlistenArrayEvents","stub","_chartjs","_arrayUnique","requestAnimFrame","argsToUse","ticking","_toLeftRightCenter","align","_alignStartEnd","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","_sorted","iScale","vScale","_parsed","spanGaps","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","distanceToDefinedLo","findIndex","point","distanceToDefinedHi","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","isPatternOrGradient","getHoverColor","numbers","colors","intlCache","formatNumber","num","cacheKey","formatter","Intl","NumberFormat","getNumberFormat","formatters","values","numeric","tickValue","ticks","chart","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","remain","significand","Ticks","overrides","getScope$1","Defaults","_descriptors","_appliers","borderColor","datasets","devicePixelRatio","getDevicePixelRatio","font","family","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","intersect","includeInvisible","maintainAspectRatio","onHover","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","override","route","targetScope","targetName","scopeObject","targetScopeObject","privateName","local","appliers","_scriptable","startsWith","_indexable","_fallback","duration","easing","loop","properties","active","resize","animations","autoPadding","beginAtZero","bounds","clip","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","_ctx","tickColor","dash","dashOffset","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","_measureText","gc","longest","textWidth","measureText","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","save","resetTransform","clearRect","restore","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","area","margin","clipArea","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","decorateText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","fillStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","lines","strokeWidth","strokeColor","translation","textAlign","textBaseline","setRenderOpts","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","_readValueToProps","objProps","toTRBL","toTRBLCorners","toPadding","toFont","toFontString","inputs","cacheable","parentContext","_createResolver","scopes","getTarget","finalRootScopes","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","proxy","readKey","needsSubResolver","createSubResolver","_resolveWithPrefixes","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_subProxy","_stack","setContext","receiver","isScriptable","_resolveScriptable","isIndexable","_resolveArray","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","resolveFallback","getScope","addScopes","parentScopes","parentFallback","rootScopes","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","splineCurveMonotone","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","monotoneAdjust","iPixel","vPixel","monotoneCompute","capControlPoint","pt","_updateBezierControlPoints","controlPoints","cubicInterpolationMode","tension","capBezierPoints","inArea","inAreaPrev","inAreaNext","_isDomSupported","_getParentNode","domNode","parseMaxStyle","styleValue","parentProperty","valueInPixels","positions","getPositionedStyle","getRelativePosition","borderBox","boxSizing","paddings","borders","box","offsetX","offsetY","useOffsetPos","getBoundingClientRect","getCanvasPosition","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","maxHeight","containerSize","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","getContainerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","readUsedSize","getStyle","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","getRightToLeftAdapter","_itemWidth","overrideTextDirection","direction","original","getPropertyPriority","prevTextDirection","restoreTextDirection","propertyFn","between","normalizeSegment","_boundSegment","segment","startBound","endBound","getSegment","inside","subStart","shouldStart","shouldStop","_boundSegments","segments","sub","splitByStyles","segmentOptions","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","doSplitByStyles","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","replacer","Animator","_charts","_running","_lastDate","_notify","anims","numSteps","currentStep","_refresh","_update","remaining","running","draw","_active","_total","tick","_getAnims","charts","complete","listen","cur","_duration","stop","animator","interpolators","factor","c0","Animation","cfg","_fn","_easing","_start","_loop","_target","_prop","_from","_to","_promises","elapsed","wait","rej","resolved","Animations","_properties","configure","animationOptions","animatedProps","_animateOptions","newOptions","$shared","$animations","resolveTargetOptions","_createAnimations","anim","awaitAll","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","dsIndex","singleMode","otherValue","found","isStacked","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","positive","getMatchingVisibleMetas","updateStacks","_cachedMeta","_stacks","iAxis","vAxis","indexScale","valueScale","getStackKey","_top","_bottom","_visualValues","getFirstScaleId","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","DatasetController","static","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","datasetElementType","dataElementType","initialize","linkScales","_stacked","addElements","isPluginEnabled","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","_destroy","_dataCheck","iAxisKey","vAxisKey","adata","convertObjectDataToArray","isExtensible","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","canStack","otherScale","createStack","hidden","NEGATIVE_INFINITY","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","_clip","toClip","defaultClip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","LineController","_index_","_value_","super","_dataset","_decimated","animated","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","getBasePixel","lastPoint","updateControlPoints","abstract","DateAdapterBase","members","formats","startOf","endOf","binarySearch","metaset","lookupMethod","_reversePixels","getRange","evaluateInteractionItems","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","isPointInArea","inRange","getNearestCartesianItems","distanceMetric","useX","useY","getDistanceMetricForAxis","minDistance","center","getCenterPoint","getNearestItems","startAngle","endAngle","getProps","getNearestRadialItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","sort","setLayoutDims","layouts","wrap","stackWeight","placed","buildStacks","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","horizontal","availableWidth","availableHeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","getMargins","marginForPositions","fitBoxes","boxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","addBox","_layers","z","removeBox","layoutItem","minPadding","layoutBoxes","isHorizontal","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","updatePos","change","handleMaxPadding","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","createAttachObserver","observer","MutationObserver","trigger","entry","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","ResizeObserver","contentRect","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","native","fromNativeEvent","addListener","DomPlatform","renderHeight","renderWidth","displayWidth","displayHeight","initCanvas","proxies","$proxies","isConnected","Element","tooltipPosition","hasValue","final","tickOpts","determinedMaxTicks","_tickSize","maxScale","_length","maxChart","_maxLength","determineMaxTicks","ticksLimit","maxTicksLimit","majorIndices","enabled","getMajorIndices","numMajorIndices","newTicks","spacing","ceil","skipMajors","evenMajorSpacing","getEvenSpacing","factors","_factorize","calculateSpacing","avgMajorSpacing","majorStart","majorEnd","offsetFromEdge","edge","getTicksLimit","ticksLength","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","_startPixel","_endPixel","lineValue","getPixelForTick","getTickMarkLength","getTitleHeight","titleAlign","reverseAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_cache","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","getLabelItems","_computeLabelItems","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","_addGrace","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","minSize","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","widths","heights","jlen","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","gcLen","garbageCollect","valueAt","idx","getValueForPixel","getPixelForDecimal","decimal","getDecimalForPixel","getBaseValue","createTickContext","optionTicks","rot","_computeGridLineItems","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","limit","optsAtIndex","optsAtIndexBorder","lineColor","tickBorderDash","tickBorderDashOffset","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","getLineWidthForValue","drawGrid","drawLine","setLineDash","lineDashOffset","drawBorder","lastLineWidth","drawLabels","renderTextOptions","drawTitle","titleX","titleY","titleArgs","tz","gz","bz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","parentScope","isIChartComponent","itemDefaults","defaultRoutes","routes","propertyParts","sourceName","sourceScope","routeDefaults","registerDefaults","unregister","Registry","controllers","_typedRegistries","_each","addControllers","_len3","_key3","_len4","_key4","addPlugins","_len5","_key5","addScales","_len6","_key6","getController","_get","getElement","getPlugin","getScale","removeControllers","_len7","_key7","removeElements","_len8","_key8","removePlugins","_len9","_key9","removeScales","_len10","_key10","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","registry","camelMethod","PluginService","notify","_createDescriptors","plugin","invalidate","_oldCache","_notifyStateChanges","localIds","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","_ref3","pluginScopeKeys","getIndexAxis","datasetDefaults","idMatchesAxis","determineAxis","_len11","scaleOptions","_key11","getAxisFromDataset","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","boundDs","retrieveAxisFromDatasets","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","initOptions","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","initConfig","_scopeCache","_resolverCache","clearCache","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","needContext","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","getCanvas","getElementById","getChart","moveNumericKeys","intKey","getSizeForArea","field","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","OffscreenCanvas","_detectPlatform","_options","_aspectRatio","_metasets","_lastEvent","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","debounce","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","isDatasetVisible","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getDatasetArea","getElementsAtEventForMode","getVisibleDatasetCount","setDatasetVisibility","toggleDataVisibility","getDataVisibility","_updateVisibility","_stop","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","_ref4","pluginId","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","_isClickEvent","lastEvent","determineLastEvent","setStyle","lineCap","lineJoin","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","getLineMethod","fastPathSegment","prevX","minY","maxY","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","_path","strokePathWithCache","segmentMethod","strokePathDirect","LineElement","_fullLoop","_points","_segments","_pointsUpdated","findStartAndEnd","solidSegments","_computeSegments","_interpolate","_getInterpolationMethod","interpolated","inRange$1","hitRadius","PointElement","hoverBorderWidth","hoverRadius","mouseX","mouseY","inXRange","inYRange","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","Legend","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","generateLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","legendItem","_itemHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","legendItemText","calculateItemWidth","fontLineHeight","calculateLegendItemHeight","calculateItemHeight","calculateItemSize","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","halfFontSize","textDirection","fontColor","lineDash","drawOptions","SQRT2","centerX","yBoxTop","xBoxLeft","drawLegendBox","_textX","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","onLeave","isListened","hoveredItem","sameItem","itemsEqual","plugin_legend","_element","_args","legend","afterEvent","ci","useBorderRadius","Title","_padding","textSize","_drawArgs","fontOpts","plugin_title","titleBlock","createTitle","positioners","average","xSet","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","formattedValue","getTooltipSize","tooltip","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","paddingAndSize","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","defaultCallbacks","beforeTitle","tooltipItems","labelCount","afterTitle","beforeLabel","tooltipItem","labelColor","labelTextColor","bodyColor","labelPointStyle","afterLabel","beforeFooter","afterFooter","invokeCallbackWithFallback","Tooltip","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","getBeforeBody","getBody","bodyItems","scoped","getAfterBody","getFooter","_createItems","itemSort","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","centerY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","_ref6","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","findOrAddLabel","addedLabels","addIfString","lastIndexOf","_getLabelForValue","CategoryScale","_startValue","_valueRange","_addedLabels","added","generateTicks$1","generationOptions","dataRange","precision","maxTicks","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","rounded","almostWhole","decimalPlaces","relativeLabelSize","_ref7","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","getTickLimit","stepSize","computeTickLimit","LinearScale","INTERVALS","millisecond","steps","second","minute","hour","day","quarter","year","UNITS","sorter","_adapter","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","MAX_SAFE_INTEGER","addTick","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","displayFormats","_unit","_majorUnit","_offsets","_normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_filterBetween","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","offsetAfterAutoskip","getDecimalForValue","weekday","hasWeekday","getDataTimestamps","tooltipFormat","fmt","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","defaultDatasetIdKey","reforwardRef","setLabels","currentData","nextLabels","setDatasets","nextDatasets","datasetIdKey","addedDatasets","nextDataset","currentDataset","find","cloneData","nextData","ChartComponent","redraw","fallbackContent","updateMode","canvasProps","canvasRef","chartRef","renderChart","Chart$1","destroyChart","nextOptions","setOptions","createTypedChart","registerables","Line","FinanceControlContext","FinanceControlProvider","isOpenFinanceControl","useFinanceControl","SpentContext","TableSpentsProvider","tbSpents","setTbSpents","isOpenSpents","setIsOpenSpents","createSpent","spent","useTableSpents","XLSX","current_codepage","current_ansi","VALID_ANSI","CS2CP","set_ansi","cp","set_cp","reset_cp","utf16beread","$cptable","_getchar","_getansi","Base64_map","Base64_encode","c3","e1","e2","e3","e4","Base64_decode","has_buf","versions","Buffer_from","nbfs","buf","enc","new_raw_buf","alloc","new_unsafe_buf","allocUnsafe","s2a","s2ab","a2s","bconcat","bufs","maxlen","chr0","chr1","_strrev","pad0","pad_","rpad_","p2_32","pad0r","pad0r1","pad0r2","SSF_isgeneral","days","months","table_fmt","SSF_default_map","SSF_default_str","SSF_frac","mixed","sgn","P_2","P_1","Q_2","Q_1","q","SSF_parse_date_code","b2","dow","dout","out","u","date1904","setDate","getDate","getFullYear","getMonth","getDay","SSF_fix_hijri","SSFbasedate","SSFdnthresh","SSFbase1904","datenum_local","epoch","getTimezoneOffset","SSF_strip_decimal","SSF_general_num","LOG10E","toPrecision","toExponential","SSF_small_exp","substr","SSF_large_exp","SSF_normalize_exp","SSF_general","SSF_format","SSF_write_date","ss0","ss","tt","outl","commaify","pct1","write_num_exp","period","ee","fakee","$$","$1","$2","$3","frac1","dec1","closeparen","hashq","cc","rnd","dd","dec","_frac","write_num_flt","ffmt","write_num","write_num_cm","sfmt","mul","write_num_pct","ri","ff","aval","den","rr","myn","myd","write_num_f1","carry","oa","lres","rres","flr","write_num_exp2","write_num_int","write_num_cm2","write_num_pct2","write_num_f2","SSF_abstime","fmt_is_date","cfregex2","chkcond","thresh","choose_fmt","in_str","SSF_split_fmt","lat","m1","m2","dateNF","flen","dt","lst","hr","ssm","bt","jj","nstr","myv","ostr","vv","decpt","lasti","retval","eval_fmt","SSF_load","SSF_load_table","tbl","make_ssf","dateNFregex","CRC32","T0","Int32Array","signed_crc_table","TT","subarray","slice_by_16_tables","T1","T2","T3","T4","T5","T6","T7","T8","T9","Ta","Tb","Tc","Td","Te","Tf","bstr","seed","CFB","fs","dirname","filename","write_dos_date","hms","getHours","getMinutes","getSeconds","write_shift","ymd","parse_extra_field","blob","prep_blob","read_shift","sz","tgt","mtime","atime","ctime","mt","get_fs","file","parse_zip","di","mboundary","FileIndex","FullPaths","init_cfb","start_di","fcnt","parse_mime","parse_mad","mver","nmfs","difat_sec_cnt","dir_start","minifat_start","difat_start","ssz","fat_addrs","mv","chk","HEADER_SIGNATURE","check_get_mver","check_shifts","dir_cnt","sectors","nsectors","sectorify","sleuth_fat","sector_list","sl","chkd","buf_chain","modulus","seen","addr","__readInt32LE","__toBuffer","make_sector_list","ENDOFCHAIN","Paths","files","mini","minifat_store","pl","sector","namelen","__utf16le","clsid","ct","read_date","get_sector_list","get_mfat_entry","read_directory","FI","FP","dad","build_full_paths","MSSZ","new_buf","cnt","__readUInt32LE","cfb","CLSID","nm","rebuild_cfb","seed_cfb","_file","fullPaths","HEADER_CLSID","namecmp","elt","_write","_opts","fileType","fp","fi","ca","cstr","dispcnt","csl","qp","get_content_type","write_quoted_printable","write_base64_76","write_mad","cdirs","compression","start_cd","crcs","sz_cd","namebuf","outbuf","_deflateRawSync","write_zip","mini_size","fat_size","mfat_cnt","fat_base","fat_cnt","difat_cnt","HEADER_SIG","chainit","consts","DIFSECT","FATSECT","_nm","copy","_zlib","MAXREGSECT","FREESECT","HEADER_MINOR_VERSION","MAXREGSID","NOSTREAM","EntryTypes","deflateRawSync","_deflate","CLEN_ORDER","LEN_LN","DST_LN","bit_swap_8","use_typed_arrays","bitswap8","bit_swap_n","rev","read_bits_2","bl","read_bits_3","read_bits_5","read_bits_7","read_bits_n","write_bits_3","write_bits_1","write_bits_8","write_bits_16","realloc","zero_fill_array","build_tree","clens","cmap","MAX","ccode","bl_count","Uint16Array","ctree","cleni","fix_lmap","fix_dmap","dlens","_deflateRaw","DST_LN_RE","LEN_LN_RE","boff","write_stored","addrs","hash","mlen","len_eb","dst_eb","write_huff_fixed","off","dyn_lmap","dyn_dmap","dyn_cmap","dyn_len_1","dyn_len_2","dyn","_HLIT","_HDIST","_HCLEN","read_bits_4","next_code","hcodes","_inflate","usz","woff","OL","max_len_1","max_len_2","bits","dst","inflate","warn_or_throw","wrn","msg","csz","efsz","fcsz","EF","parse_local_file","meth","setMilliseconds","setFullYear","setMonth","setHours","setMinutes","setSeconds","parse_dos_date","_csz","_usz","ef","InflRaw","InflateRaw","_processChunk","_finishFlushFlag","bytesRead","_inflateRawSync","cfb_add","unsafe","ContentTypeMap","ctype","ext","encoded","si","fdata","fname","cte","oi","parse_quoted_printable","fpath","cfb_gc","UCFullPaths","UCPaths","UCPath","readFileSync","read_file","writeFileSync","writeFile","cfb_new","cfb_del","cfb_mov","old_name","new_name","ReadShift","CheckField","use_zlib","zlib","_inflateRaw","_fs","blobify","a2u","write_dl","Deno","utf8write","IE_SaveFile","msSaveBlob","saveAs","createObjectURL","chrome","downloads","download","revokeObjectURL","click","$","File","Folder","encoding","ks","o2","evert_key","evert","evert_num","basedate","datenum","refdate","dnthresh","refoffset","numdate","setTime","good_pd_date_1","good_pd_date","good_pd","parseDate","fixdate","cc2str","debomit","TextDecoder","decode","dup","fuzzynum","wt","lower_months","fuzzydate","getYear","lower","zip_add_file","zip","widx","ridx","utf8decode","zip_new","XML_HEADER","encodings","rencoding","decregex","charegex","escapexml","escapexmltag","htmlcharegex","escapehtml","parsexmlbool","utf8reada","orig","utf8readb","ww","utf8readc","utf8corpus","utf8read","htmldecode","entities","wtregex","writetag","wxt_helper","writextag","write_w3cdtf","XMLNS","XMLNS_main","XLMLNS","___toBuffer","___utf16le","__readUInt16LE","___hexlify","__hexlify","___utf8","__readUInt8","__utf8","___lpstr","__lpstr","___cpstr","__cpstr","___lpwstr","__lpwstr","___lpp4","__lpp4","___8lpp4","__8lpp4","___double","read_double_le","__double","is_buf","cpdoit","readUInt32LE","readDoubleLE","__readInt16LE","__readInt32BE","oI","oR","loc","oo","lens","__writeUInt32LE","__writeInt32LE","__writeUInt16LE","WriteShift","cppayload","bs","av","write_double_le","hexstr","fld","parsenoop","buf_array","blksz","newblk","curbuf","endbuf","_bufs","write_record","ba","XLSBRecordEnum","shift_cell_xls","cell","cRel","rRel","biff","shift_range_xls","encode_cell_xls","encode_cell","fix_row","encode_range_xls","encode_row","encode_col","decode_row","rowstr","decode_col","colstr","decode_cell","decode_range","encode_range","cs","ce","safe_decode_range","safe_format_cell","XF","numFmtId","format_cell","BErr","sheet_to_workbook","sheet","sheets","SheetNames","Sheets","sheet_add_aoa","_ws","dense","ws","_R","_C","_origin","__R","__C","nullError","sheetStubs","cellDates","cell_ref","aoa_to_sheet","write_UInt32LE","parse_XLWideString","cchCharacters","write_XLWideString","_null","parse_StrRun","ich","ifnt","parse_RichStr","rgsStrRun","dwSizeStrRun","parse_BrtCommentText","write_BrtCommentText","run","write_StrRun","parse_XLSBCell","iStyleRef","write_XLSBCell","parse_XLSBShortCell","write_XLSBShortCell","parse_XLSBCodeName","write_XLSBCodeName","parse_XLNullableWideString","write_XLNullableWideString","parse_XLNameWideString","parse_RelID","write_RelID","parse_RkNumber","fX100","fInt","RK","write_RkNumber","d100","parse_RfX","parse_UncheckedRfX","write_UncheckedRfX","parse_Xnum","write_Xnum","write_BrtColor","auto","theme","nTS","tint","VT_STRING","DocSummaryPIDDSI","SummaryPIDSI","rgbify","XLSIcv","ct2type","CT_LIST","workbooks","xlsx","xlsm","xlsb","xlam","xltx","strs","comments","dialogs","macros","metadata","write_ct","type2ct","evert_arr","f1","bookType","f2","f3","RELS","WB","SHEET","HLINK","VML","XPATH","XMISS","XLINK","CXML","CXMLP","CMNT","CORE_PROPS","EXT_PROPS","CUST_PROPS","SST","STY","THEME","CHART","CHARTEX","CS","WS","DS","MS","IMG","DRAW","XLMETA","TCMNT","PEOPLE","VBA","get_rels_path","write_rels","rels","add_rels","rId","relobj","targetmode","Id","Type","Target","TargetMode","write_rdf_type","write_meta_ods","cp_doit","write_core_props","Props","CreatedDate","WTF","ModifiedDate","PseudoPropsPairs","write_ext_props","Application","Worksheets","baseType","write_cust_props","pid","write_vt","XLMLDocPropsMap","Subject","Author","Keywords","Comments","LastAuthor","RevNumber","LastPrinted","Category","Manager","Company","AppVersion","ContentStatus","Identifier","Language","write_TypedPropertyValue","write_FILETIME","XLSPSSkip","guess_property_type","write_PropertySet","RE","PIDSI","hdr","piao","pr","pio","pinfo","write_PropertySetStream","entries2","clsid2","ps0","ps1","parsebool","writebool","parseuint16","writeuint16","write_Bes","parse_ShortXLUnicodeString","cch","write_XLUnicodeRichExtendedString","xlstr","otext","parse_XLUnicodeStringNoCch","parse_XLUnicodeString","parse_XLUnicodeString2","write_XLUnicodeString","write_HyperlinkString","write_Hyperlink","hl","hashidx","Pretarget","write_XLSCell","ixfe","parse_XTI","parse_Ref8U","rwFirst","rwLast","write_Ref8U","write_BOF","wb","write_BoundSheet8","hs","write_Format","b5","write_XF","ixfeP","parse_ExternSheet","parse_BIFF5ExternSheet","write_HLink","write_HLinkTooltip","parse_ColInfo","cellStyles","colFirst","colLast","coldx","level","DBF","dbf_codepage_map","dbf_reverse_map","dbf_to_sheet","ft","vfp","l7","nrow","fpos","rlen","current_cp","codepage","fields","hend","sheetRows","dbf_to_aoa","wch","_RLEN","to_workbook","to_sheet","from_sheet","aoa","sheet_to_json","cols","hcnt","coltypes","colwidths","coldecimals","guess","_guess","hf","_f","hb","rout","_n","_s","SYLK","sylk_escapes","AA","BA","CA","DA","HA","JA","AE","BE","CE","HE","AI","BI","CI","HI","AO","BO","CO","DO","HO","AU","BU","CU","HU","Aa","Ba","Ca","Da","Ha","Ja","Ae","Be","Ce","He","Ai","Bi","Ci","Hi","Ao","Bo","Co","Do","Ho","Au","Bu","Cu","Hu","KC","Kc","DN","Dn","Hy","sylk_char_regex","sylk_char_fn","decode_sylk_char","newcc","sylk_to_aoa_str","records","rj","next_cell_format","sht","rowinfo","colinfo","cw","Mval","rstr","record","RT","C_seen_K","C_seen_X","C_seen_S","C_seen_E","formula","rc_to_a1","shrbase","shift_formula_str","F_seen","process_col","hpt","hpx","pt2px","sylk_to_sheet","aoasht","sylk_to_aoa","write_ws_cell_sylk","a1_to_rc","preamble","RS","rec","wpx","width2px","px2char","rows","px2pt","write_ws_rows_sylk","coord","DIF","dif_to_aoa_str","dif_to_sheet","dif_to_aoa","push_field","topic","push_value","ETH","eth_to_sheet","eth_to_aoa","sep","sheet_to_eth_data","PRN","set_text_arr","guess_seps","guess_sep_weights","guess_sep","instr","dsv_to_sheet_str","FS","sepcc","startcc","_re","dateNF_regex","finish_cell","datestr","timestr","dateNF_fix","cellText","cellNF","outer","prn_to_sheet_str","prn_to_aoa_str","prn_to_sheet","firstbyte","WK_","lotushopper","Enum","WK1Enum","lotus_to_workbook_buf","next_n","sidx","snames","realnames","refguess","vers","qpro","tmpcell","WK3Enum","osheets","rnames","parse_cell","parse_LABEL","write_LABEL","write_INTEGER","write_NUMBER","wk1_parse_rc","FuncTab","BinOpTab","parse_cell_3","write_LABEL_16","wsidx","parse_NUMBER_17","v2","write_NUMBER_17","log2","parse_NUMBER_27","parse_SHEETNAMECS","write_XFORMAT_SHEETNAME","argc","argL","argR","wk1_fmla_to_csf","sheet_to_wk1","write_biff_rec","write_BOF_WK1","write_RANGE","max_R","book_to_wk3","wscnt","write_BOF_WK3","straywsregex","write_sst_xml","sst","bookSST","Count","uniqueCount","Unique","sitag","write_BrtSSTItem","write_sst_bin","write_BrtBeginSst","_JS2ANSI","crypto_CreatePasswordVerifier_Method1","Password","PasswordArray","Verifier","PasswordDecoded","RTF","rtf_to_sheet","rtf_to_sheet_str","rowtf","rtfre","last_index","rgb2Hex","MDW","px","char2width","chr","coll","customWidth","PPI","write_sty_xml","SSF","NF","formatCode","write_numFmts","cellXfs","write_cellXfs","write_BrtFmt","write_BrtFont","grbit","italic","strike","shadow","condense","write_FontFlags","bold","sss","vertAlign","charset","scheme","rev_XLSBFillPTNames","XLSBFillPTNames","parse_BrtFill","write_BrtFill","fls","patternType","write_BrtXF","write_Blxf","parse_BrtBorder","write_BORDERS_bin","write_STYLES_bin","xfId","builtinId","write_TABLESTYLES_bin","defTableStyle","defPivotStyle","write_BrtBeginTableStyles","write_sty_bin","write_FMTS_bin","write_FONTS_bin","write_FILLS_bin","fontId","fillId","borderId","write_CELLSTYLEXFS_bin","write_CELLXFS_bin","write_DXFS_bin","write_theme","Themes","themeXLSX","write_xlmeta_bin","write_BrtMdtinfo","write_BrtBeginEsfmd","cm","write_BrtBeginEsmdb","mdb","write_BrtMdb","write_xlmeta_xml","_shapeid","write_comments_vml","csize","bbox","joinstyle","gradientshapeok","coordsize","fillopts","fillparm","fillxml","fillcolor","strokecolor","on","write_comments_xml","iauthor","ID","lastauthor","ts","write_tcmnt_xml","people","carr","rootid","tcopts","tcid","parentId","personId","parse_BrtCommentAuthor","write_comments_bin","comment","write_BrtCommentAuthor","write_BrtBeginComment","VBAFMTS","rcregex","rcbase","rcfunc","fstr","crefregex","$0","$4","$5","parseread1","parse_ColRelU","parse_RgceArea","parse_RgceArea_BIFF2","parse_RgceLoc","parse_RgceLoc_BIFF2","parse_RgceElfLoc","fQuoted","parse_PtgAttrBaxcel","bitSemi","parse_PtgAttrSpaceType","parse_SerAr","parse_PtgExtraMem","cce","parse_PtgExtraArray","parse_PtgElfLoc","parse_PtgElfNoop","parse_PtgElfLel","PtgListRT","PtgTypes","iftab","FtabArgc","Ftab","cparams","tab","parsetab","Cetab","nameindex","rl","parse_RgceLocRel_BIFF2","cl","parse_RgceLocRel","parse_RgceAreaRel","ixti","parse_PtgNameX_BIFF5","PtgDupes","Ptg18","coltype","rt","Ptg19","bitIf","bitGoto","parse_RgbExtra","rgce","parse_Rgce","ptgs","stringify_array","PtgBinOp","PtgAdd","PtgConcat","PtgDiv","PtgEq","PtgGe","PtgGt","PtgLe","PtgLt","PtgMul","PtgNe","PtgPower","PtgSub","get_ixti_raw","supbooks","XTI","SID","Name","get_ixti","ixtiraw","sname","formula_quote_sheet_name","stringify_formula","nameidx","last_sp","sp","fflen","lbl","xlfn","externbook","bookidx","itab","ixtidata","lp","rp","sharedf","parsedf","fnd","arrayf","_left","write_Formula","os","o1","write_FormulaValue","o3","bf","parse_XLSBParsedFormula","parse_XLSBArrayParsedFormula","parse_XLSBCellParsedFormula","parse_XLSBNameParsedFormula","parse_XLSBSharedParsedFormula","browser_has_Map","get_sst_id","revarr","col_obj_w","outlineLevel","default_margins","defs","get_cell_style","revssf","ssf","applyNumberFormat","check_ws","sheetprot_deffalse","sheetprot_deftrue","write_ws_xml_cell","oldt","oldv","Strings","revStrings","write_ws_xml","rdata","_drawing","needed","vbaraw","cname","Workbook","CodeName","codeName","outlineprops","summaryBelow","summaryRight","above","write_ws_xml_sheetpr","sview","workbookViewId","Views","rightToLeft","RTL","write_ws_xml_sheetviews","sheetFormat","defaultRowHeight","baseColWidth","outlineLevelRow","write_ws_xml_cols","_cell","ht","customHeight","write_ws_xml_data","write_ws_xml_protection","Names","Sheet","Ref","write_ws_xml_autofilter","merges","write_ws_xml_merges","relc","ignoreEC","numberStoredAsText","sqref","write_row_header","miyRw","ncolspan","lcs","caddr","write_BrtRowHdr","parse_BrtWsDim","write_BrtWsDim","parse_BrtShortReal","parse_BrtMergeCell","write_BrtMergeCell","BrtMarginKeys","write_ws_bin_cell","last_seen","ncell","write_BrtShortIsst","write_BrtCellIsst","write_BrtShortSt","write_BrtCellSt","write_BrtShortRk","write_BrtCellRk","write_BrtShortReal","write_BrtCellReal","write_BrtShortBool","write_BrtCellBool","write_BrtShortError","write_BrtCellError","write_BrtShortBlank","write_BrtCellBlank","write_MERGECELLS","write_COLINFOS","write_BrtColInfo","write_IGNOREECS","write_BrtCellIgnoreEC","write_HLINKS","locidx","write_BrtHLink","write_WSVIEWS2","write_BrtBeginWsView","write_SHEETPROTECT","write_ws_bin","write_BrtWsProp","cap","write_CELLTABLE","write_AUTOFILTER","write_LEGACYDRAWING","WBPropsDef","badchars","check_ws_name","safe","_good","check_wb","codes","cn","write_wb_xml","write_names","workbookPr","WBProps","Hidden","sheetId","Comment","localSheetId","write_BOOKVIEWS","vistab","write_wb_bin","write_BrtFileVersion","filterPrivacy","write_BrtWbProp","iTabID","strRelID","write_BrtBundleSh","write_BUNDLESHS","write_ws","write_cmnt","write_props_xlml","xlml_write_docprops","Custprops","BLACKLIST","xlml_write_custprops","write_name_xlml","write_ws_xlml_cell","attr","marr","mi","_v","write_ws_xlml_row","write_ws_xlml","write_ws_xlml_names","write_ws_xlml_table","objects","scenarios","selectLockedCells","selectUnlockedCells","write_ws_xlml_wsopts","write_xlml","xf","write_sty_xlml","write_names_xlml","PSCLSID","write_xlscfb","wbpath","write_biff_buf","Keys","DSEntries","SEntries","CEntries","DocSummaryRE","SummaryRE","CEntries2","write_xls_props","vba","newpath","fill_vba_xls","cellFormula","Ptg","fBold","fItalic","fUnderline","fStrikeout","fOutline","fShadow","fCondense","fExtend","parse_FontFlags","bCharSet","xColorType","bR","bG","bB","icv","parse_BrtColor","ixfeParent","ifmt","defaultThemeVersion","strName","autoCompressPictures","backupFile","checkCompatibility","hidePivotFieldList","promptedSolutions","publishItems","refreshAllConnections","saveExternalLinkValues","showBorderUnselectedTables","showInkAnnotation","showObjects","showPivotChartFilter","updateLinks","rfx","fAlwaysCalc","relId","write_BIFF2Cell","write_ws_biff2_cell","write_BIFF2INT","write_BIFF2NUM","write_BIFF2BERR","write_BIFF2LABEL","write_biff2_buf","write_ws_biff2","write_FONTS_biff8","write_Font","write_ws_cols_biff8","write_ColInfo","write_ws_biff8_cell","write_Number","write_BoolErr","write_LabelSst","b8","write_Label","write_ws_biff8","_WB","_sheet","MAX_ROWS","guts","write_Guts","write_Dimensions","write_Window2","write_MergeCells","HL","write_ws_biff8_hlinks","write_FEAT","write_biff8_global","_sheets","_wb","writezeroes","write_WriteAccess","write_RRTabId","write_Window1","safe1904","write_FMTS_biff8","write_CELLXFS_biff8","write_biff_continue","write_SST","blen","fix_write_opts","write_biff8_buf","make_html_row","rowspan","colspan","editable","HTML_BEGIN","HTML_END","make_html_preamble","sheet_to_html","sheet_add_dom","or_R","or_C","midx","is_dom_element_hidden","elts","_t","Aelts","Aelti","parse_dom_table","get_computed_style","get_get_computed_style_function","write_styles_ods","master_styles","write_content_ods","null_cell_xml","ods","ROWS","textp","_Fref","text_p","_tgt","fods","cidx","colobj","write_automatic_styles_ods","write_ods","manifest","rdf","write_rdf","write_manifest","u8_to_dataview","DataView","byteOffset","stru8","u8concat","u8a","u8","parse_varint49","ptr","varint","write_varint49","varint_to_i32","i32","parse_shallow","write_shallow","parse_iwa_file","_a","ai","messages","fl","write_iwa_file","ias","ia","midata","aipayload","parse_snappy_chunk","chunks","decompress_iwa_file","compress_iwa_file","write_new_storage","dv","exp","mantissa","writeDecimal128LE","setFloat64","setUint32","write_old_storage","parse_TSP_Reference","write_tile_row","tri","_b","_c","_d","last_offset","cell_storage","_dv","_last_offset","_cell_storage","celload","_celload","setUint16","fix_opts_func","trunc","dependents","indices","packet2","indices_varint","ivi","mess","u8contains","docroot","xi","packet","sheetrootref","pb","cruidsref","oldbucket","_x","cruids","uuid","store","row_header_ref","base_bucket","_bucket","col_header_ref","sstref","sstroot","sentry","sx","sxi","sstdata","newsst","raw32","tile","tileref","tileroot","tentry","tx","tiledata","rowload","R2","tilerow","raw3","write_numbers_iwa","wbrels","foo","wbext","vbafmt","threadedcomments","links","coreprops","extprops","custprops","themes","calcchains","drawings","TODO","_sn","wsrels","need_vml","cf","rId1","write_sst","write_wb","write_sty","write_xlmeta","write_zip_xlsxb","write_zip_xlsx","needtc","person","userId","providerId","write_people_xml","write_cfb_ctr","write_zip_denouement","oopts","ftype","encrypt_agile","write_string_type","bom","write_binary_type","writeSync","write_stxt_type","sheet_to_txt","sheet_to_csv","write_cfb_type","write_zip_type","make_json_row","defval","isempty","__rowNum__","rawNumbers","outi","counter","header_cnt","skipHidden","blankrows","qreg","make_csv_row","rs","txt","forceQuotes","endregex","strip","sheet_add_json","js","skipHeader","JS","ws_get_cell_stub","RC","book_new","book_append_sheet","roll","cell_set_hyperlink","split_cell","json_to_sheet","table_to_sheet","table_to_book","sheet_to_formulae","cmds","sheet_to_row_object_array","sheet_get_cell","book_set_sheet_visibility","sh","vis","wb_sheet_idx","cell_set_number_format","cell_set_internal_link","cell_add_comment","author","sheet_set_array_formula","dynamic","rng","rngstr","SHEET_VISIBLE","SHEET_HIDDEN","SHEET_VERY_HIDDEN","FinanceControl","selectedMonth","setSelectedMonth","selectedType","setSelectedType","startDate","setStartDate","endDate","setEndDate","isChartMinimized","setIsChartMinimized","transactions","CO_TYPE","dateA","dateB","filteredTransactions","matchesType","matchesStartDate","matchesEndDate","totalGains","curr","totalExpenses","balance","monthlyData","monthTransactions","gains","expenses","monthlyAverageGain","monthlyAverageExpense","projectedBalanceNextMonth","chartData","transaction","exportToXLSX","worksheet","workbook","excelBuffer","ChartJS","ModalNewClient","onConfirm","setCO_NAME","CO_EMAIL","setCO_EMAIL","setCO_PHONE","setCG_ADDRESS","setVL_BALANCE","setCG_CITY","isCustomCity","setIsCustomCity","onSubmit","clientData","alert","placeholder","cityOption","ModalNewProduct","setVL_VALUE","setCD_QUANTITY","setCO_DESCRIPTION","productData","ModalNewSale","getCurrentDate","today","setDT_DATE","setCO_CLIENT","setCO_PRODUCT","setCO_SELLER","flexDirection","marginBottom","ModalNewSpent","setFormData","handleChange","prevData","required","App","RootApp"],"sourceRoot":""}